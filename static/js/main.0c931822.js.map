{"version":3,"file":"static/js/main.0c931822.js","mappings":"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","sources":["../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/react-dom/client.js","../node_modules/react-dom/index.js","../node_modules/react/cjs/react-jsx-runtime.production.min.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react/index.js","../node_modules/react/jsx-runtime.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/scheduler/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/global","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/load script","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/jsonp chunk loading","../node_modules/dhtmlx-scheduler/sources/global.js","../node_modules/dhtmlx-scheduler/sources/plugins/drag_highlight_pos.js","../node_modules/dhtmlx-scheduler/sources/plugins/batch_update.js","../node_modules/dhtmlx-scheduler/sources/plugins/index.js","../node_modules/dhtmlx-scheduler/sources/plugins/undo_delete.js","../node_modules/dhtmlx-scheduler/sources/plugins/limit.js","../node_modules/dhtmlx-scheduler/sources/core/utils/utils.js","../node_modules/dhtmlx-scheduler/sources/core/nav_bar.js","../node_modules/dhtmlx-scheduler/sources/utils/eventable.js","../node_modules/dhtmlx-scheduler/sources/core/utils/event.js","../node_modules/dhtmlx-scheduler/sources/core/utils/dom_helpers.js","../node_modules/dhtmlx-scheduler/sources/utils/env.js","../node_modules/dhtmlx-scheduler/sources/core/common/url_serialize.js","../node_modules/dhtmlx-scheduler/sources/core/common/get_serializable_events.js","../node_modules/dhtmlx-scheduler/sources/core/dataprocessor/dataprocessor_hooks.js","../node_modules/dhtmlx-scheduler/sources/core/dataprocessor/dataprocessor.js","../node_modules/dhtmlx-scheduler/sources/core/message.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_ar.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_be.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_ca.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_cn.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_cs.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_da.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_de.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_el.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_en.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_es.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_fi.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_fr.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_he.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_hu.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_id.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_it.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_jp.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_manager.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_nb.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_nl.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_no.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_pl.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_pt.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_ro.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_ru.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_si.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_sk.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_sv.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_tr.js","../node_modules/dhtmlx-scheduler/sources/locale/locale_ua.js","../node_modules/dhtmlx-scheduler/sources/core/datepicker.js","../node_modules/dhtmlx-scheduler/sources/scheduler_factory_method.js","../node_modules/dhtmlx-scheduler/sources/core/wai_aria.js","../node_modules/dhtmlx-scheduler/sources/core/state.js","../node_modules/dhtmlx-scheduler/sources/core/common_errors.js","../node_modules/dhtmlx-scheduler/sources/core/common.js","../node_modules/dhtmlx-scheduler/sources/core/utils/scoped_event.js","../node_modules/dhtmlx-scheduler/sources/core/scheduler.js","../node_modules/dhtmlx-scheduler/sources/core/scheduler_resize_listener.js","../node_modules/dhtmlx-scheduler/sources/core/common/assert.js","../node_modules/dhtmlx-scheduler/sources/core/jquery.js","../node_modules/dhtmlx-scheduler/sources/core/destructor.js","../node_modules/dhtmlx-scheduler/sources/core/utils/ajax.js","../node_modules/dhtmlx-scheduler/sources/core/base.js","../node_modules/dhtmlx-scheduler/sources/core/config.js","../node_modules/dhtmlx-scheduler/sources/core/event.js","../node_modules/dhtmlx-scheduler/sources/core/event_highlight.js","../node_modules/dhtmlx-scheduler/sources/core/load.js","../node_modules/dhtmlx-scheduler/sources/core/loaders/xml.js","../node_modules/dhtmlx-scheduler/sources/core/loaders/json.js","../node_modules/dhtmlx-scheduler/sources/core/loaders/ical.js","../node_modules/dhtmlx-scheduler/sources/core/lightbox.js","../node_modules/dhtmlx-scheduler/sources/core/touch.js","../node_modules/dhtmlx-scheduler/sources/core/dhtmlx/dhtmlx_suite_hooks.js","../node_modules/dhtmlx-scheduler/sources/core/skins.js","../node_modules/dhtmlx-scheduler/sources/core/delay_render.js","../node_modules/dhtmlx-scheduler/sources/core/connector.js","../node_modules/dhtmlx-scheduler/sources/locale/index.js","../node_modules/dhtmlx-scheduler/sources/ext/extension_manager.js","../node_modules/dhtmlx-scheduler/sources/dhtmlx_hook.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/not_implemented_extension.js","../node_modules/dhtmlx-scheduler/sources/ext/map_view/gMapAdapter.ts","../node_modules/dhtmlx-scheduler/sources/ext/map_view/osmMapAdapter.ts","../node_modules/dhtmlx-scheduler/sources/ext/map_view/mapboxAdapter.ts","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/weekday.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/helpers.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/dateutil.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/iterresult.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/node_modules/tslib/tslib.es6.mjs","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/callbackiterresult.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/types.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/nlp/i18n.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/nlp/totext.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/nlp/parsetext.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/nlp/index.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/datetime.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/parseoptions.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/parsestring.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/datewithzone.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/optionstostring.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/cache.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/masks.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/iterinfo/index.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/iterinfo/yearinfo.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/iterinfo/monthinfo.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/iterinfo/easter.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/iter/poslist.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/iter/index.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/rrule.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/rrulestr.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/rruleset.js","../node_modules/dhtmlx-scheduler/node_modules/rrule/dist/esm/iterset.js","../node_modules/dhtmlx-scheduler/sources/ext/tooltip/tooltip.ts","../node_modules/dhtmlx-scheduler/sources/ext/tooltip/tooltipManager.ts","../node_modules/dhtmlx-scheduler/sources/ext/extensions_gpl.js","../node_modules/dhtmlx-scheduler/sources/ext/active_links.js","../node_modules/dhtmlx-scheduler/sources/ext/agenda_legacy_view.js","../node_modules/dhtmlx-scheduler/sources/ext/agenda.js","../node_modules/dhtmlx-scheduler/sources/ext/all_timed.js","../node_modules/dhtmlx-scheduler/sources/ext/collision.js","../node_modules/dhtmlx-scheduler/sources/ext/container_autoresize.js","../node_modules/dhtmlx-scheduler/sources/ext/cookie.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/daytimeline.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/drag_between.js","../node_modules/dhtmlx-scheduler/sources/ext/editors.js","../node_modules/dhtmlx-scheduler/sources/ext/expand.js","../node_modules/dhtmlx-scheduler/sources/ext/export_api/index.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/grid_view.js","../node_modules/dhtmlx-scheduler/sources/ext/html_templates.js","../node_modules/dhtmlx-scheduler/sources/ext/key_nav.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/common/keyboard_shortcuts.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/common/eventhandler.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/common/trap_modal_focus.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/marker.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/scheduler_node.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/nav_node.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/header_cell.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/event.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/time_slot.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/minical_button.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/minical_cell.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/elements/data_area.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/modals.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/core.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/key_nav_legacy.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/minical_handlers.js","../node_modules/dhtmlx-scheduler/sources/ext/keyboard_navigation/scheduler_handlers.js","../node_modules/dhtmlx-scheduler/sources/ext/layer.js","../node_modules/dhtmlx-scheduler/sources/ext/limit.js","../node_modules/dhtmlx-scheduler/sources/ext/map_view/index.ts","../node_modules/dhtmlx-scheduler/sources/ext/minical.js","../node_modules/dhtmlx-scheduler/sources/ext/monthheight.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/multisection.js","../node_modules/dhtmlx-scheduler/sources/ext/multiselect.js","../node_modules/dhtmlx-scheduler/sources/ext/multisource.js","../node_modules/dhtmlx-scheduler/sources/ext/mvc.js","../node_modules/dhtmlx-scheduler/sources/ext/outerdrag.js","../node_modules/dhtmlx-scheduler/sources/ext/pdf.js","../node_modules/dhtmlx-scheduler/sources/ext/quick_info.js","../node_modules/dhtmlx-scheduler/sources/ext/readonly.js","../node_modules/dhtmlx-scheduler/sources/ext/recurring.js","../node_modules/dhtmlx-scheduler/sources/ext/recurring_legacy.js","../node_modules/dhtmlx-scheduler/sources/ext/serialize.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/timeline.js","../node_modules/dhtmlx-scheduler/sources/ext/tooltip/index.ts","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/treetimeline.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/units.js","../node_modules/dhtmlx-scheduler/sources/ext/url.js","../node_modules/dhtmlx-scheduler/sources/ext/restricted_extensions/week_agenda.js","../node_modules/dhtmlx-scheduler/sources/ext/wp.js","../node_modules/dhtmlx-scheduler/sources/ext/year_view.js","../node_modules/dhtmlx-scheduler/sources/dhtmlxscheduler.gpl.js","../node_modules/dhtmlx-scheduler/sources/scheduler_factory.js","components/Scheduler/Scheduler.js","components/Scheduler/index.js","App.js","reportWebVitals.js","index.js"],"sourcesContent":["/**\n * @license React\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),ca=require(\"scheduler\");function p(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var da=new Set,ea={};function fa(a,b){ha(a,b);ha(a+\"Capture\",b)}\nfunction ha(a,b){ea[a]=b;for(a=0;a<b.length;a++)da.add(b[a])}\nvar ia=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,la=\n{},ma={};function oa(a){if(ja.call(ma,a))return!0;if(ja.call(la,a))return!1;if(ka.test(a))return ma[a]=!0;la[a]=!0;return!1}function pa(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction qa(a,b,c,d){if(null===b||\"undefined\"===typeof b||pa(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function v(a,b,c,d,e,f,g){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f;this.removeEmptyString=g}var z={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){z[a]=new v(a,0,!1,a,null,!1,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];z[b]=new v(b,1,!1,a[1],null,!1,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){z[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){z[a]=new v(a,2,!1,a,null,!1,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){z[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){z[a]=new v(a,3,!0,a,null,!1,!1)});[\"capture\",\"download\"].forEach(function(a){z[a]=new v(a,4,!1,a,null,!1,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){z[a]=new v(a,6,!1,a,null,!1,!1)});[\"rowSpan\",\"start\"].forEach(function(a){z[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var ra=/[\\-:]([a-z])/g;function sa(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(ra,\nsa);z[b]=new v(b,1,!1,a,null,!1,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1,!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(ra,sa);z[b]=new v(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1,!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)});\nz.xlinkHref=new v(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0,!1);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){z[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});\nfunction ta(a,b,c,d){var e=z.hasOwnProperty(b)?z[b]:null;if(null!==e?0!==e.type:d||!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1])qa(b,c,e,d)&&(c=null),d||null===e?oa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c)))}\nvar ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for(\"react.element\"),wa=Symbol.for(\"react.portal\"),ya=Symbol.for(\"react.fragment\"),za=Symbol.for(\"react.strict_mode\"),Aa=Symbol.for(\"react.profiler\"),Ba=Symbol.for(\"react.provider\"),Ca=Symbol.for(\"react.context\"),Da=Symbol.for(\"react.forward_ref\"),Ea=Symbol.for(\"react.suspense\"),Fa=Symbol.for(\"react.suspense_list\"),Ga=Symbol.for(\"react.memo\"),Ha=Symbol.for(\"react.lazy\");Symbol.for(\"react.scope\");Symbol.for(\"react.debug_trace_mode\");\nvar Ia=Symbol.for(\"react.offscreen\");Symbol.for(\"react.legacy_hidden\");Symbol.for(\"react.cache\");Symbol.for(\"react.tracing_marker\");var Ja=Symbol.iterator;function Ka(a){if(null===a||\"object\"!==typeof a)return null;a=Ja&&a[Ja]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}var A=Object.assign,La;function Ma(a){if(void 0===La)try{throw Error();}catch(c){var b=c.stack.trim().match(/\\n( *(at )?)/);La=b&&b[1]||\"\"}return\"\\n\"+La+a}var Na=!1;\nfunction Oa(a,b){if(!a||Na)return\"\";Na=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error();},Object.defineProperty(b.prototype,\"props\",{set:function(){throw Error();}}),\"object\"===typeof Reflect&&Reflect.construct){try{Reflect.construct(b,[])}catch(l){var d=l}Reflect.construct(a,[],b)}else{try{b.call()}catch(l){d=l}a.call(b.prototype)}else{try{throw Error();}catch(l){d=l}a()}}catch(l){if(l&&d&&\"string\"===typeof l.stack){for(var e=l.stack.split(\"\\n\"),\nf=d.stack.split(\"\\n\"),g=e.length-1,h=f.length-1;1<=g&&0<=h&&e[g]!==f[h];)h--;for(;1<=g&&0<=h;g--,h--)if(e[g]!==f[h]){if(1!==g||1!==h){do if(g--,h--,0>h||e[g]!==f[h]){var k=\"\\n\"+e[g].replace(\" at new \",\" at \");a.displayName&&k.includes(\"<anonymous>\")&&(k=k.replace(\"<anonymous>\",a.displayName));return k}while(1<=g&&0<=h)}break}}}finally{Na=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:\"\")?Ma(a):\"\"}\nfunction Pa(a){switch(a.tag){case 5:return Ma(a.type);case 16:return Ma(\"Lazy\");case 13:return Ma(\"Suspense\");case 19:return Ma(\"SuspenseList\");case 0:case 2:case 15:return a=Oa(a.type,!1),a;case 11:return a=Oa(a.type.render,!1),a;case 1:return a=Oa(a.type,!0),a;default:return\"\"}}\nfunction Qa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ya:return\"Fragment\";case wa:return\"Portal\";case Aa:return\"Profiler\";case za:return\"StrictMode\";case Ea:return\"Suspense\";case Fa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ca:return(a.displayName||\"Context\")+\".Consumer\";case Ba:return(a._context.displayName||\"Context\")+\".Provider\";case Da:var b=a.render;a=a.displayName;a||(a=b.displayName||\nb.name||\"\",a=\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");return a;case Ga:return b=a.displayName||null,null!==b?b:Qa(a.type)||\"Memo\";case Ha:b=a._payload;a=a._init;try{return Qa(a(b))}catch(c){}}return null}\nfunction Ra(a){var b=a.type;switch(a.tag){case 24:return\"Cache\";case 9:return(b.displayName||\"Context\")+\".Consumer\";case 10:return(b._context.displayName||\"Context\")+\".Provider\";case 18:return\"DehydratedFragment\";case 11:return a=b.render,a=a.displayName||a.name||\"\",b.displayName||(\"\"!==a?\"ForwardRef(\"+a+\")\":\"ForwardRef\");case 7:return\"Fragment\";case 5:return b;case 4:return\"Portal\";case 3:return\"Root\";case 6:return\"Text\";case 16:return Qa(b);case 8:return b===za?\"StrictMode\":\"Mode\";case 22:return\"Offscreen\";\ncase 12:return\"Profiler\";case 21:return\"Scope\";case 13:return\"Suspense\";case 19:return\"SuspenseList\";case 25:return\"TracingMarker\";case 1:case 0:case 17:case 2:case 14:case 15:if(\"function\"===typeof b)return b.displayName||b.name||null;if(\"string\"===typeof b)return b}return null}function Sa(a){switch(typeof a){case \"boolean\":case \"number\":case \"string\":case \"undefined\":return a;case \"object\":return a;default:return\"\"}}\nfunction Ta(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ua(a){var b=Ta(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Va(a){a._valueTracker||(a._valueTracker=Ua(a))}function Wa(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Ta(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Xa(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}\nfunction Ya(a,b){var c=b.checked;return A({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Za(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Sa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function ab(a,b){b=b.checked;null!=b&&ta(a,\"checked\",b,!1)}\nfunction bb(a,b){ab(a,b);var c=Sa(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?cb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&cb(a,b.type,Sa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction db(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction cb(a,b,c){if(\"number\"!==b||Xa(a.ownerDocument)!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var eb=Array.isArray;\nfunction fb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+Sa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction gb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(p(91));return A({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function hb(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(p(92));if(eb(c)){if(1<c.length)throw Error(p(93));c=c[0]}b=c}null==b&&(b=\"\");c=b}a._wrapperState={initialValue:Sa(c)}}\nfunction ib(a,b){var c=Sa(b.value),d=Sa(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function jb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}function kb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nfunction lb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?kb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar mb,nb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(\"http://www.w3.org/2000/svg\"!==a.namespaceURI||\"innerHTML\"in a)a.innerHTML=b;else{mb=mb||document.createElement(\"div\");mb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=mb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction ob(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,\nzoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(pb).forEach(function(a){qb.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);pb[b]=pb[a]})});function rb(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||pb.hasOwnProperty(a)&&pb[a]?(\"\"+b).trim():b+\"px\"}\nfunction sb(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=rb(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ub(a,b){if(b){if(tb[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(p(137,a));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(p(60));if(\"object\"!==typeof b.dangerouslySetInnerHTML||!(\"__html\"in b.dangerouslySetInnerHTML))throw Error(p(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(p(62));}}\nfunction vb(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}var wb=null;function xb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}var yb=null,zb=null,Ab=null;\nfunction Bb(a){if(a=Cb(a)){if(\"function\"!==typeof yb)throw Error(p(280));var b=a.stateNode;b&&(b=Db(b),yb(a.stateNode,a.type,b))}}function Eb(a){zb?Ab?Ab.push(a):Ab=[a]:zb=a}function Fb(){if(zb){var a=zb,b=Ab;Ab=zb=null;Bb(a);if(b)for(a=0;a<b.length;a++)Bb(b[a])}}function Gb(a,b){return a(b)}function Hb(){}var Ib=!1;function Jb(a,b,c){if(Ib)return a(b,c);Ib=!0;try{return Gb(a,b,c)}finally{if(Ib=!1,null!==zb||null!==Ab)Hb(),Fb()}}\nfunction Kb(a,b){var c=a.stateNode;if(null===c)return null;var d=Db(c);if(null===d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==\ntypeof c)throw Error(p(231,b,typeof c));return c}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,\"passive\",{get:function(){Lb=!0}});window.addEventListener(\"test\",Mb,Mb);window.removeEventListener(\"test\",Mb,Mb)}catch(a){Lb=!1}function Nb(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(a){Ob=!0;Pb=a}};function Tb(a,b,c,d,e,f,g,h,k){Ob=!1;Pb=null;Nb.apply(Sb,arguments)}\nfunction Ub(a,b,c,d,e,f,g,h,k){Tb.apply(this,arguments);if(Ob){if(Ob){var l=Pb;Ob=!1;Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=l)}}function Vb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Wb(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Xb(a){if(Vb(a)!==a)throw Error(p(188));}\nfunction Yb(a){var b=a.alternate;if(!b){b=Vb(a);if(null===b)throw Error(p(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return Xb(e),a;if(f===d)return Xb(e),b;f=f.sibling}throw Error(p(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(p(189));}}if(c.alternate!==d)throw Error(p(190));}if(3!==c.tag)throw Error(p(188));return c.stateNode.current===c?a:b}function Zb(a){a=Yb(a);return null!==a?$b(a):null}function $b(a){if(5===a.tag||6===a.tag)return a;for(a=a.child;null!==a;){var b=$b(a);if(null!==b)return b;a=a.sibling}return null}\nvar ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(a){if(lc&&\"function\"===typeof lc.onCommitFiberRoot)try{lc.onCommitFiberRoot(kc,a,void 0,128===(a.current.flags&128))}catch(b){}}\nvar oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(a){a>>>=0;return 0===a?32:31-(pc(a)/qc|0)|0}var rc=64,sc=4194304;\nfunction tc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;\ndefault:return a}}function uc(a,b){var c=a.pendingLanes;if(0===c)return 0;var d=0,e=a.suspendedLanes,f=a.pingedLanes,g=c&268435455;if(0!==g){var h=g&~e;0!==h?d=tc(h):(f&=g,0!==f&&(d=tc(f)))}else g=c&~e,0!==g?d=tc(g):0!==f&&(d=tc(f));if(0===d)return 0;if(0!==b&&b!==d&&0===(b&e)&&(e=d&-d,f=b&-b,e>=f||16===e&&0!==(f&4194240)))return b;0!==(d&4)&&(d|=c&16);b=a.entangledLanes;if(0!==b)for(a=a.entanglements,b&=d;0<b;)c=31-oc(b),e=1<<c,d|=a[c],b&=~e;return d}\nfunction vc(a,b){switch(a){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5E3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}\nfunction wc(a,b){for(var c=a.suspendedLanes,d=a.pingedLanes,e=a.expirationTimes,f=a.pendingLanes;0<f;){var g=31-oc(f),h=1<<g,k=e[g];if(-1===k){if(0===(h&c)||0!==(h&d))e[g]=vc(h,b)}else k<=b&&(a.expiredLanes|=h);f&=~h}}function xc(a){a=a.pendingLanes&-1073741825;return 0!==a?a:a&1073741824?1073741824:0}function yc(){var a=rc;rc<<=1;0===(rc&4194240)&&(rc=64);return a}function zc(a){for(var b=[],c=0;31>c;c++)b.push(a);return b}\nfunction Ac(a,b,c){a.pendingLanes|=b;536870912!==b&&(a.suspendedLanes=0,a.pingedLanes=0);a=a.eventTimes;b=31-oc(b);a[b]=c}function Bc(a,b){var c=a.pendingLanes&~b;a.pendingLanes=b;a.suspendedLanes=0;a.pingedLanes=0;a.expiredLanes&=b;a.mutableReadLanes&=b;a.entangledLanes&=b;b=a.entanglements;var d=a.eventTimes;for(a=a.expirationTimes;0<c;){var e=31-oc(c),f=1<<e;b[e]=0;d[e]=-1;a[e]=-1;c&=~f}}\nfunction Cc(a,b){var c=a.entangledLanes|=b;for(a=a.entanglements;c;){var d=31-oc(c),e=1<<d;e&b|a[d]&b&&(a[d]|=b);c&=~e}}var C=0;function Dc(a){a&=-a;return 1<a?4<a?0!==(a&268435455)?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit\".split(\" \");\nfunction Sc(a,b){switch(a){case \"focusin\":case \"focusout\":Lc=null;break;case \"dragenter\":case \"dragleave\":Mc=null;break;case \"mouseover\":case \"mouseout\":Nc=null;break;case \"pointerover\":case \"pointerout\":Oc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":Pc.delete(b.pointerId)}}\nfunction Tc(a,b,c,d,e,f){if(null===a||a.nativeEvent!==f)return a={blockedOn:b,domEventName:c,eventSystemFlags:d,nativeEvent:f,targetContainers:[e]},null!==b&&(b=Cb(b),null!==b&&Fc(b)),a;a.eventSystemFlags|=d;b=a.targetContainers;null!==e&&-1===b.indexOf(e)&&b.push(e);return a}\nfunction Uc(a,b,c,d,e){switch(b){case \"focusin\":return Lc=Tc(Lc,a,b,c,d,e),!0;case \"dragenter\":return Mc=Tc(Mc,a,b,c,d,e),!0;case \"mouseover\":return Nc=Tc(Nc,a,b,c,d,e),!0;case \"pointerover\":var f=e.pointerId;Oc.set(f,Tc(Oc.get(f)||null,a,b,c,d,e));return!0;case \"gotpointercapture\":return f=e.pointerId,Pc.set(f,Tc(Pc.get(f)||null,a,b,c,d,e)),!0}return!1}\nfunction Vc(a){var b=Wc(a.target);if(null!==b){var c=Vb(b);if(null!==c)if(b=c.tag,13===b){if(b=Wb(c),null!==b){a.blockedOn=b;Ic(a.priority,function(){Gc(c)});return}}else if(3===b&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}\nfunction Xc(a){if(null!==a.blockedOn)return!1;for(var b=a.targetContainers;0<b.length;){var c=Yc(a.domEventName,a.eventSystemFlags,b[0],a.nativeEvent);if(null===c){c=a.nativeEvent;var d=new c.constructor(c.type,c);wb=d;c.target.dispatchEvent(d);wb=null}else return b=Cb(c),null!==b&&Fc(b),a.blockedOn=c,!1;b.shift()}return!0}function Zc(a,b,c){Xc(a)&&c.delete(b)}function $c(){Jc=!1;null!==Lc&&Xc(Lc)&&(Lc=null);null!==Mc&&Xc(Mc)&&(Mc=null);null!==Nc&&Xc(Nc)&&(Nc=null);Oc.forEach(Zc);Pc.forEach(Zc)}\nfunction ad(a,b){a.blockedOn===b&&(a.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}\nfunction bd(a){function b(b){return ad(b,a)}if(0<Kc.length){ad(Kc[0],a);for(var c=1;c<Kc.length;c++){var d=Kc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==Lc&&ad(Lc,a);null!==Mc&&ad(Mc,a);null!==Nc&&ad(Nc,a);Oc.forEach(b);Pc.forEach(b);for(c=0;c<Qc.length;c++)d=Qc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<Qc.length&&(c=Qc[0],null===c.blockedOn);)Vc(c),null===c.blockedOn&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;\nfunction ed(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=1,fd(a,b,c,d)}finally{C=e,cd.transition=f}}function gd(a,b,c,d){var e=C,f=cd.transition;cd.transition=null;try{C=4,fd(a,b,c,d)}finally{C=e,cd.transition=f}}\nfunction fd(a,b,c,d){if(dd){var e=Yc(a,b,c,d);if(null===e)hd(a,b,d,id,c),Sc(a,d);else if(Uc(e,a,b,c,d))d.stopPropagation();else if(Sc(a,d),b&4&&-1<Rc.indexOf(a)){for(;null!==e;){var f=Cb(e);null!==f&&Ec(f);f=Yc(a,b,c,d);null===f&&hd(a,b,d,id,c);if(f===e)break;e=f}null!==e&&d.stopPropagation()}else hd(a,b,d,null,c)}}var id=null;\nfunction Yc(a,b,c,d){id=null;a=xb(d);a=Wc(a);if(null!==a)if(b=Vb(a),null===b)a=null;else if(c=b.tag,13===c){a=Wb(b);if(null!==a)return a;a=null}else if(3===c){if(b.stateNode.current.memoizedState.isDehydrated)return 3===b.tag?b.stateNode.containerInfo:null;a=null}else b!==a&&(a=null);id=a;return null}\nfunction jd(a){switch(a){case \"cancel\":case \"click\":case \"close\":case \"contextmenu\":case \"copy\":case \"cut\":case \"auxclick\":case \"dblclick\":case \"dragend\":case \"dragstart\":case \"drop\":case \"focusin\":case \"focusout\":case \"input\":case \"invalid\":case \"keydown\":case \"keypress\":case \"keyup\":case \"mousedown\":case \"mouseup\":case \"paste\":case \"pause\":case \"play\":case \"pointercancel\":case \"pointerdown\":case \"pointerup\":case \"ratechange\":case \"reset\":case \"resize\":case \"seeked\":case \"submit\":case \"touchcancel\":case \"touchend\":case \"touchstart\":case \"volumechange\":case \"change\":case \"selectionchange\":case \"textInput\":case \"compositionstart\":case \"compositionend\":case \"compositionupdate\":case \"beforeblur\":case \"afterblur\":case \"beforeinput\":case \"blur\":case \"fullscreenchange\":case \"focus\":case \"hashchange\":case \"popstate\":case \"select\":case \"selectstart\":return 1;case \"drag\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"mousemove\":case \"mouseout\":case \"mouseover\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"scroll\":case \"toggle\":case \"touchmove\":case \"wheel\":case \"mouseenter\":case \"mouseleave\":case \"pointerenter\":case \"pointerleave\":return 4;\ncase \"message\":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var a,b=ld,c=b.length,d,e=\"value\"in kd?kd.value:kd.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return md=e.slice(a,1<d?1-d:void 0)}\nfunction od(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function pd(){return!0}function qd(){return!1}\nfunction rd(a){function b(b,d,e,f,g){this._reactName=b;this._targetInst=e;this.type=d;this.nativeEvent=f;this.target=g;this.currentTarget=null;for(var c in a)a.hasOwnProperty(c)&&(b=a[c],this[c]=b?b(f):f[c]);this.isDefaultPrevented=(null!=f.defaultPrevented?f.defaultPrevented:!1===f.returnValue)?pd:qd;this.isPropagationStopped=qd;return this}A(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd});return b}\nvar sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in\na)return a.movementX;a!==yd&&(yd&&\"mousemove\"===a.type?(wd=a.screenX-yd.screenX,xd=a.screenY-yd.screenY):xd=wd=0,yd=a);return wd},movementY:function(a){return\"movementY\"in a?a.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:\"Escape\",\nSpacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},Nd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",\n119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Od={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Pd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Od[a])?!!b[a]:!1}function zd(){return Pd}\nvar Qd=A({},ud,{key:function(a){if(a.key){var b=Md[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=od(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?Nd[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(a){return\"keypress\"===a.type?od(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?od(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},\ndeltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&\"CompositionEvent\"in window,be=null;ia&&\"documentMode\"in document&&(be=document.documentMode);var ce=ia&&\"TextEvent\"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;\nfunction ge(a,b){switch(a){case \"keyup\":return-1!==$d.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"focusout\":return!0;default:return!1}}function he(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var ie=!1;function je(a,b){switch(a){case \"compositionend\":return he(b);case \"keypress\":if(32!==b.which)return null;fe=!0;return ee;case \"textInput\":return a=b.data,a===ee&&fe?null:a;default:return null}}\nfunction ke(a,b){if(ie)return\"compositionend\"===a||!ae&&ge(a,b)?(a=nd(),md=ld=kd=null,ie=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return de&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar le={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!le[a.type]:\"textarea\"===b?!0:!1}function ne(a,b,c,d){Eb(d);b=oe(b,\"onChange\");0<b.length&&(c=new td(\"onChange\",\"change\",null,c,d),a.push({event:c,listeners:b}))}var pe=null,qe=null;function re(a){se(a,0)}function te(a){var b=ue(a);if(Wa(b))return a}\nfunction ve(a,b){if(\"change\"===a)return b}var we=!1;if(ia){var xe;if(ia){var ye=\"oninput\"in document;if(!ye){var ze=document.createElement(\"div\");ze.setAttribute(\"oninput\",\"return;\");ye=\"function\"===typeof ze.oninput}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent(\"onpropertychange\",Be),qe=pe=null)}function Be(a){if(\"value\"===a.propertyName&&te(qe)){var b=[];ne(b,qe,a,xb(a));Jb(re,b)}}\nfunction Ce(a,b,c){\"focusin\"===a?(Ae(),pe=b,qe=c,pe.attachEvent(\"onpropertychange\",Be)):\"focusout\"===a&&Ae()}function De(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return te(qe)}function Ee(a,b){if(\"click\"===a)return te(b)}function Fe(a,b){if(\"input\"===a||\"change\"===a)return te(b)}function Ge(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var He=\"function\"===typeof Object.is?Object.is:Ge;\nfunction Ie(a,b){if(He(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var e=c[d];if(!ja.call(b,e)||!He(a[e],b[e]))return!1}return!0}function Je(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Ke(a,b){var c=Je(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Je(c)}}function Le(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Le(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Me(){for(var a=window,b=Xa();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=Xa(a.document)}return b}function Ne(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nfunction Oe(a){var b=Me(),c=a.focusedElem,d=a.selectionRange;if(b!==c&&c&&c.ownerDocument&&Le(c.ownerDocument.documentElement,c)){if(null!==d&&Ne(c))if(b=d.start,a=d.end,void 0===a&&(a=b),\"selectionStart\"in c)c.selectionStart=b,c.selectionEnd=Math.min(a,c.value.length);else if(a=(b=c.ownerDocument||document)&&b.defaultView||window,a.getSelection){a=a.getSelection();var e=c.textContent.length,f=Math.min(d.start,e);d=void 0===d.end?f:Math.min(d.end,e);!a.extend&&f>d&&(e=d,d=f,f=e);e=Ke(c,f);var g=Ke(c,\nd);e&&g&&(1!==a.rangeCount||a.anchorNode!==e.node||a.anchorOffset!==e.offset||a.focusNode!==g.node||a.focusOffset!==g.offset)&&(b=b.createRange(),b.setStart(e.node,e.offset),a.removeAllRanges(),f>d?(a.addRange(b),a.extend(g.node,g.offset)):(b.setEnd(g.node,g.offset),a.addRange(b)))}b=[];for(a=c;a=a.parentNode;)1===a.nodeType&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});\"function\"===typeof c.focus&&c.focus();for(c=0;c<b.length;c++)a=b[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}\nvar Pe=ia&&\"documentMode\"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;\nfunction Ue(a,b,c){var d=c.window===c?c.document:9===c.nodeType?c:c.ownerDocument;Te||null==Qe||Qe!==Xa(d)||(d=Qe,\"selectionStart\"in d&&Ne(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Se&&Ie(Se,d)||(Se=d,d=oe(Re,\"onSelect\"),0<d.length&&(b=new td(\"onSelect\",\"select\",null,b,c),a.push({event:b,listeners:d}),b.target=Qe)))}\nfunction Ve(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var We={animationend:Ve(\"Animation\",\"AnimationEnd\"),animationiteration:Ve(\"Animation\",\"AnimationIteration\"),animationstart:Ve(\"Animation\",\"AnimationStart\"),transitionend:Ve(\"Transition\",\"TransitionEnd\")},Xe={},Ye={};\nia&&(Ye=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),\"TransitionEvent\"in window||delete We.transitionend.transition);function Ze(a){if(Xe[a])return Xe[a];if(!We[a])return a;var b=We[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Ye)return Xe[a]=b[c];return a}var $e=Ze(\"animationend\"),af=Ze(\"animationiteration\"),bf=Ze(\"animationstart\"),cf=Ze(\"transitionend\"),df=new Map,ef=\"abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");\nfunction ff(a,b){df.set(a,b);fa(b,[a])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,\"on\"+kf)}ff($e,\"onAnimationEnd\");ff(af,\"onAnimationIteration\");ff(bf,\"onAnimationStart\");ff(\"dblclick\",\"onDoubleClick\");ff(\"focusin\",\"onFocus\");ff(\"focusout\",\"onBlur\");ff(cf,\"onTransitionEnd\");ha(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]);ha(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]);ha(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]);\nha(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]);fa(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \"));fa(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \"));fa(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]);fa(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \"));fa(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \"));\nfa(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var lf=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),mf=new Set(\"cancel close invalid load scroll toggle\".split(\" \").concat(lf));\nfunction nf(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=c;Ub(d,b,void 0,a);a.currentTarget=null}\nfunction se(a,b){b=0!==(b&4);for(var c=0;c<a.length;c++){var d=a[c],e=d.event;d=d.listeners;a:{var f=void 0;if(b)for(var g=d.length-1;0<=g;g--){var h=d[g],k=h.instance,l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}else for(g=0;g<d.length;g++){h=d[g];k=h.instance;l=h.currentTarget;h=h.listener;if(k!==f&&e.isPropagationStopped())break a;nf(e,h,l);f=k}}}if(Qb)throw a=Rb,Qb=!1,Rb=null,a;}\nfunction D(a,b){var c=b[of];void 0===c&&(c=b[of]=new Set);var d=a+\"__bubble\";c.has(d)||(pf(b,a,2,!1),c.add(d))}function qf(a,b,c){var d=0;b&&(d|=4);pf(c,a,d,b)}var rf=\"_reactListening\"+Math.random().toString(36).slice(2);function sf(a){if(!a[rf]){a[rf]=!0;da.forEach(function(b){\"selectionchange\"!==b&&(mf.has(b)||qf(b,!1,a),qf(b,!0,a))});var b=9===a.nodeType?a:a.ownerDocument;null===b||b[rf]||(b[rf]=!0,qf(\"selectionchange\",!1,b))}}\nfunction pf(a,b,c,d){switch(jd(b)){case 1:var e=ed;break;case 4:e=gd;break;default:e=fd}c=e.bind(null,b,c,a);e=void 0;!Lb||\"touchstart\"!==b&&\"touchmove\"!==b&&\"wheel\"!==b||(e=!0);d?void 0!==e?a.addEventListener(b,c,{capture:!0,passive:e}):a.addEventListener(b,c,!0):void 0!==e?a.addEventListener(b,c,{passive:e}):a.addEventListener(b,c,!1)}\nfunction hd(a,b,c,d,e){var f=d;if(0===(b&1)&&0===(b&2)&&null!==d)a:for(;;){if(null===d)return;var g=d.tag;if(3===g||4===g){var h=d.stateNode.containerInfo;if(h===e||8===h.nodeType&&h.parentNode===e)break;if(4===g)for(g=d.return;null!==g;){var k=g.tag;if(3===k||4===k)if(k=g.stateNode.containerInfo,k===e||8===k.nodeType&&k.parentNode===e)return;g=g.return}for(;null!==h;){g=Wc(h);if(null===g)return;k=g.tag;if(5===k||6===k){d=f=g;continue a}h=h.parentNode}}d=d.return}Jb(function(){var d=f,e=xb(c),g=[];\na:{var h=df.get(a);if(void 0!==h){var k=td,n=a;switch(a){case \"keypress\":if(0===od(c))break a;case \"keydown\":case \"keyup\":k=Rd;break;case \"focusin\":n=\"focus\";k=Fd;break;case \"focusout\":n=\"blur\";k=Fd;break;case \"beforeblur\":case \"afterblur\":k=Fd;break;case \"click\":if(2===c.button)break a;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":k=Bd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":k=\nDd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":k=Vd;break;case $e:case af:case bf:k=Hd;break;case cf:k=Xd;break;case \"scroll\":k=vd;break;case \"wheel\":k=Zd;break;case \"copy\":case \"cut\":case \"paste\":k=Jd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":k=Td}var t=0!==(b&4),J=!t&&\"scroll\"===a,x=t?null!==h?h+\"Capture\":null:h;t=[];for(var w=d,u;null!==\nw;){u=w;var F=u.stateNode;5===u.tag&&null!==F&&(u=F,null!==x&&(F=Kb(w,x),null!=F&&t.push(tf(w,F,u))));if(J)break;w=w.return}0<t.length&&(h=new k(h,n,null,c,e),g.push({event:h,listeners:t}))}}if(0===(b&7)){a:{h=\"mouseover\"===a||\"pointerover\"===a;k=\"mouseout\"===a||\"pointerout\"===a;if(h&&c!==wb&&(n=c.relatedTarget||c.fromElement)&&(Wc(n)||n[uf]))break a;if(k||h){h=e.window===e?e:(h=e.ownerDocument)?h.defaultView||h.parentWindow:window;if(k){if(n=c.relatedTarget||c.toElement,k=d,n=n?Wc(n):null,null!==\nn&&(J=Vb(n),n!==J||5!==n.tag&&6!==n.tag))n=null}else k=null,n=d;if(k!==n){t=Bd;F=\"onMouseLeave\";x=\"onMouseEnter\";w=\"mouse\";if(\"pointerout\"===a||\"pointerover\"===a)t=Td,F=\"onPointerLeave\",x=\"onPointerEnter\",w=\"pointer\";J=null==k?h:ue(k);u=null==n?h:ue(n);h=new t(F,w+\"leave\",k,c,e);h.target=J;h.relatedTarget=u;F=null;Wc(e)===d&&(t=new t(x,w+\"enter\",n,c,e),t.target=u,t.relatedTarget=J,F=t);J=F;if(k&&n)b:{t=k;x=n;w=0;for(u=t;u;u=vf(u))w++;u=0;for(F=x;F;F=vf(F))u++;for(;0<w-u;)t=vf(t),w--;for(;0<u-w;)x=\nvf(x),u--;for(;w--;){if(t===x||null!==x&&t===x.alternate)break b;t=vf(t);x=vf(x)}t=null}else t=null;null!==k&&wf(g,h,k,t,!1);null!==n&&null!==J&&wf(g,J,n,t,!0)}}}a:{h=d?ue(d):window;k=h.nodeName&&h.nodeName.toLowerCase();if(\"select\"===k||\"input\"===k&&\"file\"===h.type)var na=ve;else if(me(h))if(we)na=Fe;else{na=De;var xa=Ce}else(k=h.nodeName)&&\"input\"===k.toLowerCase()&&(\"checkbox\"===h.type||\"radio\"===h.type)&&(na=Ee);if(na&&(na=na(a,d))){ne(g,na,c,e);break a}xa&&xa(a,h,d);\"focusout\"===a&&(xa=h._wrapperState)&&\nxa.controlled&&\"number\"===h.type&&cb(h,\"number\",h.value)}xa=d?ue(d):window;switch(a){case \"focusin\":if(me(xa)||\"true\"===xa.contentEditable)Qe=xa,Re=d,Se=null;break;case \"focusout\":Se=Re=Qe=null;break;case \"mousedown\":Te=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":Te=!1;Ue(g,c,e);break;case \"selectionchange\":if(Pe)break;case \"keydown\":case \"keyup\":Ue(g,c,e)}var $a;if(ae)b:{switch(a){case \"compositionstart\":var ba=\"onCompositionStart\";break b;case \"compositionend\":ba=\"onCompositionEnd\";\nbreak b;case \"compositionupdate\":ba=\"onCompositionUpdate\";break b}ba=void 0}else ie?ge(a,c)&&(ba=\"onCompositionEnd\"):\"keydown\"===a&&229===c.keyCode&&(ba=\"onCompositionStart\");ba&&(de&&\"ko\"!==c.locale&&(ie||\"onCompositionStart\"!==ba?\"onCompositionEnd\"===ba&&ie&&($a=nd()):(kd=e,ld=\"value\"in kd?kd.value:kd.textContent,ie=!0)),xa=oe(d,ba),0<xa.length&&(ba=new Ld(ba,a,null,c,e),g.push({event:ba,listeners:xa}),$a?ba.data=$a:($a=he(c),null!==$a&&(ba.data=$a))));if($a=ce?je(a,c):ke(a,c))d=oe(d,\"onBeforeInput\"),\n0<d.length&&(e=new Ld(\"onBeforeInput\",\"beforeinput\",null,c,e),g.push({event:e,listeners:d}),e.data=$a)}se(g,b)})}function tf(a,b,c){return{instance:a,listener:b,currentTarget:c}}function oe(a,b){for(var c=b+\"Capture\",d=[];null!==a;){var e=a,f=e.stateNode;5===e.tag&&null!==f&&(e=f,f=Kb(a,c),null!=f&&d.unshift(tf(a,f,e)),f=Kb(a,b),null!=f&&d.push(tf(a,f,e)));a=a.return}return d}function vf(a){if(null===a)return null;do a=a.return;while(a&&5!==a.tag);return a?a:null}\nfunction wf(a,b,c,d,e){for(var f=b._reactName,g=[];null!==c&&c!==d;){var h=c,k=h.alternate,l=h.stateNode;if(null!==k&&k===d)break;5===h.tag&&null!==l&&(h=l,e?(k=Kb(c,f),null!=k&&g.unshift(tf(c,k,h))):e||(k=Kb(c,f),null!=k&&g.push(tf(c,k,h))));c=c.return}0!==g.length&&a.push({event:b,listeners:g})}var xf=/\\r\\n?/g,yf=/\\u0000|\\uFFFD/g;function zf(a){return(\"string\"===typeof a?a:\"\"+a).replace(xf,\"\\n\").replace(yf,\"\")}function Af(a,b,c){b=zf(b);if(zf(a)!==b&&c)throw Error(p(425));}function Bf(){}\nvar Cf=null,Df=null;function Ef(a,b){return\"textarea\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}\nvar Ff=\"function\"===typeof setTimeout?setTimeout:void 0,Gf=\"function\"===typeof clearTimeout?clearTimeout:void 0,Hf=\"function\"===typeof Promise?Promise:void 0,Jf=\"function\"===typeof queueMicrotask?queueMicrotask:\"undefined\"!==typeof Hf?function(a){return Hf.resolve(null).then(a).catch(If)}:Ff;function If(a){setTimeout(function(){throw a;})}\nfunction Kf(a,b){var c=b,d=0;do{var e=c.nextSibling;a.removeChild(c);if(e&&8===e.nodeType)if(c=e.data,\"/$\"===c){if(0===d){a.removeChild(e);bd(b);return}d--}else\"$\"!==c&&\"$?\"!==c&&\"$!\"!==c||d++;c=e}while(c);bd(b)}function Lf(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break;if(8===b){b=a.data;if(\"$\"===b||\"$!\"===b||\"$?\"===b)break;if(\"/$\"===b)return null}}return a}\nfunction Mf(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(\"$\"===c||\"$!\"===c||\"$?\"===c){if(0===b)return a;b--}else\"/$\"===c&&b++}a=a.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of=\"__reactFiber$\"+Nf,Pf=\"__reactProps$\"+Nf,uf=\"__reactContainer$\"+Nf,of=\"__reactEvents$\"+Nf,Qf=\"__reactListeners$\"+Nf,Rf=\"__reactHandles$\"+Nf;\nfunction Wc(a){var b=a[Of];if(b)return b;for(var c=a.parentNode;c;){if(b=c[uf]||c[Of]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=Mf(a);null!==a;){if(c=a[Of])return c;a=Mf(a)}return b}a=c;c=a.parentNode}return null}function Cb(a){a=a[Of]||a[uf];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function ue(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(p(33));}function Db(a){return a[Pf]||null}var Sf=[],Tf=-1;function Uf(a){return{current:a}}\nfunction E(a){0>Tf||(a.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(a,b){Tf++;Sf[Tf]=a.current;a.current=b}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(a,b){var c=a.type.contextTypes;if(!c)return Vf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}\nfunction Zf(a){a=a.childContextTypes;return null!==a&&void 0!==a}function $f(){E(Wf);E(H)}function ag(a,b,c){if(H.current!==Vf)throw Error(p(168));G(H,b);G(Wf,c)}function bg(a,b,c){var d=a.stateNode;b=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in b))throw Error(p(108,Ra(a)||\"Unknown\",e));return A({},c,d)}\nfunction cg(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Vf;Xf=H.current;G(H,a);G(Wf,Wf.current);return!0}function dg(a,b,c){var d=a.stateNode;if(!d)throw Error(p(169));c?(a=bg(a,b,Xf),d.__reactInternalMemoizedMergedChildContext=a,E(Wf),E(H),G(H,a)):E(Wf);G(Wf,c)}var eg=null,fg=!1,gg=!1;function hg(a){null===eg?eg=[a]:eg.push(a)}function ig(a){fg=!0;hg(a)}\nfunction jg(){if(!gg&&null!==eg){gg=!0;var a=0,b=C;try{var c=eg;for(C=1;a<c.length;a++){var d=c[a];do d=d(!0);while(null!==d)}eg=null;fg=!1}catch(e){throw null!==eg&&(eg=eg.slice(a+1)),ac(fc,jg),e;}finally{C=b,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg=\"\";function tg(a,b){kg[lg++]=ng;kg[lg++]=mg;mg=a;ng=b}\nfunction ug(a,b,c){og[pg++]=rg;og[pg++]=sg;og[pg++]=qg;qg=a;var d=rg;a=sg;var e=32-oc(d)-1;d&=~(1<<e);c+=1;var f=32-oc(b)+e;if(30<f){var g=e-e%5;f=(d&(1<<g)-1).toString(32);d>>=g;e-=g;rg=1<<32-oc(b)+e|c<<e|d;sg=f+a}else rg=1<<f|c<<e|d,sg=a}function vg(a){null!==a.return&&(tg(a,1),ug(a,1,0))}function wg(a){for(;a===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;a===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;\nfunction Ag(a,b){var c=Bg(5,null,null,0);c.elementType=\"DELETED\";c.stateNode=b;c.return=a;b=a.deletions;null===b?(a.deletions=[c],a.flags|=16):b.push(c)}\nfunction Cg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,xg=a,yg=Lf(b.firstChild),!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,xg=a,yg=null,!0):!1;case 13:return b=8!==b.nodeType?null:b,null!==b?(c=null!==qg?{id:rg,overflow:sg}:null,a.memoizedState={dehydrated:b,treeContext:c,retryLane:1073741824},c=Bg(18,null,null,0),c.stateNode=b,c.return=a,a.child=c,xg=a,yg=\nnull,!0):!1;default:return!1}}function Dg(a){return 0!==(a.mode&1)&&0===(a.flags&128)}function Eg(a){if(I){var b=yg;if(b){var c=b;if(!Cg(a,b)){if(Dg(a))throw Error(p(418));b=Lf(c.nextSibling);var d=xg;b&&Cg(a,b)?Ag(d,c):(a.flags=a.flags&-4097|2,I=!1,xg=a)}}else{if(Dg(a))throw Error(p(418));a.flags=a.flags&-4097|2;I=!1;xg=a}}}function Fg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;xg=a}\nfunction Gg(a){if(a!==xg)return!1;if(!I)return Fg(a),I=!0,!1;var b;(b=3!==a.tag)&&!(b=5!==a.tag)&&(b=a.type,b=\"head\"!==b&&\"body\"!==b&&!Ef(a.type,a.memoizedProps));if(b&&(b=yg)){if(Dg(a))throw Hg(),Error(p(418));for(;b;)Ag(a,b),b=Lf(b.nextSibling)}Fg(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(p(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(\"/$\"===c){if(0===b){yg=Lf(a.nextSibling);break a}b--}else\"$\"!==c&&\"$!\"!==c&&\"$?\"!==c||b++}a=a.nextSibling}yg=\nnull}}else yg=xg?Lf(a.stateNode.nextSibling):null;return!0}function Hg(){for(var a=yg;a;)a=Lf(a.nextSibling)}function Ig(){yg=xg=null;I=!1}function Jg(a){null===zg?zg=[a]:zg.push(a)}var Kg=ua.ReactCurrentBatchConfig;\nfunction Lg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(p(309));var d=c.stateNode}if(!d)throw Error(p(147,a));var e=d,f=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===f)return b.ref;b=function(a){var b=e.refs;null===a?delete b[f]:b[f]=a};b._stringRef=f;return b}if(\"string\"!==typeof a)throw Error(p(284));if(!c._owner)throw Error(p(290,a));}return a}\nfunction Mg(a,b){a=Object.prototype.toString.call(b);throw Error(p(31,\"[object Object]\"===a?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":a));}function Ng(a){var b=a._init;return b(a._payload)}\nfunction Og(a){function b(b,c){if(a){var d=b.deletions;null===d?(b.deletions=[c],b.flags|=16):d.push(c)}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Pg(a,b);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return b.flags|=1048576,c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.flags|=2,c):d;b.flags|=2;return c}function g(b){a&&\nnull===b.alternate&&(b.flags|=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=Qg(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function k(a,b,c,d){var f=c.type;if(f===ya)return m(a,b,c.props.children,d,c.key);if(null!==b&&(b.elementType===f||\"object\"===typeof f&&null!==f&&f.$$typeof===Ha&&Ng(f)===b.type))return d=e(b,c.props),d.ref=Lg(a,b,c),d.return=a,d;d=Rg(c.type,c.key,c.props,null,a.mode,d);d.ref=Lg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||\nb.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Sg(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=Tg(c,a.mode,d,f),b.return=a,b;b=e(b,c);b.return=a;return b}function q(a,b,c){if(\"string\"===typeof b&&\"\"!==b||\"number\"===typeof b)return b=Qg(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case va:return c=Rg(b.type,b.key,b.props,null,a.mode,c),\nc.ref=Lg(a,null,b),c.return=a,c;case wa:return b=Sg(b,a.mode,c),b.return=a,b;case Ha:var d=b._init;return q(a,d(b._payload),c)}if(eb(b)||Ka(b))return b=Tg(b,a.mode,c,null),b.return=a,b;Mg(a,b)}return null}function r(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c&&\"\"!==c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case va:return c.key===e?k(a,b,c,d):null;case wa:return c.key===e?l(a,b,c,d):null;case Ha:return e=c._init,r(a,\nb,e(c._payload),d)}if(eb(c)||Ka(c))return null!==e?null:m(a,b,c,d,null);Mg(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d&&\"\"!==d||\"number\"===typeof d)return a=a.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case va:return a=a.get(null===d.key?c:d.key)||null,k(b,a,d,e);case wa:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e);case Ha:var f=d._init;return y(a,b,c,f(d._payload),e)}if(eb(d)||Ka(d))return a=a.get(c)||null,m(b,a,d,e,null);Mg(b,d)}return null}\nfunction n(e,g,h,k){for(var l=null,m=null,u=g,w=g=0,x=null;null!==u&&w<h.length;w++){u.index>w?(x=u,u=null):x=u.sibling;var n=r(e,u,h[w],k);if(null===n){null===u&&(u=x);break}a&&u&&null===n.alternate&&b(e,u);g=f(n,g,w);null===m?l=n:m.sibling=n;m=n;u=x}if(w===h.length)return c(e,u),I&&tg(e,w),l;if(null===u){for(;w<h.length;w++)u=q(e,h[w],k),null!==u&&(g=f(u,g,w),null===m?l=u:m.sibling=u,m=u);I&&tg(e,w);return l}for(u=d(e,u);w<h.length;w++)x=y(u,e,w,h[w],k),null!==x&&(a&&null!==x.alternate&&u.delete(null===\nx.key?w:x.key),g=f(x,g,w),null===m?l=x:m.sibling=x,m=x);a&&u.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function t(e,g,h,k){var l=Ka(h);if(\"function\"!==typeof l)throw Error(p(150));h=l.call(h);if(null==h)throw Error(p(151));for(var u=l=null,m=g,w=g=0,x=null,n=h.next();null!==m&&!n.done;w++,n=h.next()){m.index>w?(x=m,m=null):x=m.sibling;var t=r(e,m,n.value,k);if(null===t){null===m&&(m=x);break}a&&m&&null===t.alternate&&b(e,m);g=f(t,g,w);null===u?l=t:u.sibling=t;u=t;m=x}if(n.done)return c(e,\nm),I&&tg(e,w),l;if(null===m){for(;!n.done;w++,n=h.next())n=q(e,n.value,k),null!==n&&(g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);I&&tg(e,w);return l}for(m=d(e,m);!n.done;w++,n=h.next())n=y(m,e,w,n.value,k),null!==n&&(a&&null!==n.alternate&&m.delete(null===n.key?w:n.key),g=f(n,g,w),null===u?l=n:u.sibling=n,u=n);a&&m.forEach(function(a){return b(e,a)});I&&tg(e,w);return l}function J(a,d,f,h){\"object\"===typeof f&&null!==f&&f.type===ya&&null===f.key&&(f=f.props.children);if(\"object\"===typeof f&&null!==f){switch(f.$$typeof){case va:a:{for(var k=\nf.key,l=d;null!==l;){if(l.key===k){k=f.type;if(k===ya){if(7===l.tag){c(a,l.sibling);d=e(l,f.props.children);d.return=a;a=d;break a}}else if(l.elementType===k||\"object\"===typeof k&&null!==k&&k.$$typeof===Ha&&Ng(k)===l.type){c(a,l.sibling);d=e(l,f.props);d.ref=Lg(a,l,f);d.return=a;a=d;break a}c(a,l);break}else b(a,l);l=l.sibling}f.type===ya?(d=Tg(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=Rg(f.type,f.key,f.props,null,a.mode,h),h.ref=Lg(a,d,f),h.return=a,a=h)}return g(a);case wa:a:{for(l=f.key;null!==\nd;){if(d.key===l)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Sg(f,a.mode,h);d.return=a;a=d}return g(a);case Ha:return l=f._init,J(a,d,l(f._payload),h)}if(eb(f))return n(a,d,f,h);if(Ka(f))return t(a,d,f,h);Mg(a,f)}return\"string\"===typeof f&&\"\"!==f||\"number\"===typeof f?(f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f),d.return=a,a=d):\n(c(a,d),d=Qg(f,a.mode,h),d.return=a,a=d),g(a)):c(a,d)}return J}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(a){var b=Wg.current;E(Wg);a._currentValue=b}function bh(a,b,c){for(;null!==a;){var d=a.alternate;(a.childLanes&b)!==b?(a.childLanes|=b,null!==d&&(d.childLanes|=b)):null!==d&&(d.childLanes&b)!==b&&(d.childLanes|=b);if(a===c)break;a=a.return}}\nfunction ch(a,b){Xg=a;Zg=Yg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(0!==(a.lanes&b)&&(dh=!0),a.firstContext=null)}function eh(a){var b=a._currentValue;if(Zg!==a)if(a={context:a,memoizedValue:b,next:null},null===Yg){if(null===Xg)throw Error(p(308));Yg=a;Xg.dependencies={lanes:0,firstContext:a}}else Yg=Yg.next=a;return b}var fh=null;function gh(a){null===fh?fh=[a]:fh.push(a)}\nfunction hh(a,b,c,d){var e=b.interleaved;null===e?(c.next=c,gh(b)):(c.next=e.next,e.next=c);b.interleaved=c;return ih(a,d)}function ih(a,b){a.lanes|=b;var c=a.alternate;null!==c&&(c.lanes|=b);c=a;for(a=a.return;null!==a;)a.childLanes|=b,c=a.alternate,null!==c&&(c.childLanes|=b),c=a,a=a.return;return 3===c.tag?c.stateNode:null}var jh=!1;function kh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}\nfunction lh(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mh(a,b){return{eventTime:a,lane:b,tag:0,payload:null,callback:null,next:null}}\nfunction nh(a,b,c){var d=a.updateQueue;if(null===d)return null;d=d.shared;if(0!==(K&2)){var e=d.pending;null===e?b.next=b:(b.next=e.next,e.next=b);d.pending=b;return ih(a,c)}e=d.interleaved;null===e?(b.next=b,gh(d)):(b.next=e.next,e.next=b);d.interleaved=b;return ih(a,c)}function oh(a,b,c){b=b.updateQueue;if(null!==b&&(b=b.shared,0!==(c&4194240))){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nfunction ph(a,b){var c=a.updateQueue,d=a.alternate;if(null!==d&&(d=d.updateQueue,c===d)){var e=null,f=null;c=c.firstBaseUpdate;if(null!==c){do{var g={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};null===f?e=f=g:f=f.next=g;c=c.next}while(null!==c);null===f?e=f=b:f=f.next=b}else e=f=b;c={baseState:d.baseState,firstBaseUpdate:e,lastBaseUpdate:f,shared:d.shared,effects:d.effects};a.updateQueue=c;return}a=c.lastBaseUpdate;null===a?c.firstBaseUpdate=b:a.next=\nb;c.lastBaseUpdate=b}\nfunction qh(a,b,c,d){var e=a.updateQueue;jh=!1;var f=e.firstBaseUpdate,g=e.lastBaseUpdate,h=e.shared.pending;if(null!==h){e.shared.pending=null;var k=h,l=k.next;k.next=null;null===g?f=l:g.next=l;g=k;var m=a.alternate;null!==m&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==g&&(null===h?m.firstBaseUpdate=l:h.next=l,m.lastBaseUpdate=k))}if(null!==f){var q=e.baseState;g=0;m=l=k=null;h=f;do{var r=h.lane,y=h.eventTime;if((d&r)===r){null!==m&&(m=m.next={eventTime:y,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,\nnext:null});a:{var n=a,t=h;r=b;y=c;switch(t.tag){case 1:n=t.payload;if(\"function\"===typeof n){q=n.call(y,q,r);break a}q=n;break a;case 3:n.flags=n.flags&-65537|128;case 0:n=t.payload;r=\"function\"===typeof n?n.call(y,q,r):n;if(null===r||void 0===r)break a;q=A({},q,r);break a;case 2:jh=!0}}null!==h.callback&&0!==h.lane&&(a.flags|=64,r=e.effects,null===r?e.effects=[h]:r.push(h))}else y={eventTime:y,lane:r,tag:h.tag,payload:h.payload,callback:h.callback,next:null},null===m?(l=m=y,k=q):m=m.next=y,g|=r;\nh=h.next;if(null===h)if(h=e.shared.pending,null===h)break;else r=h,h=r.next,r.next=null,e.lastBaseUpdate=r,e.shared.pending=null}while(1);null===m&&(k=q);e.baseState=k;e.firstBaseUpdate=l;e.lastBaseUpdate=m;b=e.shared.interleaved;if(null!==b){e=b;do g|=e.lane,e=e.next;while(e!==b)}else null===f&&(e.shared.lanes=0);rh|=g;a.lanes=g;a.memoizedState=q}}\nfunction sh(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=c;if(\"function\"!==typeof e)throw Error(p(191,e));e.call(d)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(a){if(a===th)throw Error(p(174));return a}\nfunction yh(a,b){G(wh,b);G(vh,a);G(uh,th);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:lb(null,\"\");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=lb(b,a)}E(uh);G(uh,b)}function zh(){E(uh);E(vh);E(wh)}function Ah(a){xh(wh.current);var b=xh(uh.current);var c=lb(b,a.type);b!==c&&(G(vh,a),G(uh,c))}function Bh(a){vh.current===a&&(E(uh),E(vh))}var L=Uf(0);\nfunction Ch(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||\"$?\"===c.data||\"$!\"===c.data))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.flags&128))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}var Dh=[];\nfunction Eh(){for(var a=0;a<Dh.length;a++)Dh[a]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M=null,N=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p(321));}function Mh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!He(a[c],b[c]))return!1;return!0}\nfunction Nh(a,b,c,d,e,f){Hh=f;M=b;b.memoizedState=null;b.updateQueue=null;b.lanes=0;Fh.current=null===a||null===a.memoizedState?Oh:Ph;a=c(d,e);if(Jh){f=0;do{Jh=!1;Kh=0;if(25<=f)throw Error(p(301));f+=1;O=N=null;b.updateQueue=null;Fh.current=Qh;a=c(d,e)}while(Jh)}Fh.current=Rh;b=null!==N&&null!==N.next;Hh=0;O=N=M=null;Ih=!1;if(b)throw Error(p(300));return a}function Sh(){var a=0!==Kh;Kh=0;return a}\nfunction Th(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===O?M.memoizedState=O=a:O=O.next=a;return O}function Uh(){if(null===N){var a=M.alternate;a=null!==a?a.memoizedState:null}else a=N.next;var b=null===O?M.memoizedState:O.next;if(null!==b)O=b,N=a;else{if(null===a)throw Error(p(310));N=a;a={memoizedState:N.memoizedState,baseState:N.baseState,baseQueue:N.baseQueue,queue:N.queue,next:null};null===O?M.memoizedState=O=a:O=O.next=a}return O}\nfunction Vh(a,b){return\"function\"===typeof b?b(a):b}\nfunction Wh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=N,e=d.baseQueue,f=c.pending;if(null!==f){if(null!==e){var g=e.next;e.next=f.next;f.next=g}d.baseQueue=e=f;c.pending=null}if(null!==e){f=e.next;d=d.baseState;var h=g=null,k=null,l=f;do{var m=l.lane;if((Hh&m)===m)null!==k&&(k=k.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),d=l.hasEagerState?l.eagerState:a(d,l.action);else{var q={lane:m,action:l.action,hasEagerState:l.hasEagerState,\neagerState:l.eagerState,next:null};null===k?(h=k=q,g=d):k=k.next=q;M.lanes|=m;rh|=m}l=l.next}while(null!==l&&l!==f);null===k?g=d:k.next=h;He(d,b.memoizedState)||(dh=!0);b.memoizedState=d;b.baseState=g;b.baseQueue=k;c.lastRenderedState=d}a=c.interleaved;if(null!==a){e=a;do f=e.lane,M.lanes|=f,rh|=f,e=e.next;while(e!==a)}else null===e&&(c.lanes=0);return[b.memoizedState,c.dispatch]}\nfunction Xh(a){var b=Uh(),c=b.queue;if(null===c)throw Error(p(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,f=b.memoizedState;if(null!==e){c.pending=null;var g=e=e.next;do f=a(f,g.action),g=g.next;while(g!==e);He(f,b.memoizedState)||(dh=!0);b.memoizedState=f;null===b.baseQueue&&(b.baseState=f);c.lastRenderedState=f}return[f,d]}function Yh(){}\nfunction Zh(a,b){var c=M,d=Uh(),e=b(),f=!He(d.memoizedState,e);f&&(d.memoizedState=e,dh=!0);d=d.queue;$h(ai.bind(null,c,d,a),[a]);if(d.getSnapshot!==b||f||null!==O&&O.memoizedState.tag&1){c.flags|=2048;bi(9,ci.bind(null,c,d,e,b),void 0,null);if(null===Q)throw Error(p(349));0!==(Hh&30)||di(c,b,e)}return e}function di(a,b,c){a.flags|=16384;a={getSnapshot:b,value:c};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.stores=[a]):(c=b.stores,null===c?b.stores=[a]:c.push(a))}\nfunction ci(a,b,c,d){b.value=c;b.getSnapshot=d;ei(b)&&fi(a)}function ai(a,b,c){return c(function(){ei(b)&&fi(a)})}function ei(a){var b=a.getSnapshot;a=a.value;try{var c=b();return!He(a,c)}catch(d){return!0}}function fi(a){var b=ih(a,1);null!==b&&gi(b,a,1,-1)}\nfunction hi(a){var b=Th();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a};b.queue=a;a=a.dispatch=ii.bind(null,M,a);return[b.memoizedState,a]}\nfunction bi(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=M.updateQueue;null===b?(b={lastEffect:null,stores:null},M.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function ji(){return Uh().memoizedState}function ki(a,b,c,d){var e=Th();M.flags|=a;e.memoizedState=bi(1|b,c,void 0,void 0===d?null:d)}\nfunction li(a,b,c,d){var e=Uh();d=void 0===d?null:d;var f=void 0;if(null!==N){var g=N.memoizedState;f=g.destroy;if(null!==d&&Mh(d,g.deps)){e.memoizedState=bi(b,c,f,d);return}}M.flags|=a;e.memoizedState=bi(1|b,c,f,d)}function mi(a,b){return ki(8390656,8,a,b)}function $h(a,b){return li(2048,8,a,b)}function ni(a,b){return li(4,2,a,b)}function oi(a,b){return li(4,4,a,b)}\nfunction pi(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function qi(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return li(4,4,pi.bind(null,b,a),c)}function ri(){}function si(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction ti(a,b){var c=Uh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Mh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function ui(a,b,c){if(0===(Hh&21))return a.baseState&&(a.baseState=!1,dh=!0),a.memoizedState=c;He(c,b)||(c=yc(),M.lanes|=c,rh|=c,a.baseState=!0);return b}function vi(a,b){var c=C;C=0!==c&&4>c?c:4;a(!0);var d=Gh.transition;Gh.transition={};try{a(!1),b()}finally{C=c,Gh.transition=d}}function wi(){return Uh().memoizedState}\nfunction xi(a,b,c){var d=yi(a);c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,c);else if(c=hh(a,b,c,d),null!==c){var e=R();gi(c,a,d,e);Bi(c,b,d)}}\nfunction ii(a,b,c){var d=yi(a),e={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(a))Ai(b,e);else{var f=a.alternate;if(0===a.lanes&&(null===f||0===f.lanes)&&(f=b.lastRenderedReducer,null!==f))try{var g=b.lastRenderedState,h=f(g,c);e.hasEagerState=!0;e.eagerState=h;if(He(h,g)){var k=b.interleaved;null===k?(e.next=e,gh(b)):(e.next=k.next,k.next=e);b.interleaved=e;return}}catch(l){}finally{}c=hh(a,b,e,d);null!==c&&(e=R(),gi(c,a,d,e),Bi(c,b,d))}}\nfunction zi(a){var b=a.alternate;return a===M||null!==b&&b===M}function Ai(a,b){Jh=Ih=!0;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}function Bi(a,b,c){if(0!==(c&4194240)){var d=b.lanes;d&=a.pendingLanes;c|=d;b.lanes=c;Cc(a,c)}}\nvar Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(a,b){Th().memoizedState=[a,void 0===b?null:b];return a},useContext:eh,useEffect:mi,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return ki(4194308,\n4,pi.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ki(4194308,4,a,b)},useInsertionEffect:function(a,b){return ki(4,2,a,b)},useMemo:function(a,b){var c=Th();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=Th();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};d.queue=a;a=a.dispatch=xi.bind(null,M,a);return[d.memoizedState,a]},useRef:function(a){var b=\nTh();a={current:a};return b.memoizedState=a},useState:hi,useDebugValue:ri,useDeferredValue:function(a){return Th().memoizedState=a},useTransition:function(){var a=hi(!1),b=a[0];a=vi.bind(null,a[1]);Th().memoizedState=a;return[b,a]},useMutableSource:function(){},useSyncExternalStore:function(a,b,c){var d=M,e=Th();if(I){if(void 0===c)throw Error(p(407));c=c()}else{c=b();if(null===Q)throw Error(p(349));0!==(Hh&30)||di(d,b,c)}e.memoizedState=c;var f={value:c,getSnapshot:b};e.queue=f;mi(ai.bind(null,d,\nf,a),[a]);d.flags|=2048;bi(9,ci.bind(null,d,f,c,b),void 0,null);return c},useId:function(){var a=Th(),b=Q.identifierPrefix;if(I){var c=sg;var d=rg;c=(d&~(1<<32-oc(d)-1)).toString(32)+c;b=\":\"+b+\"R\"+c;c=Kh++;0<c&&(b+=\"H\"+c.toString(32));b+=\":\"}else c=Lh++,b=\":\"+b+\"r\"+c.toString(32)+\":\";return a.memoizedState=b},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},\nuseDebugValue:ri,useDeferredValue:function(a){var b=Uh();return ui(b,N.memoizedState,a)},useTransition:function(){var a=Wh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(a){var b=Uh();return null===\nN?b.memoizedState=a:ui(b,N.memoizedState,a)},useTransition:function(){var a=Xh(Vh)[0],b=Uh().memoizedState;return[a,b]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a,b){if(a&&a.defaultProps){b=A({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c]);return b}return b}function Di(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:A({},b,c);a.memoizedState=c;0===a.lanes&&(a.updateQueue.baseState=c)}\nvar Ei={isMounted:function(a){return(a=a._reactInternals)?Vb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueReplaceState:function(a,b,c){a=a._reactInternals;var d=R(),e=yi(a),f=mh(d,e);f.tag=1;f.payload=b;void 0!==c&&null!==c&&(f.callback=c);b=nh(a,f,e);null!==b&&(gi(b,a,e,d),oh(b,a,e))},enqueueForceUpdate:function(a,b){a=a._reactInternals;var c=R(),d=\nyi(a),e=mh(c,d);e.tag=2;void 0!==b&&null!==b&&(e.callback=b);b=nh(a,e,d);null!==b&&(gi(b,a,d,c),oh(b,a,d))}};function Fi(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!Ie(c,d)||!Ie(e,f):!0}\nfunction Gi(a,b,c){var d=!1,e=Vf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=eh(f):(e=Zf(b)?Xf:H.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Yf(a,e):Vf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Ei;a.stateNode=b;b._reactInternals=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Hi(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Ei.enqueueReplaceState(b,b.state,null)}\nfunction Ii(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs={};kh(a);var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=eh(f):(f=Zf(b)?Xf:H.current,e.context=Yf(a,f));e.state=a.memoizedState;f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Di(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==typeof e.componentWillMount||(b=e.state,\n\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Ei.enqueueReplaceState(e,e.state,null),qh(a,c,e,d),e.state=a.memoizedState);\"function\"===typeof e.componentDidMount&&(a.flags|=4194308)}function Ji(a,b){try{var c=\"\",d=b;do c+=Pa(d),d=d.return;while(d);var e=c}catch(f){e=\"\\nError generating stack: \"+f.message+\"\\n\"+f.stack}return{value:a,source:b,stack:e,digest:null}}\nfunction Ki(a,b,c){return{value:a,source:null,stack:null!=c?c:null,digest:null!=b?b:null}}function Li(a,b){try{console.error(b.value)}catch(c){setTimeout(function(){throw c;})}}var Mi=\"function\"===typeof WeakMap?WeakMap:Map;function Ni(a,b,c){c=mh(-1,c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Oi||(Oi=!0,Pi=d);Li(a,b)};return c}\nfunction Qi(a,b,c){c=mh(-1,c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)};c.callback=function(){Li(a,b)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){Li(a,b);\"function\"!==typeof d&&(null===Ri?Ri=new Set([this]):Ri.add(this));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nfunction Si(a,b,c){var d=a.pingCache;if(null===d){d=a.pingCache=new Mi;var e=new Set;d.set(b,e)}else e=d.get(b),void 0===e&&(e=new Set,d.set(b,e));e.has(c)||(e.add(c),a=Ti.bind(null,a,b,c),b.then(a,a))}function Ui(a){do{var b;if(b=13===a.tag)b=a.memoizedState,b=null!==b?null!==b.dehydrated?!0:!1:!0;if(b)return a;a=a.return}while(null!==a);return null}\nfunction Vi(a,b,c,d,e){if(0===(a.mode&1))return a===b?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,1===c.tag&&(null===c.alternate?c.tag=17:(b=mh(-1,1),b.tag=2,nh(c,b,1))),c.lanes|=1),a;a.flags|=65536;a.lanes=e;return a}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(a,b,c,d){b.child=null===a?Vg(b,null,c,d):Ug(b,a.child,c,d)}\nfunction Yi(a,b,c,d,e){c=c.render;var f=b.ref;ch(b,e);d=Nh(a,b,c,d,f,e);c=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&c&&vg(b);b.flags|=1;Xi(a,b,d,e);return b.child}\nfunction $i(a,b,c,d,e){if(null===a){var f=c.type;if(\"function\"===typeof f&&!aj(f)&&void 0===f.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=f,bj(a,b,f,d,e);a=Rg(c.type,null,d,b,b.mode,e);a.ref=b.ref;a.return=b;return b.child=a}f=a.child;if(0===(a.lanes&e)){var g=f.memoizedProps;c=c.compare;c=null!==c?c:Ie;if(c(g,d)&&a.ref===b.ref)return Zi(a,b,e)}b.flags|=1;a=Pg(f,d);a.ref=b.ref;a.return=b;return b.child=a}\nfunction bj(a,b,c,d,e){if(null!==a){var f=a.memoizedProps;if(Ie(f,d)&&a.ref===b.ref)if(dh=!1,b.pendingProps=d=f,0!==(a.lanes&e))0!==(a.flags&131072)&&(dh=!0);else return b.lanes=a.lanes,Zi(a,b,e)}return cj(a,b,c,d,e)}\nfunction dj(a,b,c){var d=b.pendingProps,e=d.children,f=null!==a?a.memoizedState:null;if(\"hidden\"===d.mode)if(0===(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=c;else{if(0===(c&1073741824))return a=null!==f?f.baseLanes|c:c,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:a,cachePool:null,transitions:null},b.updateQueue=null,G(ej,fj),fj|=a,null;b.memoizedState={baseLanes:0,cachePool:null,transitions:null};d=null!==f?f.baseLanes:c;G(ej,fj);fj|=d}else null!==\nf?(d=f.baseLanes|c,b.memoizedState=null):d=c,G(ej,fj),fj|=d;Xi(a,b,e,c);return b.child}function gj(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.flags|=512,b.flags|=2097152}function cj(a,b,c,d,e){var f=Zf(c)?Xf:H.current;f=Yf(b,f);ch(b,e);c=Nh(a,b,c,d,f,e);d=Sh();if(null!==a&&!dh)return b.updateQueue=a.updateQueue,b.flags&=-2053,a.lanes&=~e,Zi(a,b,e);I&&d&&vg(b);b.flags|=1;Xi(a,b,c,e);return b.child}\nfunction hj(a,b,c,d,e){if(Zf(c)){var f=!0;cg(b)}else f=!1;ch(b,e);if(null===b.stateNode)ij(a,b),Gi(b,c,d),Ii(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=eh(l):(l=Zf(c)?Xf:H.current,l=Yf(b,l));var m=c.getDerivedStateFromProps,q=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;q||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||\n(h!==d||k!==l)&&Hi(b,g,d,l);jh=!1;var r=b.memoizedState;g.state=r;qh(b,d,g,e);k=b.memoizedState;h!==d||r!==k||Wf.current||jh?(\"function\"===typeof m&&(Di(b,c,m,d),k=b.memoizedState),(h=jh||Fi(b,c,h,d,r,k,l))?(q||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&g.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.flags|=4194308)):\n(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.flags|=4194308),d=!1)}else{g=b.stateNode;lh(a,b);h=b.memoizedProps;l=b.type===b.elementType?h:Ci(b.type,h);g.props=l;q=b.pendingProps;r=g.context;k=c.contextType;\"object\"===typeof k&&null!==k?k=eh(k):(k=Zf(c)?Xf:H.current,k=Yf(b,k));var y=c.getDerivedStateFromProps;(m=\"function\"===typeof y||\"function\"===typeof g.getSnapshotBeforeUpdate)||\n\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==q||r!==k)&&Hi(b,g,d,k);jh=!1;r=b.memoizedState;g.state=r;qh(b,d,g,e);var n=b.memoizedState;h!==q||r!==n||Wf.current||jh?(\"function\"===typeof y&&(Di(b,c,y,d),n=b.memoizedState),(l=jh||Fi(b,c,l,d,r,n,k)||!1)?(m||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,n,k),\"function\"===typeof g.UNSAFE_componentWillUpdate&&\ng.UNSAFE_componentWillUpdate(d,n,k)),\"function\"===typeof g.componentDidUpdate&&(b.flags|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.flags|=1024)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),b.memoizedProps=d,b.memoizedState=n),g.props=d,g.state=n,g.context=k,d=l):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&r===\na.memoizedState||(b.flags|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&r===a.memoizedState||(b.flags|=1024),d=!1)}return jj(a,b,c,d,f,e)}\nfunction jj(a,b,c,d,e,f){gj(a,b);var g=0!==(b.flags&128);if(!d&&!g)return e&&dg(b,c,!1),Zi(a,b,f);d=b.stateNode;Wi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.flags|=1;null!==a&&g?(b.child=Ug(b,a.child,null,f),b.child=Ug(b,null,h,f)):Xi(a,b,h,f);b.memoizedState=d.state;e&&dg(b,c,!0);return b.child}function kj(a){var b=a.stateNode;b.pendingContext?ag(a,b.pendingContext,b.pendingContext!==b.context):b.context&&ag(a,b.context,!1);yh(a,b.containerInfo)}\nfunction lj(a,b,c,d,e){Ig();Jg(e);b.flags|=256;Xi(a,b,c,d);return b.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a){return{baseLanes:a,cachePool:null,transitions:null}}\nfunction oj(a,b,c){var d=b.pendingProps,e=L.current,f=!1,g=0!==(b.flags&128),h;(h=g)||(h=null!==a&&null===a.memoizedState?!1:0!==(e&2));if(h)f=!0,b.flags&=-129;else if(null===a||null!==a.memoizedState)e|=1;G(L,e&1);if(null===a){Eg(b);a=b.memoizedState;if(null!==a&&(a=a.dehydrated,null!==a))return 0===(b.mode&1)?b.lanes=1:\"$!\"===a.data?b.lanes=8:b.lanes=1073741824,null;g=d.children;a=d.fallback;return f?(d=b.mode,f=b.child,g={mode:\"hidden\",children:g},0===(d&1)&&null!==f?(f.childLanes=0,f.pendingProps=\ng):f=pj(g,d,0,null),a=Tg(a,d,c,null),f.return=b,a.return=b,f.sibling=a,b.child=f,b.child.memoizedState=nj(c),b.memoizedState=mj,a):qj(b,g)}e=a.memoizedState;if(null!==e&&(h=e.dehydrated,null!==h))return rj(a,b,g,d,h,e,c);if(f){f=d.fallback;g=b.mode;e=a.child;h=e.sibling;var k={mode:\"hidden\",children:d.children};0===(g&1)&&b.child!==e?(d=b.child,d.childLanes=0,d.pendingProps=k,b.deletions=null):(d=Pg(e,k),d.subtreeFlags=e.subtreeFlags&14680064);null!==h?f=Pg(h,f):(f=Tg(f,g,c,null),f.flags|=2);f.return=\nb;d.return=b;d.sibling=f;b.child=d;d=f;f=b.child;g=a.child.memoizedState;g=null===g?nj(c):{baseLanes:g.baseLanes|c,cachePool:null,transitions:g.transitions};f.memoizedState=g;f.childLanes=a.childLanes&~c;b.memoizedState=mj;return d}f=a.child;a=f.sibling;d=Pg(f,{mode:\"visible\",children:d.children});0===(b.mode&1)&&(d.lanes=c);d.return=b;d.sibling=null;null!==a&&(c=b.deletions,null===c?(b.deletions=[a],b.flags|=16):c.push(a));b.child=d;b.memoizedState=null;return d}\nfunction qj(a,b){b=pj({mode:\"visible\",children:b},a.mode,0,null);b.return=a;return a.child=b}function sj(a,b,c,d){null!==d&&Jg(d);Ug(b,a.child,null,c);a=qj(b,b.pendingProps.children);a.flags|=2;b.memoizedState=null;return a}\nfunction rj(a,b,c,d,e,f,g){if(c){if(b.flags&256)return b.flags&=-257,d=Ki(Error(p(422))),sj(a,b,g,d);if(null!==b.memoizedState)return b.child=a.child,b.flags|=128,null;f=d.fallback;e=b.mode;d=pj({mode:\"visible\",children:d.children},e,0,null);f=Tg(f,e,g,null);f.flags|=2;d.return=b;f.return=b;d.sibling=f;b.child=d;0!==(b.mode&1)&&Ug(b,a.child,null,g);b.child.memoizedState=nj(g);b.memoizedState=mj;return f}if(0===(b.mode&1))return sj(a,b,g,null);if(\"$!\"===e.data){d=e.nextSibling&&e.nextSibling.dataset;\nif(d)var h=d.dgst;d=h;f=Error(p(419));d=Ki(f,d,void 0);return sj(a,b,g,d)}h=0!==(g&a.childLanes);if(dh||h){d=Q;if(null!==d){switch(g&-g){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=0!==(e&(d.suspendedLanes|g))?0:e;\n0!==e&&e!==f.retryLane&&(f.retryLane=e,ih(a,e),gi(d,a,e,-1))}tj();d=Ki(Error(p(421)));return sj(a,b,g,d)}if(\"$?\"===e.data)return b.flags|=128,b.child=a.child,b=uj.bind(null,a),e._reactRetry=b,null;a=f.treeContext;yg=Lf(e.nextSibling);xg=b;I=!0;zg=null;null!==a&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=a.id,sg=a.overflow,qg=b);b=qj(b,d.children);b.flags|=4096;return b}function vj(a,b,c){a.lanes|=b;var d=a.alternate;null!==d&&(d.lanes|=b);bh(a.return,b,c)}\nfunction wj(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.renderingStartTime=0,f.last=d,f.tail=c,f.tailMode=e)}\nfunction xj(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;Xi(a,b,d.children,c);d=L.current;if(0!==(d&2))d=d&1|2,b.flags|=128;else{if(null!==a&&0!==(a.flags&128))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&vj(a,c,b);else if(19===a.tag)vj(a,c,b);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}G(L,d);if(0===(b.mode&1))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===Ch(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);wj(b,!1,e,c,f);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===Ch(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}wj(b,!0,c,null,f);break;case \"together\":wj(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}\nfunction ij(a,b){0===(b.mode&1)&&null!==a&&(a.alternate=null,b.alternate=null,b.flags|=2)}function Zi(a,b,c){null!==a&&(b.dependencies=a.dependencies);rh|=b.lanes;if(0===(c&b.childLanes))return null;if(null!==a&&b.child!==a.child)throw Error(p(153));if(null!==b.child){a=b.child;c=Pg(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=Pg(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}\nfunction yj(a,b,c){switch(b.tag){case 3:kj(b);Ig();break;case 5:Ah(b);break;case 1:Zf(b.type)&&cg(b);break;case 4:yh(b,b.stateNode.containerInfo);break;case 10:var d=b.type._context,e=b.memoizedProps.value;G(Wg,d._currentValue);d._currentValue=e;break;case 13:d=b.memoizedState;if(null!==d){if(null!==d.dehydrated)return G(L,L.current&1),b.flags|=128,null;if(0!==(c&b.child.childLanes))return oj(a,b,c);G(L,L.current&1);a=Zi(a,b,c);return null!==a?a.sibling:null}G(L,L.current&1);break;case 19:d=0!==(c&\nb.childLanes);if(0!==(a.flags&128)){if(d)return xj(a,b,c);b.flags|=128}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null,e.lastEffect=null);G(L,L.current);if(d)break;else return null;case 22:case 23:return b.lanes=0,dj(a,b,c)}return Zi(a,b,c)}var zj,Aj,Bj,Cj;\nzj=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Aj=function(){};\nBj=function(a,b,c,d){var e=a.memoizedProps;if(e!==d){a=b.stateNode;xh(uh.current);var f=null;switch(c){case \"input\":e=Ya(a,e);d=Ya(a,d);f=[];break;case \"select\":e=A({},e,{value:void 0});d=A({},d,{value:void 0});f=[];break;case \"textarea\":e=gb(a,e);d=gb(a,d);f=[];break;default:\"function\"!==typeof e.onClick&&\"function\"===typeof d.onClick&&(a.onclick=Bf)}ub(c,d);var g;c=null;for(l in e)if(!d.hasOwnProperty(l)&&e.hasOwnProperty(l)&&null!=e[l])if(\"style\"===l){var h=e[l];for(g in h)h.hasOwnProperty(g)&&\n(c||(c={}),c[g]=\"\")}else\"dangerouslySetInnerHTML\"!==l&&\"children\"!==l&&\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ea.hasOwnProperty(l)?f||(f=[]):(f=f||[]).push(l,null));for(l in d){var k=d[l];h=null!=e?e[l]:void 0;if(d.hasOwnProperty(l)&&k!==h&&(null!=k||null!=h))if(\"style\"===l)if(h){for(g in h)!h.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(c||(c={}),c[g]=\"\");for(g in k)k.hasOwnProperty(g)&&h[g]!==k[g]&&(c||(c={}),c[g]=k[g])}else c||(f||(f=[]),f.push(l,\nc)),c=k;else\"dangerouslySetInnerHTML\"===l?(k=k?k.__html:void 0,h=h?h.__html:void 0,null!=k&&h!==k&&(f=f||[]).push(l,k)):\"children\"===l?\"string\"!==typeof k&&\"number\"!==typeof k||(f=f||[]).push(l,\"\"+k):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&(ea.hasOwnProperty(l)?(null!=k&&\"onScroll\"===l&&D(\"scroll\",a),f||h===k||(f=[])):(f=f||[]).push(l,k))}c&&(f=f||[]).push(\"style\",c);var l=f;if(b.updateQueue=l)b.flags|=4}};Cj=function(a,b,c,d){c!==d&&(b.flags|=4)};\nfunction Dj(a,b){if(!I)switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction S(a){var b=null!==a.alternate&&a.alternate.child===a.child,c=0,d=0;if(b)for(var e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags&14680064,d|=e.flags&14680064,e.return=a,e=e.sibling;else for(e=a.child;null!==e;)c|=e.lanes|e.childLanes,d|=e.subtreeFlags,d|=e.flags,e.return=a,e=e.sibling;a.subtreeFlags|=d;a.childLanes=c;return b}\nfunction Ej(a,b,c){var d=b.pendingProps;wg(b);switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(b),null;case 1:return Zf(b.type)&&$f(),S(b),null;case 3:d=b.stateNode;zh();E(Wf);E(H);Eh();d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null);if(null===a||null===a.child)Gg(b)?b.flags|=4:null===a||a.memoizedState.isDehydrated&&0===(b.flags&256)||(b.flags|=1024,null!==zg&&(Fj(zg),zg=null));Aj(a,b);S(b);return null;case 5:Bh(b);var e=xh(wh.current);\nc=b.type;if(null!==a&&null!=b.stateNode)Bj(a,b,c,d,e),a.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!d){if(null===b.stateNode)throw Error(p(166));S(b);return null}a=xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.type;var f=b.memoizedProps;d[Of]=b;d[Pf]=f;a=0!==(b.mode&1);switch(c){case \"dialog\":D(\"cancel\",d);D(\"close\",d);break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",d);break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],d);break;case \"source\":D(\"error\",d);break;case \"img\":case \"image\":case \"link\":D(\"error\",\nd);D(\"load\",d);break;case \"details\":D(\"toggle\",d);break;case \"input\":Za(d,f);D(\"invalid\",d);break;case \"select\":d._wrapperState={wasMultiple:!!f.multiple};D(\"invalid\",d);break;case \"textarea\":hb(d,f),D(\"invalid\",d)}ub(c,f);e=null;for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];\"children\"===g?\"string\"===typeof h?d.textContent!==h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,h,a),e=[\"children\",h]):\"number\"===typeof h&&d.textContent!==\"\"+h&&(!0!==f.suppressHydrationWarning&&Af(d.textContent,\nh,a),e=[\"children\",\"\"+h]):ea.hasOwnProperty(g)&&null!=h&&\"onScroll\"===g&&D(\"scroll\",d)}switch(c){case \"input\":Va(d);db(d,f,!0);break;case \"textarea\":Va(d);jb(d);break;case \"select\":case \"option\":break;default:\"function\"===typeof f.onClick&&(d.onclick=Bf)}d=e;b.updateQueue=d;null!==d&&(b.flags|=4)}else{g=9===e.nodeType?e:e.ownerDocument;\"http://www.w3.org/1999/xhtml\"===a&&(a=kb(c));\"http://www.w3.org/1999/xhtml\"===a?\"script\"===c?(a=g.createElement(\"div\"),a.innerHTML=\"<script>\\x3c/script>\",a=a.removeChild(a.firstChild)):\n\"string\"===typeof d.is?a=g.createElement(c,{is:d.is}):(a=g.createElement(c),\"select\"===c&&(g=a,d.multiple?g.multiple=!0:d.size&&(g.size=d.size))):a=g.createElementNS(a,c);a[Of]=b;a[Pf]=d;zj(a,b,!1,!1);b.stateNode=a;a:{g=vb(c,d);switch(c){case \"dialog\":D(\"cancel\",a);D(\"close\",a);e=d;break;case \"iframe\":case \"object\":case \"embed\":D(\"load\",a);e=d;break;case \"video\":case \"audio\":for(e=0;e<lf.length;e++)D(lf[e],a);e=d;break;case \"source\":D(\"error\",a);e=d;break;case \"img\":case \"image\":case \"link\":D(\"error\",\na);D(\"load\",a);e=d;break;case \"details\":D(\"toggle\",a);e=d;break;case \"input\":Za(a,d);e=Ya(a,d);D(\"invalid\",a);break;case \"option\":e=d;break;case \"select\":a._wrapperState={wasMultiple:!!d.multiple};e=A({},d,{value:void 0});D(\"invalid\",a);break;case \"textarea\":hb(a,d);e=gb(a,d);D(\"invalid\",a);break;default:e=d}ub(c,e);h=e;for(f in h)if(h.hasOwnProperty(f)){var k=h[f];\"style\"===f?sb(a,k):\"dangerouslySetInnerHTML\"===f?(k=k?k.__html:void 0,null!=k&&nb(a,k)):\"children\"===f?\"string\"===typeof k?(\"textarea\"!==\nc||\"\"!==k)&&ob(a,k):\"number\"===typeof k&&ob(a,\"\"+k):\"suppressContentEditableWarning\"!==f&&\"suppressHydrationWarning\"!==f&&\"autoFocus\"!==f&&(ea.hasOwnProperty(f)?null!=k&&\"onScroll\"===f&&D(\"scroll\",a):null!=k&&ta(a,f,k,g))}switch(c){case \"input\":Va(a);db(a,d,!1);break;case \"textarea\":Va(a);jb(a);break;case \"option\":null!=d.value&&a.setAttribute(\"value\",\"\"+Sa(d.value));break;case \"select\":a.multiple=!!d.multiple;f=d.value;null!=f?fb(a,!!d.multiple,f,!1):null!=d.defaultValue&&fb(a,!!d.multiple,d.defaultValue,\n!0);break;default:\"function\"===typeof e.onClick&&(a.onclick=Bf)}switch(c){case \"button\":case \"input\":case \"select\":case \"textarea\":d=!!d.autoFocus;break a;case \"img\":d=!0;break a;default:d=!1}}d&&(b.flags|=4)}null!==b.ref&&(b.flags|=512,b.flags|=2097152)}S(b);return null;case 6:if(a&&null!=b.stateNode)Cj(a,b,a.memoizedProps,d);else{if(\"string\"!==typeof d&&null===b.stateNode)throw Error(p(166));c=xh(wh.current);xh(uh.current);if(Gg(b)){d=b.stateNode;c=b.memoizedProps;d[Of]=b;if(f=d.nodeValue!==c)if(a=\nxg,null!==a)switch(a.tag){case 3:Af(d.nodeValue,c,0!==(a.mode&1));break;case 5:!0!==a.memoizedProps.suppressHydrationWarning&&Af(d.nodeValue,c,0!==(a.mode&1))}f&&(b.flags|=4)}else d=(9===c.nodeType?c:c.ownerDocument).createTextNode(d),d[Of]=b,b.stateNode=d}S(b);return null;case 13:E(L);d=b.memoizedState;if(null===a||null!==a.memoizedState&&null!==a.memoizedState.dehydrated){if(I&&null!==yg&&0!==(b.mode&1)&&0===(b.flags&128))Hg(),Ig(),b.flags|=98560,f=!1;else if(f=Gg(b),null!==d&&null!==d.dehydrated){if(null===\na){if(!f)throw Error(p(318));f=b.memoizedState;f=null!==f?f.dehydrated:null;if(!f)throw Error(p(317));f[Of]=b}else Ig(),0===(b.flags&128)&&(b.memoizedState=null),b.flags|=4;S(b);f=!1}else null!==zg&&(Fj(zg),zg=null),f=!0;if(!f)return b.flags&65536?b:null}if(0!==(b.flags&128))return b.lanes=c,b;d=null!==d;d!==(null!==a&&null!==a.memoizedState)&&d&&(b.child.flags|=8192,0!==(b.mode&1)&&(null===a||0!==(L.current&1)?0===T&&(T=3):tj()));null!==b.updateQueue&&(b.flags|=4);S(b);return null;case 4:return zh(),\nAj(a,b),null===a&&sf(b.stateNode.containerInfo),S(b),null;case 10:return ah(b.type._context),S(b),null;case 17:return Zf(b.type)&&$f(),S(b),null;case 19:E(L);f=b.memoizedState;if(null===f)return S(b),null;d=0!==(b.flags&128);g=f.rendering;if(null===g)if(d)Dj(f,!1);else{if(0!==T||null!==a&&0!==(a.flags&128))for(a=b.child;null!==a;){g=Ch(a);if(null!==g){b.flags|=128;Dj(f,!1);d=g.updateQueue;null!==d&&(b.updateQueue=d,b.flags|=4);b.subtreeFlags=0;d=c;for(c=b.child;null!==c;)f=c,a=d,f.flags&=14680066,\ng=f.alternate,null===g?(f.childLanes=0,f.lanes=a,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,a=g.dependencies,f.dependencies=null===a?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;G(L,L.current&1|2);return b.child}a=\na.sibling}null!==f.tail&&B()>Gj&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304)}else{if(!d)if(a=Ch(g),null!==a){if(b.flags|=128,d=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.flags|=4),Dj(f,!0),null===f.tail&&\"hidden\"===f.tailMode&&!g.alternate&&!I)return S(b),null}else 2*B()-f.renderingStartTime>Gj&&1073741824!==c&&(b.flags|=128,d=!0,Dj(f,!1),b.lanes=4194304);f.isBackwards?(g.sibling=b.child,b.child=g):(c=f.last,null!==c?c.sibling=g:b.child=g,f.last=g)}if(null!==f.tail)return b=f.tail,f.rendering=\nb,f.tail=b.sibling,f.renderingStartTime=B(),b.sibling=null,c=L.current,G(L,d?c&1|2:c&1),b;S(b);return null;case 22:case 23:return Hj(),d=null!==b.memoizedState,null!==a&&null!==a.memoizedState!==d&&(b.flags|=8192),d&&0!==(b.mode&1)?0!==(fj&1073741824)&&(S(b),b.subtreeFlags&6&&(b.flags|=8192)):S(b),null;case 24:return null;case 25:return null}throw Error(p(156,b.tag));}\nfunction Ij(a,b){wg(b);switch(b.tag){case 1:return Zf(b.type)&&$f(),a=b.flags,a&65536?(b.flags=a&-65537|128,b):null;case 3:return zh(),E(Wf),E(H),Eh(),a=b.flags,0!==(a&65536)&&0===(a&128)?(b.flags=a&-65537|128,b):null;case 5:return Bh(b),null;case 13:E(L);a=b.memoizedState;if(null!==a&&null!==a.dehydrated){if(null===b.alternate)throw Error(p(340));Ig()}a=b.flags;return a&65536?(b.flags=a&-65537|128,b):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(b.type._context),null;case 22:case 23:return Hj(),\nnull;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=\"function\"===typeof WeakSet?WeakSet:Set,V=null;function Lj(a,b){var c=a.ref;if(null!==c)if(\"function\"===typeof c)try{c(null)}catch(d){W(a,b,d)}else c.current=null}function Mj(a,b,c){try{c()}catch(d){W(a,b,d)}}var Nj=!1;\nfunction Oj(a,b){Cf=dd;a=Me();if(Ne(a)){if(\"selectionStart\"in a)var c={start:a.selectionStart,end:a.selectionEnd};else a:{c=(c=a.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&0!==d.rangeCount){c=d.anchorNode;var e=d.anchorOffset,f=d.focusNode;d=d.focusOffset;try{c.nodeType,f.nodeType}catch(F){c=null;break a}var g=0,h=-1,k=-1,l=0,m=0,q=a,r=null;b:for(;;){for(var y;;){q!==c||0!==e&&3!==q.nodeType||(h=g+e);q!==f||0!==d&&3!==q.nodeType||(k=g+d);3===q.nodeType&&(g+=\nq.nodeValue.length);if(null===(y=q.firstChild))break;r=q;q=y}for(;;){if(q===a)break b;r===c&&++l===e&&(h=g);r===f&&++m===d&&(k=g);if(null!==(y=q.nextSibling))break;q=r;r=q.parentNode}q=y}c=-1===h||-1===k?null:{start:h,end:k}}else c=null}c=c||{start:0,end:0}}else c=null;Df={focusedElem:a,selectionRange:c};dd=!1;for(V=b;null!==V;)if(b=V,a=b.child,0!==(b.subtreeFlags&1028)&&null!==a)a.return=b,V=a;else for(;null!==V;){b=V;try{var n=b.alternate;if(0!==(b.flags&1024))switch(b.tag){case 0:case 11:case 15:break;\ncase 1:if(null!==n){var t=n.memoizedProps,J=n.memoizedState,x=b.stateNode,w=x.getSnapshotBeforeUpdate(b.elementType===b.type?t:Ci(b.type,t),J);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var u=b.stateNode.containerInfo;1===u.nodeType?u.textContent=\"\":9===u.nodeType&&u.documentElement&&u.removeChild(u.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163));}}catch(F){W(b,b.return,F)}a=b.sibling;if(null!==a){a.return=b.return;V=a;break}V=b.return}n=Nj;Nj=!1;return n}\nfunction Pj(a,b,c){var d=b.updateQueue;d=null!==d?d.lastEffect:null;if(null!==d){var e=d=d.next;do{if((e.tag&a)===a){var f=e.destroy;e.destroy=void 0;void 0!==f&&Mj(b,c,f)}e=e.next}while(e!==d)}}function Qj(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function Rj(a){var b=a.ref;if(null!==b){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}\"function\"===typeof b?b(a):b.current=a}}\nfunction Sj(a){var b=a.alternate;null!==b&&(a.alternate=null,Sj(b));a.child=null;a.deletions=null;a.sibling=null;5===a.tag&&(b=a.stateNode,null!==b&&(delete b[Of],delete b[Pf],delete b[of],delete b[Qf],delete b[Rf]));a.stateNode=null;a.return=null;a.dependencies=null;a.memoizedProps=null;a.memoizedState=null;a.pendingProps=null;a.stateNode=null;a.updateQueue=null}function Tj(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Uj(a){a:for(;;){for(;null===a.sibling;){if(null===a.return||Tj(a.return))return null;a=a.return}a.sibling.return=a.return;for(a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(a.flags&2)continue a;if(null===a.child||4===a.tag)continue a;else a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}\nfunction Vj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=Bf));else if(4!==d&&(a=a.child,null!==a))for(Vj(a,b,c),a=a.sibling;null!==a;)Vj(a,b,c),a=a.sibling}\nfunction Wj(a,b,c){var d=a.tag;if(5===d||6===d)a=a.stateNode,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(Wj(a,b,c),a=a.sibling;null!==a;)Wj(a,b,c),a=a.sibling}var X=null,Xj=!1;function Yj(a,b,c){for(c=c.child;null!==c;)Zj(a,b,c),c=c.sibling}\nfunction Zj(a,b,c){if(lc&&\"function\"===typeof lc.onCommitFiberUnmount)try{lc.onCommitFiberUnmount(kc,c)}catch(h){}switch(c.tag){case 5:U||Lj(c,b);case 6:var d=X,e=Xj;X=null;Yj(a,b,c);X=d;Xj=e;null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?a.parentNode.removeChild(c):a.removeChild(c)):X.removeChild(c.stateNode));break;case 18:null!==X&&(Xj?(a=X,c=c.stateNode,8===a.nodeType?Kf(a.parentNode,c):1===a.nodeType&&Kf(a,c),bd(a)):Kf(X,c.stateNode));break;case 4:d=X;e=Xj;X=c.stateNode.containerInfo;Xj=!0;\nYj(a,b,c);X=d;Xj=e;break;case 0:case 11:case 14:case 15:if(!U&&(d=c.updateQueue,null!==d&&(d=d.lastEffect,null!==d))){e=d=d.next;do{var f=e,g=f.destroy;f=f.tag;void 0!==g&&(0!==(f&2)?Mj(c,b,g):0!==(f&4)&&Mj(c,b,g));e=e.next}while(e!==d)}Yj(a,b,c);break;case 1:if(!U&&(Lj(c,b),d=c.stateNode,\"function\"===typeof d.componentWillUnmount))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(h){W(c,b,h)}Yj(a,b,c);break;case 21:Yj(a,b,c);break;case 22:c.mode&1?(U=(d=U)||null!==\nc.memoizedState,Yj(a,b,c),U=d):Yj(a,b,c);break;default:Yj(a,b,c)}}function ak(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Kj);b.forEach(function(b){var d=bk.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}\nfunction ck(a,b){var c=b.deletions;if(null!==c)for(var d=0;d<c.length;d++){var e=c[d];try{var f=a,g=b,h=g;a:for(;null!==h;){switch(h.tag){case 5:X=h.stateNode;Xj=!1;break a;case 3:X=h.stateNode.containerInfo;Xj=!0;break a;case 4:X=h.stateNode.containerInfo;Xj=!0;break a}h=h.return}if(null===X)throw Error(p(160));Zj(f,g,e);X=null;Xj=!1;var k=e.alternate;null!==k&&(k.return=null);e.return=null}catch(l){W(e,b,l)}}if(b.subtreeFlags&12854)for(b=b.child;null!==b;)dk(b,a),b=b.sibling}\nfunction dk(a,b){var c=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ck(b,a);ek(a);if(d&4){try{Pj(3,a,a.return),Qj(3,a)}catch(t){W(a,a.return,t)}try{Pj(5,a,a.return)}catch(t){W(a,a.return,t)}}break;case 1:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);break;case 5:ck(b,a);ek(a);d&512&&null!==c&&Lj(c,c.return);if(a.flags&32){var e=a.stateNode;try{ob(e,\"\")}catch(t){W(a,a.return,t)}}if(d&4&&(e=a.stateNode,null!=e)){var f=a.memoizedProps,g=null!==c?c.memoizedProps:f,h=a.type,k=a.updateQueue;\na.updateQueue=null;if(null!==k)try{\"input\"===h&&\"radio\"===f.type&&null!=f.name&&ab(e,f);vb(h,g);var l=vb(h,f);for(g=0;g<k.length;g+=2){var m=k[g],q=k[g+1];\"style\"===m?sb(e,q):\"dangerouslySetInnerHTML\"===m?nb(e,q):\"children\"===m?ob(e,q):ta(e,m,q,l)}switch(h){case \"input\":bb(e,f);break;case \"textarea\":ib(e,f);break;case \"select\":var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!f.multiple;var y=f.value;null!=y?fb(e,!!f.multiple,y,!1):r!==!!f.multiple&&(null!=f.defaultValue?fb(e,!!f.multiple,\nf.defaultValue,!0):fb(e,!!f.multiple,f.multiple?[]:\"\",!1))}e[Pf]=f}catch(t){W(a,a.return,t)}}break;case 6:ck(b,a);ek(a);if(d&4){if(null===a.stateNode)throw Error(p(162));e=a.stateNode;f=a.memoizedProps;try{e.nodeValue=f}catch(t){W(a,a.return,t)}}break;case 3:ck(b,a);ek(a);if(d&4&&null!==c&&c.memoizedState.isDehydrated)try{bd(b.containerInfo)}catch(t){W(a,a.return,t)}break;case 4:ck(b,a);ek(a);break;case 13:ck(b,a);ek(a);e=a.child;e.flags&8192&&(f=null!==e.memoizedState,e.stateNode.isHidden=f,!f||\nnull!==e.alternate&&null!==e.alternate.memoizedState||(fk=B()));d&4&&ak(a);break;case 22:m=null!==c&&null!==c.memoizedState;a.mode&1?(U=(l=U)||m,ck(b,a),U=l):ck(b,a);ek(a);if(d&8192){l=null!==a.memoizedState;if((a.stateNode.isHidden=l)&&!m&&0!==(a.mode&1))for(V=a,m=a.child;null!==m;){for(q=V=m;null!==V;){r=V;y=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Pj(4,r,r.return);break;case 1:Lj(r,r.return);var n=r.stateNode;if(\"function\"===typeof n.componentWillUnmount){d=r;c=r.return;try{b=d,n.props=\nb.memoizedProps,n.state=b.memoizedState,n.componentWillUnmount()}catch(t){W(d,c,t)}}break;case 5:Lj(r,r.return);break;case 22:if(null!==r.memoizedState){gk(q);continue}}null!==y?(y.return=r,V=y):gk(q)}m=m.sibling}a:for(m=null,q=a;;){if(5===q.tag){if(null===m){m=q;try{e=q.stateNode,l?(f=e.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(h=q.stateNode,k=q.memoizedProps.style,g=void 0!==k&&null!==k&&k.hasOwnProperty(\"display\")?k.display:null,h.style.display=\nrb(\"display\",g))}catch(t){W(a,a.return,t)}}}else if(6===q.tag){if(null===m)try{q.stateNode.nodeValue=l?\"\":q.memoizedProps}catch(t){W(a,a.return,t)}}else if((22!==q.tag&&23!==q.tag||null===q.memoizedState||q===a)&&null!==q.child){q.child.return=q;q=q.child;continue}if(q===a)break a;for(;null===q.sibling;){if(null===q.return||q.return===a)break a;m===q&&(m=null);q=q.return}m===q&&(m=null);q.sibling.return=q.return;q=q.sibling}}break;case 19:ck(b,a);ek(a);d&4&&ak(a);break;case 21:break;default:ck(b,\na),ek(a)}}function ek(a){var b=a.flags;if(b&2){try{a:{for(var c=a.return;null!==c;){if(Tj(c)){var d=c;break a}c=c.return}throw Error(p(160));}switch(d.tag){case 5:var e=d.stateNode;d.flags&32&&(ob(e,\"\"),d.flags&=-33);var f=Uj(a);Wj(a,f,e);break;case 3:case 4:var g=d.stateNode.containerInfo,h=Uj(a);Vj(a,h,g);break;default:throw Error(p(161));}}catch(k){W(a,a.return,k)}a.flags&=-3}b&4096&&(a.flags&=-4097)}function hk(a,b,c){V=a;ik(a,b,c)}\nfunction ik(a,b,c){for(var d=0!==(a.mode&1);null!==V;){var e=V,f=e.child;if(22===e.tag&&d){var g=null!==e.memoizedState||Jj;if(!g){var h=e.alternate,k=null!==h&&null!==h.memoizedState||U;h=Jj;var l=U;Jj=g;if((U=k)&&!l)for(V=e;null!==V;)g=V,k=g.child,22===g.tag&&null!==g.memoizedState?jk(e):null!==k?(k.return=g,V=k):jk(e);for(;null!==f;)V=f,ik(f,b,c),f=f.sibling;V=e;Jj=h;U=l}kk(a,b,c)}else 0!==(e.subtreeFlags&8772)&&null!==f?(f.return=e,V=f):kk(a,b,c)}}\nfunction kk(a){for(;null!==V;){var b=V;if(0!==(b.flags&8772)){var c=b.alternate;try{if(0!==(b.flags&8772))switch(b.tag){case 0:case 11:case 15:U||Qj(5,b);break;case 1:var d=b.stateNode;if(b.flags&4&&!U)if(null===c)d.componentDidMount();else{var e=b.elementType===b.type?c.memoizedProps:Ci(b.type,c.memoizedProps);d.componentDidUpdate(e,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var f=b.updateQueue;null!==f&&sh(b,f,d);break;case 3:var g=b.updateQueue;if(null!==g){c=null;if(null!==b.child)switch(b.child.tag){case 5:c=\nb.child.stateNode;break;case 1:c=b.child.stateNode}sh(b,g,c)}break;case 5:var h=b.stateNode;if(null===c&&b.flags&4){c=h;var k=b.memoizedProps;switch(b.type){case \"button\":case \"input\":case \"select\":case \"textarea\":k.autoFocus&&c.focus();break;case \"img\":k.src&&(c.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(null===b.memoizedState){var l=b.alternate;if(null!==l){var m=l.memoizedState;if(null!==m){var q=m.dehydrated;null!==q&&bd(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;\ndefault:throw Error(p(163));}U||b.flags&512&&Rj(b)}catch(r){W(b,b.return,r)}}if(b===a){V=null;break}c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}function gk(a){for(;null!==V;){var b=V;if(b===a){V=null;break}var c=b.sibling;if(null!==c){c.return=b.return;V=c;break}V=b.return}}\nfunction jk(a){for(;null!==V;){var b=V;try{switch(b.tag){case 0:case 11:case 15:var c=b.return;try{Qj(4,b)}catch(k){W(b,c,k)}break;case 1:var d=b.stateNode;if(\"function\"===typeof d.componentDidMount){var e=b.return;try{d.componentDidMount()}catch(k){W(b,e,k)}}var f=b.return;try{Rj(b)}catch(k){W(b,f,k)}break;case 5:var g=b.return;try{Rj(b)}catch(k){W(b,g,k)}}}catch(k){W(b,b.return,k)}if(b===a){V=null;break}var h=b.sibling;if(null!==h){h.return=b.return;V=h;break}V=b.return}}\nvar lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=Infinity,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return 0!==(K&6)?B():-1!==Ak?Ak:Ak=B()}\nfunction yi(a){if(0===(a.mode&1))return 1;if(0!==(K&2)&&0!==Z)return Z&-Z;if(null!==Kg.transition)return 0===Bk&&(Bk=yc()),Bk;a=C;if(0!==a)return a;a=window.event;a=void 0===a?16:jd(a.type);return a}function gi(a,b,c,d){if(50<yk)throw yk=0,zk=null,Error(p(185));Ac(a,c,d);if(0===(K&2)||a!==Q)a===Q&&(0===(K&2)&&(qk|=c),4===T&&Ck(a,Z)),Dk(a,d),1===c&&0===K&&0===(b.mode&1)&&(Gj=B()+500,fg&&jg())}\nfunction Dk(a,b){var c=a.callbackNode;wc(a,b);var d=uc(a,a===Q?Z:0);if(0===d)null!==c&&bc(c),a.callbackNode=null,a.callbackPriority=0;else if(b=d&-d,a.callbackPriority!==b){null!=c&&bc(c);if(1===b)0===a.tag?ig(Ek.bind(null,a)):hg(Ek.bind(null,a)),Jf(function(){0===(K&6)&&jg()}),c=null;else{switch(Dc(d)){case 1:c=fc;break;case 4:c=gc;break;case 16:c=hc;break;case 536870912:c=jc;break;default:c=hc}c=Fk(c,Gk.bind(null,a))}a.callbackPriority=b;a.callbackNode=c}}\nfunction Gk(a,b){Ak=-1;Bk=0;if(0!==(K&6))throw Error(p(327));var c=a.callbackNode;if(Hk()&&a.callbackNode!==c)return null;var d=uc(a,a===Q?Z:0);if(0===d)return null;if(0!==(d&30)||0!==(d&a.expiredLanes)||b)b=Ik(a,d);else{b=d;var e=K;K|=2;var f=Jk();if(Q!==a||Z!==b)uk=null,Gj=B()+500,Kk(a,b);do try{Lk();break}catch(h){Mk(a,h)}while(1);$g();mk.current=f;K=e;null!==Y?b=0:(Q=null,Z=0,b=T)}if(0!==b){2===b&&(e=xc(a),0!==e&&(d=e,b=Nk(a,e)));if(1===b)throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;if(6===b)Ck(a,d);\nelse{e=a.current.alternate;if(0===(d&30)&&!Ok(e)&&(b=Ik(a,d),2===b&&(f=xc(a),0!==f&&(d=f,b=Nk(a,f))),1===b))throw c=pk,Kk(a,0),Ck(a,d),Dk(a,B()),c;a.finishedWork=e;a.finishedLanes=d;switch(b){case 0:case 1:throw Error(p(345));case 2:Pk(a,tk,uk);break;case 3:Ck(a,d);if((d&130023424)===d&&(b=fk+500-B(),10<b)){if(0!==uc(a,0))break;e=a.suspendedLanes;if((e&d)!==d){R();a.pingedLanes|=a.suspendedLanes&e;break}a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),b);break}Pk(a,tk,uk);break;case 4:Ck(a,d);if((d&4194240)===\nd)break;b=a.eventTimes;for(e=-1;0<d;){var g=31-oc(d);f=1<<g;g=b[g];g>e&&(e=g);d&=~f}d=e;d=B()-d;d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*lk(d/1960))-d;if(10<d){a.timeoutHandle=Ff(Pk.bind(null,a,tk,uk),d);break}Pk(a,tk,uk);break;case 5:Pk(a,tk,uk);break;default:throw Error(p(329));}}}Dk(a,B());return a.callbackNode===c?Gk.bind(null,a):null}\nfunction Nk(a,b){var c=sk;a.current.memoizedState.isDehydrated&&(Kk(a,b).flags|=256);a=Ik(a,b);2!==a&&(b=tk,tk=c,null!==b&&Fj(b));return a}function Fj(a){null===tk?tk=a:tk.push.apply(tk,a)}\nfunction Ok(a){for(var b=a;;){if(b.flags&16384){var c=b.updateQueue;if(null!==c&&(c=c.stores,null!==c))for(var d=0;d<c.length;d++){var e=c[d],f=e.getSnapshot;e=e.value;try{if(!He(f(),e))return!1}catch(g){return!1}}}c=b.child;if(b.subtreeFlags&16384&&null!==c)c.return=b,b=c;else{if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return!0;b=b.return}b.sibling.return=b.return;b=b.sibling}}return!0}\nfunction Ck(a,b){b&=~rk;b&=~qk;a.suspendedLanes|=b;a.pingedLanes&=~b;for(a=a.expirationTimes;0<b;){var c=31-oc(b),d=1<<c;a[c]=-1;b&=~d}}function Ek(a){if(0!==(K&6))throw Error(p(327));Hk();var b=uc(a,0);if(0===(b&1))return Dk(a,B()),null;var c=Ik(a,b);if(0!==a.tag&&2===c){var d=xc(a);0!==d&&(b=d,c=Nk(a,d))}if(1===c)throw c=pk,Kk(a,0),Ck(a,b),Dk(a,B()),c;if(6===c)throw Error(p(345));a.finishedWork=a.current.alternate;a.finishedLanes=b;Pk(a,tk,uk);Dk(a,B());return null}\nfunction Qk(a,b){var c=K;K|=1;try{return a(b)}finally{K=c,0===K&&(Gj=B()+500,fg&&jg())}}function Rk(a){null!==wk&&0===wk.tag&&0===(K&6)&&Hk();var b=K;K|=1;var c=ok.transition,d=C;try{if(ok.transition=null,C=1,a)return a()}finally{C=d,ok.transition=c,K=b,0===(K&6)&&jg()}}function Hj(){fj=ej.current;E(ej)}\nfunction Kk(a,b){a.finishedWork=null;a.finishedLanes=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,Gf(c));if(null!==Y)for(c=Y.return;null!==c;){var d=c;wg(d);switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&$f();break;case 3:zh();E(Wf);E(H);Eh();break;case 5:Bh(d);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(d.type._context);break;case 22:case 23:Hj()}c=c.return}Q=a;Y=a=Pg(a.current,null);Z=fj=b;T=0;pk=null;rk=qk=rh=0;tk=sk=null;if(null!==fh){for(b=\n0;b<fh.length;b++)if(c=fh[b],d=c.interleaved,null!==d){c.interleaved=null;var e=d.next,f=c.pending;if(null!==f){var g=f.next;f.next=e;d.next=g}c.pending=d}fh=null}return a}\nfunction Mk(a,b){do{var c=Y;try{$g();Fh.current=Rh;if(Ih){for(var d=M.memoizedState;null!==d;){var e=d.queue;null!==e&&(e.pending=null);d=d.next}Ih=!1}Hh=0;O=N=M=null;Jh=!1;Kh=0;nk.current=null;if(null===c||null===c.return){T=1;pk=b;Y=null;break}a:{var f=a,g=c.return,h=c,k=b;b=Z;h.flags|=32768;if(null!==k&&\"object\"===typeof k&&\"function\"===typeof k.then){var l=k,m=h,q=m.tag;if(0===(m.mode&1)&&(0===q||11===q||15===q)){var r=m.alternate;r?(m.updateQueue=r.updateQueue,m.memoizedState=r.memoizedState,\nm.lanes=r.lanes):(m.updateQueue=null,m.memoizedState=null)}var y=Ui(g);if(null!==y){y.flags&=-257;Vi(y,g,h,f,b);y.mode&1&&Si(f,l,b);b=y;k=l;var n=b.updateQueue;if(null===n){var t=new Set;t.add(k);b.updateQueue=t}else n.add(k);break a}else{if(0===(b&1)){Si(f,l,b);tj();break a}k=Error(p(426))}}else if(I&&h.mode&1){var J=Ui(g);if(null!==J){0===(J.flags&65536)&&(J.flags|=256);Vi(J,g,h,f,b);Jg(Ji(k,h));break a}}f=k=Ji(k,h);4!==T&&(T=2);null===sk?sk=[f]:sk.push(f);f=g;do{switch(f.tag){case 3:f.flags|=65536;\nb&=-b;f.lanes|=b;var x=Ni(f,k,b);ph(f,x);break a;case 1:h=k;var w=f.type,u=f.stateNode;if(0===(f.flags&128)&&(\"function\"===typeof w.getDerivedStateFromError||null!==u&&\"function\"===typeof u.componentDidCatch&&(null===Ri||!Ri.has(u)))){f.flags|=65536;b&=-b;f.lanes|=b;var F=Qi(f,h,b);ph(f,F);break a}}f=f.return}while(null!==f)}Sk(c)}catch(na){b=na;Y===c&&null!==c&&(Y=c=c.return);continue}break}while(1)}function Jk(){var a=mk.current;mk.current=Rh;return null===a?Rh:a}\nfunction tj(){if(0===T||3===T||2===T)T=4;null===Q||0===(rh&268435455)&&0===(qk&268435455)||Ck(Q,Z)}function Ik(a,b){var c=K;K|=2;var d=Jk();if(Q!==a||Z!==b)uk=null,Kk(a,b);do try{Tk();break}catch(e){Mk(a,e)}while(1);$g();K=c;mk.current=d;if(null!==Y)throw Error(p(261));Q=null;Z=0;return T}function Tk(){for(;null!==Y;)Uk(Y)}function Lk(){for(;null!==Y&&!cc();)Uk(Y)}function Uk(a){var b=Vk(a.alternate,a,fj);a.memoizedProps=a.pendingProps;null===b?Sk(a):Y=b;nk.current=null}\nfunction Sk(a){var b=a;do{var c=b.alternate;a=b.return;if(0===(b.flags&32768)){if(c=Ej(c,b,fj),null!==c){Y=c;return}}else{c=Ij(c,b);if(null!==c){c.flags&=32767;Y=c;return}if(null!==a)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{T=6;Y=null;return}}b=b.sibling;if(null!==b){Y=b;return}Y=b=a}while(null!==b);0===T&&(T=5)}function Pk(a,b,c){var d=C,e=ok.transition;try{ok.transition=null,C=1,Wk(a,b,c,d)}finally{ok.transition=e,C=d}return null}\nfunction Wk(a,b,c,d){do Hk();while(null!==wk);if(0!==(K&6))throw Error(p(327));c=a.finishedWork;var e=a.finishedLanes;if(null===c)return null;a.finishedWork=null;a.finishedLanes=0;if(c===a.current)throw Error(p(177));a.callbackNode=null;a.callbackPriority=0;var f=c.lanes|c.childLanes;Bc(a,f);a===Q&&(Y=Q=null,Z=0);0===(c.subtreeFlags&2064)&&0===(c.flags&2064)||vk||(vk=!0,Fk(hc,function(){Hk();return null}));f=0!==(c.flags&15990);if(0!==(c.subtreeFlags&15990)||f){f=ok.transition;ok.transition=null;\nvar g=C;C=1;var h=K;K|=4;nk.current=null;Oj(a,c);dk(c,a);Oe(Df);dd=!!Cf;Df=Cf=null;a.current=c;hk(c,a,e);dc();K=h;C=g;ok.transition=f}else a.current=c;vk&&(vk=!1,wk=a,xk=e);f=a.pendingLanes;0===f&&(Ri=null);mc(c.stateNode,d);Dk(a,B());if(null!==b)for(d=a.onRecoverableError,c=0;c<b.length;c++)e=b[c],d(e.value,{componentStack:e.stack,digest:e.digest});if(Oi)throw Oi=!1,a=Pi,Pi=null,a;0!==(xk&1)&&0!==a.tag&&Hk();f=a.pendingLanes;0!==(f&1)?a===zk?yk++:(yk=0,zk=a):yk=0;jg();return null}\nfunction Hk(){if(null!==wk){var a=Dc(xk),b=ok.transition,c=C;try{ok.transition=null;C=16>a?16:a;if(null===wk)var d=!1;else{a=wk;wk=null;xk=0;if(0!==(K&6))throw Error(p(331));var e=K;K|=4;for(V=a.current;null!==V;){var f=V,g=f.child;if(0!==(V.flags&16)){var h=f.deletions;if(null!==h){for(var k=0;k<h.length;k++){var l=h[k];for(V=l;null!==V;){var m=V;switch(m.tag){case 0:case 11:case 15:Pj(8,m,f)}var q=m.child;if(null!==q)q.return=m,V=q;else for(;null!==V;){m=V;var r=m.sibling,y=m.return;Sj(m);if(m===\nl){V=null;break}if(null!==r){r.return=y;V=r;break}V=y}}}var n=f.alternate;if(null!==n){var t=n.child;if(null!==t){n.child=null;do{var J=t.sibling;t.sibling=null;t=J}while(null!==t)}}V=f}}if(0!==(f.subtreeFlags&2064)&&null!==g)g.return=f,V=g;else b:for(;null!==V;){f=V;if(0!==(f.flags&2048))switch(f.tag){case 0:case 11:case 15:Pj(9,f,f.return)}var x=f.sibling;if(null!==x){x.return=f.return;V=x;break b}V=f.return}}var w=a.current;for(V=w;null!==V;){g=V;var u=g.child;if(0!==(g.subtreeFlags&2064)&&null!==\nu)u.return=g,V=u;else b:for(g=w;null!==V;){h=V;if(0!==(h.flags&2048))try{switch(h.tag){case 0:case 11:case 15:Qj(9,h)}}catch(na){W(h,h.return,na)}if(h===g){V=null;break b}var F=h.sibling;if(null!==F){F.return=h.return;V=F;break b}V=h.return}}K=e;jg();if(lc&&\"function\"===typeof lc.onPostCommitFiberRoot)try{lc.onPostCommitFiberRoot(kc,a)}catch(na){}d=!0}return d}finally{C=c,ok.transition=b}}return!1}function Xk(a,b,c){b=Ji(c,b);b=Ni(a,b,1);a=nh(a,b,1);b=R();null!==a&&(Ac(a,1,b),Dk(a,b))}\nfunction W(a,b,c){if(3===a.tag)Xk(a,a,c);else for(;null!==b;){if(3===b.tag){Xk(b,a,c);break}else if(1===b.tag){var d=b.stateNode;if(\"function\"===typeof b.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Ri||!Ri.has(d))){a=Ji(c,a);a=Qi(b,a,1);b=nh(b,a,1);a=R();null!==b&&(Ac(b,1,a),Dk(b,a));break}}b=b.return}}\nfunction Ti(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);b=R();a.pingedLanes|=a.suspendedLanes&c;Q===a&&(Z&c)===c&&(4===T||3===T&&(Z&130023424)===Z&&500>B()-fk?Kk(a,0):rk|=c);Dk(a,b)}function Yk(a,b){0===b&&(0===(a.mode&1)?b=1:(b=sc,sc<<=1,0===(sc&130023424)&&(sc=4194304)));var c=R();a=ih(a,b);null!==a&&(Ac(a,b,c),Dk(a,c))}function uj(a){var b=a.memoizedState,c=0;null!==b&&(c=b.retryLane);Yk(a,c)}\nfunction bk(a,b){var c=0;switch(a.tag){case 13:var d=a.stateNode;var e=a.memoizedState;null!==e&&(c=e.retryLane);break;case 19:d=a.stateNode;break;default:throw Error(p(314));}null!==d&&d.delete(b);Yk(a,c)}var Vk;\nVk=function(a,b,c){if(null!==a)if(a.memoizedProps!==b.pendingProps||Wf.current)dh=!0;else{if(0===(a.lanes&c)&&0===(b.flags&128))return dh=!1,yj(a,b,c);dh=0!==(a.flags&131072)?!0:!1}else dh=!1,I&&0!==(b.flags&1048576)&&ug(b,ng,b.index);b.lanes=0;switch(b.tag){case 2:var d=b.type;ij(a,b);a=b.pendingProps;var e=Yf(b,H.current);ch(b,c);e=Nh(null,b,d,a,e,c);var f=Sh();b.flags|=1;\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof?(b.tag=1,b.memoizedState=null,b.updateQueue=\nnull,Zf(d)?(f=!0,cg(b)):f=!1,b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,kh(b),e.updater=Ei,b.stateNode=e,e._reactInternals=b,Ii(b,d,a,c),b=jj(null,b,d,!0,f,c)):(b.tag=0,I&&f&&vg(b),Xi(null,b,e,c),b=b.child);return b;case 16:d=b.elementType;a:{ij(a,b);a=b.pendingProps;e=d._init;d=e(d._payload);b.type=d;e=b.tag=Zk(d);a=Ci(d,a);switch(e){case 0:b=cj(null,b,d,a,c);break a;case 1:b=hj(null,b,d,a,c);break a;case 11:b=Yi(null,b,d,a,c);break a;case 14:b=$i(null,b,d,Ci(d.type,a),c);break a}throw Error(p(306,\nd,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),cj(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),hj(a,b,d,e,c);case 3:a:{kj(b);if(null===a)throw Error(p(387));d=b.pendingProps;f=b.memoizedState;e=f.element;lh(a,b);qh(b,d,null,c);var g=b.memoizedState;d=g.element;if(f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},b.updateQueue.baseState=\nf,b.memoizedState=f,b.flags&256){e=Ji(Error(p(423)),b);b=lj(a,b,d,c,e);break a}else if(d!==e){e=Ji(Error(p(424)),b);b=lj(a,b,d,c,e);break a}else for(yg=Lf(b.stateNode.containerInfo.firstChild),xg=b,I=!0,zg=null,c=Vg(b,null,d,c),b.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{Ig();if(d===e){b=Zi(a,b,c);break a}Xi(a,b,d,c)}b=b.child}return b;case 5:return Ah(b),null===a&&Eg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ef(d,e)?g=null:null!==f&&Ef(d,f)&&(b.flags|=32),\ngj(a,b),Xi(a,b,g,c),b.child;case 6:return null===a&&Eg(b),null;case 13:return oj(a,b,c);case 4:return yh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=Ug(b,null,d,c):Xi(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),Yi(a,b,d,e,c);case 7:return Xi(a,b,b.pendingProps,c),b.child;case 8:return Xi(a,b,b.pendingProps.children,c),b.child;case 12:return Xi(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;f=b.memoizedProps;\ng=e.value;G(Wg,d._currentValue);d._currentValue=g;if(null!==f)if(He(f.value,g)){if(f.children===e.children&&!Wf.current){b=Zi(a,b,c);break a}}else for(f=b.child,null!==f&&(f.return=b);null!==f;){var h=f.dependencies;if(null!==h){g=f.child;for(var k=h.firstContext;null!==k;){if(k.context===d){if(1===f.tag){k=mh(-1,c&-c);k.tag=2;var l=f.updateQueue;if(null!==l){l=l.shared;var m=l.pending;null===m?k.next=k:(k.next=m.next,m.next=k);l.pending=k}}f.lanes|=c;k=f.alternate;null!==k&&(k.lanes|=c);bh(f.return,\nc,b);h.lanes|=c;break}k=k.next}}else if(10===f.tag)g=f.type===b.type?null:f.child;else if(18===f.tag){g=f.return;if(null===g)throw Error(p(341));g.lanes|=c;h=g.alternate;null!==h&&(h.lanes|=c);bh(g,c,b);g=f.sibling}else g=f.child;if(null!==g)g.return=f;else for(g=f;null!==g;){if(g===b){g=null;break}f=g.sibling;if(null!==f){f.return=g.return;g=f;break}g=g.return}f=g}Xi(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,d=b.pendingProps.children,ch(b,c),e=eh(e),d=d(e),b.flags|=1,Xi(a,b,d,c),\nb.child;case 14:return d=b.type,e=Ci(d,b.pendingProps),e=Ci(d.type,e),$i(a,b,d,e,c);case 15:return bj(a,b,b.type,b.pendingProps,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Ci(d,e),ij(a,b),b.tag=1,Zf(d)?(a=!0,cg(b)):a=!1,ch(b,c),Gi(b,d,e),Ii(b,d,e,c),jj(null,b,d,!0,a,c);case 19:return xj(a,b,c);case 22:return dj(a,b,c)}throw Error(p(156,b.tag));};function Fk(a,b){return ac(a,b)}\nfunction $k(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.subtreeFlags=this.flags=0;this.deletions=null;this.childLanes=this.lanes=0;this.alternate=null}function Bg(a,b,c,d){return new $k(a,b,c,d)}function aj(a){a=a.prototype;return!(!a||!a.isReactComponent)}\nfunction Zk(a){if(\"function\"===typeof a)return aj(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Da)return 11;if(a===Ga)return 14}return 2}\nfunction Pg(a,b){var c=a.alternate;null===c?(c=Bg(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null);c.flags=a.flags&14680064;c.childLanes=a.childLanes;c.lanes=a.lanes;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{lanes:b.lanes,firstContext:b.firstContext};\nc.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction Rg(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)aj(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ya:return Tg(c.children,e,f,b);case za:g=8;e|=8;break;case Aa:return a=Bg(12,c,b,e|2),a.elementType=Aa,a.lanes=f,a;case Ea:return a=Bg(13,c,b,e),a.elementType=Ea,a.lanes=f,a;case Fa:return a=Bg(19,c,b,e),a.elementType=Fa,a.lanes=f,a;case Ia:return pj(c,e,f,b);default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case Ba:g=10;break a;case Ca:g=9;break a;case Da:g=11;\nbreak a;case Ga:g=14;break a;case Ha:g=16;d=null;break a}throw Error(p(130,null==a?a:typeof a,\"\"));}b=Bg(g,c,b,e);b.elementType=a;b.type=d;b.lanes=f;return b}function Tg(a,b,c,d){a=Bg(7,a,d,b);a.lanes=c;return a}function pj(a,b,c,d){a=Bg(22,a,d,b);a.elementType=Ia;a.lanes=c;a.stateNode={isHidden:!1};return a}function Qg(a,b,c){a=Bg(6,a,null,b);a.lanes=c;return a}\nfunction Sg(a,b,c){b=Bg(4,null!==a.children?a.children:[],a.key,b);b.lanes=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction al(a,b,c,d,e){this.tag=b;this.containerInfo=a;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.callbackNode=this.pendingContext=this.context=null;this.callbackPriority=0;this.eventTimes=zc(0);this.expirationTimes=zc(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=zc(0);this.identifierPrefix=d;this.onRecoverableError=e;this.mutableSourceEagerHydrationData=\nnull}function bl(a,b,c,d,e,f,g,h,k){a=new al(a,b,c,h,k);1===b?(b=1,!0===f&&(b|=8)):b=0;f=Bg(3,null,null,b);a.current=f;f.stateNode=a;f.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null};kh(f);return a}function cl(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:wa,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nfunction dl(a){if(!a)return Vf;a=a._reactInternals;a:{if(Vb(a)!==a||1!==a.tag)throw Error(p(170));var b=a;do{switch(b.tag){case 3:b=b.stateNode.context;break a;case 1:if(Zf(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b=b.return}while(null!==b);throw Error(p(171));}if(1===a.tag){var c=a.type;if(Zf(c))return bg(a,c,b)}return b}\nfunction el(a,b,c,d,e,f,g,h,k){a=bl(c,d,!0,a,e,f,g,h,k);a.context=dl(null);c=a.current;d=R();e=yi(c);f=mh(d,e);f.callback=void 0!==b&&null!==b?b:null;nh(c,f,e);a.current.lanes=e;Ac(a,e,d);Dk(a,d);return a}function fl(a,b,c,d){var e=b.current,f=R(),g=yi(e);c=dl(c);null===b.context?b.context=c:b.pendingContext=c;b=mh(f,g);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);a=nh(e,b,g);null!==a&&(gi(a,e,g,f),oh(a,e,g));return g}\nfunction gl(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function hl(a,b){a=a.memoizedState;if(null!==a&&null!==a.dehydrated){var c=a.retryLane;a.retryLane=0!==c&&c<b?c:b}}function il(a,b){hl(a,b);(a=a.alternate)&&hl(a,b)}function jl(){return null}var kl=\"function\"===typeof reportError?reportError:function(a){console.error(a)};function ll(a){this._internalRoot=a}\nml.prototype.render=ll.prototype.render=function(a){var b=this._internalRoot;if(null===b)throw Error(p(409));fl(a,b,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var a=this._internalRoot;if(null!==a){this._internalRoot=null;var b=a.containerInfo;Rk(function(){fl(null,a,null,null)});b[uf]=null}};function ml(a){this._internalRoot=a}\nml.prototype.unstable_scheduleHydration=function(a){if(a){var b=Hc();a={blockedOn:null,target:a,priority:b};for(var c=0;c<Qc.length&&0!==b&&b<Qc[c].priority;c++);Qc.splice(c,0,a);0===c&&Vc(a)}};function nl(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType)}function ol(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function pl(){}\nfunction ql(a,b,c,d,e){if(e){if(\"function\"===typeof d){var f=d;d=function(){var a=gl(g);f.call(a)}}var g=el(b,d,a,0,null,!1,!1,\"\",pl);a._reactRootContainer=g;a[uf]=g.current;sf(8===a.nodeType?a.parentNode:a);Rk();return g}for(;e=a.lastChild;)a.removeChild(e);if(\"function\"===typeof d){var h=d;d=function(){var a=gl(k);h.call(a)}}var k=bl(a,0,!1,null,null,!1,!1,\"\",pl);a._reactRootContainer=k;a[uf]=k.current;sf(8===a.nodeType?a.parentNode:a);Rk(function(){fl(b,k,c,d)});return k}\nfunction rl(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f;if(\"function\"===typeof e){var h=e;e=function(){var a=gl(g);h.call(a)}}fl(b,g,a,e)}else g=ql(c,b,a,e,d);return gl(g)}Ec=function(a){switch(a.tag){case 3:var b=a.stateNode;if(b.current.memoizedState.isDehydrated){var c=tc(b.pendingLanes);0!==c&&(Cc(b,c|1),Dk(b,B()),0===(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var b=ih(a,1);if(null!==b){var c=R();gi(b,a,1,c)}}),il(a,1)}};\nFc=function(a){if(13===a.tag){var b=ih(a,134217728);if(null!==b){var c=R();gi(b,a,134217728,c)}il(a,134217728)}};Gc=function(a){if(13===a.tag){var b=yi(a),c=ih(a,b);if(null!==c){var d=R();gi(c,a,b,d)}il(a,b)}};Hc=function(){return C};Ic=function(a,b){var c=C;try{return C=a,b()}finally{C=c}};\nyb=function(a,b,c){switch(b){case \"input\":bb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Db(d);if(!e)throw Error(p(90));Wa(d);bb(d,e)}}}break;case \"textarea\":ib(a,c);break;case \"select\":b=c.value,null!=b&&fb(a,!!c.multiple,b,!1)}};Gb=Qk;Hb=Rk;\nvar sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:\"18.3.1\",rendererPackageName:\"react-dom\"};\nvar ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=Zb(a);return null===a?null:a.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||\njl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:\"18.3.1-next-f1338f8080-20240426\"};if(\"undefined\"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch(a){}}exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;\nexports.createPortal=function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(b))throw Error(p(200));return cl(a,b,null,c)};exports.createRoot=function(a,b){if(!nl(a))throw Error(p(299));var c=!1,d=\"\",e=kl;null!==b&&void 0!==b&&(!0===b.unstable_strictMode&&(c=!0),void 0!==b.identifierPrefix&&(d=b.identifierPrefix),void 0!==b.onRecoverableError&&(e=b.onRecoverableError));b=bl(a,1,!1,null,null,c,!1,d,e);a[uf]=b.current;sf(8===a.nodeType?a.parentNode:a);return new ll(b)};\nexports.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternals;if(void 0===b){if(\"function\"===typeof a.render)throw Error(p(188));a=Object.keys(a).join(\",\");throw Error(p(268,a));}a=Zb(b);a=null===a?null:a.stateNode;return a};exports.flushSync=function(a){return Rk(a)};exports.hydrate=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!0,c)};\nexports.hydrateRoot=function(a,b,c){if(!nl(a))throw Error(p(405));var d=null!=c&&c.hydratedSources||null,e=!1,f=\"\",g=kl;null!==c&&void 0!==c&&(!0===c.unstable_strictMode&&(e=!0),void 0!==c.identifierPrefix&&(f=c.identifierPrefix),void 0!==c.onRecoverableError&&(g=c.onRecoverableError));b=el(b,null,a,1,null!=c?c:null,e,!1,f,g);a[uf]=b.current;sf(a);if(d)for(a=0;a<d.length;a++)c=d[a],e=c._getVersion,e=e(c._source),null==b.mutableSourceEagerHydrationData?b.mutableSourceEagerHydrationData=[c,e]:b.mutableSourceEagerHydrationData.push(c,\ne);return new ml(b)};exports.render=function(a,b,c){if(!ol(b))throw Error(p(200));return rl(null,a,b,!1,c)};exports.unmountComponentAtNode=function(a){if(!ol(a))throw Error(p(40));return a._reactRootContainer?(Rk(function(){rl(null,null,a,!1,function(){a._reactRootContainer=null;a[uf]=null})}),!0):!1};exports.unstable_batchedUpdates=Qk;\nexports.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!ol(c))throw Error(p(200));if(null==a||void 0===a._reactInternals)throw Error(p(38));return rl(a,b,c,!1,d)};exports.version=\"18.3.1-next-f1338f8080-20240426\";\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function X(){throw Error(\"act(...) is not supported in production builds of React.\");}\nexports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;exports.act=X;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=X;exports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};\nexports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};exports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};\nexports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};exports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.3.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/**\n * @license React\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';function f(a,b){var c=a.length;a.push(b);a:for(;0<c;){var d=c-1>>>1,e=a[d];if(0<g(e,b))a[d]=b,a[c]=e,c=d;else break a}}function h(a){return 0===a.length?null:a[0]}function k(a){if(0===a.length)return null;var b=a[0],c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length,w=e>>>1;d<w;){var m=2*(d+1)-1,C=a[m],n=m+1,x=a[n];if(0>g(C,c))n<e&&0>g(x,C)?(a[d]=x,a[n]=c,d=n):(a[d]=C,a[m]=c,d=m);else if(n<e&&0>g(x,c))a[d]=x,a[n]=c,d=n;else break a}}return b}\nfunction g(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}if(\"object\"===typeof performance&&\"function\"===typeof performance.now){var l=performance;exports.unstable_now=function(){return l.now()}}else{var p=Date,q=p.now();exports.unstable_now=function(){return p.now()-q}}var r=[],t=[],u=1,v=null,y=3,z=!1,A=!1,B=!1,D=\"function\"===typeof setTimeout?setTimeout:null,E=\"function\"===typeof clearTimeout?clearTimeout:null,F=\"undefined\"!==typeof setImmediate?setImmediate:null;\n\"undefined\"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(a){for(var b=h(t);null!==b;){if(null===b.callback)k(t);else if(b.startTime<=a)k(t),b.sortIndex=b.expirationTime,f(r,b);else break;b=h(t)}}function H(a){B=!1;G(a);if(!A)if(null!==h(r))A=!0,I(J);else{var b=h(t);null!==b&&K(H,b.startTime-a)}}\nfunction J(a,b){A=!1;B&&(B=!1,E(L),L=-1);z=!0;var c=y;try{G(b);for(v=h(r);null!==v&&(!(v.expirationTime>b)||a&&!M());){var d=v.callback;if(\"function\"===typeof d){v.callback=null;y=v.priorityLevel;var e=d(v.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?v.callback=e:v===h(r)&&k(r);G(b)}else k(r);v=h(r)}if(null!==v)var w=!0;else{var m=h(t);null!==m&&K(H,m.startTime-b);w=!1}return w}finally{v=null,y=c,z=!1}}var N=!1,O=null,L=-1,P=5,Q=-1;\nfunction M(){return exports.unstable_now()-Q<P?!1:!0}function R(){if(null!==O){var a=exports.unstable_now();Q=a;var b=!0;try{b=O(!0,a)}finally{b?S():(N=!1,O=null)}}else N=!1}var S;if(\"function\"===typeof F)S=function(){F(R)};else if(\"undefined\"!==typeof MessageChannel){var T=new MessageChannel,U=T.port2;T.port1.onmessage=R;S=function(){U.postMessage(null)}}else S=function(){D(R,0)};function I(a){O=a;N||(N=!0,S())}function K(a,b){L=D(function(){a(exports.unstable_now())},b)}\nexports.unstable_IdlePriority=5;exports.unstable_ImmediatePriority=1;exports.unstable_LowPriority=4;exports.unstable_NormalPriority=3;exports.unstable_Profiling=null;exports.unstable_UserBlockingPriority=2;exports.unstable_cancelCallback=function(a){a.callback=null};exports.unstable_continueExecution=function(){A||z||(A=!0,I(J))};\nexports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):P=0<a?Math.floor(1E3/a):5};exports.unstable_getCurrentPriorityLevel=function(){return y};exports.unstable_getFirstCallbackNode=function(){return h(r)};exports.unstable_next=function(a){switch(y){case 1:case 2:case 3:var b=3;break;default:b=y}var c=y;y=b;try{return a()}finally{y=c}};exports.unstable_pauseExecution=function(){};\nexports.unstable_requestPaint=function(){};exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=y;y=a;try{return b()}finally{y=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();\"object\"===typeof c&&null!==c?(c=c.delay,c=\"number\"===typeof c&&0<c?d+c:d):c=d;switch(a){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1E4;break;default:e=5E3}e=c+e;a={id:u++,callback:b,priorityLevel:a,startTime:c,expirationTime:e,sortIndex:-1};c>d?(a.sortIndex=c,f(t,a),null===h(r)&&a===h(t)&&(B?(E(L),L=-1):B=!0,K(H,c-d))):(a.sortIndex=e,f(r,a),A||z||(A=!0,I(J)));return a};\nexports.unstable_shouldYield=M;exports.unstable_wrapCallback=function(a){var b=y;return function(){var c=y;y=b;try{return a.apply(this,arguments)}finally{y=c}}};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"3e7c4c3a\" + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"scheulder-react:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/react-scheduler/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkscheulder_react\"] = self[\"webpackChunkscheulder_react\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","\r\n/* eslint-disable no-restricted-globals */\r\nvar globalScope;\r\nif(typeof window !== \"undefined\"){\r\n\tglobalScope = window;\r\n}else{\r\n\tglobalScope = global;\r\n}\r\n/* eslint-enable no-restricted-globals */\r\n\r\nexport default globalScope;","export default function dragHighlightPos(scheduler){\r\n    let dndMarkers = [];\r\n    let dragStarted = false;\r\n    let eventNode = null;\r\n    let event = null;\r\n\r\n    function isEnabled() { \r\n        return scheduler.config.drag_highlight && scheduler.markTimespan;\r\n    }\r\n\r\n    function checkViewName(viewName){\r\n        const viewObj = scheduler.getView(viewName);\r\n        if(viewObj){\r\n            return viewObj.layout;\r\n        }\r\n        return viewName;\r\n    }\r\n\r\n    function checkSectionPropertyName(viewName){\r\n        const viewObj = scheduler.getView(viewName);\r\n        if(viewObj.y_property){\r\n            return viewObj.y_property;\r\n        }\r\n        if(viewObj.map_to){\r\n            return viewObj.map_to;\r\n        }\r\n    }\r\n\r\n    function setRequiredStylesToMarker(eventNode, layout){\r\n        switch (layout) {\r\n            case \"month\":\r\n                eventNode.style.top = \"\";\r\n                eventNode.style.left = \"\";\r\n                break;\r\n            case \"timeline\":\r\n                eventNode.style.left = \"\";\r\n                eventNode.style.marginLeft = \"1px\";\r\n                break;\r\n            default:\r\n                eventNode.style.top = \"\";\r\n                break;\r\n        }\r\n    }\r\n    \r\n    function createMarkerConfig(configSettings){\r\n        const { event, layout, viewName, sectionId, eventNode } = configSettings;\r\n        setRequiredStylesToMarker(eventNode, layout);\r\n        const sections = {};\r\n        let markerObject = {\r\n            start_date: event.start_date,\r\n            end_date: event.end_date,\r\n            css: \"dhx_scheduler_dnd_marker\",\r\n            html: eventNode\r\n        };\r\n        if (layout == \"timeline\" || layout == \"month\" ){\r\n            // we need to set end date less than 24 hours of the views to avoid receiving multiple marktimespans\r\n            markerObject = {...markerObject, end_date: scheduler.date.add(event.start_date, 1, 'minute')};\r\n        }\r\n        if (sectionId){\r\n            sections[viewName] = sectionId;\r\n            markerObject.sections = sections;\r\n        }\r\n        return markerObject;\r\n    }\r\n\r\n    function createViewMarker(settings){\r\n        const { layout } = settings;\r\n        let markerConfigs;\r\n        switch (layout) {\r\n            case \"month\": \r\n                markerConfigs = getMonthViewMarkers(settings);\r\n                break;\r\n            case 'timeline':\r\n            case 'units':\r\n                markerConfigs = getTimelineAndUnitsViewMarkers(settings);\r\n                break;\r\n            default: \r\n                markerConfigs = getColumnViewMarkers(settings);\r\n                break;\r\n        }\r\n        markerConfigs.forEach((cfg) => {\r\n            dndMarkers.push(scheduler.markTimespan(cfg));\r\n        });\r\n    }\r\n\r\n    function getColumnViewMarkers(settings){\r\n        const {event, layout, viewName, sectionId} = settings;\r\n        let columnViewMarkersArray = [];\r\n            let eventNodes = scheduler.$container.querySelectorAll(`[${scheduler.config.event_attribute}='${event.id}']:not(.dhx_cal_select_menu):not(.dhx_drag_marker)`);\r\n            if(eventNodes){\r\n                for (let i = 0; i < eventNodes.length; i++) {\r\n                    let eventNodeClone = eventNodes[i].cloneNode(true);\r\n                    let startDate = new Date(+eventNodeClone.getAttribute(\"data-bar-start\"));\r\n                    let endDate = new Date(+eventNodeClone.getAttribute(\"data-bar-end\"));\r\n                    let dates = {start_date: startDate, end_date: endDate};\r\n                    const configSettings = {\r\n                        event: dates, \r\n                        layout, \r\n                        viewName, \r\n                        sectionId, \r\n                        eventNode:eventNodeClone\r\n                    };\r\n                    columnViewMarkersArray.push(createMarkerConfig(configSettings));\r\n                }\t\r\n            }\r\n        return columnViewMarkersArray;\r\n    }\r\n\r\n    function getMonthViewMarkers(settings){\r\n        let monthViewMarkersArray = [];\r\n        const {event, layout, viewName, sectionId} = settings;\r\n        const weekDates = [];\r\n        let currDate = new Date(event.start_date);\r\n        while(currDate.valueOf() < event.end_date.valueOf()){\r\n            let obj = {start_date: currDate};\r\n            weekDates.push(obj);\r\n            currDate = scheduler.date.week_start(scheduler.date.add(currDate, 1, \"week\"));\r\n        }\r\n        let cells = scheduler.$container.querySelectorAll(`[${scheduler.config.event_attribute}='${event.id}']`);\r\n        for (let i = 0; i < cells.length; i++) {\r\n            const configSettings = {\r\n                event: weekDates[i], \r\n                layout, \r\n                viewName, \r\n                sectionId, \r\n                eventNode: cells[i].cloneNode(true)\r\n            };\r\n            monthViewMarkersArray.push(createMarkerConfig(configSettings));\r\n        }\r\n        return monthViewMarkersArray;\r\n    }\r\n\r\n    function getTimelineAndUnitsViewMarkers(settings){\r\n        let unitMarkersArray = [];\r\n        const {event, layout, viewName, eventNode} = settings;\r\n        let sectionPropertyName = checkSectionPropertyName(viewName);\r\n            if (scheduler.config.multisection && sectionPropertyName){\r\n            const sections = String(event[sectionPropertyName]).split(scheduler.config.section_delimiter);\r\n            const formatedSections = sections.map(element => String(element));\r\n            const elems = [];\r\n            for (let i = 0; i < formatedSections.length; i++) {\r\n                elems[i] = eventNode.cloneNode(true);\r\n                const configSettings = {\r\n                    event, \r\n                    layout, \r\n                    viewName, \r\n                    sectionId: formatedSections[i],\r\n                    eventNode: elems[i]\r\n                };\r\n                unitMarkersArray.push(createMarkerConfig(configSettings));\r\n            }\r\n        }\r\n        return unitMarkersArray;\r\n    }\r\n    \r\n    scheduler.attachEvent(\"onBeforeDrag\", function (id, mode, e){\r\n        if (isEnabled()) {\r\n            dragStarted = true;\r\n            event = scheduler.getEvent(id);\r\n            eventNode = e.target.closest(`[${scheduler.config.event_attribute}]`);\r\n            const viewName = scheduler.getState().mode;\r\n            const layout = checkViewName(viewName);\r\n            // to avoid incorrect eventNode and marker creation when scheduler.config.cascade_event_display included\r\n            if (layout == \"units\" && scheduler.config.cascade_event_display ) {\r\n                scheduler.unselect(id);\r\n                eventNode = e.target.closest(`[${scheduler.config.event_attribute}]`);\r\n            }\r\n        }\r\n        return true;\r\n    });\r\n\r\n    scheduler.attachEvent(\"onEventDrag\", function (id, mode, e){\r\n        if(dragStarted && isEnabled()){\r\n            dragStarted = false;// insert element only once after dnd start\r\n            const viewName = scheduler.getState().mode;\r\n            const layout = checkViewName(viewName);\r\n            const sectionId = scheduler.getActionData(e).section;\r\n            if (event) {\r\n                const settings = {\r\n                    event, \r\n                    layout, \r\n                    viewName, \r\n                    sectionId, \r\n                    eventNode\r\n                };\r\n                createViewMarker(settings);\r\n            }\r\n        }\r\n    });\r\n\r\n    scheduler.attachEvent(\"onDragEnd\", function(id, mode, e){\r\n        for (let i = 0; i < dndMarkers.length; i++) {\r\n            scheduler.unmarkTimespan(dndMarkers[i]);\r\n        }\r\n        dndMarkers = [];\r\n        eventNode = null;\r\n        event = null;\r\n    });\r\n}","function createMethod(scheduler){\r\n\tvar methods = {};\r\n\tvar isActive = false;\r\n\tfunction disableMethod(methodName, dummyMethod){\r\n\t\tdummyMethod = typeof dummyMethod == \"function\" ? dummyMethod : function(){};\r\n\r\n\t\tif(!methods[methodName]){\r\n\t\t\tmethods[methodName] = this[methodName];\r\n\t\t\tthis[methodName] = dummyMethod;\r\n\t\t}\r\n\t}\r\n\tfunction restoreMethod(methodName){\r\n\t\tif(methods[methodName]){\r\n\t\t\tthis[methodName] = methods[methodName];\r\n\t\t\tmethods[methodName] = null;\r\n\t\t}\r\n\t}\r\n\tfunction disableMethods(methodsHash){\r\n\t\tfor(var i in methodsHash){\r\n\t\t\tdisableMethod.call(this, i, methodsHash[i]);\r\n\t\t}\r\n\t}\r\n\tfunction restoreMethods(){\r\n\t\tfor(var i in methods){\r\n\t\t\trestoreMethod.call(this, i);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction batchUpdatePayload(callback){\r\n\t\ttry{\r\n\t\t\tcallback();\r\n\t\t}catch(e){\r\n\t\t\twindow.console.error(e);\r\n\t\t}\r\n\t}\r\n\r\n\tscheduler.$stateProvider.registerProvider(\"batchUpdate\", function(){\r\n\t\treturn {\r\n\t\t\tbatch_update: isActive\r\n\t\t};\r\n\t}, false);\r\n\r\n\treturn function batchUpdate(callback, noRedraw) {\r\n\t\tif(isActive){\r\n\t\t\t// batch mode is already active\r\n\t\t\tbatchUpdatePayload(callback);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar call_dp = (this._dp && this._dp.updateMode != \"off\");\r\n\t\tvar dp_mode;\r\n\t\tif (call_dp){\r\n\t\t\tdp_mode = this._dp.updateMode;\r\n\t\t\tthis._dp.setUpdateMode(\"off\");\r\n\t\t}\r\n\r\n\t\t// temporary disable some methods while updating multiple events\r\n\r\n\t\tconst calls = {\r\n\t\t\tsetModeDate: {date: null, mode: null},\r\n\t\t\tneedRender: false,\r\n\t\t\tneedUpdateView: false,\r\n\t\t\trepaintEvents: {}\r\n\r\n\t\t};\r\n\r\n\t\tconst rememberModeDate = (date, mode) => {\r\n\t\t\tif(date){\r\n\t\t\t\tcalls.setModeDate.date = date;\r\n\t\t\t}\r\n\t\t\tif(mode){\r\n\t\t\t\tcalls.setModeDate.mode = mode;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar methods = {\r\n\t\t\trender:(date, mode) => {calls.needRender = true; rememberModeDate(date, mode);},\r\n\t\t\tsetCurrentView:(date, mode) => {calls.needRender = true; rememberModeDate(date, mode);},\r\n\t\t\tupdateView:(date, mode) => {calls.needUpdateView = true; rememberModeDate(date, mode);},\r\n\t\t\trender_data:() => calls.needRender = true,\r\n\t\t\trender_view_data:(evs) => { \r\n\t\t\t\tif(evs && evs.length){\r\n\t\t\t\t\tevs.forEach((e) => calls.repaintEvents[e.id] = true);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcalls.needRender = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tdisableMethods.call(this, methods);\r\n\r\n\t\tisActive = true;\r\n\t\tthis.callEvent(\"onBeforeBatchUpdate\", []);\r\n\r\n\t\tbatchUpdatePayload(callback);\r\n\r\n\t\tthis.callEvent(\"onAfterBatchUpdate\", []);\r\n\r\n\t\trestoreMethods.call(this);\r\n\r\n\t\tisActive = false;\r\n\t\tif(!noRedraw){\r\n\t\t\tif(calls.needRender){\r\n\t\t\t\tscheduler.render(calls.setModeDate.date, calls.setModeDate.mode);\r\n\t\t\t}else if(calls.needUpdateView){\r\n\t\t\t\tscheduler.updateView(calls.setModeDate.date, calls.setModeDate.mode);\r\n\t\t\t}else{\r\n\t\t\t\tfor(const i in calls.repaintEvents){\r\n\t\t\t\t\tscheduler.updateEvent(i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (call_dp) {\r\n\t\t\tthis._dp.setUpdateMode(dp_mode);\r\n\t\t\tthis._dp.sendData();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport default function(scheduler){\r\n\tscheduler.batchUpdate = createMethod(scheduler);\r\n}","import dragHighlightPos from \"./drag_highlight_pos\";\r\nimport undoDelete from \"./undo_delete\";\r\nimport limit from \"./limit\";\r\nimport batchUpdate from \"./batch_update\";\r\n\r\nexport default function initPlugins(scheduler){\r\n    undoDelete(scheduler);\r\n    dragHighlightPos(scheduler);\r\n    limit(scheduler);\r\n    batchUpdate(scheduler);\r\n}","export default function undoDelete(scheduler) {\r\n\tscheduler.attachEvent(\"onEventDeleted\", function (id, ev) {\r\n\t\tlet deletedEvent = scheduler.copy(ev);\r\n\t\tif (scheduler.config.undo_deleted && !scheduler.getState().new_event) {\r\n\t\t\tscheduler.message({\r\n\t\t\t\ttext: `<div class=\"dhx_info_message\">\r\n                            <span class=\"undo_popup_text\">Event deleted</span>\r\n                            <button class=\"undo_button\" data-deleted-event-id=\"${ev.id}\">Undo</button>\r\n                        </div>`,\r\n\t\t\t\texpire: 10000,\r\n\t\t\t\ttype: \"popup_after_delete\",\r\n\t\t\t\tcallback: function (e) {\r\n\t\t\t\t\tlet undoBtn = e.target.closest(\r\n\t\t\t\t\t\t`[data-deleted-event-id=\"${ev.id}\"]`\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (undoBtn) {\r\n\t\t\t\t\t\tscheduler.addEvent(deletedEvent);\r\n\t\t\t\t\t\tscheduler.render();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n","export default function limitPlugin(scheduler){\r\n\r\n\r\n\tscheduler.config.mark_now = true;\r\n\tscheduler.config.display_marked_timespans = true;\r\n\tscheduler.config.overwrite_marked_timespans = true;\r\n\r\n\r\n\tvar dhx_time_block = \"dhx_time_block\";\r\n\tvar default_timespan_type = \"default\";\r\n\tvar fix_options = function(options, days, zones) {\r\n\t\tif (days instanceof Date && zones instanceof Date) {\r\n\t\t\toptions.start_date = days;\r\n\t\t\toptions.end_date = zones;\r\n\t\t} else {\r\n\t\t\toptions.days = days;\r\n\t\t\toptions.zones = zones;\r\n\t\t}\r\n\t\treturn options;\r\n\t};\r\n\tvar get_resulting_options = function(days, zones, sections) {\r\n\t\tvar options = (typeof days == \"object\") ? days : { days: days };\r\n\t\toptions.type = dhx_time_block;\r\n\t\toptions.css = \"\";\r\n\t\tif (zones) {\r\n\t\t\tif (sections)\r\n\t\t\t\toptions.sections = sections;\r\n\t\t\toptions = fix_options(options, days, zones);\r\n\t\t}\r\n\t\treturn options;\r\n\t};\r\n\tscheduler.blockTime = function(days, zones, sections){\r\n\t\tvar options = get_resulting_options(days, zones, sections);\r\n\t\treturn scheduler.addMarkedTimespan(options);\r\n\t};\r\n\tscheduler.unblockTime = function(days, zones, sections) {\r\n\t\tzones = zones || \"fullday\";\r\n\t\tvar options = get_resulting_options(days, zones, sections);\r\n\t\treturn scheduler.deleteMarkedTimespan(options);\r\n\t};\r\n\r\n\tscheduler.checkInMarkedTimespan = function(ev, timespan_type, on_overlap){\r\n\t\ttimespan_type = timespan_type || default_timespan_type;\r\n\r\n\t\tvar res = true;\r\n\t\tvar temp_start_date = new Date(ev.start_date.valueOf());\r\n\t\tvar temp_end_date = scheduler.date.add(temp_start_date, 1, \"day\");\r\n\t\tvar timespans = scheduler._marked_timespans;\r\n\t\tfor (; temp_start_date < ev.end_date; temp_start_date = scheduler.date.date_part(temp_end_date), temp_end_date = scheduler.date.add(temp_start_date, 1, \"day\") ) {\r\n\t\t\tvar day_value = +scheduler.date.date_part( new Date(temp_start_date) ); // the first part of event not necessarily contains only date part\r\n\t\t\tvar day_index = temp_start_date.getDay();\r\n\r\n\t\t\tvar zones = getZones(ev, timespans, day_index, day_value, timespan_type);\r\n\t\t\tif (zones){\r\n\t\t\t\tfor (var i = 0; i < zones.length; i+=2) {\r\n\r\n\t\t\t\t\t// they may change for new event if it passes limit zone\r\n\t\t\t\t\tvar eventStart = scheduler._get_zone_minutes(temp_start_date);\r\n\t\t\t\t\tvar eventEnd = ( ev.end_date>temp_end_date || ev.end_date.getDate() != temp_start_date.getDate() ) ? 1440 : scheduler._get_zone_minutes(ev.end_date);\r\n\r\n\t\t\t\t\tvar markerStart = zones[i];\r\n\t\t\t\t\tvar markerEnd = zones[i+1];\r\n\t\t\t\t\tif (markerStart<eventEnd && markerEnd>eventStart) {\r\n\t\t\t\t\t\tif(typeof on_overlap == \"function\"){\r\n\t\t\t\t\t\t\t//handler allows to cancel overlapping\r\n\t\t\t\t\t\t\t//actually needed only to keep default behavior of limits\r\n\t\t\t\t\t\t\tres = on_overlap(ev, eventStart, eventEnd, markerStart, markerEnd);//event object, event start/end minutes in 'zones' format, zone start/end minutes\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tres = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(!res)\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn !res;\r\n\t};\r\n\tscheduler.checkLimitViolation = function(event){\r\n\t\tif(!event)\r\n\t\t\treturn true;\r\n\t\tif (!scheduler.config.check_limits)\r\n\t\t\treturn true;\r\n\t\tvar s = scheduler;\r\n\t\tvar c = s.config;\r\n\t\tvar evs = [];\r\n\t\tif ((event.rec_type && event._end_date) || (event.rrule)) {\r\n\t\t\tconst seriesEnd = event._end_date || event.end_date;\r\n\t\t\t// GS-2482 need to take into account that a part of recurring events might be outside the limits\r\n\t\t\tif ((c.limit_start && c.limit_end)) {\r\n\t\t\t\tvar recEventInLimits = seriesEnd.valueOf() >= c.limit_start.valueOf() && event.start_date.valueOf() <= c.limit_end.valueOf();\r\n\t\t\t\treturn recEventInLimits;\r\n\t\t\t} else return true;\r\n\t\t} else {\r\n\t\t\tevs = [event];\r\n\t\t}\r\n\r\n\t\tvar complete_res = true;\r\n\t\tfor (var p=0; p<evs.length; p++) {\r\n\t\t\tvar res = true;\r\n\t\t\tvar ev = evs[p];\r\n\t\t\t// Event could have old _timed property (e.g. we are creating event with DND on timeline view and crossed day)\r\n\t\t\tev._timed = scheduler.isOneDayEvent(ev);\r\n\r\n\t\t\tres = (c.limit_start && c.limit_end) ? (ev.start_date.valueOf() >= c.limit_start.valueOf() && ev.end_date.valueOf() <= c.limit_end.valueOf()) : true;\r\n\t\t\tif (res){\r\n\t\t\t\tres = !scheduler.checkInMarkedTimespan(ev, dhx_time_block, function(event, eventStart, eventEnd, markerStart, markerEnd){\r\n\t\t\t\t\t//try crop event to allow placing\r\n\t\t\t\t\tvar allow = true;\r\n\t\t\t\t\tif (eventStart<=markerEnd && eventStart >= markerStart){\r\n\t\t\t\t\t\tif (markerEnd == 24*60 || eventEnd <= markerEnd){\r\n\t\t\t\t\t\t\tallow = false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(event._timed && s._drag_id && s._drag_mode == \"new-size\"){\r\n\t\t\t\t\t\t\tevent.start_date.setHours(0);\r\n\t\t\t\t\t\t\tevent.start_date.setMinutes(markerEnd);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tallow = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ((eventEnd >= markerStart && eventEnd <= markerEnd) || (eventStart < markerStart && eventEnd > markerEnd)){\r\n\t\t\t\t\t\tif(event._timed && s._drag_id && s._drag_mode == \"new-size\"){\r\n\t\t\t\t\t\t\tevent.end_date.setHours(0);\r\n\t\t\t\t\t\t\tevent.end_date.setMinutes(markerStart);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tallow = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn allow;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (!res) {\r\n\t\t\t\tres = (s.checkEvent(\"onLimitViolation\")) ? s.callEvent(\"onLimitViolation\",[ev.id, ev]) : res;\r\n\t\t\t}\r\n\t\t\tcomplete_res = complete_res && res;\r\n\t\t}\r\n\t\tif(!complete_res){\r\n\t\t\ts._drag_id = null;\r\n\t\t\ts._drag_mode = null;\r\n\t\t}\r\n\t\treturn complete_res;\r\n\r\n\r\n\t};\r\n\tscheduler._get_blocked_zones = function(timespans, property, day_index, day_value, timespan_type){\r\n\t\tvar zones =[];\r\n\t\tif (timespans && timespans[property]) {\r\n\t\t\tvar timeline_zones = timespans[property];\r\n\t\t\tvar blocked_timeline_zones = this._get_relevant_blocked_zones(day_index, day_value, timeline_zones, timespan_type);\r\n\t\t\tfor (var i=0; i<blocked_timeline_zones.length; i++) {\r\n\t\t\t\tzones = this._add_timespan_zones(zones, blocked_timeline_zones[i].zones);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn zones;\r\n\t};\r\n\tscheduler._get_relevant_blocked_zones = function(day_index, day_value, zones, timespan_type) {\r\n\t\tvar resultZones;\r\n\t\tif(scheduler.config.overwrite_marked_timespans){\r\n\t\t\tresultZones = (zones[day_value] && zones[day_value][timespan_type]) ? zones[day_value][timespan_type] :\r\n\t\t\t(zones[day_index] && zones[day_index][timespan_type]) ? zones[day_index][timespan_type] : [];\r\n\t\t}else{\r\n\t\t\tresultZones = [];\r\n\t\t\tif(zones[day_value] && zones[day_value][timespan_type]){\r\n\t\t\t\tresultZones = resultZones.concat(zones[day_value][timespan_type]);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif((zones[day_index] && zones[day_index][timespan_type])){\r\n\t\t\t\tresultZones = resultZones.concat(zones[day_index][timespan_type]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn resultZones;\r\n\t};\r\n\tfunction getZones(ev, timespans, day_index, day_value, timespan_type){\r\n\t\tvar s = scheduler;\r\n\t\t//containers for 'unit' and 'timeline' views, and related 'section_id' properties\r\n\t\tvar zones = [];\r\n\t\tvar containers = {\r\n\t\t\t'_props':'map_to',\r\n\t\t\t'matrix':'y_property'};\r\n\t\t//check blocked sections in all units and timelines\r\n\t\tfor(var container in containers){\r\n\t\t\tvar property = containers[container];\r\n\t\t\tif(s[container]){\r\n\t\t\t\tfor(var view in s[container]){\r\n\t\t\t\t\tvar view_config = s[container][view];\r\n\t\t\t\t\tvar linker = view_config[property];\r\n\t\t\t\t\tif(!ev[linker]) continue;\r\n\t\t\t\t\tzones =  s._add_timespan_zones(zones,\r\n\t\t\t\t\t\tscheduler._get_blocked_zones(timespans[view], ev[linker], day_index, day_value, timespan_type));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// now need to add day blocks\r\n\t\tzones = s._add_timespan_zones(zones, scheduler._get_blocked_zones(timespans, 'global', day_index, day_value, timespan_type));\r\n\t\treturn zones;\r\n\t}\r\n\r\n\tscheduler._mark_now = function(hide) {\r\n\t\t// day, week, units views\r\n\t\tvar dhx_now_time = 'dhx_now_time';\r\n\t\tif (!this._els[dhx_now_time]) {\r\n\t\t\tthis._els[dhx_now_time] = [];\r\n\t\t}\r\n\t\tvar now = scheduler._currentDate();\r\n\t\tvar cfg = this.config;\r\n\t\tscheduler._remove_mark_now(); // delete previous marks if they exist\r\n\t\tif (!hide && cfg.mark_now && now < this._max_date && now > this._min_date && now.getHours() >= cfg.first_hour && now.getHours()<cfg.last_hour) {\r\n\t\t\tvar day_index = this.locate_holder_day(now);\r\n\t\t\tthis._els[dhx_now_time] = scheduler._append_mark_now(day_index, now);\r\n\t\t}\r\n\t};\r\n\tscheduler._append_mark_now = function(day_index, now) {\r\n\t\tvar dhx_now_time = 'dhx_now_time';\r\n\t\tvar zone_start= scheduler._get_zone_minutes(now);\r\n\t\tvar options = {\r\n\t\t\tzones: [zone_start, zone_start+1],\r\n\t\t\tcss: dhx_now_time,\r\n\t\t\ttype: dhx_now_time\r\n\t\t};\r\n\t\tif (!this._table_view) {\r\n\t\t\tif (this._props && this._props[this._mode]) { // units view\r\n\t\t\t\tvar start_index,\r\n\t\t\t\t\tend_index;\r\n\r\n\t\t\t\tvar view = this._props[this._mode];\r\n\t\t\t\tvar units_l = view.size || view.options.length;\r\n\t\t\t\tif (view.days > 1) {\r\n\t\t\t\t\tif(view.size && view.options.length){\r\n\t\t\t\t\t\tday_index = ((view.position+ day_index) / view.options.length) * view.size;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstart_index = day_index;\r\n\t\t\t\t\tend_index = day_index + units_l;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tstart_index = 0;\r\n\t\t\t\t\tend_index = start_index + units_l;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar r_divs = [];\r\n\r\n\t\t\t\tfor (var i = start_index; i < end_index; i++) {\r\n\t\t\t\t\tvar t_day = i; // as each unit is actually considered +1 day\r\n\t\t\t\t\toptions.days = t_day;\r\n\t\t\t\t\tvar t_div = scheduler._render_marked_timespan(options, null, t_day)[0];\r\n\t\t\t\t\tr_divs.push(t_div);\r\n\t\t\t\t}\r\n\t\t\t\treturn r_divs;\r\n\t\t\t} else {  // day/week views\r\n\t\t\t\toptions.days = day_index;\r\n\t\t\t\treturn scheduler._render_marked_timespan(options, null, day_index);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (this._mode == \"month\") {\r\n\t\t\t\toptions.days = +scheduler.date.date_part(now);\r\n\t\t\t\treturn scheduler._render_marked_timespan(options, null, null);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tscheduler._remove_mark_now = function() {\r\n\t\tvar dhx_now_time = 'dhx_now_time';\r\n\t\tvar els = this._els[dhx_now_time];\r\n\t\tfor (var i=0; i<els.length; i++) {\r\n\t\t\tvar div = els[i];\r\n\t\t\tvar parent = div.parentNode;\r\n\t\t\tif (parent) {\r\n\t\t\t\tparent.removeChild(div);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._els[dhx_now_time] = [];\r\n\t};\r\n\r\n\t/*\r\n\tscheduler._marked_timespans = {\r\n\t\t\"global\": {\r\n\t\t\t\"0\": {\r\n\t\t\t\t\"default\": [\r\n\t\t\t\t\t{  // sunday\r\n\t\t\t\t\t\tzones: [0, 100, 500, 600],\r\n\t\t\t\t\t\tcss: \"yellow_box\",\r\n\t\t\t\t\t\ttype: \"default\",\r\n\t\t\t\t\t\tview: \"global\",\r\n\t\t\t\t\t\tday: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t\t\"112121312\": {\r\n\t\t\t\t\"my_special_type\": [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tzones: [600, 900],\r\n\t\t\t\t\t\ttype: \"block\",\r\n\t\t\t\t\t\tcss: \"some_class\",\r\n\t\t\t\t\t\tview: \"global\",\r\n\t\t\t\t\t\tday: 112121312\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\t\"units\": {\r\n\t\t\t\"5_id\": {\r\n\t\t\t\t\"3\": {\r\n\t\t\t\t\t\"special_type\": [ {}, {}, {} ],\r\n\t\t\t\t\t\"another_type\": [ {} ]\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\"6_id\": {\r\n\t\t\t\t\"11212127\": {\r\n\t\t\t\t\t...\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t*/\r\n\tscheduler._marked_timespans = { global: {} };\r\n\r\n\tscheduler._get_zone_minutes = function(date) {\r\n\t\treturn date.getHours()*60 + date.getMinutes();\r\n\t};\r\n\tscheduler._prepare_timespan_options = function(config) { // receives 1 option, returns array of options\r\n\t\tvar r_configs = []; // resulting configs\r\n\t\tvar temp_configs = [];\r\n\r\n\t\tif (config.days == \"fullweek\")\r\n\t\t\tconfig.days = [0,1,2,3,4,5,6];\r\n\r\n\t\tif (config.days instanceof Array) {\r\n\t\t\tvar t_days = config.days.slice();\r\n\t\t\tfor (var i=0; i<t_days.length; i++) {\r\n\t\t\t\tvar cloned_config = scheduler._lame_clone(config);\r\n\t\t\t\tcloned_config.days = t_days[i];\r\n\t\t\t\tr_configs.push.apply(r_configs, scheduler._prepare_timespan_options(cloned_config));\r\n\t\t\t}\r\n\t\t\treturn r_configs;\r\n\t\t}\r\n\r\n\t\tif ( !config ||\r\n\t\t\t!((config.start_date && config.end_date && config.end_date > config.start_date) || (config.days !== undefined && config.zones)) && !config.type )\r\n\t\t\treturn r_configs;  // incorrect config was provided\r\n\r\n\t\tvar min = 0;\r\n\t\tvar max = 24*60;\r\n\t\tif (config.zones == \"fullday\")\r\n\t\t\tconfig.zones = [min, max];\r\n\t\tif (config.zones && config.invert_zones) {\r\n\t\t\tconfig.zones = scheduler.invertZones(config.zones);\r\n\t\t}\r\n\r\n\t\tconfig.id = scheduler.uid();\r\n\t\tconfig.css = config.css||\"\";\r\n\t\tconfig.type = config.type||default_timespan_type;\r\n\r\n\t\tvar sections = config.sections;\r\n\t\tif (sections) {\r\n\t\t\tfor (var view_key in sections) {\r\n\t\t\t\tif (sections.hasOwnProperty(view_key)) {\r\n\t\t\t\t\tvar ids = sections[view_key];\r\n\t\t\t\t\tif (!(ids instanceof Array))\r\n\t\t\t\t\t\tids = [ids];\r\n\t\t\t\t\tfor (var i=0; i<ids.length; i++) {\r\n\t\t\t\t\t\tvar t_config = scheduler._lame_copy({}, config);\r\n\t\t\t\t\t\tt_config.sections = {};\r\n\t\t\t\t\t\tt_config.sections[view_key] = ids[i];\r\n\t\t\t\t\t\ttemp_configs.push(t_config);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttemp_configs.push(config);\r\n\t\t}\r\n\r\n\t\tfor (var k=0; k<temp_configs.length; k++) {\r\n\t\t\tvar c_config = temp_configs[k]; // config to be checked\r\n\r\n\t\t\tvar start_date = c_config.start_date;\r\n\t\t\tvar end_date = c_config.end_date;\r\n\r\n\t\t\tif (start_date && end_date) {\r\n\t\t\t\tvar t_sd = scheduler.date.date_part(new Date(start_date)); // e.g. 05 october\r\n\t\t\t\tvar t_ed= scheduler.date.add(t_sd, 1, \"day\");  // 06 october, will both be incremented in the loop\r\n\r\n\t\t\t\twhile (t_sd < end_date) {\r\n\t\t\t\t\tvar t_config = scheduler._lame_copy({}, c_config);\r\n\t\t\t\t\tdelete t_config.start_date;\r\n\t\t\t\t\tdelete t_config.end_date;\r\n\t\t\t\t\tt_config.days = t_sd.valueOf();\r\n\t\t\t\t\tvar zone_start = (start_date > t_sd) ? scheduler._get_zone_minutes(start_date) : min;\r\n\t\t\t\t\tvar zone_end = ( end_date > t_ed || end_date.getDate() != t_sd.getDate() ) ? max : scheduler._get_zone_minutes(end_date);\r\n\t\t\t\t\tt_config.zones = [zone_start, zone_end];\r\n\t\t\t\t\tr_configs.push(t_config);\r\n\r\n\t\t\t\t\tt_sd = t_ed;\r\n\t\t\t\t\tt_ed = scheduler.date.add(t_ed, 1, \"day\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (c_config.days instanceof Date)\r\n\t\t\t\t\tc_config.days = (scheduler.date.date_part(c_config.days)).valueOf();\r\n\t\t\t\tc_config.zones = config.zones.slice();\r\n\t\t\t\tr_configs.push(c_config);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn r_configs;\r\n\t};\r\n\tscheduler._get_dates_by_index = function(index, start, end) {\r\n\t\tvar dates = [];\r\n\t\tstart = scheduler.date.date_part(new Date(start||scheduler._min_date));\r\n\t\tend = new Date(end||scheduler._max_date);\r\n\t\tvar start_day = start.getDay();\r\n\t\tvar delta = (index-start_day >= 0) ? (index-start_day) : (7-start.getDay()+index);\r\n\t\tvar t_date = scheduler.date.add(start, delta, \"day\");\r\n\t\tfor (; t_date < end; t_date = scheduler.date.add(t_date, 1, \"week\")) {\r\n\t\t\tdates.push(t_date);\r\n\t\t}\r\n\t\treturn dates;\r\n\t};\r\n\tscheduler._get_css_classes_by_config = function(config) {\r\n\t\tvar css_classes = [];\r\n\t\tif (config.type == dhx_time_block) {\r\n\t\t\tcss_classes.push(dhx_time_block);\r\n\t\t\tif (config.css)\r\n\t\t\t\tcss_classes.push(dhx_time_block+\"_reset\");\r\n\t\t}\r\n\t\tcss_classes.push(\"dhx_marked_timespan\", config.css);\r\n\t\treturn css_classes.join(\" \");\r\n\t};\r\n\tscheduler._get_block_by_config = function(config) {\r\n\t\tvar block  = document.createElement(\"div\");\r\n\t\tif (config.html) {\r\n\t\t\tif (typeof config.html == \"string\")\r\n\t\t\t\tblock.innerHTML = config.html;\r\n\t\t\telse\r\n\t\t\t\tblock.appendChild(config.html);\r\n\t\t}\r\n\t\treturn block;\r\n\t};\r\n\tscheduler._render_marked_timespan = function(options, area, day) {\r\n\t\tvar blocks = []; // resulting block which will be rendered and returned\r\n\t\tvar c = scheduler.config;\r\n\t\tvar min_date = this._min_date;\r\n\t\tvar max_date = this._max_date;\r\n\t\tvar day_value = false; // if timespan for specific date should be displayed\r\n\r\n\t\tif (!c.display_marked_timespans)\r\n\t\t\treturn blocks;\r\n\r\n\t\t// in case of markTimespan\r\n\t\tif (!day && day !== 0) {\r\n\t\t\tif (options.days < 7)\r\n\t\t\t\tday = options.days;\r\n\t\t\telse {\r\n\t\t\t\tvar date_to_display = new Date(options.days);\r\n\t\t\t\tday_value = +date_to_display;\r\n\r\n\t\t\t\t// in case of markTimespan date could be not in the viewing range, need to return\r\n\t\t\t\tif ( !(+max_date > +date_to_display && +min_date <= +date_to_display) )\r\n\t\t\t\t\treturn blocks;\r\n\r\n\t\t\t\tday = date_to_display.getDay();\r\n\t\t\t}\r\n\r\n\t\t\t// convert day default index (Sun - 0, Sat - 6) to index of hourscales (depends on week_start and config.start_on_monday)\r\n\t\t\tvar min_day = min_date.getDay();\r\n\t\t\tif (min_day > day) {\r\n\t\t\t\tday = 7 - (min_day-day);\r\n\t\t\t} else {\r\n\t\t\t\tday = day - min_day;\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar zones = options.zones;\r\n\t\tvar css_classes = scheduler._get_css_classes_by_config(options);\r\n\r\n\t\tif (scheduler._table_view && scheduler._mode == \"month\") {\r\n\t\t\tvar areas = [];\r\n\t\t\tvar days = [];\r\n\r\n\r\n\t\t\tif (!area) {\r\n\t\t\t\tdays = (day_value) ? [day_value] : scheduler._get_dates_by_index(day);\r\n\t\t\t\tfor (var i=0; i < days.length; i++) {\r\n\t\t\t\t\tareas.push( this._scales[days[i]] );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tareas.push(area);\r\n\t\t\t\tdays.push(day);\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i=0; i < areas.length; i++) {\r\n\t\t\t\tarea = areas[i];\r\n\t\t\t\tday = days[i];\r\n\r\n\t\t\t\tvar sday = this.locate_holder_day(day, false) % this._cols.length;\r\n\r\n\t\t\t\tif(this._ignores[sday]) continue;\r\n\r\n\t\t\t\tvar block_proto = scheduler._get_block_by_config(options);\r\n\t\t\t\tblock_proto.className = css_classes;\r\n\t\t\t\tblock_proto.style.top = \"0px\";\r\n\t\t\t\tblock_proto.style.height = \"100%\";\r\n\t\t\t\t\r\n\t\t\t\tfor (var k=0; k < zones.length; k+=2) {\r\n\t\t\t\t\tvar start = zones[i];\r\n\t\t\t\t\tvar end = zones[i+1];\r\n\t\t\t\t\tif (end <= start)\r\n\t\t\t\t\t\treturn [];\r\n\r\n\t\t\t\t\tvar block = block_proto.cloneNode(true);\r\n\r\n\t\t\t\t\tblock.style.left = \"0px\";\r\n\t\t\t\t\tblock.style.width = \"100%\";\r\n\r\n\t\t\t\t\tarea.appendChild(block);\r\n\t\t\t\t\tblocks.push(block);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar index = day;\r\n\r\n\t\t\tif(this._ignores[this.locate_holder_day(day, false)]) return blocks;\r\n\r\n\t\t\tif (this._props && this._props[this._mode] && options.sections && options.sections[this._mode]) {\r\n\t\t\t\tvar view = this._props[this._mode];\r\n\t\t\t\tindex = view.order[options.sections[this._mode]];\r\n\r\n\t\t\t\tvar inner_index = view.order[options.sections[this._mode]];\r\n\t\t\t\tif(!(view.days > 1)){\r\n\t\t\t\t\tindex = inner_index;\r\n\t\t\t\t\tif (view.size && (index > view.position+view.size)) {\r\n\t\t\t\t\t\tindex = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar units_l = view.size || view.options.length;\r\n\t\t\t\t\tindex = index*units_l + inner_index;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tarea = area ? area : scheduler.locate_holder(index);\r\n\r\n\t\t\tfor (var i = 0; i < zones.length; i+=2){\r\n\t\t\t\tvar start = Math.max(zones[i], c.first_hour*60);\r\n\t\t\t\tvar end = Math.min(zones[i+1], c.last_hour*60);\r\n\t\t\t\tif (end <= start) {\r\n\t\t\t\t\tif (i+2 < zones.length)\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar block = scheduler._get_block_by_config(options);\r\n\t\t\t\tblock.className = css_classes;\r\n\r\n\t\t\t\t// +1 for working with section which really takes up whole height (as % would be == 0)\r\n\t\t\t\tvar all_hours_height = this.config.hour_size_px*24 + 1;\r\n\t\t\t\tvar hour_ms = 60*60*1000;\r\n\t\t\t\tblock.style.top = (Math.round((start*60*1000-this.config.first_hour*hour_ms)*this.config.hour_size_px/hour_ms) % all_hours_height) + \"px\";\r\n\t\t\t\tblock.style.height = Math.max((Math.round(((end-start)*60*1000)*this.config.hour_size_px/hour_ms)) % all_hours_height, 1)+\"px\";\r\n\r\n\t\t\t\tarea.appendChild(block);\r\n\t\t\t\tblocks.push(block);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn blocks;\r\n\t};\r\n\r\n\tscheduler._mark_timespans = function(){\r\n\t\tvar data = this._els[\"dhx_cal_data\"][0];\r\n\t\tvar divs = [];\r\n\t\tif (scheduler._table_view && scheduler._mode == \"month\"){\r\n\t\t\tfor (var day in this._scales) {\r\n\t\t\t\tvar date = new Date(+day);\r\n\t\t\t\tdivs.push.apply(divs, scheduler._on_scale_add_marker(this._scales[day],date));\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\t//manually trigger rendering of configs for each column\r\n\t\t\tvar date = new Date(scheduler._min_date);\r\n\t\t\tfor (var i = 0, len = data.childNodes.length; i < len; i++) {\r\n\t\t\t\tvar area = data.childNodes[i];\r\n\t\t\t\tif (area.firstChild && scheduler._getClassName(area.firstChild).indexOf(\"dhx_scale_hour\") > -1) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdivs.push.apply(divs, scheduler._on_scale_add_marker(area, date));\r\n\t\t\t\tdate = scheduler.date.add(date, 1, \"day\");\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn divs;\r\n\t};\r\n\r\n\t// just marks timespan, will be cleaned after refresh\r\n\tscheduler.markTimespan = function(configuration) {\r\n\t\tif(!this._els){\r\n\t\t\tthrow new Error(\"`scheduler.markTimespan` can't be used before scheduler initialization. Place `scheduler.markTimespan` call after `scheduler.init`.\");\r\n\t\t}\r\n\r\n\r\n\t\tvar rebuild_els = false;\r\n\t\tif(!this._els[\"dhx_cal_data\"]){\r\n\t\t\tscheduler.get_elements();\r\n\t\t\trebuild_els = true;\r\n\t\t}\r\n\r\n\r\n\t\t// backup regular marked timespans\r\n\t\tvar timespans_ids = scheduler._marked_timespans_ids,\r\n\t\t\ttimespan_types = scheduler._marked_timespans_types,\r\n\t\t\ttimespans = scheduler._marked_timespans;\r\n\r\n\t\tscheduler.deleteMarkedTimespan();\r\n\r\n\t\t//add block to configs\r\n\t\tscheduler.addMarkedTimespan(configuration);\r\n\r\n\t\tvar divs = scheduler._mark_timespans();\r\n\r\n\t\tif(rebuild_els)\r\n\t\t\tscheduler._els = [];\r\n\r\n\t\t// restore timespan config\r\n\t\tscheduler._marked_timespans_ids = timespans_ids;\r\n\t\tscheduler._marked_timespans_types = timespan_types;\r\n\t\tscheduler._marked_timespans = timespans;\r\n\r\n\t\treturn divs;\r\n\t};\r\n\tscheduler.unmarkTimespan = function(divs) {\r\n\t\tif (!divs)\r\n\t\t\treturn;\r\n\t\tfor (var i=0; i<divs.length; i++) {\r\n\t\t\tvar div = divs[i];\r\n\t\t\t// parent may no longer be present if we switched views, navigated\r\n\t\t\tif (div.parentNode) {\r\n\t\t\t\tdiv.parentNode.removeChild(div);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tscheduler._addMarkerTimespanConfig = function(config){\r\n\t\tvar global = \"global\";\r\n\t\tvar timespans = scheduler._marked_timespans;\r\n\t\tvar id = config.id;\r\n\r\n\t\tvar ids = scheduler._marked_timespans_ids;\r\n\t\tif (!ids[id])\r\n\t\t\tids[id] = [];\r\n\r\n\r\n\t\tvar day = config.days;\r\n\r\n\t\tvar sections = config.sections;\r\n\t\tvar type = config.type; // default or specified\r\n\t\tconfig.id = id;\r\n\r\n\t\tif (sections) {\r\n\t\t\tfor (var view_key in sections) {\r\n\t\t\t\tif (sections.hasOwnProperty(view_key)) {\r\n\t\t\t\t\tif (!timespans[view_key])\r\n\t\t\t\t\t\ttimespans[view_key] = {};\r\n\t\t\t\t\tvar unit_id = sections[view_key];\r\n\t\t\t\t\tvar timespans_view = timespans[view_key];\r\n\t\t\t\t\tif (!timespans_view[unit_id])\r\n\t\t\t\t\t\ttimespans_view[unit_id] = {};\r\n\t\t\t\t\tif (!timespans_view[unit_id][day])\r\n\t\t\t\t\t\ttimespans_view[unit_id][day] = {};\r\n\t\t\t\t\tif (!timespans_view[unit_id][day][type]){\r\n\t\t\t\t\t\ttimespans_view[unit_id][day][type] = [];\r\n\t\t\t\t\t\tif(!scheduler._marked_timespans_types)\r\n\t\t\t\t\t\t\tscheduler._marked_timespans_types = {};\r\n\t\t\t\t\t\tif(!scheduler._marked_timespans_types[type])\r\n\t\t\t\t\t\t\tscheduler._marked_timespans_types[type] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar day_configs = timespans_view[unit_id][day][type];\r\n\t\t\t\t\tconfig._array = day_configs;\r\n\t\t\t\t\tday_configs.push(config);\r\n\t\t\t\t\tids[id].push(config);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (!timespans[global][day])\r\n\t\t\t\ttimespans[global][day] = {};\r\n\t\t\tif (!timespans[global][day][type])\r\n\t\t\t\ttimespans[global][day][type] = [];\r\n\r\n\t\t\tif(!scheduler._marked_timespans_types)\r\n\t\t\t\tscheduler._marked_timespans_types = {};\r\n\t\t\tif(!scheduler._marked_timespans_types[type])\r\n\t\t\t\tscheduler._marked_timespans_types[type] = true;\r\n\r\n\t\t\tvar day_configs = timespans[global][day][type];\r\n\t\t\tconfig._array = day_configs;\r\n\t\t\tday_configs.push(config);\r\n\t\t\tids[id].push(config);\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tscheduler._marked_timespans_ids = {};\r\n\t// adds marked timespan to collections, persistent\r\n\tscheduler.addMarkedTimespan = function(configuration) {\r\n\t\tvar configs = scheduler._prepare_timespan_options(configuration);\r\n\t\tif (!configs.length)\r\n\t\t\treturn; // options are incorrect, nothing to mark\r\n\r\n\t\tvar id = configs[0].id;\r\n\t\tfor (var i=0; i<configs.length; i++) {\r\n\t\t\tscheduler._addMarkerTimespanConfig(configs[i]);\r\n\t\t}\r\n\t\treturn id;\r\n\t};\r\n\t// not used for now\r\n\tscheduler._add_timespan_zones = function(current_zones, zones) {\r\n\t\tvar resulting_zones = current_zones.slice();\r\n\t\tzones = zones.slice();\r\n\r\n\t\tif (!resulting_zones.length)\r\n\t\t\treturn zones;\r\n\r\n\t\tfor (var i=0; i<resulting_zones.length; i+=2) {\r\n\t\t\tvar c_zone_start = resulting_zones[i];\r\n\t\t\tvar c_zone_end = resulting_zones[i+1];\r\n\t\t\tvar isLast = (i+2 == resulting_zones.length);\r\n\r\n\t\t\tfor (var k=0; k<zones.length; k+=2) {\r\n\t\t\t\tvar zone_start = zones[k];\r\n\t\t\t\tvar zone_end = zones[k+1];\r\n\t\t\t\tif ((zone_end > c_zone_end && zone_start <= c_zone_end) || (zone_start < c_zone_start && zone_end >= c_zone_start)) {\r\n\t\t\t\t\tresulting_zones[i] = Math.min(c_zone_start, zone_start);\r\n\t\t\t\t\tresulting_zones[i+1] = Math.max(c_zone_end, zone_end);\r\n\t\t\t\t\ti -= 2;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!isLast) // do nothing, maybe next current zone will match or will be last\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\tvar offset = (c_zone_start > zone_start)?0:2;\r\n\t\t\t\t\tresulting_zones.splice(i+offset, 0, zone_start, zone_end); // last current zone, need to add another\r\n\t\t\t\t}\r\n\t\t\t\tzones.splice(k--,2); // zone was merged or added, need to exclude it\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn resulting_zones;\r\n\t};\r\n\tscheduler._subtract_timespan_zones = function(current_zones, zones) {\r\n\t\tvar resulting_zones = current_zones.slice();\r\n\t\tfor (var i=0; i<resulting_zones.length; i+=2 ) {\r\n\t\t\tvar c_zone_start = resulting_zones[i];// current_zone_start\r\n\t\t\tvar c_zone_end = resulting_zones[i+1];\r\n\t\t\tfor (var k=0; k<zones.length; k+=2) {\r\n\t\t\t\tvar zone_start = zones[k];\r\n\t\t\t\tvar zone_end = zones[k+1];\r\n\t\t\t\tif (zone_end > c_zone_start && zone_start < c_zone_end) {\r\n\t\t\t\t\tvar is_modified = false;\r\n\t\t\t\t\tif (c_zone_start >= zone_start && c_zone_end <= zone_end) {\r\n\t\t\t\t\t\tresulting_zones.splice(i, 2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (c_zone_start < zone_start) {\r\n\t\t\t\t\t\tresulting_zones.splice(i, 2, c_zone_start, zone_start);\r\n\t\t\t\t\t\tis_modified = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (c_zone_end > zone_end) {\r\n\t\t\t\t\t\tresulting_zones.splice( (is_modified)?(i+2):i, (is_modified)?0:2, zone_end, c_zone_end);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti -= 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn resulting_zones;\r\n\t};\r\n\tscheduler.invertZones = function(zones) {\r\n\t\treturn scheduler._subtract_timespan_zones([0, 1440], zones.slice());\r\n\t};\r\n\tscheduler._delete_marked_timespan_by_id = function(id) {\r\n\t\tvar configs = scheduler._marked_timespans_ids[id];\r\n\t\tif (configs) {\r\n\t\t\tfor (var i=0; i<configs.length; i++) {\r\n\t\t\t\tvar config = configs[i];\r\n\t\t\t\tvar parent_array = config._array;\r\n\t\t\t\tfor (var k=0; k<parent_array.length; k++) {\r\n\t\t\t\t\tif (parent_array[k] == config) {\r\n\t\t\t\t\t\tparent_array.splice(k, 1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tscheduler._delete_marked_timespan_by_config = function(config) {\r\n\t\tvar timespans = scheduler._marked_timespans;\r\n\t\tvar sections = config.sections;\r\n\t\tvar day = config.days;\r\n\t\tvar type = config.type||default_timespan_type;\r\n\t\tvar viewspans;\r\n\t\tif (sections) {\r\n\t\t\tfor (var view_key in sections) {\r\n\t\t\t\tif (sections.hasOwnProperty(view_key) && timespans[view_key]) {\r\n\t\t\t\t\tvar unit_id = sections[view_key];\r\n\t\t\t\t\tif (timespans[view_key][unit_id]){\r\n\t\t\t\t\t\tviewspans = timespans[view_key][unit_id];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tviewspans = timespans.global;\r\n\t\t}\r\n\r\n\t\tif(viewspans) {\r\n\t\t\tif (day !== undefined) {\r\n\t\t\t\tif (viewspans[day] && viewspans[day][type]) {\r\n\t\t\t\t\tscheduler._addMarkerTimespanConfig(config); // register config in order to be able to delete recurring timespan from a specific day\r\n\t\t\t\t\tscheduler._delete_marked_timespans_list(viewspans[day][type], config);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfor (var d in viewspans) {\r\n\t\t\t\t\tif (viewspans[d][type]) {\r\n\t\t\t\t\t\tvar dayConfig = scheduler._lame_clone(config);\r\n\t\t\t\t\t\tconfig.days = d;\r\n\t\t\t\t\t\tscheduler._addMarkerTimespanConfig(dayConfig); // register config in order to be able to delete recurring timespan from a specific day\r\n\t\t\t\t\t\tscheduler._delete_marked_timespans_list(viewspans[d][type], config);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tscheduler._delete_marked_timespans_list = function(day_timespans, config){\r\n\t\tfor (var i=0; i<day_timespans.length; i++) {\r\n\t\t\tvar d_t = day_timespans[i];\r\n\t\t\tvar zones = scheduler._subtract_timespan_zones(d_t.zones, config.zones);\r\n\t\t\tif (zones.length)\r\n\t\t\t\td_t.zones = zones;\r\n\t\t\telse {\r\n\t\t\t\tday_timespans.splice(i,1);\r\n\t\t\t\ti--;\r\n\t\t\t\t// need to update ids collection\r\n\t\t\t\tvar related_zones = scheduler._marked_timespans_ids[d_t.id];\r\n\t\t\t\tfor (var k=0; k<related_zones.length; k++) {\r\n\t\t\t\t\tif (related_zones[k] == d_t) {\r\n\t\t\t\t\t\trelated_zones.splice(k, 1);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tscheduler.deleteMarkedTimespan = function(configuration) {\r\n\t\t// delete everything\r\n\t\tif (!arguments.length) {\r\n\t\t\tscheduler._marked_timespans = { global: {} };\r\n\t\t\tscheduler._marked_timespans_ids = {};\r\n\t\t\tscheduler._marked_timespans_types = {};\r\n\t\t}\r\n\r\n\t\tif (typeof configuration != \"object\") { // id was passed\r\n\t\t\tscheduler._delete_marked_timespan_by_id(configuration);\r\n\t\t} else { // normal configuration was passed\r\n\r\n\t\t\tif(!(configuration.start_date && configuration.end_date)){\r\n\t\t\t\tif(configuration.days === undefined && !configuration.type)\r\n\t\t\t\t\tconfiguration.days = \"fullweek\";\r\n\t\t\t\tif(!configuration.zones)\r\n\t\t\t\t\tconfiguration.zones = \"fullday\";\r\n\t\t\t}\r\n\r\n\t\t\tvar types = [];\r\n\t\t\tif(!configuration.type){\r\n\t\t\t\t//if type not specified - delete timespans of all types\r\n\t\t\t\tfor(var type in scheduler._marked_timespans_types){\r\n\t\t\t\t\ttypes.push(type);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\ttypes.push(configuration.type);\r\n\t\t\t}\r\n\r\n\r\n\t\t\tvar configs = scheduler._prepare_timespan_options(configuration);\r\n\r\n\t\t\tfor (var i=0; i<configs.length; i++) {\r\n\r\n\t\t\t\tvar config = configs[i];\r\n\t\t\t\tfor( var t=0; t < types.length; t++){\r\n\t\t\t\t\tvar typedConfig = scheduler._lame_clone(config);\r\n\t\t\t\t\ttypedConfig.type = types[t];\r\n\t\t\t\t\tscheduler._delete_marked_timespan_by_config(typedConfig);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t};\r\n\tscheduler._get_types_to_render = function(common, specific) {\r\n\t\tvar types_to_render = (common) ? scheduler._lame_copy({},common) : {};\r\n\t\tfor (var type in specific||{} ) {\r\n\t\t\tif (specific.hasOwnProperty(type)) {\r\n\t\t\t\ttypes_to_render[type] = specific[type];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn types_to_render;\r\n\t};\r\n\tscheduler._get_configs_to_render = function(types) {\r\n\t\tvar configs = [];\r\n\t\tfor (var type in types) {\r\n\t\t\tif (types.hasOwnProperty(type)) {\r\n\t\t\t\tconfigs.push.apply(configs, types[type]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn configs;\r\n\t};\r\n\r\n\tscheduler._on_scale_add_marker = function(area, day){\r\n\t\tif (scheduler._table_view && scheduler._mode != \"month\")\r\n\t\t\treturn;\r\n\r\n\t\tvar day_index = day.getDay();\r\n\t\tvar day_value = day.valueOf();\r\n\t\tvar mode = this._mode;\r\n\t\tvar timespans = scheduler._marked_timespans;\r\n\t\tvar r_configs = [];\r\n\t\tvar divs = [];\r\n\t\tif (this._props && this._props[mode]) { // we are in the units view and need to draw it's sections as well\r\n\t\t\tvar view = this._props[mode]; // units view object\r\n\t\t\tvar units = view.options;\r\n\t\t\tvar index = scheduler._get_unit_index(view, day);\r\n\t\t\tvar unit = units[index]; // key, label\r\n\r\n\t\t\tif(!(view.days > 1)){\r\n\t\t\t\tday = scheduler.date.date_part(new Date(this._date)); // for units view actually only 1 day is displayed yet the day variable will change, need to use this._date for all calls\r\n\t\t\t}else{\r\n\t\t\t\tvar dx = 24*60*60*1000;\r\n\t\t\t\tvar day_ind = Math.round((day - scheduler._min_date)/dx);\r\n\t\t\t\tvar unitsPerDay = view.size || units.length;\r\n\t\t\t\tday = scheduler.date.add(scheduler._min_date, Math.floor(day_ind/unitsPerDay), \"day\"); // to the \"same\" day for all sections\r\n\t\t\t\tday = scheduler.date.date_part(day);\r\n\t\t\t}\r\n\t\t\tday_index = day.getDay();\r\n\t\t\tday_value = day.valueOf();\r\n\r\n\t\t\tif (timespans[mode] && timespans[mode][unit.key]) {\r\n\t\t\t\tvar unit_zones = timespans[mode][unit.key];\r\n\t\t\t\tvar unit_types = scheduler._get_types_to_render(unit_zones[day_index], unit_zones[day_value]);\r\n\t\t\t\tr_configs.push.apply(r_configs, scheduler._get_configs_to_render(unit_types));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar global_data = timespans[\"global\"];\r\n\r\n\t\tif(scheduler.config.overwrite_marked_timespans){\r\n\t\t\tvar day_types = global_data[day_value]||global_data[day_index];\r\n\t\t\tr_configs.push.apply(r_configs, scheduler._get_configs_to_render(day_types));\r\n\t\t} else {\r\n\t\t\tif(global_data[day_value]){\r\n\t\t\t\tr_configs.push.apply(r_configs, scheduler._get_configs_to_render(global_data[day_value]));\r\n\t\t\t}\r\n\t\t\tif(global_data[day_index]){\r\n\t\t\t\tr_configs.push.apply(r_configs, scheduler._get_configs_to_render(global_data[day_index]));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var i=0; i<r_configs.length; i++) {\r\n\t\t\tdivs.push.apply(divs, (scheduler._render_marked_timespan(r_configs[i], area, day)));\r\n\t\t}\r\n\t\treturn divs;\r\n\t};\r\n\tscheduler.attachEvent(\"onScaleAdd\", function(){\r\n\t\tscheduler._on_scale_add_marker.apply(scheduler, arguments);\r\n\t});\r\n\r\n\tscheduler.dblclick_dhx_marked_timespan = function(e,src){\r\n\t\tscheduler.callEvent(\"onScaleDblClick\",[scheduler.getActionData(e).date,src,e]);\r\n\r\n\t\tif (scheduler.config.dblclick_create){\r\n\t\t\tscheduler.addEventNow(scheduler.getActionData(e).date,null,e);\r\n\t\t}\r\n\t};\r\n\r\n}","var uidSeed = Date.now();\r\nfunction uid () {\r\n\treturn uidSeed++;\r\n}\r\n\r\n// iframe-safe array type check instead of using instanceof\r\nfunction isArray(obj){\r\n\tif(Array.isArray){\r\n\t\treturn Array.isArray(obj);\r\n\t}else{\r\n\t\t// close enough\r\n\t\treturn (obj && obj.length !== undefined && obj.pop && obj.push);\r\n\t}\r\n}\r\n\r\n// non-primitive string object, e.g. new String(\"abc\")\r\nfunction isStringObject(obj){\r\n\treturn obj && typeof obj === \"object\" && \r\n\t\tFunction.prototype.toString.call(obj.constructor) === \"function String() { [native code] }\";\r\n}\r\n\r\n// non-primitive number object, e.g. new Number(5)\r\nfunction isNumberObject(obj){\r\n\treturn obj && typeof obj === \"object\" && \r\n\t\tFunction.prototype.toString.call(obj.constructor) === \"function Number() { [native code] }\";\r\n}\r\n\r\n// non-primitive number object, e.g. new Boolean(true)\r\nfunction isBooleanObject(obj){\r\n\treturn obj && typeof obj === \"object\" &&\r\n\t\tFunction.prototype.toString.call(obj.constructor) === \"function Boolean() { [native code] }\";\r\n}\r\n\r\nfunction isDate(obj) {\r\n\tif (obj && typeof obj === \"object\") {\r\n\t\treturn !!(obj.getFullYear && obj.getMonth && obj.getDate);\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nfunction defined(obj) {\r\n\treturn typeof(obj) != \"undefined\";\r\n}\r\n\r\nfunction delay (callback, timeout){\r\n\tvar timer;\r\n\r\n\tvar result = function() {\r\n\t\tresult.$cancelTimeout();\r\n\t\tresult.$pending = true;\r\n\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\ttimer = setTimeout(function(){\r\n\t\t\tcallback.apply(this, args);\r\n\t\t\tresult.$pending = false;\r\n\t\t}, timeout);\r\n\t};\r\n\r\n\tresult.$pending = false;\r\n\tresult.$cancelTimeout = function(){\r\n\t\tclearTimeout(timer);\r\n\t\tresult.$pending = false;\r\n\t};\r\n\tresult.$execute = function(){\r\n\t\tvar args = Array.prototype.slice.call(arguments);\r\n\t\tcallback.apply(this, args);\r\n\t\tresult.$cancelTimeout();\r\n\t};\r\n\r\n\treturn result;\r\n}\r\n\r\nexport default {\r\n\tuid: uid,\r\n\tmixin: function mixin (target, source, force){\r\n\t\tfor (var f in source)\r\n\t\t\tif (((target[f] === undefined) || force)) target[f]=source[f];\r\n\t\treturn target;\r\n\t},\r\n\tcopy: function copy(object) {\r\n\t\tvar i, result; // iterator, types array, result\r\n\t\r\n\t\tif (object && typeof object == \"object\") {\r\n\t\r\n\t\t\tswitch (true){\r\n\t\t\t\tcase (isDate(object)):\r\n\t\t\t\t\tresult = new Date(object);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase (isArray(object)):\r\n\t\t\t\t\tresult = new Array(object.length);\r\n\t\t\t\t\tfor(i = 0; i < object.length; i++){\r\n\t\t\t\t\t\tresult[i] = copy(object[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase (isStringObject(object)):\r\n\t\t\t\t\tresult = new String(object);// jshint ignore:line\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase (isNumberObject(object)):\r\n\t\t\t\t\tresult = new Number(object);// jshint ignore:line\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase (isBooleanObject(object)):\r\n\t\t\t\t\tresult = new Boolean(object);// jshint ignore:line\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tresult = {};\r\n\t\t\t\t\tfor (i in object) {\r\n\t\t\t\t\t\tconst varType = typeof object[i];\r\n\r\n\t\t\t\t\t\tif (varType === \"string\" || varType === \"number\" || varType === \"boolean\" ) {\r\n\t\t\t\t\t\t\tresult[i] = object[i];\r\n\t\t\t\t\t\t} else if(isDate(object[i])){\r\n\t\t\t\t\t\t\tresult[i] = new Date(object[i]);\r\n\t\t\t\t\t\t}else if (Object.prototype.hasOwnProperty.apply(object, [i]))\r\n\t\t\t\t\t\t\tresult[i] = copy(object[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result || object;\r\n\t},\r\n\tdefined,\r\n\tisDate,\r\n\tdelay\r\n};\r\n","export default function extend(scheduler) {\r\n\r\nfunction div(className){\r\n\tvar element = document.createElement(\"div\");\r\n\tvar classes = (className || \"\").split(\" \");\r\n\tclasses.forEach(function(cssClass){\r\n\t\telement.classList.add(cssClass);\r\n\t});\r\n\treturn element;\r\n}\r\nvar itemTypes = {\r\n\trows_container: function(){\r\n\t\treturn div(\"dhx_cal_navbar_rows_container\");\r\n\t},\r\n\trow: function(){\r\n\t\treturn div(\"dhx_cal_navbar_row\");\r\n\t},\r\n\tview: function (config) {\r\n\t\tvar element = div(\"dhx_cal_tab\");\r\n\t\telement.setAttribute(\"name\", config.view + \"_tab\");\r\n\t\telement.setAttribute(\"data-tab\", config.view);\r\n\t\t// element.setAttribute(\"data-viewname\", config.view); // FIXME: need to remove? not used anywhere\r\n\t\tif(scheduler.config.fix_tab_position){\r\n\t\t\tif(config.$firstTab) {\r\n\t\t\t\telement.classList.add(\"dhx_cal_tab_first\");\r\n\t\t\t}else if(config.$lastTab) {\r\n\t\t\t\telement.classList.add(\"dhx_cal_tab_last\");\r\n\t\t\t} else if(config.view !== \"week\") {\r\n\t\t\t\telement.classList.add(\"dhx_cal_tab_standalone\");\r\n\t\t\t}\r\n\r\n\t\t\tif(config.$segmentedTab) {\r\n\t\t\t\telement.classList.add(\"dhx_cal_tab_segmented\");\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn element;\r\n\t},\r\n\tdate: function () {\r\n\t\treturn div(\"dhx_cal_date\");\r\n\t},\r\n\tbutton: function (config) {\r\n\t\treturn div(\"dhx_cal_nav_button dhx_cal_nav_button_custom dhx_cal_tab\");\r\n\t},\r\n\tbuiltInButton: function (config){\r\n\t\treturn div(\"dhx_cal_\" + config.view + \"_button dhx_cal_nav_button\");\r\n\t},\r\n\tspacer: function () {\r\n\t\treturn div(\"dhx_cal_line_spacer\");\r\n\t},\r\n\tminicalendarButton: function(config){\r\n\t\tvar minicalendarDiv = div('dhx_minical_icon');\r\n\t\tif(!config.click && !minicalendarDiv.$_eventAttached){\r\n\t\t\t\r\n\t\t\tscheduler.event(minicalendarDiv, \"click\", function () {\r\n\t\t\t\tif (scheduler.isCalendarVisible()) {\r\n\t\t\t\t\tscheduler.destroyCalendar();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tscheduler.renderCalendar({\r\n\t\t\t\t\t\tposition: this,\r\n\t\t\t\t\t\tdate: scheduler.getState().date,\r\n\t\t\t\t\t\tnavigation: true,\r\n\t\t\t\t\t\thandler: function (date, calendar) {\r\n\t\t\t\t\t\t\tscheduler.setCurrentView(date);\r\n\t\t\t\t\t\t\tscheduler.destroyCalendar();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn minicalendarDiv;\r\n\t},\r\n\thtml_element: function (config) {\r\n\t\treturn div(\"dhx_cal_nav_content\");\r\n\t}\r\n};\r\n\r\nfunction findRenderer(config) {\r\n\tvar renderer;\r\n\tif (config.view) {\r\n\t\tswitch (config.view){\r\n\t\t\tcase \"today\":\r\n\t\t\tcase \"next\":\r\n\t\t\tcase \"prev\":\r\n\t\t\t\trenderer = itemTypes.builtInButton;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"date\":\r\n\t\t\t\trenderer = itemTypes.date;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"spacer\":\r\n\t\t\t\trenderer = itemTypes.spacer;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"button\":\r\n\t\t\t\trenderer = itemTypes.button;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"minicalendar\":\r\n\t\t\t\trenderer = itemTypes.minicalendarButton;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\trenderer = itemTypes.view;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t} else if(config.rows) {\r\n\t\trenderer = itemTypes.rows_container;\r\n\t} else if(config.cols) {\r\n\t\trenderer = itemTypes.row;\r\n\t}\r\n\treturn renderer;\r\n}\r\n\r\nfunction renderElement(config){\r\n\tvar renderer = findRenderer(config);\r\n\tif(!renderer){\r\n\t\treturn;\r\n\t}\r\n\tvar element = renderer(config);\r\n\tif(config.css){\r\n\t\telement.classList.add(config.css);\r\n\t}\r\n\tif(config.width){\r\n\t\tvar value = config.width;\r\n\t\tif(value === value * 1){\r\n\t\t\tvalue += \"px\";\r\n\t\t}\r\n\t\telement.style.width = value;\r\n\t}\r\n\tif(config.height){\r\n\t\tvar value = config.height;\r\n\t\tif(value === value * 1){\r\n\t\t\tvalue += \"px\";\r\n\t\t}\r\n\t\telement.style.height = value;\r\n\t}\r\n\tif (config.click) {\r\n\t\tscheduler.event(element, \"click\", config.click);\r\n\t}\r\n\tif (config.html) {\r\n\t\telement.innerHTML = config.html;\r\n\t}\r\n\r\n\tif (config.align) {\r\n\t\tvar value = \"\";\r\n\t\tif (config.align == \"right\") {\r\n\t\t\tvalue = \"flex-end\";\r\n\t\t} else if(config.align == \"left\") {\r\n\t\t\tvalue = \"flex-start\";\r\n\t\t}\r\n\t\telement.style.justifyContent = value;\r\n\t}\r\n\treturn element;\r\n}\r\n\r\nfunction prepareConfig(config) {\r\n\tif (typeof config === \"string\") {\r\n\t\tconfig = {\r\n\t\t\tview: config\r\n\t\t};\r\n\t}\r\n\tif (!config.view && !config.rows && !config.cols) {\r\n\t\tconfig.view = \"button\";\r\n\t}\r\n\treturn config;\r\n}\r\n\r\nfunction renderLayout(config) {\r\n\tvar fragment = document.createDocumentFragment();\r\n\tvar items;\r\n\tif(Array.isArray(config)){\r\n\t\titems = config;\r\n\t}else{\r\n\t\titems = [config];\r\n\t}\r\n\r\n\tfor (var i = 0; i < items.length; i++) {\r\n\t\tvar view = prepareConfig(items[i]);\r\n\r\n\t\tif(view.view === \"day\" && items[i + 1]){\r\n\t\t\tvar next = prepareConfig(items[i + 1]);\r\n\t\t\tif(next.view === \"week\" || next.view === \"month\"){\r\n\t\t\t\tview.$firstTab = true;\r\n\t\t\t\tview.$segmentedTab = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(view.view === \"week\" && items[i - 1]){\r\n\t\t\tvar next = prepareConfig(items[i + 1]);\r\n\t\t\tif(next.view === \"week\" || next.view === \"month\"){\r\n\t\t\t\tview.$segmentedTab = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(view.view === \"month\" && items[i - 1]){\r\n\t\t\tvar next = prepareConfig(items[i - 1]);\r\n\t\t\tif(next.view === \"week\" || next.view === \"day\"){\r\n\t\t\t\tview.$lastTab = true;\r\n\t\t\t\tview.$segmentedTab = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar element = renderElement(view);\r\n\r\n\t\tfragment.appendChild(element);\r\n\t\tif(view.cols || view.rows){\r\n\t\t\telement.appendChild(renderLayout(view.cols || view.rows));\r\n\t\t}\r\n\t}\r\n\treturn fragment;\r\n}\r\n\r\nscheduler._init_nav_bar = function (items) {\r\n\tvar navBar = this.$container.querySelector(\".dhx_cal_navline\");\r\n\tif (!navBar){\r\n\t\tnavBar = document.createElement(\"div\");\r\n\t\tnavBar.className = \"dhx_cal_navline dhx_cal_navline_flex\";\r\n\t\tscheduler._update_nav_bar(items, navBar);\r\n\t\treturn navBar;\r\n\t}\r\n\treturn navBar;\r\n};\r\n\r\nvar previousNavbar = null;\r\nvar previousHeight = null;\r\nscheduler._update_nav_bar = function (config, container) {\r\n\r\n\tif(!config){\r\n\t\treturn;\r\n\t}\r\n\tvar heightChanged = false;\r\n\tvar configChanged = false;\r\n\r\n\tvar newHeight = config.height || scheduler.xy.nav_height;\r\n\r\n\tif(previousHeight === null ||\r\n\t\t\t(previousHeight !== newHeight)){\r\n\t\theightChanged = true;\r\n\t}\r\n\tif(!previousNavbar || JSON.stringify(config) !== previousNavbar){\r\n\t\tconfigChanged = true;\r\n\t}\r\n\r\n\tif(heightChanged){\r\n\t\tscheduler.xy.nav_height = newHeight;\r\n\t}\r\n\tif(configChanged){\r\n\t\tcontainer.innerHTML = \"\";\r\n\t\tcontainer.appendChild(renderLayout(config));\r\n\t}\r\n\r\n\tif(heightChanged || configChanged){\r\n\t\tscheduler.unset_actions();\r\n\t\tscheduler._els = [];\r\n\t\tscheduler.get_elements();\r\n\t\tscheduler.set_actions();\r\n\t}\r\n\r\n\tif(newHeight === 0){\r\n\t\tcontainer.style.display = \"none\";\r\n\t}else{\r\n\t\tcontainer.style.display = \"\";\r\n\t}\r\n\r\n\tpreviousHeight = newHeight;\r\n};\r\n\r\n}","class EventHost {\r\n\tconstructor(){\r\n\t\tthis._silent_mode = false;\r\n\t\tthis.listeners = {};\r\n\t}\r\n\t_silentStart(){\r\n\t\tthis._silent_mode = true;\r\n\t}\r\n\t_silentEnd() {\r\n\t\tthis._silent_mode = false;\r\n\t}\r\n}\r\n\r\nconst createEventStorage = function(obj) {\r\n\tlet handlers = {};\r\n\tlet index = 0;\r\n\tconst eventStorage = function(){\r\n\t\tlet combinedResult = true;\r\n\t\tfor(const i in handlers){\r\n\t\t\tconst handlerResult = handlers[i].apply(obj, arguments);\r\n\t\t\tcombinedResult=combinedResult && handlerResult;\r\n\t\t}\r\n\t\treturn combinedResult;\r\n\t};\r\n\teventStorage.addEvent=function(handler, settings){\r\n\t\tif (typeof (handler) == \"function\"){\r\n\t\t\tlet handlerId;\r\n\t\t\tif(settings && settings.id){\r\n\t\t\t\thandlerId = settings.id;\r\n\t\t\t}else{\r\n\t\t\t\thandlerId = index;\r\n\t\t\t\tindex++;\r\n\t\t\t}\r\n\r\n\t\t\tif(settings && settings.once){\r\n\t\t\t\tconst originalHandler = handler;\r\n\t\t\t\thandler = function(){\r\n\t\t\t\t\toriginalHandler();\r\n\t\t\t\t\teventStorage.removeEvent(handlerId);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\thandlers[handlerId] = handler;\r\n\t\t\treturn handlerId;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\teventStorage.removeEvent=function(id){\r\n\t\tdelete handlers[id];\r\n\t};\r\n\r\n\teventStorage.clear = function(){\r\n\t\thandlers = {};\r\n\t};\r\n\r\n\treturn eventStorage;\r\n};\r\n\r\nfunction makeEventable(obj){\r\n\r\n\tconst eventHost = new EventHost();\r\n\tobj.attachEvent=function(eventName, handler, settings){\r\n\t\teventName = 'ev_'+eventName.toLowerCase();\r\n\t\tif (!eventHost.listeners[eventName]){\r\n\t\t\teventHost.listeners[eventName] = createEventStorage(this);\r\n\t\t}\r\n\r\n\t\tif(settings && settings.thisObject){\r\n\t\t\thandler = handler.bind(settings.thisObject);\r\n\t\t}\r\n\r\n\t\tconst innerId = eventHost.listeners[eventName].addEvent(handler, settings);\r\n\r\n\t\tlet handlerId = (eventName+':'+innerId); //return ID (ev_eventname:1)\r\n\t\tif(settings && settings.id){\r\n\t\t\thandlerId = settings.id;\r\n\t\t}\r\n\t\treturn handlerId;\r\n\t};\r\n\r\n\tobj.attachAll = function(callback){\r\n\t\tthis.attachEvent('listen_all', callback);\r\n\t};\r\n\r\n\tobj.callEvent=function(name, eventArguments){\r\n\t\tif (eventHost._silent_mode) return true;\r\n\r\n\t\tconst handlerName = 'ev_'+name.toLowerCase();\r\n\r\n\t\tconst listeners = eventHost.listeners;\r\n\t\tif (listeners['ev_listen_all']){\r\n\t\t\tlisteners['ev_listen_all'].apply(this, [name].concat(eventArguments));\r\n\t\t}\r\n\r\n\t\tif (listeners[handlerName])\r\n\t\t\treturn listeners[handlerName].apply(this, eventArguments);\r\n\t\treturn true;\r\n\t};\r\n\r\n\tobj.checkEvent=function(name){\r\n\t\tconst listeners = eventHost.listeners;\r\n\t\treturn (!!listeners['ev_'+name.toLowerCase()]);\r\n\t};\r\n\r\n\tobj.detachEvent=function(id){\r\n\t\tif (id){\r\n\t\t\tlet listeners = eventHost.listeners;\r\n\t\t\tfor(const i in listeners){\r\n\t\t\t\tlisteners[i].removeEvent(id); //remove event\r\n\t\t\t}\r\n\r\n\t\t\tconst list = id.split(':');//get EventName and ID\r\n\t\t\tlisteners = eventHost.listeners;\r\n\t\t\tif(list.length === 2){\r\n\t\t\t\tconst eventName = list[0];\r\n\t\t\t\tconst eventId = list[1];\r\n\t\t\t\tif(listeners[eventName]){\r\n\t\t\t\t\tlisteners[eventName].removeEvent(eventId); //remove event\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tobj.detachAllEvents = function(){\r\n\t\tfor (const name in eventHost.listeners) {\r\n\t\t\teventHost.listeners[name].clear();\r\n\t\t}\r\n\t};\r\n\r\n}\r\n\r\nexport default makeEventable;","export default {\r\n\tevent: function (el, event, handler){\r\n\t\tif (el.addEventListener)\r\n\t\t\tel.addEventListener(event, handler, false);\r\n\t\r\n\t\telse if (el.attachEvent)\r\n\t\t\tel.attachEvent(\"on\"+event, handler);\r\n\t},\r\n\teventRemove: function (el, event, handler){\r\n\t\tif (el.removeEventListener)\r\n\t\t\tel.removeEventListener(event, handler, false);\r\n\t\r\n\t\telse if (el.detachEvent)\r\n\t\t\tel.detachEvent(\"on\"+event, handler);\r\n\t}\r\n};","//returns position of html element on the page\r\nfunction elementPosition(elem) {\r\n\tvar top=0, left=0, right=0, bottom=0;\r\n\tif (elem.getBoundingClientRect) { //HTML5 method\r\n\t\tvar box = elem.getBoundingClientRect();\r\n\t\tvar body = document.body;\r\n\t\tvar docElem = (document.documentElement ||\r\n\t\t\tdocument.body.parentNode ||\r\n\t\t\tdocument.body);\r\n\r\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\r\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\r\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\r\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n\t\ttop  = box.top +  scrollTop - clientTop;\r\n\t\tleft = box.left + scrollLeft - clientLeft;\r\n\r\n\t\tright = document.body.offsetWidth - box.right;\r\n\t\tbottom = document.body.offsetHeight - box.bottom;\r\n\t} else { //fallback to naive approach\r\n\t\twhile(elem) {\r\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\r\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\r\n\t\t\telem = elem.offsetParent;\r\n\t\t}\r\n\r\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\r\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\r\n\t}\r\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\r\n}\r\n\r\n/*\r\nevent position relatively to DOM element\r\n */\r\nfunction getRelativeEventPosition(ev, node){\r\n\tvar d = document.documentElement;\r\n\tvar box = elementPosition(node);\r\n\r\n\treturn {\r\n\t\tx: ev.clientX - d.clientLeft - box.x + node.scrollLeft,\r\n\t\ty: ev.clientY - d.clientTop - box.y + node.scrollTop\r\n\t};\r\n}\r\n\r\nfunction getNodePosition(elem) {\r\n\tvar top=0, left=0, right=0, bottom=0;\r\n\tif (elem.getBoundingClientRect) { //HTML5 method\r\n\t\tvar box = elem.getBoundingClientRect();\r\n\t\tvar body = document.body;\r\n\t\tvar docElem = (document.documentElement ||\r\n\t\t\tdocument.body.parentNode ||\r\n\t\t\tdocument.body);\r\n\r\n\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\r\n\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\r\n\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\r\n\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n\t\ttop  = box.top +  scrollTop - clientTop;\r\n\t\tleft = box.left + scrollLeft - clientLeft;\r\n\r\n\t\tright = document.body.offsetWidth - box.right;\r\n\t\tbottom = document.body.offsetHeight - box.bottom;\r\n\t} else { //fallback to naive approach\r\n\t\twhile(elem) {\r\n\t\t\ttop = top + parseInt(elem.offsetTop,10);\r\n\t\t\tleft = left + parseInt(elem.offsetLeft,10);\r\n\t\t\telem = elem.offsetParent;\r\n\t\t}\r\n\r\n\t\tright = document.body.offsetWidth - elem.offsetWidth - left;\r\n\t\tbottom = document.body.offsetHeight - elem.offsetHeight - top;\r\n\t}\r\n\treturn { y: Math.round(top), x: Math.round(left), width:elem.offsetWidth, height:elem.offsetHeight, right: Math.round(right), bottom: Math.round(bottom) };\r\n}\r\n\r\nfunction getClassName(node){\r\n\tif(!node) return \"\";\r\n\r\n\tvar className = node.className || \"\";\r\n\tif(className.baseVal)//'className' exist but not a string - IE svg element in DOM\r\n\t\tclassName = className.baseVal;\r\n\r\n\tif(!className.indexOf)\r\n\t\tclassName = '';\r\n\r\n\treturn className || \"\";\r\n}\r\n\r\nfunction getTargetNode(e) {\r\n\tvar trg;\r\n\tif (e.tagName)\r\n\t\ttrg = e;\r\n\telse {\r\n\t\te = e || window.event;\r\n\t\ttrg = e.target || e.srcElement;\r\n\t\tif (trg.shadowRoot && e.composedPath) {\r\n\t\t\ttrg = e.composedPath()[0];\r\n\t\t}\r\n\t}\r\n\treturn trg;\r\n}\r\n\r\nfunction locateCss(e, classname, strict){\r\n\tif(strict === undefined)\r\n\t\tstrict = true;\r\n\r\n\tvar trg = e.target || e.srcElement;\r\n\tvar css = '';\r\n\r\n\twhile (trg){\r\n\t\tcss = getClassName(trg);\r\n\r\n\t\tif(css){\r\n\t\t\tvar ind = css.indexOf(classname);\r\n\t\t\tif (ind >= 0){\r\n\t\t\t\tif (!strict)\r\n\t\t\t\t\treturn trg;\r\n\r\n\t\t\t\t//check that we have exact match\r\n\t\t\t\tvar left = (ind === 0) || (!((css.charAt(ind - 1)||\"\").trim()));\r\n\t\t\t\tvar right = ((ind + classname.length >= css.length)) || (!((css.charAt(ind + classname.length)).trim()));\r\n\r\n\t\t\t\tif (left && right)\r\n\t\t\t\t\treturn trg;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttrg=trg.parentNode;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n\r\n// get focusable nodes\r\nfunction isVisible(node){\r\n\tvar display = false,\r\n\t\tvisibility = false;\r\n\tif(window.getComputedStyle){\r\n\t\tvar style = window.getComputedStyle(node, null);\r\n\t\tdisplay = style[\"display\"];\r\n\t\tvisibility = style[\"visibility\"];\r\n\t}else if(node.currentStyle){\r\n\t\tdisplay = node.currentStyle[\"display\"];\r\n\t\tvisibility = node.currentStyle[\"visibility\"];\r\n\t}\r\n\r\n\tvar hiddenSection = false;\r\n\tvar recurringSection = locateCss({target:node}, \"dhx_form_repeat\", false);\r\n\tif(recurringSection){\r\n\t\thiddenSection = !!(recurringSection.style.height == \"0px\");\r\n\t}\r\n\thiddenSection = hiddenSection || !(node.offsetHeight);\r\n\r\n\treturn (display != \"none\" && visibility != \"hidden\" && !hiddenSection);\r\n}\r\n\r\nfunction hasNonNegativeTabIndex(node){\r\n\treturn !isNaN(node.getAttribute(\"tabindex\")) && (node.getAttribute(\"tabindex\")*1 >= 0);\r\n}\r\n\r\nfunction hasHref(node){\r\n\tvar canHaveHref = {\"a\": true, \"area\": true};\r\n\tif(canHaveHref[node.nodeName.loLowerCase()]){\r\n\t\treturn !!node.getAttribute(\"href\");\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction isEnabled(node){\r\n\tvar canDisable = {\"input\":true, \"select\":true, \"textarea\":true, \"button\":true, \"object\":true};\r\n\tif(canDisable[node.nodeName.toLowerCase()]){\r\n\t\treturn !node.hasAttribute(\"disabled\");\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\n\r\nfunction getFocusableNodes(root){\r\n\tvar nodes = root.querySelectorAll([\r\n\t\t\"a[href]\",\r\n\t\t\"area[href]\",\r\n\t\t\"input\",\r\n\t\t\"select\",\r\n\t\t\"textarea\",\r\n\t\t\"button\",\r\n\t\t\"iframe\",\r\n\t\t\"object\",\r\n\t\t\"embed\",\r\n\t\t\"[tabindex]\",\r\n\t\t\"[contenteditable]\"\r\n\t].join(\", \"));\r\n\r\n\tvar nodesArray = Array.prototype.slice.call(nodes, 0);\r\n\t\r\n\tfor(var i = 0; i < nodesArray.length; i++){\r\n\t\tnodesArray[i].$position = i;\r\n\t\t// we remember original nodes order, \r\n\t\t// so when we sort them by tabindex we ensure order of nodes with same tabindex is preserved, \r\n\t\t// since some browsers do unstable sort\r\n\t}\r\n\t\r\n\tnodesArray.sort(function(a, b) {\r\n\t\tif(a.tabIndex === 0 && b.tabIndex !== 0){\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif(a.tabIndex !== 0 && b.tabIndex === 0){\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\t\r\n\t\tif (a.tabIndex === b.tabIndex){\r\n\t\t\t// ensure we do stable sort\r\n\t\t\treturn a.$position - b.$position;\r\n\t\t}\r\n\t\tif (a.tabIndex < b.tabIndex) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\treturn 1;\r\n\t});\r\n\t\r\n\tfor(var i = 0; i < nodesArray.length; i++){\r\n\t\tvar node = nodesArray[i];\r\n\t\tvar isValid = (hasNonNegativeTabIndex(node)  || isEnabled(node) || hasHref(node)) && isVisible(node);\r\n\t\tif(!isValid){\r\n\t\t\tnodesArray.splice(i, 1);\r\n\t\t\ti--;\r\n\t\t}\r\n\t}\r\n\treturn nodesArray;\r\n}\r\n\r\n\r\nfunction isShadowDomSupported() {\r\n\treturn document.head.createShadowRoot || document.head.attachShadow;\r\n}\r\n\r\n/**\r\n * Returns element that has the browser focus, or null if no element has focus.\r\n * Works with shadow DOM, so it's prefereed to use this function instead of document.activeElement directly.\r\n * @returns HTMLElement\r\n */\r\nfunction getActiveElement(){\r\n\tvar activeElement = document.activeElement;\r\n\tif (activeElement.shadowRoot) {\r\n\t\tactiveElement = activeElement.shadowRoot.activeElement;\r\n\t}\r\n\tif (activeElement === document.body && document.getSelection) {\r\n\t\tactiveElement = document.getSelection().focusNode || document.body;\r\n\t}\r\n\r\n\treturn activeElement;\r\n}\r\n\r\n/**\r\n * Returns document.body or the host node of the ShadowRoot, if the element is attached to ShadowDom\r\n * @param {HTMLElement} element \r\n * @returns HTMLElement\r\n */\r\nfunction getRootNode(element) {\r\n\tif (!element) {\r\n\t\treturn document.body;\r\n\t}\r\n\tif (!isShadowDomSupported()) {\r\n\t\treturn document.body;\r\n\t}\r\n\twhile (element.parentNode && (element = element.parentNode)) {\r\n\t\tif (element instanceof ShadowRoot) {\r\n\t\t\treturn element.host;\r\n\t\t}\r\n\t}\r\n\treturn document.body;\r\n}\r\n\r\nfunction hasShadowParent(element) {\r\n\treturn !!getRootNode(element);\r\n}\r\n\r\nexport default {\r\n\t/**\r\n\t *     @desc: Calculate absolute position of html object\r\n\t *     @type: private\r\n\t *     @param: htmlObject - html object\r\n\t *     @topic: 0\r\n\t */\r\n\tgetAbsoluteLeft: function getAbsoluteLeft(htmlObject){\r\n\t\treturn this.getOffset(htmlObject).left;\r\n\t},\r\n\t/**\r\n\t *     @desc: Calculate absolute position of html object\r\n\t *     @type: private\r\n\t *     @param: htmlObject - html object\r\n\t *     @topic: 0\r\n\t */\r\n\tgetAbsoluteTop: function getAbsoluteTop(htmlObject){\r\n\t\treturn this.getOffset(htmlObject).top;\r\n\t},\r\n\r\n\tgetOffsetSum: function getOffsetSum(elem) {\r\n\t\tvar top=0, left=0;\r\n\t\twhile(elem) {\r\n\t\t\ttop = top + parseInt(elem.offsetTop);\r\n\t\t\tleft = left + parseInt(elem.offsetLeft);\r\n\t\t\telem = elem.offsetParent;\r\n\t\t}\r\n\t\treturn {top: top, left: left};\r\n\t},\r\n\r\n\tgetOffsetRect: function getOffsetRect(elem) {\r\n\t\tvar box = elem.getBoundingClientRect();\r\n\r\n\t\tvar top = 0,\r\n\t\t\tleft = 0;\r\n\r\n\t\t// https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent#Mobile_Tablet_or_Desktop\r\n\t\tif (!/Mobi/.test(navigator.userAgent)) {\r\n\t\t\tvar body = document.body;\r\n\t\t\tvar docElem = document.documentElement;\r\n\t\t\tvar scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop;\r\n\t\t\tvar scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft;\r\n\t\t\tvar clientTop = docElem.clientTop || body.clientTop || 0;\r\n\t\t\tvar clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n\r\n\t\t\ttop  = box.top +  scrollTop - clientTop;\r\n\t\t\tleft = box.left + scrollLeft - clientLeft;\r\n\t\t}else {\r\n\t\t\t// incorrect left coordinate on mobile zoom\r\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=489206\r\n\r\n\t\t\tvar dummy = document.createElement(\"div\");\r\n\t\t\tdummy.style.position=\"absolute\";\r\n\t\t\tdummy.style.left=\"0px\";\r\n\t\t\tdummy.style.top=\"0px\";\r\n\t\t\tdummy.style.width=\"1px\";\r\n\t\t\tdummy.style.height = \"1px\";\r\n\r\n\t\t\tdocument.body.appendChild(dummy);\r\n\t\t\tvar dummyBox = dummy.getBoundingClientRect();\r\n\t\t\ttop  = box.top - dummyBox.top;\r\n\t\t\tleft = box.left - dummyBox.left;\r\n\r\n\t\t\tdummy.parentNode.removeChild(dummy);\r\n\t\t}\r\n\r\n\t\treturn { top: Math.round(top), left: Math.round(left) };\r\n\t},\r\n\r\n\tgetOffset: function getOffset(elem) {\r\n\t\tif (elem.getBoundingClientRect) {\r\n\t\t\treturn this.getOffsetRect(elem);\r\n\t\t} else {\r\n\t\t\treturn this.getOffsetSum(elem);\r\n\t\t}\r\n\t},\r\n\r\n\tclosest: function(element, selector){\r\n\t\tif(!element || !selector){\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn closest(element, selector);\r\n\t},\r\n\tinsertAfter: function(newNode, referenceNode){\r\n\t\tif(referenceNode.nextSibling){\r\n\t\t\treferenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\r\n\t\t}else{\r\n\t\t\treferenceNode.parentNode.appendChild(newNode);\r\n\t\t}\r\n\t},\r\n\tremove: function(node) {\r\n\t\tif (node && node.parentNode) {\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t}\r\n\t},\r\n\tisChildOf: function(child, parent) {\r\n\t\treturn parent.contains(child);\r\n\t},\r\n\tgetFocusableNodes,\r\n\tgetClassName,\r\n\tlocateCss,\r\n\tgetRootNode,\r\n\thasShadowParent,\r\n\tisShadowDomSupported,\r\n\tgetActiveElement,\r\n\tgetRelativeEventPosition,\r\n\tgetTargetNode,\r\n\tgetNodePosition\r\n};\r\n\r\nvar closest;\r\nif(Element.prototype.closest){\r\n\tclosest = function(element, selector){\r\n\t\treturn element.closest(selector);\r\n\t};\r\n}else{\r\n\tvar matches = Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\r\n\tclosest = function(element, selector) {\r\n\t\tvar el = element;\r\n\t\tdo {\r\n\t\t\tif (matches.call(el, selector)){\r\n\t\t\t\treturn el;\r\n\t\t\t}\r\n\t\t\tel = el.parentElement || el.parentNode;\r\n\t\t} while (el !== null && el.nodeType === 1);\r\n\t\treturn null;\r\n\t};\r\n}\r\n","/* eslint-disable no-restricted-globals */\r\nvar isWindowAwailable = typeof window !== \"undefined\";\r\n\r\n/* eslint-enable no-restricted-globals */\r\n\r\nexport default {\r\n\tisIE: isWindowAwailable && (navigator.userAgent.indexOf(\"MSIE\") >= 0 || navigator.userAgent.indexOf(\"Trident\") >= 0),\r\n\tisOpera: isWindowAwailable && (navigator.userAgent.indexOf(\"Opera\") >= 0),\r\n\tisChrome: isWindowAwailable && (navigator.userAgent.indexOf(\"Chrome\") >= 0),\r\n\tisKHTML: isWindowAwailable && (navigator.userAgent.indexOf(\"Safari\") >= 0 || navigator.userAgent.indexOf(\"Konqueror\") >= 0),\r\n\tisFF: isWindowAwailable && (navigator.userAgent.indexOf(\"Firefox\") >= 0),\r\n\tisIPad: isWindowAwailable && (navigator.userAgent.search(/iPad/gi) >= 0),\r\n\tisEdge: isWindowAwailable && (navigator.userAgent.indexOf(\"Edge\")!=-1),\r\n\tisNode: (!isWindowAwailable || typeof navigator == \"undefined\")\r\n};","export default function(data) {\r\n\tif (typeof data === \"string\" || typeof data === \"number\") {\r\n\t\treturn data;\r\n\t}\r\n\tvar result = \"\";\r\n\tfor (var key in data) {\r\n\t\tvar serialized = \"\";\r\n\t\tif (data.hasOwnProperty(key)) {\r\n\t\t\tif (typeof data[key] === \"string\") {\r\n\t\t\t\tserialized = encodeURIComponent(data[key]);\r\n\t\t\t} else if (typeof data[key] === \"number\") {\r\n\t\t\t\tserialized = data[key];\r\n\t\t\t} else {\r\n\t\t\t\tserialized = encodeURIComponent(JSON.stringify(data[key]));\r\n\t\t\t}\r\n\t\t\tserialized = key + \"=\" + serialized;\r\n\r\n\t\t\tif (result.length) {\r\n\t\t\t\tserialized = \"&\" + serialized;\r\n\t\t\t}\r\n\t\t\tresult += serialized;\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}","export default function(scheduler){\r\n\treturn (function(){\r\n\t\tvar res = {};\r\n\t\tfor (var a in this._events){\r\n\t\t\tvar ev = this._events[a];\r\n\t\t\tif (ev.id.toString().indexOf(\"#\") == -1){\r\n\t\t\t\tres[ev.id] = ev;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;\r\n\t}).bind(scheduler);\r\n}","export default function DataProcessorEvents(scheduler, dp){\r\n\tthis.$scheduler = scheduler;\r\n\tthis.$dp = dp;\r\n\tthis._dataProcessorHandlers = [];\r\n\r\n\tthis.attach = function () {\r\n\t\tvar dp = this.$dp;\r\n\t\tvar scheduler = this.$scheduler;\r\n\r\n\t\tthis._dataProcessorHandlers.push(scheduler.attachEvent(\"onEventAdded\", function(id) {\r\n\t\t\tif (!this._loading && this._validId(id))\r\n\t\t\tdp.setUpdated(id,true,\"inserted\");\r\n\t\t}));\r\n\r\n\t\tthis._dataProcessorHandlers.push(scheduler.attachEvent(\"onConfirmedBeforeEventDelete\", function(id) {\r\n\t\t\tif (!this._validId(id)) return;\r\n\t\t\tvar z=dp.getState(id);\r\n\r\n\t\t\tif (z==\"inserted\" || this._new_event) { dp.setUpdated(id,false); return true; }\r\n\t\t\tif (z==\"deleted\") return false;\r\n\t\t\tif (z==\"true_deleted\") return true;\r\n\r\n\t\t\tdp.setUpdated(id,true,\"deleted\");\r\n\t\t\treturn false;\r\n\t\t}));\r\n\r\n\t\tthis._dataProcessorHandlers.push(scheduler.attachEvent(\"onEventChanged\", function(id) { \r\n\t\t\tif (!this._loading && this._validId(id))\r\n\t\t\tdp.setUpdated(id,true,\"updated\");\r\n\t\t}));\r\n\r\n\t\tthis._dataProcessorHandlers.push(scheduler.attachEvent(\"onClearAll\", function() { \r\n\t\t\t// clear dataprocessor state when scheduler is reset\r\n\t\t\tdp._in_progress={};\r\n\t\t\tdp._invalid={};\r\n\t\t\tdp.updatedRows = [];\r\n\t\t\tdp._waitMode = 0;\r\n\t\t}));\r\n\r\n\t\tdp.attachEvent(\"insertCallback\", scheduler._update_callback);\r\n\t\tdp.attachEvent(\"updateCallback\", scheduler._update_callback);\r\n\t\tdp.attachEvent(\"deleteCallback\", function(upd, id) {\r\n\t\t\tif (scheduler.getEvent(id)){\r\n\t\t\t\tscheduler.setUserData(id, this.action_param, \"true_deleted\");\r\n\t\t\t\tscheduler.deleteEvent(id);\r\n\t\t\t} else if (scheduler._add_rec_marker)\r\n\t\t\t\tscheduler._update_callback(upd, id);\r\n\t\t});\r\n\t};\r\n\r\n\tthis.detach = function () {\r\n\t\tfor (var key in this._dataProcessorHandlers) {\r\n\t\t\tvar handler = this._dataProcessorHandlers[key];\r\n\t\t\tthis.$scheduler.detachEvent(handler);\r\n\t\t}\r\n\t\tthis._dataProcessorHandlers = [];\r\n\t};\r\n}\r\n\r\nexport function extendScheduler(scheduler, dp){\r\n\tscheduler._validId=function(id){\r\n\t\tif(this._is_virtual_event){\r\n\t\t\treturn !this._is_virtual_event(id);\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\tscheduler.setUserData=function(id,name,value){\r\n\t\tif (id){\r\n\t\t\tvar ev = this.getEvent(id);\r\n\t\t\tif(ev) ev[name]=value;\r\n\t\t}else{\r\n\t\t\tthis._userdata[name]=value;\r\n\t\t}\r\n\t};\r\n\tscheduler.getUserData=function(id,name){\r\n\t\tif (id){\r\n\t\t\tvar ev = this.getEvent(id);\r\n\t\t\tif(ev)\r\n\t\t\t\treturn ev[name];\r\n\t\t\telse\r\n\t\t\t\treturn null;\r\n\t\t}else{\r\n\t\t\treturn this._userdata[name];\r\n\t\t}\r\n\t};\r\n\tscheduler._set_event_text_style=function(id,style){\r\n\t\tif(!scheduler.getEvent(id))\r\n\t\t\treturn;\r\n\t\tthis.for_rendered(id,function(r){\r\n\t\t\tr.style.cssText+=\";\"+style;\r\n\t\t});\r\n\t\tvar ev = this.getEvent(id);\r\n\t\tev[\"_text_style\"]=style;\r\n\t\tthis.event_updated(ev);\r\n\t};\r\n\tscheduler._update_callback = function(upd,id){\r\n\t\tvar data = scheduler._xmlNodeToJSON(upd.firstChild);\r\n\t\t//fix for updates of recurring events\r\n\t\tif (data.rec_type == \"none\") data.rec_pattern = \"none\";\r\n\t\tdata.text = data.text||data._tagvalue;\r\n\t\tdata.start_date = scheduler._helpers.parseDate(data.start_date);\r\n\t\tdata.end_date = scheduler._helpers.parseDate(data.end_date);\r\n\t\tscheduler.addEvent(data);\r\n\t\tif (scheduler._add_rec_marker)\r\n\t\t\tscheduler.setCurrentView();\r\n\t};\r\n\tscheduler._dp_change_event_id = function(id, new_id){\r\n\t\tif(!scheduler.getEvent(id))\r\n\t\t\treturn;\r\n\t\tscheduler.changeEventId(id, new_id);\r\n\t};\r\n\tscheduler._dp_hook_delete = function(id, new_id){\r\n\t\tif(!scheduler.getEvent(id))\r\n\t\t\treturn;\r\n\r\n\t\tif(new_id && id != new_id){\r\n\t\t\tif(this.getUserData(id, dp.action_param) == \"true_deleted\")\r\n\t\t\t\tthis.setUserData(id, dp.action_param, \"updated\");\r\n\r\n\t\t\tthis.changeEventId(id, new_id);\r\n\t\t}\r\n\t\treturn this.deleteEvent(new_id, true);\r\n\t};\r\n\r\n\tscheduler.setDp = function() {\r\n\t\tthis._dp = dp;\r\n\t};\r\n\tscheduler.setDp();\r\n}","import DataProcessorEvents from \"./dataprocessor_hooks\";\r\nimport { extendScheduler } from \"./dataprocessor_hooks\";\r\nimport eventable from \"../../utils/eventable\";\r\nimport global from \"../../global\";\r\n\r\n/**\r\n *\t@desc: constructor, data processor object\r\n *\t@param: serverProcessorURL - url used for update\r\n *\t@type: public\r\n */\r\nexport function DataProcessor(serverProcessorURL){\r\n\tthis.serverProcessor = serverProcessorURL;\r\n\tthis.action_param = \"!nativeeditor_status\";\r\n\r\n\tthis.object = null;\r\n\tthis.updatedRows = []; // ids of updated rows\r\n\r\n\tthis.autoUpdate = true;\r\n\tthis.updateMode = \"cell\";\r\n\tthis._tMode = \"GET\";\r\n\tthis._headers = null;\r\n\tthis._payload = null;\r\n\tthis.post_delim = \"_\";\r\n\r\n\tthis._waitMode = 0;\r\n\tthis._in_progress = {};\r\n\tthis._invalid = {};\r\n\tthis.messages = [];\r\n\r\n\tthis.styles = {\r\n\t\tupdated: \"font-weight:bold;\",\r\n\t\tinserted: \"font-weight:bold;\",\r\n\t\tdeleted: \"text-decoration : line-through;\",\r\n\t\tinvalid: \"background-color:FFE0E0;\",\r\n\t\tinvalid_cell: \"border-bottom:2px solid red;\",\r\n\t\terror: \"color:red;\",\r\n\t\tclear: \"font-weight:normal;text-decoration:none;\"\r\n\t};\r\n\tthis.enableUTFencoding(true);\r\n\teventable(this); // TODO: need to update\r\n\r\n\treturn this;\r\n}\r\nDataProcessor.prototype = {\r\n\tsetTransactionMode: function (mode, total) {\r\n\t\tif (typeof mode == \"object\") {\r\n\t\t\tthis._tMode = mode.mode || this._tMode;\r\n\r\n\t\t\tif (mode.headers !== undefined) {\r\n\t\t\t\tthis._headers = mode.headers;\r\n\t\t\t}\r\n\r\n\t\t\tif (mode.payload !== undefined) {\r\n\t\t\t\tthis._payload = mode.payload;\r\n\t\t\t}\r\n\t\t\tthis._tSend = !!total;\r\n\t\t} else {\r\n\t\t\tthis._tMode = mode;\r\n\t\t\tthis._tSend = total;\r\n\t\t}\r\n\r\n\t\tif (this._tMode == \"REST\") {\r\n\t\t\tthis._tSend = false;\r\n\t\t\tthis._endnm = true;\r\n\t\t}\r\n\r\n\t\tif (this._tMode === \"JSON\" || this._tMode === \"REST-JSON\") {\r\n\t\t\tthis._tSend = false;\r\n\t\t\tthis._endnm = true;\r\n\t\t\tthis._serializeAsJson = true;\r\n\t\t\tthis._headers = this._headers || {};\r\n\t\t\tthis._headers[\"Content-Type\"] = \"application/json\";\r\n\t\t}else{\r\n\t\t\tif(this._headers && !this._headers[\"Content-Type\"]){\r\n\t\t\t\tthis._headers[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this._tMode === \"CUSTOM\") {\r\n\t\t\tthis._tSend = false;\r\n\t\t\tthis._endnm = true;\r\n\t\t\tthis._router = mode.router;\r\n\t\t}\r\n\t},\r\n\tescape: function (data) {\r\n\t\tif (this._utf)\r\n\t\t\treturn encodeURIComponent(data);\r\n\t\telse\r\n\t\t\treturn escape(data);\r\n\t},\r\n\t/**\r\n\t *\t@desc: allows to set escaping mode\r\n\t *\t@param: true - utf based escaping, simple - use current page encoding\r\n\t *\t@type: public\r\n\t */\r\n\tenableUTFencoding: function (mode) {\r\n\t\tthis._utf = !!mode;\r\n\t},\r\n\t/**\r\n\t *\t@desc: allows to define, which column may trigger update\r\n\t *\t@param: val - array or list of true/false values\r\n\t *\t@type: public\r\n\t */\r\n\tsetDataColumns: function (val) {\r\n\t\tthis._columns = (typeof val == \"string\") ? val.split(\",\") : val;\r\n\t},\r\n\t/**\r\n\t *\t@desc: get state of updating\r\n\t *\t@returns:   true - all in sync with server, false - some items not updated yet.\r\n\t *\t@type: public\r\n\t */\r\n\tgetSyncState: function () {\r\n\t\treturn !this.updatedRows.length;\r\n\t},\r\n\t/**\r\n\t *\t@desc: enable/disable named field for data syncing, will use column ids for grid\r\n\t *\t@param:   mode - true/false\r\n\t *\t@type: public\r\n\t */\r\n\tenableDataNames: function (mode) {\r\n\t\tthis._endnm = !!mode;\r\n\t},\r\n\t/**\r\n\t *\t@desc: enable/disable mode , when only changed fields and row id send to the server side, instead of all fields in default mode\r\n\t *\t@param:   mode - true/false\r\n\t *\t@type: public\r\n\t */\r\n\tenablePartialDataSend: function (mode) {\r\n\t\tthis._changed = !!mode;\r\n\t},\r\n\t/**\r\n\t *\t@desc: set if rows should be send to server automatically\r\n\t *\t@param: mode - \"row\" - based on row selection changed, \"cell\" - based on cell editing finished, \"off\" - manual data sending\r\n\t *\t@type: public\r\n\t */\r\n\tsetUpdateMode: function (mode, dnd) {\r\n\t\tthis.autoUpdate = (mode == \"cell\");\r\n\t\tthis.updateMode = mode;\r\n\t\tthis.dnd = dnd;\r\n\t},\r\n\tignore: function (code, master) {\r\n\t\tthis._silent_mode = true;\r\n\t\tcode.call(master || window);\r\n\t\tthis._silent_mode = false;\r\n\t},\r\n\t/**\r\n\t *\t@desc: mark row as updated/normal. check mandatory fields,initiate autoupdate (if turned on)\r\n\t *\t@param: rowId - id of row to set update-status for\r\n\t *\t@param: state - true for \"updated\", false for \"not updated\"\r\n\t *\t@param: mode - update mode name\r\n\t *\t@type: public\r\n\t */\r\n\tsetUpdated: function (rowId, state, mode) {\r\n\t\tif (this._silent_mode) return;\r\n\t\tvar ind = this.findRow(rowId);\r\n\r\n\t\tmode = mode || \"updated\";\r\n\t\tvar existing = this.$scheduler.getUserData(rowId, this.action_param);\r\n\t\tif (existing && mode == \"updated\") mode = existing;\r\n\t\tif (state) {\r\n\t\t\tthis.set_invalid(rowId, false); //clear previous error flag\r\n\t\t\tthis.updatedRows[ind] = rowId;\r\n\t\t\tthis.$scheduler.setUserData(rowId, this.action_param, mode);\r\n\t\t\tif (this._in_progress[rowId])\r\n\t\t\t\tthis._in_progress[rowId] = \"wait\";\r\n\t\t} else {\r\n\t\t\tif (!this.is_invalid(rowId)) {\r\n\t\t\t\tthis.updatedRows.splice(ind, 1);\r\n\t\t\t\tthis.$scheduler.setUserData(rowId, this.action_param, \"\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.markRow(rowId, state, mode);\r\n\t\tif (state && this.autoUpdate) this.sendData(rowId);\r\n\t},\r\n\r\n\tmarkRow: function (id, state, mode) {\r\n\t\tvar str = \"\";\r\n\t\tvar invalid = this.is_invalid(id);\r\n\t\tif (invalid) {\r\n\t\t\tstr = this.styles[invalid];\r\n\t\t\tstate = true;\r\n\t\t}\r\n\t\tif (this.callEvent(\"onRowMark\", [id, state, mode, invalid])) {\r\n\t\t\t//default logic\r\n\t\t\tstr = this.styles[state ? mode : \"clear\"] + str;\r\n\r\n\t\t\tthis.$scheduler[this._methods[0]](id, str);\r\n\r\n\t\t\tif (invalid && invalid.details) {\r\n\t\t\t\tstr += this.styles[invalid + \"_cell\"];\r\n\t\t\t\tfor (var i = 0; i < invalid.details.length; i++)\r\n\t\t\t\t\tif (invalid.details[i])\r\n\t\t\t\t\t\tthis.$scheduler[this._methods[1]](id, i, str);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tgetActionByState: function(state) {\r\n\t\tif (state === \"inserted\") {\r\n\t\t\treturn \"create\";\r\n\t\t}\r\n\t\tif (state === \"updated\") {\r\n\t\t\treturn \"update\";\r\n\t\t}\r\n\t\tif (state === \"deleted\") {\r\n\t\t\treturn \"delete\";\r\n\t\t}\r\n\t\treturn \"update\";\r\n\t},\r\n\r\n\tgetState: function (id) {\r\n\t\treturn this.$scheduler.getUserData(id, this.action_param);\r\n\t},\r\n\tis_invalid: function (id) {\r\n\t\treturn this._invalid[id];\r\n\t},\r\n\tset_invalid: function (id, mode, details) {\r\n\t\tif (details) mode = {\r\n\t\t\tvalue: mode, details: details, toString: function () {\r\n\t\t\t\treturn this.value.toString();\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis._invalid[id] = mode;\r\n\t},\r\n\t/**\r\n\t *\t@desc: check mandatory fields and varify values of cells, initiate update (if specified)\r\n\t *\t@param: rowId - id of row to set update-status for\r\n\t *\t@type: public\r\n\t */\r\n\tcheckBeforeUpdate: function (rowId) {\r\n\t\treturn true;\r\n\t},\r\n\t/**\r\n\t *\t@desc: send row(s) values to server\r\n\t *\t@param: rowId - id of row which data to send. If not specified, then all \"updated\" rows will be send\r\n\t *\t@type: public\r\n\t */\r\n\tsendData: function (rowId) {\r\n\t\tif (this.$scheduler.editStop) this.$scheduler.editStop();\r\n\r\n\t\tif (typeof rowId == \"undefined\" || this._tSend) return this.sendAllData();\r\n\t\tif (this._in_progress[rowId]) return false;\r\n\r\n\t\tthis.messages = [];\r\n\t\tif (!this.checkBeforeUpdate(rowId) && this.callEvent(\"onValidationError\", [rowId, this.messages])) return false;\r\n\t\tthis._beforeSendData(this._getRowData(rowId), rowId);\r\n\t},\r\n\t_beforeSendData: function (data, rowId) {\r\n\t\tif (!this.callEvent(\"onBeforeUpdate\", [rowId, this.getState(rowId), data])) return false;\r\n\t\tthis._sendData(data, rowId);\r\n\t},\r\n\tserialize: function (data, id) {\r\n\t\tif (this._serializeAsJson) {\r\n\t\t\treturn  this._serializeAsJSON(data);\r\n\t\t}\r\n\r\n\t\tif (typeof data == \"string\")\r\n\t\t\treturn data;\r\n\t\tif (typeof id != \"undefined\")\r\n\t\t\treturn this.serialize_one(data, \"\");\r\n\t\telse {\r\n\t\t\tvar stack = [];\r\n\t\t\tvar keys = [];\r\n\t\t\tfor (var key in data)\r\n\t\t\t\tif (data.hasOwnProperty(key)) {\r\n\t\t\t\t\tstack.push(this.serialize_one(data[key], key + this.post_delim));\r\n\t\t\t\t\tkeys.push(key);\r\n\t\t\t\t}\r\n\t\t\tstack.push(\"ids=\" + this.escape(keys.join(\",\")));\r\n\t\t\tif (this.$scheduler.security_key)\r\n\t\t\t\tstack.push(\"dhx_security=\" + (this.$scheduler.security_key));\r\n\t\t\treturn stack.join(\"&\");\r\n\t\t}\r\n\t},\r\n\tserialize_one: function (data, pref) {\r\n\t\tif (typeof data == \"string\")\r\n\t\t\treturn data;\r\n\t\tvar stack = [];\r\n\t\tvar serialized = \"\";\r\n\t\tfor (var key in data)\r\n\t\t\tif (data.hasOwnProperty(key)) {\r\n\t\t\t\tif ((key == \"id\" || key == this.action_param) && this._tMode == \"REST\") continue;\r\n\t\t\t\tif (typeof data[key] === \"string\" || typeof data[key] === \"number\") {\r\n\t\t\t\t\tserialized = data[key];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tserialized = JSON.stringify(data[key]);\r\n\t\t\t\t}\r\n\t\t\t\tstack.push(this.escape((pref || \"\") + key) + \"=\" + this.escape(serialized));\r\n\t\t\t}\r\n\t\treturn stack.join(\"&\");\r\n\t},\r\n\t_applyPayload: function (url) {\r\n\t\tvar ajax = this.$scheduler.ajax;\r\n\t\tif (this._payload)\r\n\t\t\tfor (var key in this._payload)\r\n\t\t\t\turl = url + ajax.urlSeparator(url) + this.escape(key) + \"=\" + this.escape(this._payload[key]);\r\n\t\treturn url;\r\n\t},\r\n\t_sendData: function (dataToSend, rowId) {\r\n\t\tif (!dataToSend) {\r\n\t\t\treturn; // nothing to send\r\n\t\t}\r\n\t\tif (!this.callEvent(\"onBeforeDataSending\", rowId ? [rowId, this.getState(rowId), dataToSend] : [null, null, dataToSend])) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (rowId) {\r\n\t\t\tthis._in_progress[rowId] = (new Date()).valueOf();\r\n\t\t}\r\n\r\n\t\tvar self = this;\r\n\t\tvar ajax = this.$scheduler.ajax;\r\n\r\n\t\tif (this._tMode === \"CUSTOM\") {\r\n\t\t\tvar state = this.getState(rowId);\r\n\t\t\tvar action = this.getActionByState(state);\r\n\t\t\tvar _onResolvedCreateUpdate = function (tag) {\r\n\t\t\t\tvar resultState = state;\r\n\t\t\t\tif(tag && tag.responseText && tag.setRequestHeader){\r\n\t\t\t\t\tif(tag.status !== 200){\r\n\t\t\t\t\t\tresultState = \"error\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\ttag = JSON.parse(tag.responseText);\r\n\t\t\t\t\t} catch (e){}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresultState = resultState || \"updated\";\r\n\t\t\t\tvar sid = rowId;\r\n\t\t\t\tvar tid = rowId;\r\n\r\n\t\t\t\tif (tag) {\r\n\t\t\t\t\tresultState = tag.action || resultState;\r\n\t\t\t\t\tsid = tag.sid || sid;\r\n\t\t\t\t\ttid = tag.id || tag.tid || tid;\r\n\t\t\t\t}\r\n\t\t\t\tself.afterUpdateCallback(sid, tid, resultState, tag);\r\n\t\t\t};\r\n\r\n\t\t\tconst routerMode = \"event\";\r\n\t\t\tvar actionPromise;\r\n\t\t\tif (this._router instanceof Function) {\r\n\t\t\t\tactionPromise = this._router(routerMode, action, dataToSend, rowId);\r\n\t\t\t} else {\r\n\t\t\t\tswitch (state) {\r\n\t\t\t\t\tcase \"inserted\":\r\n\t\t\t\t\t\tactionPromise = this._router[routerMode].create(dataToSend);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"deleted\":\r\n\t\t\t\t\t\tactionPromise = this._router[routerMode].delete(rowId);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tactionPromise = this._router[routerMode].update(dataToSend, rowId);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(actionPromise){\r\n\t\t\t\t// neither promise nor {tid: newId} response object\r\n\t\t\t\tif(!actionPromise.then &&\r\n\t\t\t\t\t(actionPromise.id === undefined && actionPromise.tid === undefined && actionPromise.action === undefined)){\r\n\t\t\t\t\tthrow new Error(\"Incorrect router return value. A Promise or a response object is expected\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(actionPromise.then){\r\n\t\t\t\t\tactionPromise.then(_onResolvedCreateUpdate).catch(function(error) {\r\n\t\t\t\t\t\tif(error && error.action){\r\n\t\t\t\t\t\t\t_onResolvedCreateUpdate(error);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_onResolvedCreateUpdate({ action: \"error\", value: error});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\t// custom method may return a response object in case of sync action\r\n\t\t\t\t\t_onResolvedCreateUpdate(actionPromise);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t_onResolvedCreateUpdate(null);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar queryParams = {\r\n\t\t\tcallback: function(xml) {\r\n\t\t\t\tvar ids = [];\r\n\r\n\t\t\t\tif (rowId) {\r\n\t\t\t\t\tids.push(rowId);\r\n\t\t\t\t} else if (dataToSend) {\r\n\t\t\t\t\tfor (var key in dataToSend) {\r\n\t\t\t\t\t\tids.push(key);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn self.afterUpdate(self, xml, ids);\r\n\t\t\t},\r\n\t\t\theaders: self._headers\r\n\t\t};\r\n\r\n\t\tvar urlParams = this.serverProcessor + (this._user ? (ajax.urlSeparator(this.serverProcessor) + [\"dhx_user=\" + this._user, \"dhx_version=\" + this.$scheduler.getUserData(0, \"version\")].join(\"&\")) : \"\");\r\n\t\tvar url = this._applyPayload(urlParams);\r\n\t\tvar data;\r\n\r\n\t\tswitch (this._tMode) {\r\n\t\t\tcase \"GET\":\r\n\t\t\t\tdata = this._cleanupArgumentsBeforeSend(dataToSend);\r\n\t\t\t\tqueryParams.url = url + ajax.urlSeparator(url) + this.serialize(data, rowId);\r\n\t\t\t\tqueryParams.method = \"GET\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"POST\":\r\n\t\t\t\tdata = this._cleanupArgumentsBeforeSend(dataToSend);\r\n\t\t\t\tqueryParams.url = url;\r\n\t\t\t\tqueryParams.method = \"POST\";\r\n\t\t\t\tqueryParams.data = this.serialize(data, rowId);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"JSON\":\r\n\t\t\t\tdata = {};\r\n\t\t\t\tvar preprocessedData = this._cleanupItemBeforeSend(dataToSend);\r\n\t\t\t\tfor (var key in preprocessedData) {\r\n\t\t\t\t\tif (key === this.action_param || key === \"id\" || key === \"gr_id\") {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata[key] = preprocessedData[key];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tqueryParams.url = url;\r\n\t\t\t\tqueryParams.method = \"POST\";\r\n\t\t\t\tqueryParams.data = JSON.stringify({\r\n\t\t\t\t\tid: rowId,\r\n\t\t\t\t\taction: dataToSend[this.action_param],\r\n\t\t\t\t\tdata: data\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"REST\":\r\n\t\t\tcase \"REST-JSON\":\r\n\t\t\t\turl = urlParams.replace(/(&|\\?)editing=true/, \"\");\r\n\t\t\t\tdata = \"\";\r\n\r\n\t\t\t\tswitch (this.getState(rowId)) {\r\n\t\t\t\t\tcase \"inserted\":\r\n\t\t\t\t\t\tqueryParams.method = \"POST\";\r\n\t\t\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"deleted\":\r\n\t\t\t\t\t\tqueryParams.method = \"DELETE\";\r\n\t\t\t\t\t\turl = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + rowId;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tqueryParams.method = \"PUT\";\r\n\t\t\t\t\t\tqueryParams.data = this.serialize(dataToSend, rowId);\r\n\t\t\t\t\t\turl = url + (url.slice(-1) === \"/\" ? \"\" : \"/\") + rowId;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tqueryParams.url = this._applyPayload(url);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis._waitMode++;\r\n\t\treturn ajax.query(queryParams);\r\n\t},\r\n\tsendAllData: function () {\r\n\t\tif (!this.updatedRows.length || this.updateMode === \"off\") { // FIXME: need to leave checking 'this.updateMode === \"off\"'?\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.messages = [];\r\n\t\tvar valid = true;\r\n\r\n\t\tthis._forEachUpdatedRow(function(rowId) {\r\n\t\t\tvalid = valid && this.checkBeforeUpdate(rowId);\r\n\t\t});\r\n\r\n\t\tif (!valid && !this.callEvent(\"onValidationError\", [\"\", this.messages])) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (this._tSend) {\r\n\t\t\tthis._sendData(this._getAllData());\r\n\t\t} else {\r\n\t\t\tthis._forEachUpdatedRow(function(rowId) {\r\n\t\t\t\tif (!this._in_progress[rowId]) {\r\n\t\t\t\t\tif (this.is_invalid(rowId)) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._beforeSendData(this._getRowData(rowId), rowId);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\t_getAllData: function (rowId) {\r\n\t\tvar out = {};\r\n\t\tvar has_one = false;\r\n\t\tthis._forEachUpdatedRow(function(id) {\r\n\t\t\tif (this._in_progress[id] || this.is_invalid(id)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar row = this._getRowData(id);\r\n\t\t\tif (!this.callEvent(\"onBeforeUpdate\", [id, this.getState(id), row])) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tout[id] = row;\r\n\t\t\thas_one = true;\r\n\t\t\tthis._in_progress[id] = (new Date()).valueOf();\r\n\t\t});\r\n\t\treturn has_one ? out : null;\r\n\t},\r\n\r\n\tfindRow: function (pattern) {\r\n\t\tvar i = 0;\r\n\t\tfor (i = 0; i < this.updatedRows.length; i++)\r\n\t\t\tif (pattern == this.updatedRows[i]) break;\r\n\t\treturn i;\r\n\t},\r\n\r\n\t/**\r\n\t *\t@desc: define custom actions\r\n\t *\t@param: name - name of action, same as value of action attribute\r\n\t *\t@param: handler - custom function, which receives a XMl response content for action\r\n\t *\t@type: private\r\n\t */\r\n\tdefineAction: function (name, handler) {\r\n\t\tif (!this._uActions) this._uActions = {};\r\n\t\tthis._uActions[name] = handler;\r\n\t},\r\n\r\n\t/**\r\n\t *\t @desc: used in combination with setOnBeforeUpdateHandler to create custom client-server transport system\r\n\t *\t @param: sid - id of item before update\r\n\t *\t @param: tid - id of item after up0ate\r\n\t *\t @param: action - action name\r\n\t *\t @type: public\r\n\t *\t @topic: 0\r\n\t */\r\n\tafterUpdateCallback: function (sid, tid, action, btag) {\r\n\t\tif(!this.$scheduler){\r\n\t\t\t// destructor has been called before the callback\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar marker = sid;\r\n\t\tvar correct = (action !== \"error\" && action !== \"invalid\");\r\n\t\tif (!correct) {\r\n\t\t\tthis.set_invalid(sid, action);\r\n\t\t}\r\n\t\tif ((this._uActions) && (this._uActions[action]) && (!this._uActions[action](btag))) {\r\n\t\t\treturn (delete this._in_progress[marker]);\r\n\t\t}\r\n\r\n\t\tif (this._in_progress[marker] !== \"wait\") {\r\n\t\t\tthis.setUpdated(sid, false);\r\n\t\t}\r\n\r\n\t\tvar originalSid = sid;\r\n\r\n\t\tswitch (action) {\r\n\t\t\tcase \"inserted\":\r\n\t\t\tcase \"insert\":\r\n\t\t\t\tif (tid != sid) {\r\n\t\t\t\t\tthis.setUpdated(sid, false);\r\n\t\t\t\t\tthis.$scheduler[this._methods[2]](sid, tid);\r\n\t\t\t\t\tsid = tid;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"delete\":\r\n\t\t\tcase \"deleted\":\r\n\t\t\t\tthis.$scheduler.setUserData(sid, this.action_param, \"true_deleted\");\r\n\t\t\t\tthis.$scheduler[this._methods[3]](sid, tid);\r\n\t\t\t\tdelete this._in_progress[marker];\r\n\t\t\t\treturn this.callEvent(\"onAfterUpdate\", [sid, action, tid, btag]);\r\n\t\t}\r\n\r\n\t\tif (this._in_progress[marker] !== \"wait\") {\r\n\t\t\tif (correct) {\r\n\t\t\t\tthis.$scheduler.setUserData(sid, this.action_param, \"\");\r\n\t\t\t}\r\n\t\t\tdelete this._in_progress[marker];\r\n\t\t} else {\r\n\t\t\tdelete this._in_progress[marker];\r\n\t\t\tthis.setUpdated(tid, true, this.$scheduler.getUserData(sid, this.action_param));\r\n\t\t}\r\n\r\n\t\tthis.callEvent(\"onAfterUpdate\", [originalSid, action, tid, btag]);\r\n\t},\r\n\r\n\t_errorResponse: function (xml, id){\r\n\t\tif(this.$scheduler && this.$scheduler.callEvent){\r\n\t\t\tthis.$scheduler.callEvent(\"onSaveError\", [id, xml.xmlDoc]);\r\n\t\t}\r\n\t\treturn this.cleanUpdate(id);\r\n\t},\r\n\r\n\t_setDefaultTransactionMode: function () {\r\n\t\tif (this.serverProcessor) {\r\n\t\t\tthis.setTransactionMode(\"POST\", true);\r\n\t\t\tthis.serverProcessor += (this.serverProcessor.indexOf(\"?\") !== -1 ? \"&\" : \"?\") + \"editing=true\";\r\n\t\t\tthis._serverProcessor = this.serverProcessor;\r\n\t\t}\r\n\t},\r\n\t\r\n\t/**\r\n\t *\t@desc: response from server\r\n\t *\t@param: xml - XMLLoader object with response XML\r\n\t *\t@type: private\r\n\t */\r\n\tafterUpdate: function (that, xml, id) {\r\n\t\tvar ajax = this.$scheduler.ajax;\r\n\r\n\t\tif (xml.xmlDoc.status !== 200){\r\n\t\t\tthis._errorResponse(xml, id);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// try to use json first\r\n\t\tvar tag;\r\n\t\ttry {\r\n\t\t\ttag = JSON.parse(xml.xmlDoc.responseText);\r\n\t\t} catch (e) {\r\n\t\t\t// empty response also can be processed by json handler\r\n\t\t\tif (!xml.xmlDoc.responseText.length) {\r\n\t\t\t\ttag = {};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (tag) {\r\n\t\t\tvar action = tag.action || this.getState(id) || \"updated\";\r\n\t\t\tvar sid = tag.sid || id[0];\r\n\t\t\tvar tid = tag.tid || id[0];\r\n\t\t\tthat.afterUpdateCallback(sid, tid, action, tag);\r\n\t\t\tthat.finalizeUpdate();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// xml response\r\n\t\tvar top = ajax.xmltop(\"data\", xml.xmlDoc); // fix incorrect content type in IE\r\n\t\tif (!top) {\r\n\t\t\treturn this._errorResponse(xml, id);\r\n\t\t}\r\n\t\tvar atag = ajax.xpath(\"//data/action\", top);\r\n\t\tif (!atag.length) {\r\n\t\t\treturn this._errorResponse(xml, id);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < atag.length; i++) {\r\n\t\t\tvar btag = atag[i];\r\n\t\t\tvar action = btag.getAttribute(\"type\");\r\n\t\t\tvar sid = btag.getAttribute(\"sid\");\r\n\t\t\tvar tid = btag.getAttribute(\"tid\");\r\n\r\n\t\t\tthat.afterUpdateCallback(sid, tid, action, btag);\r\n\t\t}\r\n\t\tthat.finalizeUpdate();\r\n\t},\r\n\tcleanUpdate: function (id) {\r\n\t\tif (id)\r\n\t\t\tfor (var i = 0; i < id.length; i++)\r\n\t\t\t\tdelete this._in_progress[id[i]];\r\n\t},\r\n\tfinalizeUpdate: function () {\r\n\t\tif (this._waitMode) this._waitMode--;\r\n\r\n\t\tthis.callEvent(\"onAfterUpdateFinish\", []);\r\n\t\tif (!this.updatedRows.length)\r\n\t\t\tthis.callEvent(\"onFullSync\", []);\r\n\t},\r\n\r\n\t/**\r\n\t *\t@desc: initializes data-processor\r\n\t *\t@param: scheduler - dhtmlxScheduler object to attach this data-processor to\r\n\t *\t@type: public\r\n\t */\r\n\tinit: function (scheduler) {\r\n\t\tif (this._initialized) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.$scheduler = scheduler;\r\n\t\tif (this.$scheduler._dp_init) {\r\n\t\t\tthis.$scheduler._dp_init(this);\r\n\t\t}\r\n\r\n\t\tthis._setDefaultTransactionMode();\r\n\r\n\t\tthis._methods=this._methods||[\"_set_event_text_style\",\"\",\"_dp_change_event_id\",\"_dp_hook_delete\"];\r\n\t\textendScheduler(this.$scheduler, this);\r\n\t\tvar dataProcessorEvents = new DataProcessorEvents(this.$scheduler, this);\r\n\t\tdataProcessorEvents.attach();\r\n\t\tthis.attachEvent(\"onDestroy\", function() {\r\n\t\t\tdelete this._getRowData;\r\n\r\n\t\t\tdelete this.$scheduler._dp;\r\n\t\t\tdelete this.$scheduler._dataprocessor;\r\n\t\t\tdelete this.$scheduler._set_event_text_style;\r\n\t\t\tdelete this.$scheduler._dp_change_event_id;\r\n\t\t\tdelete this.$scheduler._dp_hook_delete;\r\n\t\t\tdelete this.$scheduler;\r\n\t\t\tdataProcessorEvents.detach();\r\n\t\t});\r\n\t\tthis.$scheduler.callEvent(\"onDataProcessorReady\", [this]);\r\n\t\tthis._initialized = true;\r\n\r\n\t\tscheduler._dataprocessor=this;\r\n\t},\r\n\r\n\tsetOnAfterUpdate: function (ev) {\r\n\t\tthis.attachEvent(\"onAfterUpdate\", ev);\r\n\t},\r\n\tsetOnBeforeUpdateHandler: function (func) {\r\n\t\tthis.attachEvent(\"onBeforeDataSending\", func);\r\n\t},\r\n\r\n\t/* starts autoupdate mode\r\n\t\t@param interval time interval for sending update requests\r\n\t*/\r\n\tsetAutoUpdate: function (interval, user) {\r\n\t\tinterval = interval || 2000;\r\n\r\n\t\tthis._user = user || (new Date()).valueOf();\r\n\t\tthis._need_update = false;\r\n\t\t//this._loader = null;\r\n\t\tthis._update_busy = false;\r\n\r\n\t\tthis.attachEvent(\"onAfterUpdate\", function (sid, action, tid, xml_node) {\r\n\t\t\tthis.afterAutoUpdate(sid, action, tid, xml_node);\r\n\t\t});\r\n\t\tthis.attachEvent(\"onFullSync\", function () {\r\n\t\t\tthis.fullSync();\r\n\t\t});\r\n\r\n\t\tvar self = this;\r\n\t\tlet intervalId = global.setInterval(function () {\r\n\t\t\tself.loadUpdate();\r\n\t\t}, interval);\r\n\t\tthis.attachEvent(\"onDestroy\", function(){\r\n\t\t\tclearInterval(intervalId);\r\n\t\t});\r\n\t},\r\n\r\n\t/* process updating request answer\r\n\t\tif status == collision version is deprecated\r\n\t\tset flag for autoupdating immediately\r\n\t*/\r\n\tafterAutoUpdate: function (sid, action, tid, xml_node) {\r\n\t\tif (action == 'collision') {\r\n\t\t\tthis._need_update = true;\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t},\r\n\r\n\t/* callback function for onFillSync event\r\n\t\tcall update function if it's need\r\n\t*/\r\n\tfullSync: function () {\r\n\t\tif (this._need_update) {\r\n\t\t\tthis._need_update = false;\r\n\t\t\tthis.loadUpdate();\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/* sends query to the server and call callback function\r\n\t*/\r\n\tgetUpdates: function (url, callback) {\r\n\t\tvar ajax = this.$scheduler.ajax;\r\n\t\tif (this._update_busy)\r\n\t\t\treturn false;\r\n\t\telse\r\n\t\t\tthis._update_busy = true;\r\n\r\n\t\tajax.get(url, callback);\r\n\t},\r\n\r\n\t/* returns xml node value\r\n\t\t@param node\r\n\t\t\txml node\r\n\t*/\r\n\t_getXmlNodeValue: function(node) {\r\n\t\tif (node.firstChild) {\r\n\t\t\treturn node.firstChild.nodeValue;\r\n\t\t}\r\n\t\treturn \"\";\r\n\t},\r\n\r\n\t/* loads updates and processes them\r\n\t*/\r\n\tloadUpdate: function () {\r\n\t\tvar self = this;\r\n\t\tvar ajax = this.$scheduler.ajax;\r\n\t\tvar version = this.$scheduler.getUserData(0, \"version\");\r\n\t\tvar url = this.serverProcessor + ajax.urlSeparator(this.serverProcessor) + [\"dhx_user=\" + this._user, \"dhx_version=\" + version].join(\"&\");\r\n\t\turl = url.replace(\"editing=true&\", \"\");\r\n\t\tthis.getUpdates(url, function (xml) {\r\n\t\t\tvar vers = ajax.xpath(\"//userdata\", xml);\r\n\t\t\tself.$scheduler.setUserData(0, \"version\", self._getXmlNodeValue(vers[0]));\r\n\r\n\t\t\tvar updates = ajax.xpath(\"//update\", xml);\r\n\t\t\tif (updates.length) {\r\n\t\t\t\tself._silent_mode = true;\r\n\r\n\t\t\t\tfor (var i = 0; i < updates.length; i++) {\r\n\t\t\t\t\tvar status = updates[i].getAttribute(\"status\");\r\n\t\t\t\t\tvar id = updates[i].getAttribute(\"id\");\r\n\t\t\t\t\tvar parent = updates[i].getAttribute(\"parent\");\r\n\t\t\t\t\tswitch (status) {\r\n\t\t\t\t\t\tcase \"inserted\":\r\n\t\t\t\t\t\t\tthis.callEvent(\"insertCallback\", [updates[i], id, parent]);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"updated\":\r\n\t\t\t\t\t\t\tthis.callEvent(\"updateCallback\", [updates[i], id, parent]);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"deleted\":\r\n\t\t\t\t\t\t\tthis.callEvent(\"deleteCallback\", [updates[i], id, parent]);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tself._silent_mode = false;\r\n\t\t\t}\r\n\t\t\tself._update_busy = false;\r\n\t\t\tself = null;\r\n\t\t});\r\n\t},\r\n\r\n\tdestructor: function() {\r\n\t\tthis.callEvent(\"onDestroy\", []);\r\n\t\tthis.detachAllEvents();\r\n\r\n\t\tthis.updatedRows = [];\r\n\t\tthis._in_progress = {};\r\n\t\tthis._invalid = {};\r\n\t\tthis._headers = null;\r\n\t\tthis._payload = null;\r\n\t\tdelete this._initialized;\r\n\t},\r\n\r\n\turl: function(url) {\r\n\t\tthis.serverProcessor = this._serverProcessor = url;\r\n\t},\r\n\r\n\t_serializeAsJSON: function(data) {\r\n\t\tif (typeof data === \"string\") {\r\n\t\t\treturn data;\r\n\t\t}\r\n\r\n\t\tvar copy = this.$scheduler.utils.copy(data);\r\n\t\tif (this._tMode === \"REST-JSON\") {\r\n\t\t\tdelete copy.id;\r\n\t\t\tdelete copy[this.action_param];\r\n\t\t}\r\n\r\n\t\treturn JSON.stringify(copy);\r\n\t},\r\n\r\n\t// GET/POST/JSON modes of the dataProcessor didn't send the whole data items in 'delete' requests\r\n\t// clear extra info from the data in order not to change the request format\r\n\t_cleanupArgumentsBeforeSend: function(dataToSend) {\r\n\t\tvar processedData;\r\n\t\tif(dataToSend[this.action_param] === undefined){// hash of updated items, and not an individual item\r\n\t\t\tprocessedData = {};\r\n\t\t\tfor(var i in dataToSend) {\r\n\t\t\t\tprocessedData[i] = this._cleanupArgumentsBeforeSend(dataToSend[i]);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tprocessedData = this._cleanupItemBeforeSend(dataToSend);\r\n\t\t}\r\n\t\treturn processedData;\r\n\t},\r\n\t_cleanupItemBeforeSend: function(updatedItem) {\r\n\t\tvar output = null;\r\n\t\tif(updatedItem){\r\n\t\t\tif(updatedItem[this.action_param] === \"deleted\"){\r\n\t\t\t\toutput = {};\r\n\t\t\t\toutput.id = updatedItem.id;\r\n\t\t\t\toutput[this.action_param] = updatedItem[this.action_param];\r\n\t\t\t}else{\r\n\t\t\t\toutput = updatedItem;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output;\r\n\t},\r\n\r\n\t_forEachUpdatedRow: function(code) {\r\n\t\tvar updatedRows = this.updatedRows.slice();\r\n\t\tfor (var i = 0; i < updatedRows.length; i++) {\r\n\t\t\tvar rowId = updatedRows[i];\r\n\t\t\tif (this.$scheduler.getUserData(rowId, this.action_param)) {\r\n\t\t\t\tcode.call(this, rowId);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_prepareDataItem: function(item) {\r\n\t\tvar processedItem = {};\r\n\t\tvar scheduler = this.$scheduler;\r\n\t\tvar copy = scheduler.utils.copy(item);\r\n\t\tfor (var i in copy) {\r\n\t\t\tif (i.indexOf(\"_\") === 0) {\r\n\t\t\t\tcontinue;\r\n\t\t\t} else if (copy[i]) {\r\n\t\t\t\tif(copy[i].getUTCFullYear){\r\n\t\t\t\t\tprocessedItem[i] = scheduler._helpers.formatDate(copy[i]);\r\n\t\t\t\t} else if(typeof copy[i] == \"object\") {\r\n\t\t\t\t\tprocessedItem[i] = this._prepareDataItem(copy[i]);\r\n\t\t\t\t} else if(copy[i] === null) {\r\n\t\t\t\t\tprocessedItem[i] = \"\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tprocessedItem[i] = copy[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tprocessedItem[this.action_param] = scheduler.getUserData(item.id, this.action_param);\r\n\t\treturn processedItem;\r\n\t},\r\n\t_getRowData: function(id) {\r\n\t\tvar dataItem = this.$scheduler.getEvent(id);\r\n\t\tif (!dataItem) {\r\n\t\t\tdataItem = { id: id };\r\n\t\t}\r\n\t\treturn this._prepareDataItem(dataItem);\r\n\t}\r\n};\r\n\r\n\r\nexport default function extend(scheduler) {\r\n\r\nscheduler.createDataProcessor = function(config) {\r\n\tvar router;\r\n\tvar tMode;\r\n\tif (config instanceof Function) {\r\n\t\trouter = config;\r\n\t} else if (config.hasOwnProperty(\"router\")) {\r\n\t\trouter = config.router;\r\n\t} else if(config.hasOwnProperty(\"event\")){\r\n\t\trouter = config;\r\n\t}\r\n\r\n\tif (router) {\r\n\t\ttMode = \"CUSTOM\";\r\n\t} else {\r\n\t\ttMode = config.mode || \"REST-JSON\";\r\n\t}\r\n\r\n\tvar dp = new DataProcessor(config.url);\r\n\tdp.init(scheduler);\r\n\tdp.setTransactionMode({\r\n\t\tmode: tMode,\r\n\t\trouter: router\r\n\t}, config.batchUpdate); // FIXME: config.batchUpdate where it is explained?\r\n\treturn dp;\r\n};\r\n\r\nscheduler.DataProcessor = DataProcessor;\r\n\r\n}\r\n\r\n//var dataProcessor = global.dataProcessor = DataProcessor; // for old","import utils from \"./utils/utils\";\r\nimport domHelpers from \"./utils/dom_helpers\";\r\n\r\n\r\nexport default function(scheduler) {\r\n\r\n\tvar boxAttribute = \"data-dhxbox\";\r\n\r\n\tvar _dhx_msg_cfg = null;\r\n\r\n\tfunction callback(config, result) {\r\n\t\tvar usercall = config.callback;\r\n\t\tmodalBox.hide(config.box);\r\n\r\n\t\t_dhx_msg_cfg = config.box = null;\r\n\tif (usercall)\r\n\t\t\tusercall(result);\r\n\t}\r\n\r\n\tfunction modal_key(event) {\r\n\t\tif (_dhx_msg_cfg) {\r\n\r\n\t\t\tvar code = event.which || event.keyCode;\r\n\t\t\tvar preventDefault = false;\r\n\r\n\t\t\tif (messageBox.keyboard) {\r\n\t\t\t\tif (code == 13 || code == 32) {\r\n\t\t\t\t\t// default behavior is to confirm/submit popup on space/enter\r\n\t\t\t\t\t// if browser focus is set on button element - do button click instead of default behavior\r\n\t\t\t\t\tvar target = event.target || event.srcElement;\r\n\t\t\t\t\tif (domHelpers.getClassName(target).indexOf(\"scheduler_popup_button\") > -1 && target.click) {\r\n\t\t\t\t\t\ttarget.click();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcallback(_dhx_msg_cfg, true);\r\n\t\t\t\t\t\tpreventDefault = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (code == 27) {\r\n\t\t\t\t\tcallback(_dhx_msg_cfg, false);\r\n\t\t\t\t\tpreventDefault = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (preventDefault) {\r\n\t\t\t\tif (event.preventDefault){\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t\treturn !(event.cancelBubble = true);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tscheduler.event(document, \"keydown\", modal_key, true);\r\n\r\n\tfunction modality(mode) {\r\n\t\tif (!modality.cover) {\r\n\t\t\tmodality.cover = document.createElement(\"div\");\r\n\t\t\t//necessary for IE only\r\n\t\t\tscheduler.event(modality.cover, \"keydown\", modal_key);\r\n\t\t\tmodality.cover.className = \"dhx_modal_cover\";\r\n\t\t\tdocument.body.appendChild(modality.cover);\r\n\t\t}\r\n\r\n\t\tmodality.cover.style.display = mode ? \"inline-block\" : \"none\";\r\n\t}\r\n\r\n\tfunction button(text, classValue, result) {\r\n\t\tvar buttonAriaAttrs = scheduler._waiAria.messageButtonAttrString(text);\r\n\t\tvar name = (classValue || \"\").toLowerCase().replace(/ /g, \"_\");\r\n\t\tvar buttonCss = `scheduler_${name}_button dhtmlx_${name}_button`; \r\n\t\treturn `<div ${buttonAriaAttrs} class='scheduler_popup_button dhtmlx_popup_button ${buttonCss}' data-result='${result}' result='${result}' ><div>${text}</div></div>`;\r\n\t}\r\n\r\n\tfunction info(text) {\r\n\t\tif (!messageBox.area) {\r\n\t\t\tmessageBox.area = document.createElement(\"div\");\r\n\t\t\tmessageBox.area.className = \"scheduler_message_area dhtmlx_message_area\";\r\n\t\t\tmessageBox.area.style[messageBox.position] = \"5px\";\r\n\t\t\tdocument.body.appendChild(messageBox.area);\r\n\t\t}\r\n\r\n\t\tmessageBox.hide(text.id);\r\n\t\tvar message = document.createElement(\"div\");\r\n\t\tmessage.innerHTML = \"<div>\" + text.text + \"</div>\";\r\n\t\tmessage.className = \"scheduler-info dhtmlx-info scheduler-\" + text.type + \" dhtmlx-\" + text.type;\r\n\t\tscheduler.event(message, \"click\",function (e) {\r\n            if(text.callback) {\r\n                text.callback.call(this, e);\r\n            }\r\n\t\t\tmessageBox.hide(text.id);\r\n\t\t\ttext = null;\r\n\t\t});\r\n\r\n\t\tscheduler._waiAria.messageInfoAttr(message);\r\n\r\n\t\tif (messageBox.position == \"bottom\" && messageBox.area.firstChild)\r\n\t\t\tmessageBox.area.insertBefore(message, messageBox.area.firstChild);\r\n\t\telse\r\n\t\t\tmessageBox.area.appendChild(message);\r\n\r\n\t\tif (text.expire > 0)\r\n\t\t\tmessageBox.timers[text.id] = window.setTimeout(function () {\r\n\t\t\t\t// GS-1213: We need that when Scheduler is destroyed\r\n\t\t\t\tif (messageBox) messageBox.hide(text.id);\r\n\t\t\t}, text.expire);\r\n\r\n\t\tmessageBox.pull[text.id] = message;\r\n\t\tmessage = null;\r\n\r\n\t\treturn text.id;\r\n\t}\r\n\r\n\tfunction getFirstDefined() {\r\n\t\tvar values = [].slice.apply(arguments, [0]);\r\n\r\n\t\tfor (var i = 0; i < values.length; i++) {\r\n\t\t\tif (values[i]) {\r\n\t\t\t\treturn values[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction _boxStructure(config, ok, cancel) {\r\n\t\tvar box = document.createElement(\"div\");\r\n\r\n\t\tvar contentId = utils.uid();\r\n\t\tscheduler._waiAria.messageModalAttr(box, contentId);\r\n\r\n\r\n\t\tbox.className = \" scheduler_modal_box dhtmlx_modal_box scheduler-\" + config.type + \" dhtmlx-\" + config.type;\r\n\t\tbox.setAttribute(boxAttribute, 1);\r\n\r\n\t\tvar inner = '';\r\n\r\n\t\tif (config.width)\r\n\t\t\tbox.style.width = config.width;\r\n\t\tif (config.height)\r\n\t\t\tbox.style.height = config.height;\r\n\t\tif (config.title)\r\n\t\t\tinner += '<div class=\"scheduler_popup_title dhtmlx_popup_title\">' + config.title + '</div>';\r\n\t\tinner += '<div class=\"scheduler_popup_text dhtmlx_popup_text\" id=\"' + contentId + '\"><span>' + (config.content ? '' : config.text) + '</span></div><div  class=\"scheduler_popup_controls dhtmlx_popup_controls\">';\r\n\t\tif (ok)\r\n\t\t\tinner += button(getFirstDefined(config.ok, scheduler.locale.labels.message_ok, \"OK\"), \"ok\", true);\r\n\t\tif (cancel)\r\n\t\t\tinner += button(getFirstDefined(config.cancel, scheduler.locale.labels.message_cancel, \"Cancel\"), \"cancel\", false);\r\n\r\n\t\tif (config.buttons) {\r\n\t\t\tfor (var i = 0; i < config.buttons.length; i++) {\r\n\t\t\t\tvar btn = config.buttons[i];\r\n\t\t\t\tif (typeof btn == \"object\") {\r\n\t\t\t\t\t// Support { label:\"Save\", css:\"main_button\", value:\"save\" }\r\n\t\t\t\t\tvar label = btn.label;\r\n\t\t\t\t\tvar css = btn.css || (\"scheduler_\" + btn.label.toLowerCase() + \"_button dhtmlx_\" + btn.label.toLowerCase() + \"_button\");\r\n\t\t\t\t\tvar value = btn.value || i;\r\n\t\t\t\t\tinner += button(label, css, value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tinner += button(btn, btn, i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tinner += '</div>';\r\n\t\tbox.innerHTML = inner;\r\n\r\n\t\tif (config.content) {\r\n\t\t\tvar node = config.content;\r\n\t\t\tif (typeof node == \"string\")\r\n\t\t\t\tnode = document.getElementById(node);\r\n\t\t\tif (node.style.display == 'none')\r\n\t\t\t\tnode.style.display = \"\";\r\n\t\t\tbox.childNodes[config.title ? 1 : 0].appendChild(node);\r\n\t\t}\r\n\r\n\t\tscheduler.event(box, \"click\", function (event) {\r\n\t\t\tvar source = event.target || event.srcElement;\r\n\t\t\tif (!source.className) source = source.parentNode;\r\n\t\t\tif (domHelpers.closest(source, \".scheduler_popup_button\")) {\r\n\t\t\t\tvar result = source.getAttribute(\"data-result\");\r\n\t\t\t\tresult = (result == \"true\") || (result == \"false\" ? false : result);\r\n\t\t\t\tcallback(config, result);\r\n\t\t\t}\r\n\t\t});\r\n\t\tconfig.box = box;\r\n\t\tif (ok || cancel)\r\n\t\t\t_dhx_msg_cfg = config;\r\n\r\n\t\treturn box;\r\n\t}\r\n\r\n\tfunction _createBox(config, ok, cancel) {\r\n\t\tvar box = config.tagName ? config : _boxStructure(config, ok, cancel);\r\n\r\n\t\tif (!config.hidden)\r\n\t\t\tmodality(true);\r\n\t\tdocument.body.appendChild(box);\r\n\t\tvar x = Math.abs(Math.floor(((window.innerWidth || document.documentElement.offsetWidth) - box.offsetWidth) / 2));\r\n\t\tvar y = Math.abs(Math.floor(((window.innerHeight || document.documentElement.offsetHeight) - box.offsetHeight) / 2));\r\n\t\tif (config.position == \"top\")\r\n\t\t\tbox.style.top = \"-3px\";\r\n\t\telse\r\n\t\t\tbox.style.top = y + 'px';\r\n\t\tbox.style.left = x + 'px';\r\n\t\t//necessary for IE only\r\n\t\tscheduler.event(box, \"keydown\", modal_key);\r\n\r\n\t\tmodalBox.focus(box);\r\n\r\n\t\tif (config.hidden)\r\n\t\t\tmodalBox.hide(box);\r\n\r\n\t\tscheduler.callEvent(\"onMessagePopup\", [box]);\r\n\t\treturn box;\r\n\t}\r\n\r\n\tfunction alertPopup(config) {\r\n\t\treturn _createBox(config, true, false);\r\n\t}\r\n\r\n\tfunction confirmPopup(config) {\r\n\t\treturn _createBox(config, true, true);\r\n\t}\r\n\r\n\tfunction boxPopup(config) {\r\n\t\treturn _createBox(config);\r\n\t}\r\n\r\n\tfunction box_params(text, type, callback) {\r\n\t\tif (typeof text != \"object\") {\r\n\t\t\tif (typeof type == \"function\") {\r\n\t\t\t\tcallback = type;\r\n\t\t\t\ttype = \"\";\r\n\t\t\t}\r\n\t\t\ttext = {text: text, type: type, callback: callback};\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\r\n\tfunction params(text, type, expire, id, callback) {\r\n\t\tif (typeof text != \"object\")\r\n\t\t\ttext = {text: text, type: type, expire: expire, id: id, callback: callback};\r\n\t\ttext.id = text.id || utils.uid();\r\n\t\ttext.expire = text.expire || messageBox.expire;\r\n\t\treturn text;\r\n\t}\r\n\r\n\tvar alertBox = function () {\r\n\t\tvar text = box_params.apply(this, arguments);\r\n\t\ttext.type = text.type || \"confirm\";\r\n\t\treturn alertPopup(text);\r\n\t};\r\n\tvar confirmBox = function () {\r\n\t\tvar text = box_params.apply(this, arguments);\r\n\t\ttext.type = text.type || \"alert\";\r\n\t\treturn confirmPopup(text);\r\n\t};\r\n\tvar modalBox = function () {\r\n\t\tvar text = box_params.apply(this, arguments);\r\n\t\ttext.type = text.type || \"alert\";\r\n\t\treturn boxPopup(text);\r\n\t};\r\n\tmodalBox.hide = function (node) {\r\n\t\twhile (node && node.getAttribute && !node.getAttribute(boxAttribute))\r\n\t\t\tnode = node.parentNode;\r\n\t\tif (node) {\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t\tmodality(false);\r\n\r\n\t\t\tscheduler.callEvent(\"onAfterMessagePopup\", [node]);\r\n\t\t}\r\n\t};\r\n\r\n\tmodalBox.focus = function (node) {\r\n\t\tsetTimeout(function () {\r\n\t\t\tvar focusable = domHelpers.getFocusableNodes(node);\r\n\t\t\tif (focusable.length) {\r\n\t\t\t\tif (focusable[0].focus) focusable[0].focus();\r\n\t\t\t}\r\n\t\t}, 1);\r\n\t};\r\n\r\n\tvar messageBox = function (text, type, expire, id) {\r\n\t\ttext = params.apply(this, arguments);\r\n\t\ttext.type = text.type || \"info\";\r\n\r\n\t\tvar subtype = text.type.split(\"-\")[0];\r\n\t\tswitch (subtype) {\r\n\t\t\tcase \"alert\":\r\n\t\t\t\treturn alertPopup(text);\r\n\t\t\tcase \"confirm\":\r\n\t\t\t\treturn confirmPopup(text);\r\n\t\t\tcase \"modalbox\":\r\n\t\t\t\treturn boxPopup(text);\r\n\t\t\tdefault:\r\n\t\t\t\treturn info(text);\r\n\t\t}\r\n\t};\r\n\r\n\tmessageBox.seed = (new Date()).valueOf();\r\n\tmessageBox.uid = utils.uid;\r\n\tmessageBox.expire = 4000;\r\n\tmessageBox.keyboard = true;\r\n\tmessageBox.position = \"top\";\r\n\tmessageBox.pull = {};\r\n\tmessageBox.timers = {};\r\n\r\n\tmessageBox.hideAll = function () {\r\n\t\tfor (var key in messageBox.pull)\r\n\t\t\tmessageBox.hide(key);\r\n\t};\r\n\tmessageBox.hide = function (id) {\r\n\t\tvar obj = messageBox.pull[id];\r\n\t\tif (obj && obj.parentNode) {\r\n\t\t\twindow.setTimeout(function () {\r\n\t\t\t\tobj.parentNode.removeChild(obj);\r\n\t\t\t\tobj = null;\r\n\t\t\t}, 2000);\r\n\t\t\tobj.className += \" hidden\";\r\n\r\n\t\t\tif (messageBox.timers[id])\r\n\t\t\t\twindow.clearTimeout(messageBox.timers[id]);\r\n\t\t\tdelete messageBox.pull[id];\r\n\t\t}\r\n\t};\r\n\r\n\tvar popups = [];\r\n\tscheduler.attachEvent(\"onMessagePopup\", function(box){\r\n\t\tpopups.push(box);\r\n\t});\r\n\tscheduler.attachEvent(\"onAfterMessagePopup\", function(box){\r\n\t\tfor(var i = 0; i < popups.length; i++){\r\n\t\t\tif(popups[i] === box){\r\n\t\t\t\tpopups.splice(i, 1);\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onDestroy\", function(){\r\n\t\tif(modality.cover && modality.cover.parentNode){\r\n\t\t\tmodality.cover.parentNode.removeChild(modality.cover);\r\n\t\t}\r\n\r\n\t\tfor(var i = 0; i < popups.length; i++){\r\n\t\t\tif(popups[i].parentNode){\r\n\t\t\t\tpopups[i].parentNode.removeChild(popups[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpopups = null;\r\n\r\n\t\tif(messageBox.area && messageBox.area.parentNode){\r\n\t\t\tmessageBox.area.parentNode.removeChild(messageBox.area);\r\n\t\t}\r\n\t\tmessageBox = null;\r\n\t});\r\n\r\n\treturn {\r\n\t\talert: alertBox,\r\n\t\tconfirm: confirmBox,\r\n\t\tmessage: messageBox,\r\n\t\tmodalbox: modalBox\r\n\t};\r\n}","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"كانون الثاني\", \"شباط\", \"آذار\", \"نيسان\", \"أيار\", \"حزيران\", \"تموز\", \"آب\", \"أيلول\", \"تشرين الأول\", \"تشرين الثاني\", \"كانون الأول\"],\r\n\t\tmonth_short: [\"يناير\", \"فبراير\", \"مارس\", \"أبريل\", \"مايو\", \"يونيو\", \"يوليو\", \"أغسطس\", \"سبتمبر\", \"أكتوبر\", \"نوفمبر\", \"ديسمبر\"],\r\n\t\tday_full: [\"الأحد\", \"الأثنين\", \"ألثلاثاء\", \"الأربعاء\", \"ألحميس\", \"ألجمعة\", \"السبت\"],\r\n\t\tday_short: [\"احد\", \"اثنين\", \"ثلاثاء\", \"اربعاء\", \"خميس\", \"جمعة\", \"سبت\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"اليوم\",\r\n\t\tday_tab: \"يوم\",\r\n\t\tweek_tab: \"أسبوع\",\r\n\t\tmonth_tab: \"شهر\",\r\n\t\tnew_event: \"حدث جديد\",\r\n\t\ticon_save: \"اخزن\",\r\n\t\ticon_cancel: \"الغاء\",\r\n\t\ticon_details: \"تفاصيل\",\r\n\t\ticon_edit: \"تحرير\",\r\n\t\ticon_delete: \"حذف\",\r\n\t\tconfirm_closing: \"التغييرات سوف تضيع, هل انت متأكد؟\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"الحدث سيتم حذفها نهائيا ، هل أنت متأكد؟\",\r\n\t\tsection_description: \"الوصف\",\r\n\t\tsection_time: \"الفترة الزمنية\",\r\n\t\tfull_day: \"طوال اليوم\",\r\n\r\n\t\tconfirm_recurring: \"هل تريد تحرير مجموعة كاملة من الأحداث المتكررة؟\",\r\n\t\tsection_recurring: \"تكرار الحدث\",\r\n\t\tbutton_recurring: \"تعطيل\",\r\n\t\tbutton_recurring_open: \"تمكين\",\r\n\t\tbutton_edit_series: \"تحرير سلسلة\",\r\n\t\tbutton_edit_occurrence: \"تعديل نسخة\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"جدول\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create: \"Drag to create\",\r\n\t\tdrag_to_move: \"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok: \"OK\",\r\n\t\tmessage_cancel: \"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour: \"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"يومي\", //name=\"repeat\" value=\"day\"\r\n\t\trepeat_radio_week: \"أسبوعي\", //name=\"repeat\" value=\"week\r\n\t\trepeat_radio_month: \"شهري\",\r\n\t\trepeat_radio_year: \"سنوي\",\r\n\t\trepeat_radio_day_type: \"كل\",\r\n\t\trepeat_text_day_count: \"يوم\",\r\n\t\trepeat_radio_day_type2: \"كل يوم عمل\",\r\n\t\trepeat_week: \" تكرار كل\",\r\n\t\trepeat_text_week_count: \"أسبوع في الأيام التالية:\",\r\n\t\trepeat_radio_month_type: \"تكرار\",\r\n\t\trepeat_radio_month_start: \"في\",\r\n\t\trepeat_text_month_day: \"يوم كل\",\r\n\t\trepeat_text_month_count: \"شهر\",\r\n\t\trepeat_text_month_count2_before: \"كل\",\r\n\t\trepeat_text_month_count2_after: \"شهر\",\r\n\t\trepeat_year_label: \"في\",\r\n\t\tselect_year_day2: \"من\",\r\n\t\trepeat_text_year_day: \"يوم\",\r\n\t\tselect_year_month: \"شهر\",\r\n\t\trepeat_radio_end: \"بدون تاريخ انتهاء\",\r\n\t\trepeat_text_occurences_count: \"تكرارات\",\r\n\t\trepeat_radio_end2: \"بعد\",\r\n\t\trepeat_radio_end3: \"ينتهي في\",\r\n\r\n\t\trepeat_never: \"أبداً\",\r\n\t\trepeat_daily: \"كل يوم\",\r\n\t\trepeat_workdays: \"كل يوم عمل\",\r\n\t\trepeat_weekly: \"كل أسبوع\",\r\n\t\trepeat_monthly: \"كل شهر\",\r\n\t\trepeat_yearly: \"كل سنة\",\r\n\t\trepeat_custom: \"تخصيص\",\r\n\t\trepeat_freq_day: \"يوم\",\r\n\t\trepeat_freq_week: \"أسبوع\",\r\n\t\trepeat_freq_month: \"شهر\",\r\n\t\trepeat_freq_year: \"سنة\",\r\n\t\trepeat_on_date: \"في التاريخ\",\r\n\t\trepeat_ends: \"ينتهي\",\r\n\r\n\t\tmonth_for_recurring: [\"يناير\", \"فبراير\", \"مارس\", \"أبريل\", \"مايو\", \"يونيو\", \"يوليو\", \"أغسطس\", \"سبتمبر\", \"أكتوبر\", \"نوفمبر\", \"ديسمبر\"],\r\n\t\tday_for_recurring: [\"الأحد\", \"الإثنين\", \"الثلاثاء\", \"الأربعاء\", \"الخميس\", \"الجمعة\", \"السبت\"]\r\n\t}\r\n};\r\n\r\n\r\n","/*\r\n Translation by Sofya Morozova\r\n */\r\nexport default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Студзень\", \"Люты\", \"Сакавік\", \"Красавік\", \"Maй\", \"Чэрвень\", \"Ліпень\", \"Жнівень\", \"Верасень\", \"Кастрычнік\", \"Лістапад\", \"Снежань\"],\r\n\t\tmonth_short: [\"Студз\", \"Лют\", \"Сак\", \"Крас\", \"Maй\", \"Чэр\", \"Ліп\", \"Жнів\", \"Вер\", \"Каст\", \"Ліст\", \"Снеж\"],\r\n\t\tday_full: [ \"Нядзеля\", \"Панядзелак\", \"Аўторак\", \"Серада\", \"Чацвер\", \"Пятніца\", \"Субота\"],\r\n\t\tday_short: [\"Нд\", \"Пн\", \"Аўт\", \"Ср\", \"Чцв\", \"Пт\", \"Сб\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Сёння\",\r\n\t\tday_tab: \"Дзень\",\r\n\t\tweek_tab: \"Тыдзень\",\r\n\t\tmonth_tab: \"Месяц\",\r\n\t\tnew_event: \"Новая падзея\",\r\n\t\ticon_save: \"Захаваць\",\r\n\t\ticon_cancel: \"Адмяніць\",\r\n\t\ticon_details: \"Дэталі\",\r\n\t\ticon_edit: \"Змяніць\",\r\n\t\ticon_delete: \"Выдаліць\",\r\n\t\tconfirm_closing: \"\", //Унесеныя змены будуць страчаны, працягнуць?\r\n\t\tconfirm_deleting: \"Падзея будзе выдалена незваротна, працягнуць?\",\r\n\t\tsection_description: \"Апісанне\",\r\n\t\tsection_time: \"Перыяд часу\",\r\n\t\tfull_day: \"Увесь дзень\",\r\n\r\n\t\tconfirm_recurring: \"Вы хочаце змяніць усю серыю паўтаральных падзей?\",\r\n\t\tsection_recurring: \"Паўтарэнне\",\r\n\t\tbutton_recurring: \"Адключана\",\r\n\t\tbutton_recurring_open: \"Уключана\",\r\n\t\tbutton_edit_series: \"Рэдагаваць серыю\",\r\n\t\tbutton_edit_occurrence: \"Рэдагаваць асобнік\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Спіс\",\r\n\t\tdate: \"Дата\",\r\n\t\tdescription: \"Апісанне\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Год\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Спіс\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Спic\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Дзень\",\r\n\t\trepeat_radio_week: \"Тыдзень\",\r\n\t\trepeat_radio_month: \"Месяц\",\r\n\t\trepeat_radio_year: \"Год\",\r\n\t\trepeat_radio_day_type: \"Кожны\",\r\n\t\trepeat_text_day_count: \"дзень\",\r\n\t\trepeat_radio_day_type2: \"Кожны працоўны дзень\",\r\n\t\trepeat_week: \" Паўтараць кожны\",\r\n\t\trepeat_text_week_count: \"тыдзень\",\r\n\t\trepeat_radio_month_type: \"Паўтараць\",\r\n\t\trepeat_radio_month_start: \"\",\r\n\t\trepeat_text_month_day: \" чысла кожнага\",\r\n\t\trepeat_text_month_count: \"месяцу\",\r\n\t\trepeat_text_month_count2_before: \"кожны \",\r\n\t\trepeat_text_month_count2_after: \"месяц\",\r\n\t\trepeat_year_label: \"\",\r\n\t\tselect_year_day2: \"\",\r\n\t\trepeat_text_year_day: \"дзень\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"Без даты заканчэння\",\r\n\t\trepeat_text_occurences_count: \"паўтораў\",\r\n\t\trepeat_radio_end2: \"\",\r\n\t\trepeat_radio_end3: \"Да \",\r\n\r\n\t\trepeat_never: \"Ніколі\",\r\n\t\trepeat_daily: \"Кожны дзень\",\r\n\t\trepeat_workdays: \"Кожны працоўны дзень\",\r\n\t\trepeat_weekly: \"Кожны тыдзень\",\r\n\t\trepeat_monthly: \"Кожны месяц\",\r\n\t\trepeat_yearly: \"Кожны год\",\r\n\t\trepeat_custom: \"Наладжвальны\",\r\n\t\trepeat_freq_day: \"Дзень\",\r\n\t\trepeat_freq_week: \"Тыдзень\",\r\n\t\trepeat_freq_month: \"Месяц\",\r\n\t\trepeat_freq_year: \"Год\",\r\n\t\trepeat_on_date: \"На дату\",\r\n\t\trepeat_ends: \"Заканчваецца\",\r\n\r\n\t\tmonth_for_recurring: [\"Студзеня\", \"Лютага\", \"Сакавіка\", \"Красавіка\", \"Мая\", \"Чэрвеня\", \"Ліпeня\", \"Жніўня\", \"Верасня\", \"Кастрычніка\", \"Лістапада\", \"Снежня\"],\r\n\t\tday_for_recurring: [\"Нядзелю\", \"Панядзелак\", \"Аўторак\", \"Сераду\", \"Чацвер\", \"Пятніцу\", \"Суботу\"]\r\n\t}\r\n};\r\n","/*\r\n @Traducido por Vicente Adria Bohigues - vicenteadria@hotmail.com\r\n */\r\nexport default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Gener\", \"Febrer\", \"Març\", \"Abril\", \"Maig\", \"Juny\", \"Juliol\", \"Agost\", \"Setembre\", \"Octubre\", \"Novembre\", \"Desembre\"],\r\n\t\tmonth_short: [\"Gen\", \"Feb\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Oct\", \"Nov\", \"Des\"],\r\n\t\tday_full: [\"Diumenge\", \"Dilluns\", \"Dimarts\", \"Dimecres\", \"Dijous\", \"Divendres\", \"Dissabte\"],\r\n\t\tday_short: [\"Dg\", \"Dl\", \"Dm\", \"Dc\", \"Dj\", \"Dv\", \"Ds\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Hui\",\r\n\t\tday_tab: \"Dia\",\r\n\t\tweek_tab: \"Setmana\",\r\n\t\tmonth_tab: \"Mes\",\r\n\t\tnew_event: \"Nou esdeveniment\",\r\n\t\ticon_save: \"Guardar\",\r\n\t\ticon_cancel: \"Cancel·lar\",\r\n\t\ticon_details: \"Detalls\",\r\n\t\ticon_edit: \"Editar\",\r\n\t\ticon_delete: \"Esborrar\",\r\n\t\tconfirm_closing: \"\", //\"Els seus canvis es perdràn, continuar ?\"\r\n\t\tconfirm_deleting: \"L'esdeveniment s'esborrarà definitivament, continuar ?\",\r\n\t\tsection_description: \"Descripció\",\r\n\t\tsection_time: \"Periode de temps\",\r\n\t\tfull_day: \"Tot el dia\",\r\n\r\n\t\tconfirm_recurring: \"¿Desitja modificar el conjunt d'esdeveniments repetits?\",\r\n\t\tsection_recurring: \"Repeteixca l'esdeveniment\",\r\n\t\tbutton_recurring: \"Impedit\",\r\n\t\tbutton_recurring_open: \"Permés\",\r\n\t\tbutton_edit_series: \"Edit sèrie\",\r\n\t\tbutton_edit_occurrence: \"Edita Instància\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Data\",\r\n\t\tdescription: \"Descripció\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Any\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Taula\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create: \"Drag to create\",\r\n\t\tdrag_to_move: \"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok: \"OK\",\r\n\t\tmessage_cancel: \"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour: \"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Diari\", //name=\"repeat\" value=\"day\"\r\n\t\trepeat_radio_week: \"Setmanal\", //name=\"repeat\" value=\"week\r\n\t\trepeat_radio_month: \"Mensual\",\r\n\t\trepeat_radio_year: \"Anual\",\r\n\t\trepeat_radio_day_type: \"Cada\",\r\n\t\trepeat_text_day_count: \"dia\",\r\n\t\trepeat_radio_day_type2: \"Cada dia laborable\",\r\n\t\trepeat_week: \" Repetir cada\",\r\n\t\trepeat_text_week_count: \"setmana els dies següents:\",\r\n\t\trepeat_radio_month_type: \"Repetir\",\r\n\t\trepeat_radio_month_start: \"El\",\r\n\t\trepeat_text_month_day: \"dia cada\",\r\n\t\trepeat_text_month_count: \"mes\",\r\n\t\trepeat_text_month_count2_before: \"cada\",\r\n\t\trepeat_text_month_count2_after: \"mes\",\r\n\t\trepeat_year_label: \"El\",\r\n\t\tselect_year_day2: \"de\",\r\n\t\trepeat_text_year_day: \"dia\",\r\n\t\tselect_year_month: \"mes\",\r\n\t\trepeat_radio_end: \"Sense data de finalització\",\r\n\t\trepeat_text_occurences_count: \"ocurrències\",\r\n\t\trepeat_radio_end2: \"Després\",\r\n\t\trepeat_radio_end3: \"Finalitzar el\",\r\n\r\n\t\trepeat_never: \"Mai\",\r\n\t\trepeat_daily: \"Cada dia\",\r\n\t\trepeat_workdays: \"Cada dia laborable\",\r\n\t\trepeat_weekly: \"Cada setmana\",\r\n\t\trepeat_monthly: \"Cada mes\",\r\n\t\trepeat_yearly: \"Cada any\",\r\n\t\trepeat_custom: \"Personalitzat\",\r\n\t\trepeat_freq_day: \"Dia\",\r\n\t\trepeat_freq_week: \"Setmana\",\r\n\t\trepeat_freq_month: \"Mes\",\r\n\t\trepeat_freq_year: \"Any\",\r\n\t\trepeat_on_date: \"En la data\",\r\n\t\trepeat_ends: \"Finalitza\",\r\n\r\n\t\tmonth_for_recurring: [\"Gener\", \"Febrer\", \"Març\", \"Abril\", \"Maig\", \"Juny\", \"Juliol\", \"Agost\", \"Setembre\", \"Octubre\", \"Novembre\", \"Desembre\"],\r\n\t\tday_for_recurring: [\"Diumenge\", \"Dilluns\", \"Dimarts\", \"Dimecres\", \"Dijous\", \"Divendres\", \"Dissabte\"]\r\n\t}\r\n};","/*\r\nTranslation by FreezeSoul\r\n*/\r\n//scheduler.config.day_date=\"%M %d日 %D\";\r\n//scheduler.config.default_date=\"%Y年 %M %d日\";\r\n//scheduler.config.month_date=\"%Y年 %M\";\r\n\r\nexport default {\r\n\tdate: {\r\n\t\tmonth_full: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],\r\n\t\tmonth_short: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\r\n\t\tday_full: [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"],\r\n\t\tday_short: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"今天\",\r\n\t\tday_tab: \"日\",\r\n\t\tweek_tab: \"周\",\r\n\t\tmonth_tab: \"月\",\r\n\t\tnew_event: \"新建日程\",\r\n\t\ticon_save: \"保存\",\r\n\t\ticon_cancel: \"关闭\",\r\n\t\ticon_details: \"详细\",\r\n\t\ticon_edit: \"编辑\",\r\n\t\ticon_delete: \"删除\",\r\n\t\tconfirm_closing: \"请确认是否撤销修改!\", //Your changes will be lost, are your sure?\r\n\t\tconfirm_deleting: \"是否删除日程?\",\r\n\t\tsection_description: \"描述\",\r\n\t\tsection_time: \"时间范围\",\r\n\t\tfull_day: \"整天\",\r\n\r\n\t\tconfirm_recurring:\"请确认是否将日程设为重复模式?\",\r\n\t\tsection_recurring:\"重复周期\",\r\n\t\tbutton_recurring:\"禁用\",\r\n\t\tbutton_recurring_open:\"启用\",\r\n\t\tbutton_edit_series: \"编辑系列\",\r\n\t\tbutton_edit_occurrence: \"编辑实例\",\r\n\t\t\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab:\"议程\",\r\n\t\tdate:\"日期\",\r\n\t\tdescription:\"说明\",\r\n\t\t\r\n\t\t/*year view extension*/\r\n\t\tyear_tab:\"今年\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"议程\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab:\"电网\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"按天\",\r\n\t\trepeat_radio_week: \"按周\",\r\n\t\trepeat_radio_month: \"按月\",\r\n\t\trepeat_radio_year: \"按年\",\r\n\t\trepeat_radio_day_type: \"每\",\r\n\t\trepeat_text_day_count: \"天\",\r\n\t\trepeat_radio_day_type2: \"每个工作日\",\r\n\t\trepeat_week: \" 重复 每\",\r\n\t\trepeat_text_week_count: \"星期的:\",\r\n\t\trepeat_radio_month_type: \"重复\",\r\n\t\trepeat_radio_month_start: \"在\",\r\n\t\trepeat_text_month_day: \"日 每\",\r\n\t\trepeat_text_month_count: \"月\",\r\n\t\trepeat_text_month_count2_before: \"每\",\r\n\t\trepeat_text_month_count2_after: \"月\",\r\n\t\trepeat_year_label: \"在\",\r\n\t\tselect_year_day2: \"的\",\r\n\t\trepeat_text_year_day: \"日\",\r\n\t\tselect_year_month: \"月\",\r\n\t\trepeat_radio_end: \"无结束日期\",\r\n\t\trepeat_text_occurences_count: \"次结束\",\r\n\t\trepeat_radio_end2: \"重复\",\r\n\t\trepeat_radio_end3: \"结束于\",\r\n\t\t\r\n\t\trepeat_never: \"从不\",\r\n\t\trepeat_daily: \"每天\",\r\n\t\trepeat_workdays: \"每个工作日\",\r\n\t\trepeat_weekly: \"每周\",\r\n\t\trepeat_monthly: \"每月\",\r\n\t\trepeat_yearly: \"每年\",\r\n\t\trepeat_custom: \"自定义\",\r\n\t\trepeat_freq_day: \"天\",\r\n\t\trepeat_freq_week: \"周\",\r\n\t\trepeat_freq_month: \"月\",\r\n\t\trepeat_freq_year: \"年\",\r\n\t\trepeat_on_date: \"在日期\",\r\n\t\trepeat_ends: \"结束\",\r\n\r\n\t\tmonth_for_recurring: [\"一月\", \"二月\", \"三月\", \"四月\", \"五月\", \"六月\", \"七月\", \"八月\", \"九月\", \"十月\", \"十一月\", \"十二月\"],\r\n\t\tday_for_recurring: [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Leden\", \"Únor\", \"Březen\", \"Duben\", \"Květen\", \"Červen\", \"Červenec\", \"Srpen\", \"Září\", \"Říjen\", \"Listopad\", \"Prosinec\"],\r\n\t\tmonth_short: [\"Led\", \"Ún\", \"Bře\", \"Dub\", \"Kvě\", \"Čer\", \"Čec\", \"Srp\", \"Září\", \"Říj\", \"List\", \"Pro\"],\r\n\t\tday_full: [\"Neděle\", \"Pondělí\", \"Úterý\", \"Středa\", \"Čtvrtek\", \"Pátek\", \"Sobota\"],\r\n\t\tday_short: [\"Ne\", \"Po\", \"Út\", \"St\", \"Čt\", \"Pá\", \"So\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Dnes\",\r\n\t\tday_tab: \"Den\",\r\n\t\tweek_tab: \"Týden\",\r\n\t\tmonth_tab: \"Měsíc\",\r\n\t\tnew_event: \"Nová událost\",\r\n\t\ticon_save: \"Uložit\",\r\n\t\ticon_cancel: \"Zpět\",\r\n\t\ticon_details: \"Detail\",\r\n\t\ticon_edit: \"Edituj\",\r\n\t\ticon_delete: \"Smazat\",\r\n\t\tconfirm_closing: \"\", //Vaše změny budou ztraceny, opravdu ?\r\n\t\tconfirm_deleting: \"Událost bude trvale smazána, opravdu?\",\r\n\t\tsection_description: \"Poznámky\",\r\n\t\tsection_time: \"Doba platnosti\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Přejete si upravit celou řadu opakovaných událostí?\",\r\n\t\tsection_recurring: \"Opakování události\",\r\n\t\tbutton_recurring: \"Vypnuto\",\r\n\t\tbutton_recurring_open: \"Zapnuto\",\r\n\t\tbutton_edit_series: \"Edit series\",\r\n\t\tbutton_edit_occurrence: \"Upravit instance\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Program\",\r\n\t\tdate: \"Datum\",\r\n\t\tdescription: \"Poznámka\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Rok\",\r\n\t\tfull_day: \"Full day\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Program\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Mřížka\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Denně\",\r\n\t\trepeat_radio_week: \"Týdně\",\r\n\t\trepeat_radio_month: \"Měsíčně\",\r\n\t\trepeat_radio_year: \"Ročně\",\r\n\t\trepeat_radio_day_type: \"každý\",\r\n\t\trepeat_text_day_count: \"Den\",\r\n\t\trepeat_radio_day_type2: \"pracovní dny\",\r\n\t\trepeat_week: \"Opakuje každých\",\r\n\t\trepeat_text_week_count: \"Týdnů na:\",\r\n\t\trepeat_radio_month_type: \"u každého\",\r\n\t\trepeat_radio_month_start: \"na\",\r\n\t\trepeat_text_month_day: \"Den každého\",\r\n\t\trepeat_text_month_count: \"Měsíc\",\r\n\t\trepeat_text_month_count2_before: \"každý\",\r\n\t\trepeat_text_month_count2_after: \"Měsíc\",\r\n\t\trepeat_year_label: \"na\",\r\n\t\tselect_year_day2: \"v\",\r\n\t\trepeat_text_year_day: \"Den v\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"bez data ukončení\",\r\n\t\trepeat_text_occurences_count: \"Události\",\r\n\t\trepeat_radio_end2: \"po\",\r\n\t\trepeat_radio_end3: \"Konec\",\r\n\r\n\t\trepeat_never: \"Nikdy\",\r\n\t\trepeat_daily: \"Každý den\",\r\n\t\trepeat_workdays: \"Každý pracovní den\",\r\n\t\trepeat_weekly: \"Každý týden\",\r\n\t\trepeat_monthly: \"Každý měsíc\",\r\n\t\trepeat_yearly: \"Každý rok\",\r\n\t\trepeat_custom: \"Vlastní\",\r\n\t\trepeat_freq_day: \"Den\",\r\n\t\trepeat_freq_week: \"Týden\",\r\n\t\trepeat_freq_month: \"Měsíc\",\r\n\t\trepeat_freq_year: \"Rok\",\r\n\t\trepeat_on_date: \"Na datum\",\r\n\t\trepeat_ends: \"Končí\",\r\n\r\n\t\tmonth_for_recurring: [\"Leden\", \"Únor\", \"Březen\", \"Duben\", \"Květen\", \"Červen\", \"Červenec\", \"Srpen\", \"Září\", \"Říjen\", \"Listopad\", \"Prosinec\"],\r\n\t\tday_for_recurring: [\"Neděle \", \"Pondělí\", \"Úterý\", \"Středa\", \"Čtvrtek\", \"Pátek\", \"Sobota\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Januar\", \"Februar\", \"Marts\", \"April\", \"Maj\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"December\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\r\n\t\tday_full: [\"Søndag\", \"Mandag\", \"Tirsdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lørdag\"],\r\n\t\tday_short: [\"Søn\", \"Man\", \"Tir\", \"Ons\", \"Tor\", \"Fre\", \"Lør\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Idag\",\r\n\t\tday_tab: \"Dag\",\r\n\t\tweek_tab: \"Uge\",\r\n\t\tmonth_tab: \"Måned\",\r\n\t\tnew_event: \"Ny begivenhed\",\r\n\t\ticon_save: \"Gem\",\r\n\t\ticon_cancel: \"Fortryd\",\r\n\t\ticon_details: \"Detaljer\",\r\n\t\ticon_edit: \"Tilret\",\r\n\t\ticon_delete: \"Slet\",\r\n\t\tconfirm_closing: \"Dine rettelser vil gå tabt.. Er dy sikker?\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"Bigivenheden vil blive slettet permanent. Er du sikker?\",\r\n\t\tsection_description: \"Beskrivelse\",\r\n\t\tsection_time: \"Tidsperiode\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Vil du tilrette hele serien af gentagne begivenheder?\",\r\n\t\tsection_recurring: \"Gentag begivenhed\",\r\n\t\tbutton_recurring: \"Frakoblet\",\r\n\t\tbutton_recurring_open: \"Tilkoblet\",\r\n\t\tbutton_edit_series: \"Rediger serien\",\r\n\t\tbutton_edit_occurrence: \"Rediger en kopi\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Dagsorden\",\r\n\t\tdate: \"Dato\",\r\n\t\tdescription: \"Beskrivelse\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"År\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Dagsorden\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Grid\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Daglig\",\r\n\t\trepeat_radio_week: \"Ugenlig\",\r\n\t\trepeat_radio_month: \"Månedlig\",\r\n\t\trepeat_radio_year: \"Årlig\",\r\n\t\trepeat_radio_day_type: \"Hver\",\r\n\t\trepeat_text_day_count: \"dag\",\r\n\t\trepeat_radio_day_type2: \"På hver arbejdsdag\",\r\n\t\trepeat_week: \" Gentager sig hver\",\r\n\t\trepeat_text_week_count: \"uge på følgende dage:\",\r\n\t\trepeat_radio_month_type: \"Hver den\",\r\n\t\trepeat_radio_month_start: \"Den\",\r\n\t\trepeat_text_month_day: \" i hver\",\r\n\t\trepeat_text_month_count: \"måned\",\r\n\t\trepeat_text_month_count2_before: \"hver\",\r\n\t\trepeat_text_month_count2_after: \"måned\",\r\n\t\trepeat_year_label: \"Den\",\r\n\t\tselect_year_day2: \"i\",\r\n\t\trepeat_text_year_day: \"dag i\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"Ingen slutdato\",\r\n\t\trepeat_text_occurences_count: \"gentagelse\",\r\n\t\trepeat_radio_end2: \"Efter\",\r\n\t\trepeat_radio_end3: \"Slut\",\r\n\r\n\t\trepeat_never: \"Aldrig\",\r\n\t\trepeat_daily: \"Hver dag\",\r\n\t\trepeat_workdays: \"Hver hverdag\",\r\n\t\trepeat_weekly: \"Hver uge\",\r\n\t\trepeat_monthly: \"Hver måned\",\r\n\t\trepeat_yearly: \"Hvert år\",\r\n\t\trepeat_custom: \"Brugerdefineret\",\r\n\t\trepeat_freq_day: \"Dag\",\r\n\t\trepeat_freq_week: \"Uge\",\r\n\t\trepeat_freq_month: \"Måned\",\r\n\t\trepeat_freq_year: \"År\",\r\n\t\trepeat_on_date: \"På dato\",\r\n\t\trepeat_ends: \"Slutter\",\r\n\r\n\t\tmonth_for_recurring: [\"Januar\", \"Februar\", \"März\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\r\n\t\tday_for_recurring: [\"Søndag\", \"Mandag\", \"Tirsdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lørdag\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\" Januar\", \" Februar\", \" März \", \" April\", \" Mai\", \" Juni\", \" Juli\", \" August\", \" September \", \" Oktober\", \" November \", \" Dezember\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mär\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\r\n\t\tday_full: [ \"Sonntag\", \"Montag\", \"Dienstag\", \" Mittwoch\", \" Donnerstag\", \"Freitag\", \"Samstag\"],\r\n\t\tday_short: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Heute\",\r\n\t\tday_tab: \"Tag\",\r\n\t\tweek_tab: \"Woche\",\r\n\t\tmonth_tab: \"Monat\",\r\n\t\tnew_event: \"neuer Eintrag\",\r\n\t\ticon_save: \"Speichern\",\r\n\t\ticon_cancel: \"Abbrechen\",\r\n\t\ticon_details: \"Details\",\r\n\t\ticon_edit: \"Ändern\",\r\n\t\ticon_delete: \"Löschen\",\r\n\t\tconfirm_closing: \"\", //\"Ihre Veränderungen werden verloren sein, wollen Sie ergänzen? \"\r\n\t\tconfirm_deleting: \"Der Eintrag wird gelöscht\",\r\n\t\tsection_description: \"Beschreibung\",\r\n\t\tsection_time: \"Zeitspanne\",\r\n\t\tfull_day: \"Ganzer Tag\",\r\n\r\n\t\tconfirm_recurring: \"Wollen Sie alle Einträge bearbeiten oder nur diesen einzelnen Eintrag?\",\r\n\t\tsection_recurring: \"Wiederholung\",\r\n\t\tbutton_recurring: \"Aus\",\r\n\t\tbutton_recurring_open: \"An\",\r\n\t\tbutton_edit_series: \"Bearbeiten Sie die Serie\",\r\n\t\tbutton_edit_occurrence: \"Bearbeiten Sie eine Kopie\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Datum\",\r\n\t\tdescription: \"Beschreibung\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Jahre\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Grid\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Täglich\",\r\n\t\trepeat_radio_week: \"Wöchentlich\",\r\n\t\trepeat_radio_month: \"Monatlich\",\r\n\t\trepeat_radio_year: \"Jährlich\",\r\n\t\trepeat_radio_day_type: \"jeden\",\r\n\t\trepeat_text_day_count: \"Tag\",\r\n\t\trepeat_radio_day_type2: \"an jedem Arbeitstag\",\r\n\t\trepeat_week: \" Wiederholt sich jede\",\r\n\t\trepeat_text_week_count: \"Woche am:\",\r\n\t\trepeat_radio_month_type: \"an jedem\",\r\n\t\trepeat_radio_month_start: \"am\",\r\n\t\trepeat_text_month_day: \"Tag eines jeden\",\r\n\t\trepeat_text_month_count: \"Monats\",\r\n\t\trepeat_text_month_count2_before: \"jeden\",\r\n\t\trepeat_text_month_count2_after: \"Monats\",\r\n\t\trepeat_year_label: \"am\",\r\n\t\tselect_year_day2: \"im\",\r\n\t\trepeat_text_year_day: \"Tag im\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"kein Enddatum\",\r\n\t\trepeat_text_occurences_count: \"Ereignissen\",\r\n\t\trepeat_radio_end3: \"Schluß\",\r\n\t\trepeat_radio_end2: \"nach\",\r\n\r\n\t\trepeat_never: \"Nie\",\r\n\t\trepeat_daily: \"Jeden Tag\",\r\n\t\trepeat_workdays: \"Jeden Werktag\",\r\n\t\trepeat_weekly: \"Jede Woche\",\r\n\t\trepeat_monthly: \"Jeden Monat\",\r\n\t\trepeat_yearly: \"Jedes Jahr\",\r\n\t\trepeat_custom: \"Benutzerdefiniert\",\r\n\t\trepeat_freq_day: \"Tag\",\r\n\t\trepeat_freq_week: \"Woche\",\r\n\t\trepeat_freq_month: \"Monat\",\r\n\t\trepeat_freq_year: \"Jahr\",\r\n\t\trepeat_on_date: \"Am Datum\",\r\n\t\trepeat_ends: \"Endet\",\r\n\r\n\t\tmonth_for_recurring: [\"Januar\", \"Februar\", \"März\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\r\n\t\tday_for_recurring: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Ιανουάριος\", \"Φεβρουάριος\", \"Μάρτιος\", \"Απρίλιος\", \"Μάϊος\", \"Ιούνιος\", \"Ιούλιος\", \"Αύγουστος\", \"Σεπτέμβριος\", \"Οκτώβριος\", \"Νοέμβριος\", \"Δεκέμβριος\"],\r\n\t\tmonth_short: [\"ΙΑΝ\", \"ΦΕΒ\", \"ΜΑΡ\", \"ΑΠΡ\", \"ΜΑΙ\", \"ΙΟΥΝ\", \"ΙΟΥΛ\", \"ΑΥΓ\", \"ΣΕΠ\", \"ΟΚΤ\", \"ΝΟΕ\", \"ΔΕΚ\"],\r\n\t\tday_full: [\"Κυριακή\", \"Δευτέρα\", \"Τρίτη\", \"Τετάρτη\", \"Πέμπτη\", \"Παρασκευή\", \"Σάββατο\"],\r\n\t\tday_short: [\"ΚΥ\", \"ΔΕ\", \"ΤΡ\", \"ΤΕ\", \"ΠΕ\", \"ΠΑ\", \"ΣΑ\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Σήμερα\",\r\n\t\tday_tab: \"Ημέρα\",\r\n\t\tweek_tab: \"Εβδομάδα\",\r\n\t\tmonth_tab: \"Μήνας\",\r\n\t\tnew_event: \"Νέο έργο\",\r\n\t\ticon_save: \"Αποθήκευση\",\r\n\t\ticon_cancel: \"Άκυρο\",\r\n\t\ticon_details: \"Λεπτομέρειες\",\r\n\t\ticon_edit: \"Επεξεργασία\",\r\n\t\ticon_delete: \"Διαγραφή\",\r\n\t\tconfirm_closing: \"\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"Το έργο θα διαγραφεί οριστικά. Θέλετε να συνεχίσετε;\",\r\n\t\tsection_description: \"Περιγραφή\",\r\n\t\tsection_time: \"Χρονική περίοδος\",\r\n\t\tfull_day: \"Πλήρης Ημέρα\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Θέλετε να επεξεργασθείτε ολόκληρη την ομάδα των επαναλαμβανόμενων έργων;\",\r\n\t\tsection_recurring: \"Επαναλαμβανόμενο έργο\",\r\n\t\tbutton_recurring: \"Ανενεργό\",\r\n\t\tbutton_recurring_open: \"Ενεργό\",\r\n\t\tbutton_edit_series: \"Επεξεργαστείτε τη σειρά\",\r\n\t\tbutton_edit_occurrence: \"Επεξεργασία ένα αντίγραφο\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Ημερήσια Διάταξη\",\r\n\t\tdate: \"Ημερομηνία\",\r\n\t\tdescription: \"Περιγραφή\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Έτος\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Ημερήσια Διάταξη\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Πλέγμα\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Ημερησίως\",\r\n\t\trepeat_radio_week: \"Εβδομαδιαίως\",\r\n\t\trepeat_radio_month: \"Μηνιαίως\",\r\n\t\trepeat_radio_year: \"Ετησίως\",\r\n\t\trepeat_radio_day_type: \"Κάθε\",\r\n\t\trepeat_text_day_count: \"ημέρα\",\r\n\t\trepeat_radio_day_type2: \"Κάθε εργάσιμη\",\r\n\t\trepeat_week: \" Επανάληψη κάθε\",\r\n\t\trepeat_text_week_count: \"εβδομάδα τις επόμενες ημέρες:\",\r\n\t\trepeat_radio_month_type: \"Επανάληψη\",\r\n\t\trepeat_radio_month_start: \"Την\",\r\n\t\trepeat_text_month_day: \"ημέρα κάθε\",\r\n\t\trepeat_text_month_count: \"μήνα\",\r\n\t\trepeat_text_month_count2_before: \"κάθε\",\r\n\t\trepeat_text_month_count2_after: \"μήνα\",\r\n\t\trepeat_year_label: \"Την\",\r\n\t\tselect_year_day2: \"του\",\r\n\t\trepeat_text_year_day: \"ημέρα\",\r\n\t\tselect_year_month: \"μήνα\",\r\n\t\trepeat_radio_end: \"Χωρίς ημερομηνία λήξεως\",\r\n\t\trepeat_text_occurences_count: \"επαναλήψεις\",\r\n\t\trepeat_radio_end3: \"Λήγει την\",\r\n\t\trepeat_radio_end2: \"Μετά από\",\r\n\r\n\t\trepeat_never: \"Ποτέ\",\r\n\t\trepeat_daily: \"Κάθε μέρα\",\r\n\t\trepeat_workdays: \"Κάθε εργάσιμη μέρα\",\r\n\t\trepeat_weekly: \"Κάθε εβδομάδα\",\r\n\t\trepeat_monthly: \"Κάθε μήνα\",\r\n\t\trepeat_yearly: \"Κάθε χρόνο\",\r\n\t\trepeat_custom: \"Προσαρμοσμένο\",\r\n\t\trepeat_freq_day: \"Ημέρα\",\r\n\t\trepeat_freq_week: \"Εβδομάδα\",\r\n\t\trepeat_freq_month: \"Μήνας\",\r\n\t\trepeat_freq_year: \"Χρόνος\",\r\n\t\trepeat_on_date: \"Σε ημερομηνία\",\r\n\t\trepeat_ends: \"Λήγει\",\r\n\r\n\t\tmonth_for_recurring: [\"Ιανουάριος\", \"Φεβρουάριος\", \"Μάρτιος\", \"Απρίλιος\", \"Μάϊος\", \"Ιούνιος\", \"Ιούλιος\", \"Αύγουστος\", \"Σεπτέμβριος\", \"Οκτώβριος\", \"Νοέμβριος\", \"Δεκέμβριος\"],\r\n\t\tday_for_recurring: [\"Κυριακή\", \"Δευτέρα\", \"Τρίτη\", \"Τετάρτη\", \"Πέμπτη\", \"Παρασκευή\", \"Σάββατο\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate:{\r\n\t\tmonth_full:[\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n\t\tmonth_short:[\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\r\n\t\tday_full:[\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\r\n\t\tday_short:[\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"]\r\n\t},\r\n\tlabels:{\r\n\t\tdhx_cal_today_button:\"Today\",\r\n\t\tday_tab:\"Day\",\r\n\t\tweek_tab:\"Week\",\r\n\t\tmonth_tab:\"Month\",\r\n\t\tnew_event:\"New event\",\r\n\t\ticon_save:\"Save\",\r\n\t\ticon_cancel:\"Cancel\",\r\n\t\ticon_details:\"Details\",\r\n\t\ticon_edit:\"Edit\",\r\n\t\ticon_delete:\"Delete\",\r\n\t\tconfirm_closing:\"\",//Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting:\"Event will be deleted permanently, are you sure?\",\r\n\t\tsection_description:\"Description\",\r\n\t\tsection_time:\"Time period\",\r\n\t\tfull_day:\"Full day\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring:\"Do you want to edit the whole set of repeated events?\",\r\n\t\tsection_recurring:\"Repeat event\",\r\n\t\tbutton_recurring:\"Disabled\",\r\n\t\tbutton_recurring_open:\"Enabled\",\r\n\t\tbutton_edit_series: \"Edit series\",\r\n\t\tbutton_edit_occurrence: \"Edit occurrence\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab:\"Agenda\",\r\n\t\tdate:\"Date\",\r\n\t\tdescription:\"Description\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab:\"Year\",\r\n\r\n\t\t/* week agenda extension */\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Grid\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Daily\",//name=\"repeat\" value=\"day\"\r\n\t\trepeat_radio_week: \"Weekly\",//name=\"repeat\" value=\"week\r\n\t\trepeat_radio_month: \"Monthly\",\r\n\t\trepeat_radio_year: \"Yearly\",\r\n\t\trepeat_radio_day_type: \"Every\",\r\n\t\trepeat_text_day_count: \"day\",\r\n\t\trepeat_radio_day_type2: \"Every workday\",\r\n\t\trepeat_week: \" Repeat every\",\r\n\t\trepeat_text_week_count: \"week next days:\",\r\n\t\trepeat_radio_month_type: \"Repeat\",\r\n\t\trepeat_radio_month_start: \"On\",\r\n\t\trepeat_text_month_day: \"day every\",\r\n\t\trepeat_text_month_count: \"month\",\r\n\t\trepeat_text_month_count2_before: \"every\",\r\n\t\trepeat_text_month_count2_after: \"month\",\r\n\t\trepeat_year_label: \"On\",\r\n\t\tselect_year_day2: \"of\",\r\n\t\trepeat_text_year_day: \"day\",\r\n\t\tselect_year_month: \"month\",\r\n\t\trepeat_radio_end: \"No end date\",\r\n\t\trepeat_text_occurences_count: \"occurrences\",\r\n\t\trepeat_radio_end2: \"After\",\r\n\t\trepeat_radio_end3: \"End by\",\r\n\r\n\t\trepeat_never: \"Never\",\r\n\t\trepeat_daily: \"Every day\",\r\n\t\trepeat_workdays: \"Every weekday\",\r\n\t\trepeat_weekly: \"Every week\",\r\n\t\trepeat_monthly: \"Every month\",\r\n\t\trepeat_yearly: \"Every year\",\r\n\t\trepeat_custom: \"Custom\",\r\n\t\trepeat_freq_day: \"Day\",\r\n\t\trepeat_freq_week: \"Week\",\r\n\t\trepeat_freq_month: \"Month\",\r\n\t\trepeat_freq_year: \"Year\",\r\n\t\trepeat_on_date: \"On date\",\r\n\t\trepeat_ends: \"Ends\",\r\n\r\n\t\tmonth_for_recurring: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\r\n\t\tday_for_recurring: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]//\r\n\t}\r\n};\r\n\r\n","/*\r\n @Autor Manuel Fernandez Panzuela - www.mfernandez.es\r\n */\r\nexport default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Enero\", \"Febrero\", \"Marzo\", \"Abril\", \"Mayo\", \"Junio\", \"Julio\", \"Agosto\", \"Septiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"],\r\n\t\tmonth_short: [\"Ene\", \"Feb\", \"Mar\", \"Abr\", \"May\", \"Jun\", \"Jul\", \"Ago\", \"Sep\", \"Oct\", \"Nov\", \"Dic\"],\r\n\t\tday_full: [\"Domingo\", \"Lunes\", \"Martes\", \"Miércoles\", \"Jueves\", \"Viernes\", \"Sábado\"],\r\n\t\tday_short: [\"Dom\", \"Lun\", \"Mar\", \"Mié\", \"Jue\", \"Vie\", \"Sáb\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Hoy\",\r\n\t\tday_tab: \"Día\",\r\n\t\tweek_tab: \"Semana\",\r\n\t\tmonth_tab: \"Mes\",\r\n\t\tnew_event: \"Nuevo evento\",\r\n\t\ticon_save: \"Guardar\",\r\n\t\ticon_cancel: \"Cancelar\",\r\n\t\ticon_details: \"Detalles\",\r\n\t\ticon_edit: \"Editar\",\r\n\t\ticon_delete: \"Eliminar\",\r\n\t\tconfirm_closing: \"\", //\"Sus cambios se perderán, continuar ?\"\r\n\t\tconfirm_deleting: \"El evento se borrará definitivamente, ¿continuar?\",\r\n\t\tsection_description: \"Descripción\",\r\n\t\tsection_time: \"Período\",\r\n\t\tfull_day: \"Todo el día\",\r\n\r\n\t\tconfirm_recurring: \"¿Desea modificar el conjunto de eventos repetidos?\",\r\n\t\tsection_recurring: \"Repita el evento\",\r\n\t\tbutton_recurring: \"Impedido\",\r\n\t\tbutton_recurring_open: \"Permitido\",\r\n\t\tbutton_edit_series: \"Editar la serie\",\r\n\t\tbutton_edit_occurrence: \"Editar este evento\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Día\",\r\n\t\tdate: \"Fecha\",\r\n\t\tdescription: \"Descripción\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Año\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Día\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Reja\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Diariamente\",\r\n\t\trepeat_radio_week: \"Semanalmente\",\r\n\t\trepeat_radio_month: \"Mensualmente\",\r\n\t\trepeat_radio_year: \"Anualmente\",\r\n\t\trepeat_radio_day_type: \"Cada\",\r\n\t\trepeat_text_day_count: \"dia\",\r\n\t\trepeat_radio_day_type2: \"Cada jornada de trabajo\",\r\n\t\trepeat_week: \" Repetir cada\",\r\n\t\trepeat_text_week_count: \"semana:\",\r\n\t\trepeat_radio_month_type: \"Repita\",\r\n\t\trepeat_radio_month_start: \"El\",\r\n\t\trepeat_text_month_day: \"dia cada \",\r\n\t\trepeat_text_month_count: \"mes\",\r\n\t\trepeat_text_month_count2_before: \"cada\",\r\n\t\trepeat_text_month_count2_after: \"mes\",\r\n\t\trepeat_year_label: \"El\",\r\n\t\tselect_year_day2: \"del\",\r\n\t\trepeat_text_year_day: \"dia\",\r\n\t\tselect_year_month: \"mes\",\r\n\t\trepeat_radio_end: \"Sin fecha de finalización\",\r\n\t\trepeat_text_occurences_count: \"ocurrencias\",\r\n\t\trepeat_radio_end3: \"Fin\",\r\n\t\trepeat_radio_end2: \"Después de\",\r\n\r\n\t\trepeat_never: \"Nunca\",\r\n\t\trepeat_daily: \"Cada día\",\r\n\t\trepeat_workdays: \"Cada día laborable\",\r\n\t\trepeat_weekly: \"Cada semana\",\r\n\t\trepeat_monthly: \"Cada mes\",\r\n\t\trepeat_yearly: \"Cada año\",\r\n\t\trepeat_custom: \"Personalizado\",\r\n\t\trepeat_freq_day: \"Día\",\r\n\t\trepeat_freq_week: \"Semana\",\r\n\t\trepeat_freq_month: \"Mes\",\r\n\t\trepeat_freq_year: \"Año\",\r\n\t\trepeat_on_date: \"En la fecha\",\r\n\t\trepeat_ends: \"Termina\",\r\n\r\n\t\tmonth_for_recurring: [\"Enero\", \"Febrero\", \"Маrzo\", \"Аbril\", \"Mayo\", \"Junio\", \"Julio\", \"Аgosto\", \"Setiembre\", \"Octubre\", \"Noviembre\", \"Diciembre\"],\r\n\t\tday_for_recurring: [\"Domingo\", \"Lunes\", \"Martes\", \"Miércoles\", \"Jeuves\", \"Viernes\", \"Sabado\"]\r\n\t}\r\n};\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Tammikuu\", \"Helmikuu\", \"Maaliskuu\", \"Huhtikuu\", \"Toukokuu\", \"Kes&auml;kuu\", \"Hein&auml;kuu\", \"Elokuu\", \"Syyskuu\", \"Lokakuu\", \"Marraskuu\", \"Joulukuu\"],\r\n\t\tmonth_short: [\"Tam\", \"Hel\", \"Maa\", \"Huh\", \"Tou\", \"Kes\", \"Hei\", \"Elo\", \"Syy\", \"Lok\", \"Mar\", \"Jou\"],\r\n\t\tday_full: [\"Sunnuntai\", \"Maanantai\", \"Tiistai\", \"Keskiviikko\", \"Torstai\", \"Perjantai\", \"Lauantai\"],\r\n\t\tday_short: [\"Su\", \"Ma\", \"Ti\", \"Ke\", \"To\", \"Pe\", \"La\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Tänään\",\r\n\t\tday_tab: \"Päivä\",\r\n\t\tweek_tab: \"Viikko\",\r\n\t\tmonth_tab: \"Kuukausi\",\r\n\t\tnew_event: \"Uusi tapahtuma\",\r\n\t\ticon_save: \"Tallenna\",\r\n\t\ticon_cancel: \"Peru\",\r\n\t\ticon_details: \"Tiedot\",\r\n\t\ticon_edit: \"Muokkaa\",\r\n\t\ticon_delete: \"Poista\",\r\n\t\tconfirm_closing: \"\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"Haluatko varmasti poistaa tapahtuman?\",\r\n\t\tsection_description: \"Kuvaus\",\r\n\t\tsection_time: \"Aikajakso\",\r\n\t\tfull_day: \"Koko päivä\",\r\n\r\n\t\tconfirm_recurring: \"Haluatko varmasti muokata toistuvan tapahtuman kaikkia jaksoja?\",\r\n\t\tsection_recurring: \"Toista tapahtuma\",\r\n\t\tbutton_recurring: \"Ei k&auml;yt&ouml;ss&auml;\",\r\n\t\tbutton_recurring_open: \"K&auml;yt&ouml;ss&auml;\",\r\n\t\tbutton_edit_series: \"Muokkaa sarja\",\r\n\t\tbutton_edit_occurrence: \"Muokkaa kopio\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Esityslista\",\r\n\t\tdate: \"Päivämäärä\",\r\n\t\tdescription: \"Kuvaus\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Vuoden\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Esityslista\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Ritilä\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Luo uusi vetämällä\",\r\n\t\tdrag_to_move:\"Siirrä vetämällä\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"P&auml;ivitt&auml;in\",\r\n\t\trepeat_radio_week: \"Viikoittain\",\r\n\t\trepeat_radio_month: \"Kuukausittain\",\r\n\t\trepeat_radio_year: \"Vuosittain\",\r\n\t\trepeat_radio_day_type: \"Joka\",\r\n\t\trepeat_text_day_count: \"p&auml;iv&auml;\",\r\n\t\trepeat_radio_day_type2: \"Joka arkip&auml;iv&auml;\",\r\n\t\trepeat_week: \"Toista joka\",\r\n\t\trepeat_text_week_count: \"viikko n&auml;in&auml; p&auml;ivin&auml;:\",\r\n\t\trepeat_radio_month_type: \"Toista\",\r\n\t\trepeat_radio_month_start: \"\",\r\n\t\trepeat_text_month_day: \"p&auml;iv&auml;n&auml; joka\",\r\n\t\trepeat_text_month_count: \"kuukausi\",\r\n\t\trepeat_text_month_count2_before: \"joka\",\r\n\t\trepeat_text_month_count2_after: \"kuukausi\",\r\n\t\trepeat_year_label: \"\",\r\n\t\tselect_year_day2: \"\",\r\n\t\trepeat_text_year_day: \"p&auml;iv&auml;\",\r\n\t\tselect_year_month: \"kuukausi\",\r\n\t\trepeat_radio_end: \"Ei loppumisaikaa\",\r\n\t\trepeat_text_occurences_count: \"Toiston j&auml;lkeen\",\r\n\t\trepeat_radio_end3: \"Loppuu\",\r\n\t\trepeat_radio_end2: \"\",\r\n\r\n\t\trepeat_never: \"Ei koskaan\",\r\n\t\trepeat_daily: \"Joka päivä\",\r\n\t\trepeat_workdays: \"Joka arkipäivä\",\r\n\t\trepeat_weekly: \"Joka viikko\",\r\n\t\trepeat_monthly: \"Joka kuukausi\",\r\n\t\trepeat_yearly: \"Joka vuosi\",\r\n\t\trepeat_custom: \"Mukautettu\",\r\n\t\trepeat_freq_day: \"Päivä\",\r\n\t\trepeat_freq_week: \"Viikko\",\r\n\t\trepeat_freq_month: \"Kuukausi\",\r\n\t\trepeat_freq_year: \"Vuosi\",\r\n\t\trepeat_on_date: \"Tiettynä päivänä\",\r\n\t\trepeat_ends: \"Päättyy\",\r\n\r\n\t\tmonth_for_recurring: [\"Tammikuu\", \"Helmikuu\", \"Maaliskuu\", \"Huhtikuu\", \"Toukokuu\", \"Kes&auml;kuu\", \"Hein&auml;kuu\", \"Elokuu\", \"Syyskuu\", \"Lokakuu\", \"Marraskuu\", \"Joulukuu\"],\r\n\t\tday_for_recurring: [\"Sunnuntai\", \"Maanantai\", \"Tiistai\", \"Keskiviikko\", \"Torstai\", \"Perjantai\", \"Lauantai\"]\r\n\t}\r\n};\r\n\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Janvier\", \"Février\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Août\", \"Septembre\", \"Octobre\", \"Novembre\", \"Décembre\"],\r\n\t\tmonth_short: [\"Jan\", \"Fév\", \"Mar\", \"Avr\", \"Mai\", \"Juin\", \"Juil\", \"Aoû\", \"Sep\", \"Oct\", \"Nov\", \"Déc\"],\r\n\t\tday_full: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"],\r\n\t\tday_short: [\"Dim\", \"Lun\", \"Mar\", \"Mer\", \"Jeu\", \"Ven\", \"Sam\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Aujourd'hui\",\r\n\t\tday_tab: \"Jour\",\r\n\t\tweek_tab: \"Semaine\",\r\n\t\tmonth_tab: \"Mois\",\r\n\t\tnew_event: \"Nouvel événement\",\r\n\t\ticon_save: \"Enregistrer\",\r\n\t\ticon_cancel: \"Annuler\",\r\n\t\ticon_details: \"Détails\",\r\n\t\ticon_edit: \"Modifier\",\r\n\t\ticon_delete: \"Effacer\",\r\n\t\tconfirm_closing: \"\", //Vos modifications seront perdus, êtes-vous sûr ?\r\n\t\tconfirm_deleting: \"L'événement sera effacé sans appel, êtes-vous sûr ?\",\r\n\t\tsection_description: \"Description\",\r\n\t\tsection_time: \"Période\",\r\n\t\tfull_day: \"Journée complète\",\r\n\r\n\t\tconfirm_recurring: \"Voulez-vous éditer toute une série d'évènements répétés?\",\r\n\t\tsection_recurring: \"Périodicité\",\r\n\t\tbutton_recurring: \"Désactivé\",\r\n\t\tbutton_recurring_open: \"Activé\",\r\n\t\tbutton_edit_series: \"Modifier la série\",\r\n\t\tbutton_edit_occurrence: \"Modifier une copie\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Jour\",\r\n\t\tdate: \"Date\",\r\n\t\tdescription: \"Description\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Année\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Jour\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Grille\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Quotidienne\",\r\n\t\trepeat_radio_week: \"Hebdomadaire\",\r\n\t\trepeat_radio_month: \"Mensuelle\",\r\n\t\trepeat_radio_year: \"Annuelle\",\r\n\t\trepeat_radio_day_type: \"Chaque\",\r\n\t\trepeat_text_day_count: \"jour\",\r\n\t\trepeat_radio_day_type2: \"Chaque journée de travail\",\r\n\t\trepeat_week: \" Répéter toutes les\",\r\n\t\trepeat_text_week_count: \"semaine:\",\r\n\t\trepeat_radio_month_type: \"Répéter\",\r\n\t\trepeat_radio_month_start: \"Le\",\r\n\t\trepeat_text_month_day: \"jour chaque\",\r\n\t\trepeat_text_month_count: \"mois\",\r\n\t\trepeat_text_month_count2_before: \"chaque\",\r\n\t\trepeat_text_month_count2_after: \"mois\",\r\n\t\trepeat_year_label: \"Le\",\r\n\t\tselect_year_day2: \"du\",\r\n\t\trepeat_text_year_day: \"jour\",\r\n\t\tselect_year_month: \"mois\",\r\n\t\trepeat_radio_end: \"Pas de date d&quot;achèvement\",\r\n\t\trepeat_text_occurences_count: \"occurrences\",\r\n\t\trepeat_radio_end3: \"Fin\",\r\n\t\trepeat_radio_end2: \"Après\",\r\n\r\n\t\trepeat_never: \"Jamais\",\r\n\t\trepeat_daily: \"Chaque jour\",\r\n\t\trepeat_workdays: \"Chaque jour ouvrable\",\r\n\t\trepeat_weekly: \"Chaque semaine\",\r\n\t\trepeat_monthly: \"Chaque mois\",\r\n\t\trepeat_yearly: \"Chaque année\",\r\n\t\trepeat_custom: \"Personnalisé\",\r\n\t\trepeat_freq_day: \"Jour\",\r\n\t\trepeat_freq_week: \"Semaine\",\r\n\t\trepeat_freq_month: \"Mois\",\r\n\t\trepeat_freq_year: \"Année\",\r\n\t\trepeat_on_date: \"À la date\",\r\n\t\trepeat_ends: \"Se termine\",\r\n\r\n\t\tmonth_for_recurring: [\"Janvier\", \"Février\", \"Mars\", \"Avril\", \"Mai\", \"Juin\", \"Juillet\", \"Août\", \"Septembre\", \"Octobre\", \"Novembre\", \"Décembre\"],\r\n\t\tday_for_recurring: [\"Dimanche\", \"Lundi\", \"Mardi\", \"Mercredi\", \"Jeudi\", \"Vendredi\", \"Samedi\"]\r\n\t}\r\n};\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"ינואר\", \"פברואר\", \"מרץ\", \"אפריל\", \"מאי\", \"יוני\", \"יולי\", \"אוגוסט\", \"ספטמבר\", \"אוקטובר\", \"נובמבר\", \"דצמבר\"],\r\n\t\tmonth_short: [\"ינו\", \"פבר\", \"מרץ\", \"אפר\", \"מאי\", \"יונ\", \"יול\", \"אוג\", \"ספט\", \"אוק\", \"נוב\", \"דצמ\"],\r\n\t\tday_full: [\"ראשון\", \"שני\", \"שלישי\", \"רביעי\", \"חמישי\", \"שישי\", \"שבת\"],\r\n\t\tday_short: [\"א\", \"ב\", \"ג\", \"ד\", \"ה\", \"ו\", \"ש\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"היום\",\r\n\t\tday_tab: \"יום\",\r\n\t\tweek_tab: \"שבוע\",\r\n\t\tmonth_tab: \"חודש\",\r\n\t\tnew_event: \"ארוע חדש\",\r\n\t\ticon_save: \"שמור\",\r\n\t\ticon_cancel: \"בטל\",\r\n\t\ticon_details: \"פרטים\",\r\n\t\ticon_edit: \"ערוך\",\r\n\t\ticon_delete: \"מחק\",\r\n\t\tconfirm_closing: \"\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"ארוע ימחק סופית.להמשיך?\",\r\n\t\tsection_description: \"תיאור\",\r\n\t\tsection_time: \"תקופה\",\r\n\r\n\t\tconfirm_recurring: \"האם ברצונך לשנות כל סדרת ארועים מתמשכים?\",\r\n\t\tsection_recurring: \"להעתיק ארוע\",\r\n\t\tbutton_recurring: \"לא פעיל\",\r\n\t\tbutton_recurring_open: \"פעיל\",\r\n\t\tfull_day: \"יום שלם\",\r\n\t\tbutton_edit_series: \"ערוך את הסדרה\",\r\n\t\tbutton_edit_occurrence: \"עריכת עותק\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"סדר יום\",\r\n\t\tdate: \"תאריך\",\r\n\t\tdescription: \"תיאור\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"לשנה\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"סדר יום\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"סורג\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"גרור כדי להזיז\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"בטל\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"הבא\",\r\n\t\tprev: \"הקודם\",\r\n\t\tyear: \"שנה\",\r\n\t\tmonth: \"חודש\",\r\n\t\tday: \"יום\",\r\n\t\thour:\"שעה\",\r\n\t\tminute: \"דקה\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"יומי\",\r\n\t\trepeat_radio_week: \"שבועי\",\r\n\t\trepeat_radio_month: \"חודשי\",\r\n\t\trepeat_radio_year: \"שנתי\",\r\n\t\trepeat_radio_day_type: \"חזור כל\",\r\n\t\trepeat_text_day_count: \"ימים\",\r\n\t\trepeat_radio_day_type2: \"חזור כל יום עבודה\",\r\n\t\trepeat_week: \" חזור כל\",\r\n\t\trepeat_text_week_count: \"שבוע לפי ימים:\",\r\n\t\trepeat_radio_month_type: \"חזור כל\",\r\n\t\trepeat_radio_month_start: \"כל\",\r\n\t\trepeat_text_month_day: \"ימים כל\",\r\n\t\trepeat_text_month_count: \"חודשים\",\r\n\t\trepeat_text_month_count2_before: \"חזור כל\",\r\n\t\trepeat_text_month_count2_after: \"חודש\",\r\n\t\trepeat_year_label: \"כל\",\r\n\t\tselect_year_day2: \"בחודש\",\r\n\t\trepeat_text_year_day: \"ימים\",\r\n\t\tselect_year_month: \"חודש\",\r\n\t\trepeat_radio_end: \"לעולם לא מסתיים\",\r\n\t\trepeat_text_occurences_count: \"אירועים\",\r\n\t\trepeat_radio_end3: \"מסתיים ב\",\r\n\t\trepeat_radio_end2: \"אחרי\",\r\n\r\n\t\trepeat_never: \"אף פעם\",\r\n\t\trepeat_daily: \"כל יום\",\r\n\t\trepeat_workdays: \"כל יום עבודה\",\r\n\t\trepeat_weekly: \"כל שבוע\",\r\n\t\trepeat_monthly: \"כל חודש\",\r\n\t\trepeat_yearly: \"כל שנה\",\r\n\t\trepeat_custom: \"מותאם אישית\",\r\n\t\trepeat_freq_day: \"יום\",\r\n\t\trepeat_freq_week: \"שבוע\",\r\n\t\trepeat_freq_month: \"חודש\",\r\n\t\trepeat_freq_year: \"שנה\",\r\n\t\trepeat_on_date: \"בתאריך\",\r\n\t\trepeat_ends: \"מסתיים\",\r\n\r\n\t\tmonth_for_recurring: [\"ינואר\", \"פברואר\", \"מרץ\", \"אפריל\", \"מאי\", \"יוני\", \"יולי\", \"אוגוסט\", \"ספטמבר\", \"אוקטובר\", \"נובמבר\", \"דצמבר\"],\r\n\t\tday_for_recurring: [\"ראשון\", \"שני\", \"שלישי\", \"רביעי\", \"חמישי\", \"שישי\", \"שבת\"]\r\n\t}\r\n};\r\n\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Január\", \"Február\", \"Március\", \"Április\", \"Május\", \"Június\", \"Július\", \"Augusztus\", \"Szeptember\", \"Október\", \"November\", \"December\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Már\", \"Ápr\", \"Máj\", \"Jún\", \"Júl\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\r\n\t\tday_full: [\"Vasárnap\", \"Hétfõ\", \"Kedd\", \"Szerda\", \"Csütörtök\", \"Péntek\", \"szombat\"],\r\n\t\tday_short: [\"Va\", \"Hé\", \"Ke\", \"Sze\", \"Csü\", \"Pé\", \"Szo\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Ma\",\r\n\t\tday_tab: \"Nap\",\r\n\t\tweek_tab: \"Hét\",\r\n\t\tmonth_tab: \"Hónap\",\r\n\t\tnew_event: \"Új esemény\",\r\n\t\ticon_save: \"Mentés\",\r\n\t\ticon_cancel: \"Mégse\",\r\n\t\ticon_details: \"Részletek\",\r\n\t\ticon_edit: \"Szerkesztés\",\r\n\t\ticon_delete: \"Törlés\",\r\n\t\tconfirm_closing: \"\", //A változások elvesznek, biztosan folytatja? \"\r\n\t\tconfirm_deleting: \"Az esemény törölve lesz, biztosan folytatja?\",\r\n\t\tsection_description: \"Leírás\",\r\n\t\tsection_time: \"Idõszak\",\r\n\t\tfull_day: \"Egesz napos\",\r\n\r\n\t\t/*ismétlõdõ események*/\r\n\t\tconfirm_recurring: \"Biztosan szerkeszteni akarod az összes ismétlõdõ esemény beállítását?\",\r\n\t\tsection_recurring: \"Esemény ismétlése\",\r\n\t\tbutton_recurring: \"Tiltás\",\r\n\t\tbutton_recurring_open: \"Engedélyezés\",\r\n\t\tbutton_edit_series: \"Edit series\",\r\n\t\tbutton_edit_occurrence: \"Szerkesztés bíróság\",\r\n\r\n\t\t/*napirendi nézet*/\r\n\t\tagenda_tab: \"Napirend\",\r\n\t\tdate: \"Dátum\",\r\n\t\tdescription: \"Leírás\",\r\n\r\n\t\t/*éves nézet*/\r\n\t\tyear_tab: \"Év\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Napi\", //name=\"repeat\" value=\"day\"\r\n\t\trepeat_radio_week: \"Heti\", //name=\"repeat\" value=\"week\r\n\t\trepeat_radio_month: \"Havi\",\r\n\t\trepeat_radio_year: \"Éves\",\r\n\t\trepeat_radio_day_type: \"Minden\",\r\n\t\trepeat_text_day_count: \"nap\",\r\n\t\trepeat_radio_day_type2: \"Minden munkanap\",\r\n\t\trepeat_week: \" Ismételje meg minden\",\r\n\t\trepeat_text_week_count: \"héten a következő napokon:\",\r\n\t\trepeat_radio_month_type: \"Ismétlés\",\r\n\t\trepeat_radio_month_start: \"Ekkor\",\r\n\t\trepeat_text_month_day: \"nap minden\",\r\n\t\trepeat_text_month_count: \"hónapban\",\r\n\t\trepeat_text_month_count2_before: \"minden\",\r\n\t\trepeat_text_month_count2_after: \"hónapban\",\r\n\t\trepeat_year_label: \"Ekkor\",\r\n\t\tselect_year_day2: \"-án/-én\",\r\n\t\trepeat_text_year_day: \"nap\",\r\n\t\tselect_year_month: \"hónap\",\r\n\t\trepeat_radio_end: \"Nincs befejezési dátum\",\r\n\t\trepeat_text_occurences_count: \"esemény\",\r\n\t\trepeat_radio_end2: \"Után\",\r\n\t\trepeat_radio_end3: \"Befejező dátum\",\r\n\r\n\t\trepeat_never: \"Soha\",\r\n\t\trepeat_daily: \"Minden nap\",\r\n\t\trepeat_workdays: \"Minden munkanap\",\r\n\t\trepeat_weekly: \"Minden héten\",\r\n\t\trepeat_monthly: \"Minden hónapban\",\r\n\t\trepeat_yearly: \"Minden évben\",\r\n\t\trepeat_custom: \"Egyedi\",\r\n\t\trepeat_freq_day: \"Nap\",\r\n\t\trepeat_freq_week: \"Hét\",\r\n\t\trepeat_freq_month: \"Hónap\",\r\n\t\trepeat_freq_year: \"Év\",\r\n\t\trepeat_on_date: \"Dátum szerint\",\r\n\t\trepeat_ends: \"Befejeződik\",\r\n\r\n\t\tmonth_for_recurring: [\"Január\", \"Február\", \"Március\", \"Április\", \"Május\", \"Június\", \"Július\", \"Augusztus\", \"Szeptember\", \"Október\", \"November\", \"December\"],\r\n\t\tday_for_recurring: [\"Vasárnap\", \"Hétfő\", \"Kedd\", \"Szerda\", \"Csütörtök\", \"Péntek\", \"Szombat\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Januari\", \"Februari\", \"Maret\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Agustus\", \"September\", \"Oktober\", \"November\", \"Desember\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mei\", \"Jun\", \"Jul\", \"Ags\", \"Sep\", \"Okt\", \"Nov\", \"Des\"],\r\n\t\tday_full: [\"Minggu\", \"Senin\", \"Selasa\", \"Rabu\", \"Kamis\", \"Jumat\", \"Sabtu\"],\r\n\t\tday_short: [\"Ming\", \"Sen\", \"Sel\", \"Rab\", \"Kam\", \"Jum\", \"Sab\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Hari Ini\",\r\n\t\tday_tab: \"Hari\",\r\n\t\tweek_tab: \"Minggu\",\r\n\t\tmonth_tab: \"Bulan\",\r\n\t\tnew_event: \"Acara Baru\",\r\n\t\ticon_save: \"Simpan\",\r\n\t\ticon_cancel: \"Batal\",\r\n\t\ticon_details: \"Detail\",\r\n\t\ticon_edit: \"Edit\",\r\n\t\ticon_delete: \"Hapus\",\r\n\t\tconfirm_closing: \"\", /*Perubahan tidak akan disimpan ?*/\r\n\t\tconfirm_deleting: \"Acara akan dihapus\",\r\n\t\tsection_description: \"Keterangan\",\r\n\t\tsection_time: \"Periode\",\r\n\t\tfull_day: \"Hari penuh\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Apakah acara ini akan berulang?\",\r\n\t\tsection_recurring: \"Acara Rutin\",\r\n\t\tbutton_recurring: \"Tidak Difungsikan\",\r\n\t\tbutton_recurring_open: \"Difungsikan\",\r\n\t\tbutton_edit_series: \"Mengedit seri\",\r\n\t\tbutton_edit_occurrence: \"Mengedit salinan\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Tanggal\",\r\n\t\tdescription: \"Keterangan\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Tahun\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Tabel\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Harian\", //name=\"repeat\" value=\"day\"\r\n\t\trepeat_radio_week: \"Mingguan\", //name=\"repeat\" value=\"week\r\n\t\trepeat_radio_month: \"Bulanan\",\r\n\t\trepeat_radio_year: \"Tahunan\",\r\n\t\trepeat_radio_day_type: \"Setiap\",\r\n\t\trepeat_text_day_count: \"hari\",\r\n\t\trepeat_radio_day_type2: \"Setiap hari kerja\",\r\n\t\trepeat_week: \" Ulangi setiap\",\r\n\t\trepeat_text_week_count: \"minggu pada hari berikut:\",\r\n\t\trepeat_radio_month_type: \"Ulangi\",\r\n\t\trepeat_radio_month_start: \"Pada\",\r\n\t\trepeat_text_month_day: \"hari setiap\",\r\n\t\trepeat_text_month_count: \"bulan\",\r\n\t\trepeat_text_month_count2_before: \"setiap\",\r\n\t\trepeat_text_month_count2_after: \"bulan\",\r\n\t\trepeat_year_label: \"Pada\",\r\n\t\tselect_year_day2: \"dari\",\r\n\t\trepeat_text_year_day: \"hari\",\r\n\t\tselect_year_month: \"bulan\",\r\n\t\trepeat_radio_end: \"Tanpa tanggal akhir\",\r\n\t\trepeat_text_occurences_count: \"kejadian\",\r\n\t\trepeat_radio_end2: \"Setelah\",\r\n\t\trepeat_radio_end3: \"Berakhir pada\",\r\n\r\n\t\trepeat_never: \"Tidak pernah\",\r\n\t\trepeat_daily: \"Setiap hari\",\r\n\t\trepeat_workdays: \"Setiap hari kerja\",\r\n\t\trepeat_weekly: \"Setiap minggu\",\r\n\t\trepeat_monthly: \"Setiap bulan\",\r\n\t\trepeat_yearly: \"Setiap tahun\",\r\n\t\trepeat_custom: \"Kustom\",\r\n\t\trepeat_freq_day: \"Hari\",\r\n\t\trepeat_freq_week: \"Minggu\",\r\n\t\trepeat_freq_month: \"Bulan\",\r\n\t\trepeat_freq_year: \"Tahun\",\r\n\t\trepeat_on_date: \"Pada tanggal\",\r\n\t\trepeat_ends: \"Berakhir\",\r\n\r\n\t\tmonth_for_recurring: [\"Januari\", \"Februari\", \"Maret\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Agustus\", \"September\", \"Oktober\", \"November\", \"Desember\"],\r\n\t\tday_for_recurring: [\"Minggu\", \"Senin\", \"Selasa\", \"Rabu\", \"Kamis\", \"Jumat\", \"Sabtu\"]\r\n\t}\r\n};","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Gennaio\", \"Febbraio\", \"Marzo\", \"Aprile\", \"Maggio\", \"Giugno\", \"Luglio\", \"Agosto\", \"Settembre\", \"Ottobre\", \"Novembre\", \"Dicembre\"],\r\n\t\tmonth_short: [\"Gen\", \"Feb\", \"Mar\", \"Apr\", \"Mag\", \"Giu\", \"Lug\", \"Ago\", \"Set\", \"Ott\", \"Nov\", \"Dic\"],\r\n\t\tday_full: [\"Domenica\", \"Lunedì\", \"Martedì\", \"Mercoledì\", \"Giovedì\", \"Venerdì\", \"Sabato\"],\r\n\t\tday_short: [\"Dom\", \"Lun\", \"Mar\", \"Mer\", \"Gio\", \"Ven\", \"Sab\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Oggi\",\r\n\t\tday_tab: \"Giorno\",\r\n\t\tweek_tab: \"Settimana\",\r\n\t\tmonth_tab: \"Mese\",\r\n\t\tnew_event: \"Nuovo evento\",\r\n\t\ticon_save: \"Salva\",\r\n\t\ticon_cancel: \"Chiudi\",\r\n\t\ticon_details: \"Dettagli\",\r\n\t\ticon_edit: \"Modifica\",\r\n\t\ticon_delete: \"Elimina\",\r\n\t\tconfirm_closing: \"\", //Le modifiche apportate saranno perse, siete sicuri?\r\n\t\tconfirm_deleting: \"L'evento sarà eliminato, siete sicuri?\",\r\n\t\tsection_description: \"Descrizione\",\r\n\t\tsection_time: \"Periodo di tempo\",\r\n\t\tfull_day: \"Intera giornata\",\r\n\r\n\t\tconfirm_recurring: \"Vuoi modificare l'intera serie di eventi?\",\r\n\t\tsection_recurring: \"Ripetere l'evento\",\r\n\t\tbutton_recurring: \"Disattivato\",\r\n\t\tbutton_recurring_open: \"Attivato\",\r\n\t\tbutton_edit_series: \"Modificare la serie\",\r\n\t\tbutton_edit_occurrence: \"Modificare una copia\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Data\",\r\n\t\tdescription: \"Descrizione\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Anno\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Griglia\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Quotidiano\",\r\n\t\trepeat_radio_week: \"Settimanale\",\r\n\t\trepeat_radio_month: \"Mensile\",\r\n\t\trepeat_radio_year: \"Annuale\",\r\n\t\trepeat_radio_day_type: \"Ogni\",\r\n\t\trepeat_text_day_count: \"giorno\",\r\n\t\trepeat_radio_day_type2: \"Ogni giornata lavorativa\",\r\n\t\trepeat_week: \" Ripetere ogni\",\r\n\t\trepeat_text_week_count: \"settimana:\",\r\n\t\trepeat_radio_month_type: \"Ripetere\",\r\n\t\trepeat_radio_month_start: \"Il\",\r\n\t\trepeat_text_month_day: \"giorno ogni\",\r\n\t\trepeat_text_month_count: \"mese\",\r\n\t\trepeat_text_month_count2_before: \"ogni\",\r\n\t\trepeat_text_month_count2_after: \"mese\",\r\n\t\trepeat_year_label: \"Il\",\r\n\t\tselect_year_day2: \"del\",\r\n\t\trepeat_text_year_day: \"giorno\",\r\n\t\tselect_year_month: \"mese\",\r\n\t\trepeat_radio_end: \"Senza data finale\",\r\n\t\trepeat_text_occurences_count: \"occorenze\",\r\n\t\trepeat_radio_end3: \"Fine\",\r\n\t\trepeat_radio_end2: \"Dopo\",\r\n\r\n\t\trepeat_never: \"Mai\",\r\n\t\trepeat_daily: \"Ogni giorno\",\r\n\t\trepeat_workdays: \"Ogni giorno feriale\",\r\n\t\trepeat_weekly: \"Ogni settimana\",\r\n\t\trepeat_monthly: \"Ogni mese\",\r\n\t\trepeat_yearly: \"Ogni anno\",\r\n\t\trepeat_custom: \"Personalizzato\",\r\n\t\trepeat_freq_day: \"Giorno\",\r\n\t\trepeat_freq_week: \"Settimana\",\r\n\t\trepeat_freq_month: \"Mese\",\r\n\t\trepeat_freq_year: \"Anno\",\r\n\t\trepeat_on_date: \"Alla data\",\r\n\t\trepeat_ends: \"Finisce\",\r\n\r\n\t\tmonth_for_recurring: [\"Gennaio\", \"Febbraio\", \"Marzo\", \"Aprile\", \"Maggio\", \"Jiugno\", \"Luglio\", \"Agosto\", \"Settembre\", \"Ottobre\", \"Novembre\", \"Dicembre\"],\r\n\t\tday_for_recurring: [\"Domenica\", \"Lunedì\", \"Martedì\", \"Mercoledì\", \"Jovedì\", \"Venerdì\", \"Sabato\"]\r\n\t}\r\n};\r\n","/*\r\n Translation by Genexus Japan Inc.\r\n */\r\nexport default {\r\n\tdate: {\r\n\t\tmonth_full: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\r\n\t\tmonth_short: [ \"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\r\n\t\tday_full: [\"日曜日\", \"月曜日\", \"火曜日\", \"水曜日\", \"木曜日\", \"金曜日\", \"土曜日\"],\r\n\t\tday_short: [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"今日\",\r\n\t\tday_tab: \"日\",\r\n\t\tweek_tab: \"週\",\r\n\t\tmonth_tab: \"月\",\r\n\t\tnew_event: \"新イベント\",\r\n\t\ticon_save: \"保存\",\r\n\t\ticon_cancel: \"キャンセル\",\r\n\t\ticon_details: \"詳細\",\r\n\t\ticon_edit: \"編集\",\r\n\t\ticon_delete: \"削除\",\r\n\t\tconfirm_closing: \"\", //変更が取り消されます、宜しいですか？\r\n\t\tconfirm_deleting: \"イベント完全に削除されます、宜しいですか？\",\r\n\t\tsection_description: \"デスクリプション\",\r\n\t\tsection_time: \"期間\",\r\n\t\tconfirm_recurring: \"繰り返されているイベントを全て編集しますか？\",\r\n\t\tsection_recurring: \"イベントを繰り返す\",\r\n\t\tbutton_recurring: \"無効\",\r\n\t\tbutton_recurring_open: \"有効\",\r\n\t\tfull_day: \"終日\",\r\n\t\tbutton_edit_series: \"シリーズを編集します\",\r\n\t\tbutton_edit_occurrence: \"コピーを編集\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"議題は\",\r\n\t\tdate: \"日付\",\r\n\t\tdescription: \"説明\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"今年\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"議題は\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"グリッド\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"毎日\", //name=\"repeat\" value=\"day\"\r\n\t\trepeat_radio_week: \"毎週\", //name=\"repeat\" value=\"week\r\n\t\trepeat_radio_month: \"毎月\",\r\n\t\trepeat_radio_year: \"毎年\",\r\n\t\trepeat_radio_day_type: \"毎\",\r\n\t\trepeat_text_day_count: \"日\",\r\n\t\trepeat_radio_day_type2: \"毎営業日\",\r\n\t\trepeat_week: \" 繰り返し毎\",\r\n\t\trepeat_text_week_count: \"週 次の日:\",\r\n\t\trepeat_radio_month_type: \"繰り返し\",\r\n\t\trepeat_radio_month_start: \"オン\",\r\n\t\trepeat_text_month_day: \"日毎\",\r\n\t\trepeat_text_month_count: \"月\",\r\n\t\trepeat_text_month_count2_before: \"毎\",\r\n\t\trepeat_text_month_count2_after: \"月\",\r\n\t\trepeat_year_label: \"オン\",\r\n\t\tselect_year_day2: \"の\",\r\n\t\trepeat_text_year_day: \"日\",\r\n\t\tselect_year_month: \"月\",\r\n\t\trepeat_radio_end: \"終了日なし\",\r\n\t\trepeat_text_occurences_count: \"回数\",\r\n\t\trepeat_radio_end2: \"後\",\r\n\t\trepeat_radio_end3: \"終了日まで\",\r\n\r\n\t\trepeat_never: \"決して\",\r\n\t\trepeat_daily: \"毎日\",\r\n\t\trepeat_workdays: \"毎営業日\",\r\n\t\trepeat_weekly: \"毎週\",\r\n\t\trepeat_monthly: \"毎月\",\r\n\t\trepeat_yearly: \"毎年\",\r\n\t\trepeat_custom: \"カスタム\",\r\n\t\trepeat_freq_day: \"日\",\r\n\t\trepeat_freq_week: \"週\",\r\n\t\trepeat_freq_month: \"月\",\r\n\t\trepeat_freq_year: \"年\",\r\n\t\trepeat_on_date: \"日にち\",\r\n\t\trepeat_ends: \"終了\",\r\n\r\n\t\tmonth_for_recurring: [\"1月\", \"2月\", \"3月\", \"4月\", \"5月\", \"6月\", \"7月\", \"8月\", \"9月\", \"10月\", \"11月\", \"12月\"],\r\n\t\tday_for_recurring: [\"日曜日\", \"月曜日\", \"火曜日\", \"水曜日\", \"木曜日\", \"金曜日\", \"土曜日\"]\r\n\t}\r\n};\r\n\r\n\r\n","export default class LocaleManager{\r\n\tconstructor(config){\r\n\t\tthis._locales = {};\r\n\t\tfor(const i in config){\r\n\t\t\tthis._locales[i] = config[i];\r\n\t\t}\r\n\t}\r\n\r\n\taddLocale(name, locale) {\r\n\t\tthis._locales[name] = locale;\r\n\t}\r\n\r\n\tgetLocale(name) {\r\n\t\treturn this._locales[name];\r\n\t}\r\n}","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Januar\", \"Februar\", \"Mars\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Desember\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Des\"],\r\n\t\tday_full: [\"Søndag\", \"Mandag\", \"Tirsdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lørdag\"],\r\n\t\tday_short: [\"Søn\", \"Mon\", \"Tir\", \"Ons\", \"Tor\", \"Fre\", \"Lør\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"I dag\",\r\n\t\tday_tab: \"Dag\",\r\n\t\tweek_tab: \"Uke\",\r\n\t\tmonth_tab: \"Måned\",\r\n\t\tnew_event: \"Ny hendelse\",\r\n\t\ticon_save: \"Lagre\",\r\n\t\ticon_cancel: \"Avbryt\",\r\n\t\ticon_details: \"Detaljer\",\r\n\t\ticon_edit: \"Rediger\",\r\n\t\ticon_delete: \"Slett\",\r\n\t\tconfirm_closing: \"\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"Hendelsen vil bli slettet permanent. Er du sikker?\",\r\n\t\tsection_description: \"Beskrivelse\",\r\n\t\tsection_time: \"Tidsperiode\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Vil du forandre hele dette settet av repeterende hendelser?\",\r\n\t\tsection_recurring: \"Repeter hendelsen\",\r\n\t\tbutton_recurring: \"Av\",\r\n\t\tbutton_recurring_open: \"På\",\r\n\t\tbutton_edit_series: \"Rediger serien\",\r\n\t\tbutton_edit_occurrence: \"Redigere en kopi\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Dato\",\r\n\t\tdescription: \"Beskrivelse\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"År\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Grid\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Daglig\",\r\n\t\trepeat_radio_week: \"Ukentlig\",\r\n\t\trepeat_radio_month: \"Månedlig\",\r\n\t\trepeat_radio_year: \"Årlig\",\r\n\t\trepeat_radio_day_type: \"Hver\",\r\n\t\trepeat_text_day_count: \"dag\",\r\n\t\trepeat_radio_day_type2: \"Alle hverdager\",\r\n\t\trepeat_week: \" Gjentas hver\",\r\n\t\trepeat_text_week_count: \"uke på:\",\r\n\t\trepeat_radio_month_type: \"På hver\",\r\n\t\trepeat_radio_month_start: \"På\",\r\n\t\trepeat_text_month_day: \"dag hver\",\r\n\t\trepeat_text_month_count: \"måned\",\r\n\t\trepeat_text_month_count2_before: \"hver\",\r\n\t\trepeat_text_month_count2_after: \"måned\",\r\n\t\trepeat_year_label: \"på\",\r\n\t\tselect_year_day2: \"i\",\r\n\t\trepeat_text_year_day: \"dag i\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"Ingen sluttdato\",\r\n\t\trepeat_text_occurences_count: \"forekomst\",\r\n\t\trepeat_radio_end3: \"Stop den\",\r\n\t\trepeat_radio_end2: \"Etter\",\r\n\r\n\t\trepeat_never: \"Aldri\",\r\n\t\trepeat_daily: \"Hver dag\",\r\n\t\trepeat_workdays: \"Hver ukedag\",\r\n\t\trepeat_weekly: \"Hver uke\",\r\n\t\trepeat_monthly: \"Hver måned\",\r\n\t\trepeat_yearly: \"Hvert år\",\r\n\t\trepeat_custom: \"Tilpasset\",\r\n\t\trepeat_freq_day: \"Dag\",\r\n\t\trepeat_freq_week: \"Uke\",\r\n\t\trepeat_freq_month: \"Måned\",\r\n\t\trepeat_freq_year: \"År\",\r\n\t\trepeat_on_date: \"På dato\",\r\n\t\trepeat_ends: \"Slutter\",\r\n\r\n\t\tmonth_for_recurring: [\"Januar\", \"Februar\", \"Mars\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Desember\"],\r\n\t\tday_for_recurring: [\"Sondag\", \"Mandag\", \"Tirsdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lørdag\"]\r\n\t}\r\n};\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Januari\", \"Februari\", \"Maart\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Augustus\", \"September\", \"Oktober\", \"November\", \"December\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"mrt\", \"Apr\", \"Mei\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\r\n\t\tday_full: [\"Zondag\", \"Maandag\", \"Dinsdag\", \"Woensdag\", \"Donderdag\", \"Vrijdag\", \"Zaterdag\"],\r\n\t\tday_short: [\"Zo\", \"Ma\", \"Di\", \"Wo\", \"Do\", \"Vr\", \"Za\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Vandaag\",\r\n\t\tday_tab: \"Dag\",\r\n\t\tweek_tab: \"Week\",\r\n\t\tmonth_tab: \"Maand\",\r\n\t\tnew_event: \"Nieuw item\",\r\n\t\ticon_save: \"Opslaan\",\r\n\t\ticon_cancel: \"Annuleren\",\r\n\t\ticon_details: \"Details\",\r\n\t\ticon_edit: \"Bewerken\",\r\n\t\ticon_delete: \"Verwijderen\",\r\n\t\tconfirm_closing: \"\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"Item zal permanent worden verwijderd, doorgaan?\",\r\n\t\tsection_description: \"Beschrijving\",\r\n\t\tsection_time: \"Tijd periode\",\r\n\t\tfull_day: \"Hele dag\",\r\n\r\n\t\tconfirm_recurring: \"Wilt u alle terugkerende items bijwerken?\",\r\n\t\tsection_recurring: \"Item herhalen\",\r\n\t\tbutton_recurring: \"Uit\",\r\n\t\tbutton_recurring_open: \"Aan\",\r\n\t\tbutton_edit_series: \"Bewerk de serie\",\r\n\t\tbutton_edit_occurrence: \"Bewerk een kopie\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Datum\",\r\n\t\tdescription: \"Omschrijving\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Jaar\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Tabel\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Dagelijks\",\r\n\t\trepeat_radio_week: \"Wekelijks\",\r\n\t\trepeat_radio_month: \"Maandelijks\",\r\n\t\trepeat_radio_year: \"Jaarlijks\",\r\n\t\trepeat_radio_day_type: \"Elke\",\r\n\t\trepeat_text_day_count: \"dag(en)\",\r\n\t\trepeat_radio_day_type2: \"Elke werkdag\",\r\n\t\trepeat_week: \" Herhaal elke\",\r\n\t\trepeat_text_week_count: \"week op de volgende dagen:\",\r\n\t\trepeat_radio_month_type: \"Herhaal\",\r\n\t\trepeat_radio_month_start: \"Op\",\r\n\t\trepeat_text_month_day: \"dag iedere\",\r\n\t\trepeat_text_month_count: \"maanden\",\r\n\t\trepeat_text_month_count2_before: \"iedere\",\r\n\t\trepeat_text_month_count2_after: \"maanden\",\r\n\t\trepeat_year_label: \"Op\",\r\n\t\tselect_year_day2: \"van\",\r\n\t\trepeat_text_year_day: \"dag\",\r\n\t\tselect_year_month: \"maand\",\r\n\t\trepeat_radio_end: \"Geen eind datum\",\r\n\t\trepeat_text_occurences_count: \"keren\",\r\n\t\trepeat_radio_end3: \"Eindigd per\",\r\n\t\trepeat_radio_end2: \"Na\",\r\n\r\n\t\trepeat_never: \"Nooit\",\r\n\t\trepeat_daily: \"Elke dag\",\r\n\t\trepeat_workdays: \"Elke werkdag\",\r\n\t\trepeat_weekly: \"Elke week\",\r\n\t\trepeat_monthly: \"Elke maand\",\r\n\t\trepeat_yearly: \"Elk jaar\",\r\n\t\trepeat_custom: \"Aangepast\",\r\n\t\trepeat_freq_day: \"Dag\",\r\n\t\trepeat_freq_week: \"Week\",\r\n\t\trepeat_freq_month: \"Maand\",\r\n\t\trepeat_freq_year: \"Jaar\",\r\n\t\trepeat_on_date: \"Op datum\",\r\n\t\trepeat_ends: \"Eindigt\",\r\n\r\n\t\tmonth_for_recurring: [\"Januari\", \"Februari\", \"Maart\", \"April\", \"Mei\", \"Juni\", \"Juli\", \"Augustus\", \"September\", \"Oktober\", \"November\", \"December\"],\r\n\t\tday_for_recurring: [\"Zondag\", \"Maandag\", \"Dinsdag\", \"Woensdag\", \"Donderdag\", \"Vrijdag\", \"Zaterdag\"]\r\n\t}\r\n};\r\n\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Januar\", \"Februar\", \"Mars\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Desember\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Des\"],\r\n\t\tday_full: [\"Søndag\", \"Mandag\", \"Tirsdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lørdag\"],\r\n\t\tday_short: [\"Søn\", \"Man\", \"Tir\", \"Ons\", \"Tor\", \"Fre\", \"Lør\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Idag\",\r\n\t\tday_tab: \"Dag\",\r\n\t\tweek_tab: \"Uke\",\r\n\t\tmonth_tab: \"Måned\",\r\n\t\tnew_event: \"Ny\",\r\n\t\ticon_save: \"Lagre\",\r\n\t\ticon_cancel: \"Avbryt\",\r\n\t\ticon_details: \"Detaljer\",\r\n\t\ticon_edit: \"Endre\",\r\n\t\ticon_delete: \"Slett\",\r\n\t\tconfirm_closing: \"Endringer blir ikke lagret, er du sikker?\", //Endringer blir ikke lagret, er du sikker?\r\n\t\tconfirm_deleting: \"Oppføringen vil bli slettet, er du sikker?\",\r\n\t\tsection_description: \"Beskrivelse\",\r\n\t\tsection_time: \"Tidsperiode\",\r\n\t\tfull_day: \"Full dag\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Vil du endre hele settet med repeterende oppføringer?\",\r\n\t\tsection_recurring: \"Repeterende oppføring\",\r\n\t\tbutton_recurring: \"Ikke aktiv\",\r\n\t\tbutton_recurring_open: \"Aktiv\",\r\n\t\tbutton_edit_series: \"Rediger serien\",\r\n\t\tbutton_edit_occurrence: \"Redigere en kopi\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Dato\",\r\n\t\tdescription: \"Beskrivelse\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"År\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Grid\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Daglig\", //name=\"repeat\" value=\"day\"\r\n\t\trepeat_radio_week: \"Ukentlig\", //name=\"repeat\" value=\"week\r\n\t\trepeat_radio_month: \"Månedlig\",\r\n\t\trepeat_radio_year: \"Årlig\",\r\n\t\trepeat_radio_day_type: \"Hver\",\r\n\t\trepeat_text_day_count: \"dag\",\r\n\t\trepeat_radio_day_type2: \"Hver arbeidsdag\",\r\n\t\trepeat_week: \" Gjenta hver\",\r\n\t\trepeat_text_week_count: \"uke neste dager:\",\r\n\t\trepeat_radio_month_type: \"Gjenta\",\r\n\t\trepeat_radio_month_start: \"På\",\r\n\t\trepeat_text_month_day: \"dag hver\",\r\n\t\trepeat_text_month_count: \"måned\",\r\n\t\trepeat_text_month_count2_before: \"hver\",\r\n\t\trepeat_text_month_count2_after: \"måned\",\r\n\t\trepeat_year_label: \"På\",\r\n\t\tselect_year_day2: \"av\",\r\n\t\trepeat_text_year_day: \"dag\",\r\n\t\tselect_year_month: \"måned\",\r\n\t\trepeat_radio_end: \"Ingen sluttdato\",\r\n\t\trepeat_text_occurences_count: \"forekomster\",\r\n\t\trepeat_radio_end2: \"Etter\",\r\n\t\trepeat_radio_end3: \"Slutt innen\",\r\n\r\n\t\trepeat_never: \"Aldri\",\r\n\t\trepeat_daily: \"Hver dag\",\r\n\t\trepeat_workdays: \"Hver ukedag\",\r\n\t\trepeat_weekly: \"Hver uke\",\r\n\t\trepeat_monthly: \"Hver måned\",\r\n\t\trepeat_yearly: \"Hvert år\",\r\n\t\trepeat_custom: \"Tilpasset\",\r\n\t\trepeat_freq_day: \"Dag\",\r\n\t\trepeat_freq_week: \"Uke\",\r\n\t\trepeat_freq_month: \"Måned\",\r\n\t\trepeat_freq_year: \"År\",\r\n\t\trepeat_on_date: \"På dato\",\r\n\t\trepeat_ends: \"Slutter\",\r\n\r\n\t\tmonth_for_recurring: [\"Januar\", \"Februar\", \"Mars\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Desember\"],\r\n\t\tday_for_recurring: [\"Søndag\", \"Mandag\", \"Tirsdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lørdag\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Styczeń\", \"Luty\", \"Marzec\", \"Kwiecień\", \"Maj\", \"Czerwiec\", \"Lipiec\", \"Sierpień\", \"Wrzesień\", \"Październik\", \"Listopad\", \"Grudzień\"],\r\n\t\tmonth_short: [\"Sty\", \"Lut\", \"Mar\", \"Kwi\", \"Maj\", \"Cze\", \"Lip\", \"Sie\", \"Wrz\", \"Paź\", \"Lis\", \"Gru\"],\r\n\t\tday_full: [\"Niedziela\", \"Poniedziałek\", \"Wtorek\", \"Środa\", \"Czwartek\", \"Piątek\", \"Sobota\"],\r\n\t\tday_short: [\"Nie\", \"Pon\", \"Wto\", \"Śro\", \"Czw\", \"Pią\", \"Sob\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Dziś\",\r\n\t\tday_tab: \"Dzień\",\r\n\t\tweek_tab: \"Tydzień\",\r\n\t\tmonth_tab: \"Miesiąc\",\r\n\t\tnew_event: \"Nowe zdarzenie\",\r\n\t\ticon_save: \"Zapisz\",\r\n\t\ticon_cancel: \"Anuluj\",\r\n\t\ticon_details: \"Szczegóły\",\r\n\t\ticon_edit: \"Edytuj\",\r\n\t\ticon_delete: \"Usuń\",\r\n\t\tconfirm_closing: \"\", //Zmiany zostaną usunięte, jesteś pewien?\r\n\t\tconfirm_deleting: \"Zdarzenie zostanie usunięte na zawsze, kontynuować?\",\r\n\t\tsection_description: \"Opis\",\r\n\t\tsection_time: \"Okres czasu\",\r\n\t\tfull_day: \"Cały dzień\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Czy chcesz edytować cały zbiór powtarzających się zdarzeń?\",\r\n\t\tsection_recurring: \"Powtórz zdarzenie\",\r\n\t\tbutton_recurring: \"Nieaktywne\",\r\n\t\tbutton_recurring_open: \"Aktywne\",\r\n\t\tbutton_edit_series: \"Edytuj serię\",\r\n\t\tbutton_edit_occurrence: \"Edytuj kopię\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Agenda\",\r\n\t\tdate: \"Data\",\r\n\t\tdescription: \"Opis\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Rok\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Tabela\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Codziennie\",\r\n\t\trepeat_radio_week: \"Co tydzie\",\r\n\t\trepeat_radio_month: \"Co miesic\",\r\n\t\trepeat_radio_year: \"Co rok\",\r\n\t\trepeat_radio_day_type: \"Kadego\",\r\n\t\trepeat_text_day_count: \"dnia\",\r\n\t\trepeat_radio_day_type2: \"Kadego dnia roboczego\",\r\n\t\trepeat_week: \" Powtarzaj kadego\",\r\n\t\trepeat_text_week_count: \"tygodnia w dni:\",\r\n\t\trepeat_radio_month_type: \"Powtrz\",\r\n\t\trepeat_radio_month_start: \"W\",\r\n\t\trepeat_text_month_day: \"dnia kadego\",\r\n\t\trepeat_text_month_count: \"miesica\",\r\n\t\trepeat_text_month_count2_before: \"kadego\",\r\n\t\trepeat_text_month_count2_after: \"miesica\",\r\n\t\trepeat_year_label: \"W\",\r\n\t\tselect_year_day2: \"miesica\",\r\n\t\trepeat_text_year_day: \"dnia miesica\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"Bez daty kocowej\",\r\n\t\trepeat_text_occurences_count: \"wystpieniu/ach\",\r\n\t\trepeat_radio_end3: \"Zakocz w\",\r\n\t\trepeat_radio_end2: \"Po\",\r\n\r\n\t\trepeat_never: \"Nigdy\",\r\n\t\trepeat_daily: \"Codziennie\",\r\n\t\trepeat_workdays: \"Każdy dzień roboczy\",\r\n\t\trepeat_weekly: \"Co tydzień\",\r\n\t\trepeat_monthly: \"Co miesiąc\",\r\n\t\trepeat_yearly: \"Co rok\",\r\n\t\trepeat_custom: \"Niestandardowy\",\r\n\t\trepeat_freq_day: \"Dzień\",\r\n\t\trepeat_freq_week: \"Tydzień\",\r\n\t\trepeat_freq_month: \"Miesiąc\",\r\n\t\trepeat_freq_year: \"Rok\",\r\n\t\trepeat_on_date: \"W dniu\",\r\n\t\trepeat_ends: \"Kończy się\",\r\n\r\n\t\tmonth_for_recurring: [\"Stycznia\", \"Lutego\", \"Marca\", \"Kwietnia\", \"Maja\", \"Czerwca\", \"Lipca\", \"Sierpnia\", \"Wrzenia\", \"Padziernka\", \"Listopada\", \"Grudnia\"],\r\n\t\tday_for_recurring: [\"Niedziela\", \"Poniedziaek\", \"Wtorek\", \"roda\", \"Czwartek\", \"Pitek\", \"Sobota\"]\r\n\t}\r\n};\r\n\r\n","/*\r\n\r\n TRANSLATION BY MATTHEUS PIROVANI RORIZ GONЗALVES\r\n\r\n mattheusroriz@hotmail.com / mattheus.pirovani@gmail.com /\r\n\r\n www.atrixian.com.br\r\n\r\n */\r\n\r\nexport default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\r\n\t\tmonth_short: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\r\n\t\tday_full: [\"Domingo\", \"Segunda\", \"Terça\", \"Quarta\", \"Quinta\", \"Sexta\", \"Sábado\"],\r\n\t\tday_short: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sab\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Hoje\",\r\n\t\tday_tab: \"Dia\",\r\n\t\tweek_tab: \"Semana\",\r\n\t\tmonth_tab: \"Mês\",\r\n\t\tnew_event: \"Novo evento\",\r\n\t\ticon_save: \"Salvar\",\r\n\t\ticon_cancel: \"Cancelar\",\r\n\t\ticon_details: \"Detalhes\",\r\n\t\ticon_edit: \"Editar\",\r\n\t\ticon_delete: \"Deletar\",\r\n\t\tconfirm_closing: \"\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"Tem certeza que deseja excluir?\",\r\n\t\tsection_description: \"Descrição\",\r\n\t\tsection_time: \"Período de tempo\",\r\n\t\tfull_day: \"Dia inteiro\",\r\n\r\n\t\tconfirm_recurring: \"Deseja editar todos esses eventos repetidos?\",\r\n\t\tsection_recurring: \"Repetir evento\",\r\n\t\tbutton_recurring: \"Desabilitar\",\r\n\t\tbutton_recurring_open: \"Habilitar\",\r\n\t\tbutton_edit_series: \"Editar a série\",\r\n\t\tbutton_edit_occurrence: \"Editar uma cópia\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Dia\",\r\n\t\tdate: \"Data\",\r\n\t\tdescription: \"Descrição\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Ano\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Dia\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Grade\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Diário\",\r\n\t\trepeat_radio_week: \"Semanal\",\r\n\t\trepeat_radio_month: \"Mensal\",\r\n\t\trepeat_radio_year: \"Anual\",\r\n\t\trepeat_radio_day_type: \"Cada\",\r\n\t\trepeat_text_day_count: \"dia(s)\",\r\n\t\trepeat_radio_day_type2: \"Cada trabalho diário\",\r\n\t\trepeat_week: \" Repita cada\",\r\n\t\trepeat_text_week_count: \"semana:\",\r\n\t\trepeat_radio_month_type: \"Repetir\",\r\n\t\trepeat_radio_month_start: \"Em\",\r\n\t\trepeat_text_month_day: \"todo dia\",\r\n\t\trepeat_text_month_count: \"mês\",\r\n\t\trepeat_text_month_count2_before: \"todo\",\r\n\t\trepeat_text_month_count2_after: \"mês\",\r\n\t\trepeat_year_label: \"Em\",\r\n\t\tselect_year_day2: \"of\",\r\n\t\trepeat_text_year_day: \"dia\",\r\n\t\tselect_year_month: \"mês\",\r\n\t\trepeat_radio_end: \"Sem data final\",\r\n\t\trepeat_text_occurences_count: \"ocorrências\",\r\n\t\trepeat_radio_end3: \"Fim\",\r\n\t\trepeat_radio_end2: \"Depois\",\r\n\r\n\t\trepeat_never: \"Nunca\",\r\n\t\trepeat_daily: \"Todos os dias\",\r\n\t\trepeat_workdays: \"Todos os dias úteis\",\r\n\t\trepeat_weekly: \"Toda semana\",\r\n\t\trepeat_monthly: \"Todo mês\",\r\n\t\trepeat_yearly: \"Todo ano\",\r\n\t\trepeat_custom: \"Personalizado\",\r\n\t\trepeat_freq_day: \"Dia\",\r\n\t\trepeat_freq_week: \"Semana\",\r\n\t\trepeat_freq_month: \"Mês\",\r\n\t\trepeat_freq_year: \"Ano\",\r\n\t\trepeat_on_date: \"Na data\",\r\n\t\trepeat_ends: \"Termina\",\r\n\r\n\t\tmonth_for_recurring: [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\r\n\t\tday_for_recurring: [\"Domingo\", \"Segunda\", \"Terça\", \"Quarta\", \"Quinta\", \"Sexta\", \"Sábado\"]\r\n\t}\r\n};\r\n\r\n\r\n","/*\r\n\tTraducere de Ovidiu Lixandru: http://www.madball.ro\r\n */\r\n\r\nexport default {\r\n\tdate:{\r\n\t\tmonth_full:[\"Ianuarie\", \"Februarie\", \"Martie\", \"Aprilie\", \"Mai\", \"Iunie\", \"Iulie\", \"August\", \"Septembrie\", \"Octombrie\", \"November\", \"December\"],\r\n\t\tmonth_short:[\"Ian\", \"Feb\", \"Mar\", \"Apr\", \"Mai\", \"Iun\", \"Iul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\r\n\t\tday_full:[\"Duminica\", \"Luni\", \"Marti\", \"Miercuri\", \"Joi\", \"Vineri\", \"Sambata\"],\r\n\t\tday_short:[\"Du\", \"Lu\", \"Ma\", \"Mi\", \"Jo\", \"Vi\", \"Sa\"]\r\n\t},\r\n\tlabels:{\r\n\t\tdhx_cal_today_button:\"Astazi\",\r\n\t\tday_tab:\"Zi\",\r\n\t\tweek_tab:\"Saptamana\",\r\n\t\tmonth_tab:\"Luna\",\r\n\t\tnew_event:\"Eveniment nou\",\r\n\t\ticon_save:\"Salveaza\",\r\n\t\ticon_cancel:\"Anuleaza\",\r\n\t\ticon_details:\"Detalii\",\r\n\t\ticon_edit:\"Editeaza\",\r\n\t\ticon_delete:\"Sterge\",\r\n\t\tconfirm_closing:\"Schimbarile nu vor fi salvate, esti sigur?\",//Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting:\"Evenimentul va fi sters permanent, esti sigur?\",\r\n\t\tsection_description:\"Descriere\",\r\n\t\tsection_time:\"Interval\",\r\n\t\tfull_day:\"Toata ziua\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring:\"Vrei sa editezi toata seria de evenimente repetate?\",\r\n\t\tsection_recurring:\"Repetare\",\r\n\t\tbutton_recurring:\"Dezactivata\",\r\n\t\tbutton_recurring_open:\"Activata\",\r\n\t\tbutton_edit_series: \"Editeaza serie\",\r\n\t\tbutton_edit_occurrence: \"Editeaza doar intrare\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab:\"Agenda\",\r\n\t\tdate:\"Data\",\r\n\t\tdescription:\"Descriere\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab:\"An\",\r\n\r\n\t\t/* week agenda extension */\r\n\t\tweek_agenda_tab: \"Agenda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Lista\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Zilnic\",\r\n\t\trepeat_radio_week: \"Saptamanal\",\r\n\t\trepeat_radio_month: \"Lunar\",\r\n\t\trepeat_radio_year: \"Anual\",\r\n\t\trepeat_radio_day_type: \"La fiecare\",\r\n\t\trepeat_text_day_count: \"zi(le)\",\r\n\t\trepeat_radio_day_type2: \"Fiecare zi lucratoare\",\r\n\t\trepeat_week: \" Repeta la fiecare\",\r\n\t\trepeat_text_week_count: \"saptamana in urmatoarele zile:\",\r\n\t\trepeat_radio_month_type: \"Repeta in\",\r\n\t\trepeat_radio_month_start: \"In a\",\r\n\t\trepeat_text_month_day: \"zi la fiecare\",\r\n\t\trepeat_text_month_count: \"luni\",\r\n\t\trepeat_text_month_count2_before: \"la fiecare\",\r\n\t\trepeat_text_month_count2_after: \"luni\",\r\n\t\trepeat_year_label: \"In\",\r\n\t\tselect_year_day2: \"a lunii\",\r\n\t\trepeat_text_year_day: \"zi a lunii\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"Fara data de sfarsit\",\r\n\t\trepeat_text_occurences_count: \"evenimente\",\r\n\t\trepeat_radio_end3: \"La data\",\r\n\t\trepeat_radio_end2: \"Dupa\",\r\n\r\n\t\trepeat_never: \"Niciodată\",\r\n\t\trepeat_daily: \"În fiecare zi\",\r\n\t\trepeat_workdays: \"În fiecare zi lucrătoare\",\r\n\t\trepeat_weekly: \"În fiecare săptămână\",\r\n\t\trepeat_monthly: \"În fiecare lună\",\r\n\t\trepeat_yearly: \"În fiecare an\",\r\n\t\trepeat_custom: \"Personalizat\",\r\n\t\trepeat_freq_day: \"Zi\",\r\n\t\trepeat_freq_week: \"Săptămână\",\r\n\t\trepeat_freq_month: \"Lună\",\r\n\t\trepeat_freq_year: \"An\",\r\n\t\trepeat_on_date: \"La data\",\r\n\t\trepeat_ends: \"Se termină\",\r\n\r\n\t\tmonth_for_recurring: [\"Ianuarie\", \"Februarie\", \"Martie\", \"Aprilie\", \"Mai\", \"Iunie\", \"Iulie\", \"August\", \"Septembrie\", \"Octombrie\", \"Noiembrie\", \"Decembrie\"],\r\n\t\tday_for_recurring: [\"Duminica\", \"Luni\", \"Marti\", \"Miercuri\", \"Joi\", \"Vineri\", \"Sambata\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Maй\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Oктябрь\", \"Ноябрь\", \"Декабрь\"],\r\n\t\tmonth_short: [\"Янв\", \"Фев\", \"Maр\", \"Aпр\", \"Maй\", \"Июн\", \"Июл\", \"Aвг\", \"Сен\", \"Окт\", \"Ноя\", \"Дек\"],\r\n\t\tday_full: [ \"Воскресенье\", \"Понедельник\", \"Вторник\", \"Среда\", \"Четверг\", \"Пятница\", \"Суббота\"],\r\n\t\tday_short: [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Сегодня\",\r\n\t\tday_tab: \"День\",\r\n\t\tweek_tab: \"Неделя\",\r\n\t\tmonth_tab: \"Месяц\",\r\n\t\tnew_event: \"Новое событие\",\r\n\t\ticon_save: \"Сохранить\",\r\n\t\ticon_cancel: \"Отменить\",\r\n\t\ticon_details: \"Детали\",\r\n\t\ticon_edit: \"Изменить\",\r\n\t\ticon_delete: \"Удалить\",\r\n\t\tconfirm_closing: \"\", //Ваши изменения будут потеряны, продолжить?\r\n\t\tconfirm_deleting: \"Событие будет удалено безвозвратно, продолжить?\",\r\n\t\tsection_description: \"Описание\",\r\n\t\tsection_time: \"Период времени\",\r\n\t\tfull_day: \"Весь день\",\r\n\r\n\t\tconfirm_recurring: \"Вы хотите изменить всю серию повторяющихся событий?\",\r\n\t\tsection_recurring: \"Повторение\",\r\n\t\tbutton_recurring: \"Отключено\",\r\n\t\tbutton_recurring_open: \"Включено\",\r\n\t\tbutton_edit_series: \"Редактировать серию\",\r\n\t\tbutton_edit_occurrence: \"Редактировать экземпляр\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Список\",\r\n\t\tdate: \"Дата\",\r\n\t\tdescription: \"Описание\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Год\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Список\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Таблица\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"День\",\r\n\t\trepeat_radio_week: \"Неделя\",\r\n\t\trepeat_radio_month: \"Месяц\",\r\n\t\trepeat_radio_year: \"Год\",\r\n\t\trepeat_radio_day_type: \"Каждый\",\r\n\t\trepeat_text_day_count: \"день\",\r\n\t\trepeat_radio_day_type2: \"Каждый рабочий день\",\r\n\t\trepeat_week: \" Повторять каждую\",\r\n\t\trepeat_text_week_count: \"неделю , в:\",\r\n\t\trepeat_radio_month_type: \"Повторять\",\r\n\t\trepeat_radio_month_start: \"\",\r\n\t\trepeat_text_month_day: \" числа каждый \",\r\n\t\trepeat_text_month_count: \"месяц\",\r\n\t\trepeat_text_month_count2_before: \"каждый \",\r\n\t\trepeat_text_month_count2_after: \"месяц\",\r\n\t\trepeat_year_label: \"\",\r\n\t\tselect_year_day2: \"\",\r\n\t\trepeat_text_year_day: \"день\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"Без даты окончания\",\r\n\t\trepeat_text_occurences_count: \"повторений\",\r\n\t\trepeat_radio_end3: \"До \",\r\n\t\trepeat_radio_end2: \"\",\r\n\r\n\t\trepeat_never: \"Никогда\",\r\n\t\trepeat_daily: \"Каждый день\",\r\n\t\trepeat_workdays: \"Каждый будний день\",\r\n\t\trepeat_weekly: \"Каждую неделю\",\r\n\t\trepeat_monthly: \"Каждый месяц\",\r\n\t\trepeat_yearly: \"Каждый год\",\r\n\t\trepeat_custom: \"Настроить\",\r\n\t\trepeat_freq_day: \"День\",\r\n\t\trepeat_freq_week: \"Неделя\",\r\n\t\trepeat_freq_month: \"Месяц\",\r\n\t\trepeat_freq_year: \"Год\",\r\n\t\trepeat_on_date: \"В дату\",\r\n\t\trepeat_ends: \"Заканчивается\",\r\n\r\n\t\tmonth_for_recurring: [\"Января\", \"Февраля\", \"Марта\", \"Апреля\", \"Мая\", \"Июня\", \"Июля\", \"Августа\", \"Сентября\", \"Октября\", \"Ноября\", \"Декабря\"],\r\n\t\tday_for_recurring: [\"Воскресенье\", \"Понедельник\", \"Вторник\", \"Среду\", \"Четверг\", \"Пятницу\", \"Субботу\"]\r\n\t}\r\n};\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Januar\", \"Februar\", \"Marec\", \"April\", \"Maj\", \"Junij\", \"Julij\", \"Avgust\", \"September\", \"Oktober\", \"November\", \"December\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\r\n\t\tday_full: [\"Nedelja\", \"Ponedeljek\", \"Torek\", \"Sreda\", \"Četrtek\", \"Petek\", \"Sobota\"],\r\n\t\tday_short: [\"Ned\", \"Pon\", \"Tor\", \"Sre\", \"Čet\", \"Pet\", \"Sob\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Danes\",\r\n\t\tday_tab: \"Dan\",\r\n\t\tweek_tab: \"Teden\",\r\n\t\tmonth_tab: \"Mesec\",\r\n\t\tnew_event: \"Nov dogodek\",\r\n\t\ticon_save: \"Shrani\",\r\n\t\ticon_cancel: \"Prekliči\",\r\n\t\ticon_details: \"Podrobnosti\",\r\n\t\ticon_edit: \"Uredi\",\r\n\t\ticon_delete: \"Izbriši\",\r\n\t\tconfirm_closing: \"\", //Spremembe ne bodo shranjene. Želite nadaljevati ?\r\n\t\tconfirm_deleting: \"Dogodek bo izbrisan. Želite nadaljevati?\",\r\n\t\tsection_description: \"Opis\",\r\n\t\tsection_time: \"Časovni okvir\",\r\n\t\tfull_day: \"Ves dan\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Želite urediti celoten set ponavljajočih dogodkov?\",\r\n\t\tsection_recurring: \"Ponovi dogodek\",\r\n\t\tbutton_recurring: \"Onemogočeno\",\r\n\t\tbutton_recurring_open: \"Omogočeno\",\r\n\t\tbutton_edit_series: \"Edit series\",\r\n\t\tbutton_edit_occurrence: \"Edit occurrence\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Zadeva\",\r\n\t\tdate: \"Datum\",\r\n\t\tdescription: \"Opis\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Leto\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Zadeva\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Miza\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Dnevno\", //name=\"repeat\" value=\"day\"\r\n\t\trepeat_radio_week: \"Tedensko\", //name=\"repeat\" value=\"week\r\n\t\trepeat_radio_month: \"Mesečno\",\r\n\t\trepeat_radio_year: \"Letno\",\r\n\t\trepeat_radio_day_type: \"Vsak\",\r\n\t\trepeat_text_day_count: \"dan\",\r\n\t\trepeat_radio_day_type2: \"Vsak delovni dan\",\r\n\t\trepeat_week: \" Ponavljaj vsak\",\r\n\t\trepeat_text_week_count: \"teden na naslednje dni:\",\r\n\t\trepeat_radio_month_type: \"Ponavljaj\",\r\n\t\trepeat_radio_month_start: \"Na\",\r\n\t\trepeat_text_month_day: \"dan vsak\",\r\n\t\trepeat_text_month_count: \"mesec\",\r\n\t\trepeat_text_month_count2_before: \"vsak\",\r\n\t\trepeat_text_month_count2_after: \"mesec\",\r\n\t\trepeat_year_label: \"Na\",\r\n\t\tselect_year_day2: \"od\",\r\n\t\trepeat_text_year_day: \"dan\",\r\n\t\tselect_year_month: \"mesec\",\r\n\t\trepeat_radio_end: \"Brez končnega datuma\",\r\n\t\trepeat_text_occurences_count: \"pojavitve\",\r\n\t\trepeat_radio_end2: \"Po\",\r\n\t\trepeat_radio_end3: \"Končaj do\",\r\n\r\n\t\trepeat_never: \"Nikoli\",\r\n\t\trepeat_daily: \"Vsak dan\",\r\n\t\trepeat_workdays: \"Vsak delovni dan\",\r\n\t\trepeat_weekly: \"Vsak teden\",\r\n\t\trepeat_monthly: \"Vsak mesec\",\r\n\t\trepeat_yearly: \"Vsako leto\",\r\n\t\trepeat_custom: \"Po meri\",\r\n\t\trepeat_freq_day: \"Dan\",\r\n\t\trepeat_freq_week: \"Teden\",\r\n\t\trepeat_freq_month: \"Mesec\",\r\n\t\trepeat_freq_year: \"Leto\",\r\n\t\trepeat_on_date: \"Na datum\",\r\n\t\trepeat_ends: \"Konča se\",\r\n\r\n\t\tmonth_for_recurring: [\"Januar\", \"Februar\", \"Marec\", \"April\", \"Maj\", \"Junij\", \"Julij\", \"Avgust\", \"September\", \"Oktober\", \"November\", \"December\"],\r\n\t\tday_for_recurring: [\"Nedelja\", \"Ponedeljek\", \"Torek\", \"Sreda\", \"Četrtek\", \"Petek\", \"Sobota\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Január\", \"Február\", \"Marec\", \"Apríl\", \"Máj\", \"Jún\", \"Júl\", \"August\", \"September\", \"Október\", \"November\", \"December\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Máj\", \"Jún\", \"Júl\", \"Aug\", \"Sept\", \"Okt\", \"Nov\", \"Dec\"],\r\n\t\tday_full: [\"Nedeľa\", \"Pondelok\", \"Utorok\", \"Streda\", \"Štvrtok\", \"Piatok\", \"Sobota\"],\r\n\t\tday_short: [\"Ne\", \"Po\", \"Ut\", \"St\", \"Št\", \"Pi\", \"So\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Dnes\",\r\n\t\tday_tab: \"Deň\",\r\n\t\tweek_tab: \"Týždeň\",\r\n\t\tmonth_tab: \"Mesiac\",\r\n\t\tnew_event: \"Nová udalosť\",\r\n\t\ticon_save: \"Uložiť\",\r\n\t\ticon_cancel: \"Späť\",\r\n\t\ticon_details: \"Detail\",\r\n\t\ticon_edit: \"Edituj\",\r\n\t\ticon_delete: \"Zmazať\",\r\n\t\tconfirm_closing: \"Vaše zmeny nebudú uložené. Skutočne?\", //Vaše změny budou ztraceny, opravdu ?\r\n\t\tconfirm_deleting: \"Udalosť bude natrvalo vymazaná. Skutočne?\",\r\n\t\tsection_description: \"Poznámky\",\r\n\t\tsection_time: \"Doba platnosti\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Prajete si upraviť celú radu opakovaných udalostí?\",\r\n\t\tsection_recurring: \"Opakovanie udalosti\",\r\n\t\tbutton_recurring: \"Vypnuté\",\r\n\t\tbutton_recurring_open: \"Zapnuté\",\r\n\t\tbutton_edit_series: \"Upraviť opakovania\",\r\n\t\tbutton_edit_occurrence: \"Upraviť inštancie\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Program\",\r\n\t\tdate: \"Dátum\",\r\n\t\tdescription: \"Poznámka\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Rok\",\r\n\t\tfull_day: \"Celý deň\", // Full day\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Program\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Mriežka\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Denne\",\r\n\t\trepeat_radio_week: \"Týždenne\",\r\n\t\trepeat_radio_month: \"Mesaène\",\r\n\t\trepeat_radio_year: \"Roène\",\r\n\t\trepeat_radio_day_type: \"Každý\",\r\n\t\trepeat_text_day_count: \"deò\",\r\n\t\trepeat_radio_day_type2: \"Každý prac. deò\",\r\n\t\trepeat_week: \"Opakova každý\",\r\n\t\trepeat_text_week_count: \"týždeò v dòoch:\",\r\n\t\trepeat_radio_month_type: \"Opakova\",\r\n\t\trepeat_radio_month_start: \"On\",\r\n\t\trepeat_text_month_day: \"deò každý\",\r\n\t\trepeat_text_month_count: \"mesiac\",\r\n\t\trepeat_text_month_count2_before: \"každý\",\r\n\t\trepeat_text_month_count2_after: \"mesiac\",\r\n\t\trepeat_year_label: \"On\",\r\n\t\tselect_year_day2: \"poèas\",\r\n\t\trepeat_text_year_day: \"deò\",\r\n\t\tselect_year_month: \"mesiac\",\r\n\t\trepeat_radio_end: \"Bez dátumu ukonèenia\",\r\n\t\trepeat_text_occurences_count: \"udalostiach\",\r\n\t\trepeat_radio_end3: \"Ukonèi\",\r\n\t\trepeat_radio_end2: \"Po\",\r\n\r\n\t\trepeat_never: \"Nikdy\",\r\n\t\trepeat_daily: \"Každý deň\",\r\n\t\trepeat_workdays: \"Každý pracovný deň\",\r\n\t\trepeat_weekly: \"Každý týždeň\",\r\n\t\trepeat_monthly: \"Každý mesiac\",\r\n\t\trepeat_yearly: \"Každý rok\",\r\n\t\trepeat_custom: \"Vlastné\",\r\n\t\trepeat_freq_day: \"Deň\",\r\n\t\trepeat_freq_week: \"Týždeň\",\r\n\t\trepeat_freq_month: \"Mesiac\",\r\n\t\trepeat_freq_year: \"Rok\",\r\n\t\trepeat_on_date: \"Na dátum\",\r\n\t\trepeat_ends: \"Koniec\",\r\n\r\n\t\tmonth_for_recurring: [\"Január\", \"Február\", \"Marec\", \"Apríl\", \"Máj\", \"Jún\", \"Júl\", \"August\", \"September\", \"Október\", \"November\", \"December\"],\r\n\t\tday_for_recurring: [\"Nede¾a\", \"Pondelok\", \"Utorok\", \"Streda\", \"Štvrtok\", \"Piatok\", \"Sobota\"]\r\n\t}\r\n};\r\n\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Januari\", \"Februari\", \"Mars\", \"April\", \"Maj\", \"Juni\", \"Juli\", \"Augusti\", \"September\", \"Oktober\", \"November\", \"December\"],\r\n\t\tmonth_short: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dec\"],\r\n\t\tday_full: [\"Söndag\", \"Måndag\", \"Tisdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lördag\"],\r\n\t\tday_short: [\"Sön\", \"Mån\", \"Tis\", \"Ons\", \"Tor\", \"Fre\", \"Lör\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Idag\",\r\n\t\tday_tab: \"Dag\",\r\n\t\tweek_tab: \"Vecka\",\r\n\t\tmonth_tab: \"Månad\",\r\n\t\tnew_event: \"Ny händelse\",\r\n\t\ticon_save: \"Spara\",\r\n\t\ticon_cancel: \"Ångra\",\r\n\t\ticon_details: \"Detaljer\",\r\n\t\ticon_edit: \"Ändra\",\r\n\t\ticon_delete: \"Ta bort\",\r\n\t\tconfirm_closing: \"\", //Dina förändingar kommer gå förlorade, är du säker?\r\n\t\tconfirm_deleting: \"Är du säker på att du vill ta bort händelsen permanent?\",\r\n\t\tsection_description: \"Beskrivning\",\r\n\t\tsection_time: \"Tid\",\r\n\t\tfull_day: \"Hela dagen\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Vill du redigera hela serien med repeterande händelser?\",\r\n\t\tsection_recurring: \"Upprepa händelse\",\r\n\t\tbutton_recurring: \"Inaktiverat\",\r\n\t\tbutton_recurring_open: \"Aktiverat\",\r\n\t\tbutton_edit_series: \"Redigera serien\",\r\n\t\tbutton_edit_occurrence: \"Redigera en kopia\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Dagordning\",\r\n\t\tdate: \"Datum\",\r\n\t\tdescription: \"Beskrivning\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"År\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Dagordning\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Galler\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Dra för att skapa ny\",\r\n\t\tdrag_to_move:\"Dra för att flytta\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Dagligen\",\r\n\t\trepeat_radio_week: \"Veckovis\",\r\n\t\trepeat_radio_month: \"Månadsvis\",\r\n\t\trepeat_radio_year: \"Årligen\",\r\n\t\trepeat_radio_day_type: \"Var\",\r\n\t\trepeat_text_day_count: \"dag\",\r\n\t\trepeat_radio_day_type2: \"Varje arbetsdag\",\r\n\t\trepeat_week: \" Upprepa var\",\r\n\t\trepeat_text_week_count: \"vecka dessa dagar:\",\r\n\t\trepeat_radio_month_type: \"Upprepa\",\r\n\t\trepeat_radio_month_start: \"Den\",\r\n\t\trepeat_text_month_day: \"dagen var\",\r\n\t\trepeat_text_month_count: \"månad\",\r\n\t\trepeat_text_month_count2_before: \"var\",\r\n\t\trepeat_text_month_count2_after: \"månad\",\r\n\t\trepeat_year_label: \"Den\",\r\n\t\tselect_year_day2: \"i\",\r\n\t\trepeat_text_year_day: \"dag i\",\r\n\t\tselect_year_month: \"månad\",\r\n\t\trepeat_radio_end: \"Inget slutdatum\",\r\n\t\trepeat_text_occurences_count: \"upprepningar\",\r\n\t\trepeat_radio_end3: \"Sluta efter\",\r\n\t\trepeat_radio_end2: \"Efter\",\r\n\r\n\t\trepeat_never: \"Aldrig\",\r\n\t\trepeat_daily: \"Varje dag\",\r\n\t\trepeat_workdays: \"Varje vardag\",\r\n\t\trepeat_weekly: \"Varje vecka\",\r\n\t\trepeat_monthly: \"Varje månad\",\r\n\t\trepeat_yearly: \"Varje år\",\r\n\t\trepeat_custom: \"Anpassad\",\r\n\t\trepeat_freq_day: \"Dag\",\r\n\t\trepeat_freq_week: \"Vecka\",\r\n\t\trepeat_freq_month: \"Månad\",\r\n\t\trepeat_freq_year: \"År\",\r\n\t\trepeat_on_date: \"På datum\",\r\n\t\trepeat_ends: \"Slutar\",\r\n\r\n\t\tmonth_for_recurring: [\"Januari\", \"Februari\", \"Mars\", \"April\", \"Maj\", \"Juni\", \"Juli\", \"Augusti\", \"September\", \"Oktober\", \"November\", \"December\"],\r\n\t\tday_for_recurring: [\"Söndag\", \"Måndag\", \"Tisdag\", \"Onsdag\", \"Torsdag\", \"Fredag\", \"Lördag\"]\r\n\t}\r\n};\r\n","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Ocak\", \"Þubat\", \"Mart\", \"Nisan\", \"Mayýs\", \"Haziran\", \"Temmuz\", \"Aðustos\", \"Eylül\", \"Ekim\", \"Kasým\", \"Aralýk\"],\r\n\t\tmonth_short: [\"Oca\", \"Þub\", \"Mar\", \"Nis\", \"May\", \"Haz\", \"Tem\", \"Aðu\", \"Eyl\", \"Eki\", \"Kas\", \"Ara\"],\r\n\t\tday_full: [\"Pazar\", \"Pazartes,\", \"Salý\", \"Çarþamba\", \"Perþembe\", \"Cuma\", \"Cumartesi\"],\r\n\t\tday_short: [\"Paz\", \"Pts\", \"Sal\", \"Çar\", \"Per\", \"Cum\", \"Cts\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Bugün\",\r\n\t\tday_tab: \"Gün\",\r\n\t\tweek_tab: \"Hafta\",\r\n\t\tmonth_tab: \"Ay\",\r\n\t\tnew_event: \"Uygun\",\r\n\t\ticon_save: \"Kaydet\",\r\n\t\ticon_cancel: \"Ýptal\",\r\n\t\ticon_details: \"Detaylar\",\r\n\t\ticon_edit: \"Düzenle\",\r\n\t\ticon_delete: \"Sil\",\r\n\t\tconfirm_closing: \"\", //Your changes will be lost, are your sure ?\r\n\t\tconfirm_deleting: \"Etkinlik silinecek, devam?\",\r\n\t\tsection_description: \"Açýklama\",\r\n\t\tsection_time: \"Zaman aralýðý\",\r\n\t\tfull_day: \"Tam gün\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Tüm tekrar eden etkinlikler silinecek, devam?\",\r\n\t\tsection_recurring: \"Etkinliði tekrarla\",\r\n\t\tbutton_recurring: \"Pasif\",\r\n\t\tbutton_recurring_open: \"Aktif\",\r\n\t\tbutton_edit_series: \"Dizi düzenleme\",\r\n\t\tbutton_edit_occurrence: \"Bir kopyasını düzenleyin\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Ajanda\",\r\n\t\tdate: \"Tarih\",\r\n\t\tdescription: \"Açýklama\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Yýl\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Ajanda\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Izgara\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"Günlük\", //name=\"repeat\" value=\"day\"\r\n\t\trepeat_radio_week: \"Haftalık\", //name=\"repeat\" value=\"week\r\n\t\trepeat_radio_month: \"Aylık\",\r\n\t\trepeat_radio_year: \"Yıllık\",\r\n\t\trepeat_radio_day_type: \"Her\",\r\n\t\trepeat_text_day_count: \"gün\",\r\n\t\trepeat_radio_day_type2: \"Her iş günü\",\r\n\t\trepeat_week: \" Tekrar her\",\r\n\t\trepeat_text_week_count: \"hafta şu günlerde:\",\r\n\t\trepeat_radio_month_type: \"Tekrar et\",\r\n\t\trepeat_radio_month_start: \"Tarihinde\",\r\n\t\trepeat_text_month_day: \"gün her\",\r\n\t\trepeat_text_month_count: \"ay\",\r\n\t\trepeat_text_month_count2_before: \"her\",\r\n\t\trepeat_text_month_count2_after: \"ay\",\r\n\t\trepeat_year_label: \"Tarihinde\",\r\n\t\tselect_year_day2: \"ayın\",\r\n\t\trepeat_text_year_day: \"günü\",\r\n\t\tselect_year_month: \"ay\",\r\n\t\trepeat_radio_end: \"Bitiş tarihi yok\",\r\n\t\trepeat_text_occurences_count: \"olay\",\r\n\t\trepeat_radio_end2: \"Sonra\",\r\n\t\trepeat_radio_end3: \"Tarihinde bitir\",\r\n\r\n\t\trepeat_never: \"Asla\",\r\n\t\trepeat_daily: \"Her gün\",\r\n\t\trepeat_workdays: \"Her iş günü\",\r\n\t\trepeat_weekly: \"Her hafta\",\r\n\t\trepeat_monthly: \"Her ay\",\r\n\t\trepeat_yearly: \"Her yıl\",\r\n\t\trepeat_custom: \"Özel\",\r\n\t\trepeat_freq_day: \"Gün\",\r\n\t\trepeat_freq_week: \"Hafta\",\r\n\t\trepeat_freq_month: \"Ay\",\r\n\t\trepeat_freq_year: \"Yıl\",\r\n\t\trepeat_on_date: \"Tarihinde\",\r\n\t\trepeat_ends: \"Biter\",\r\n\r\n\t\tmonth_for_recurring: [\"Ocak\", \"Şubat\", \"Mart\", \"Nisan\", \"Mayıs\", \"Haziran\", \"Temmuz\", \"Ağustos\", \"Eylül\", \"Ekim\", \"Kasım\", \"Aralık\"],\r\n\t\tday_for_recurring: [\"Pazar\", \"Pazartesi\", \"Salı\", \"Çarşamba\", \"Perşembe\", \"Cuma\", \"Cumartesi\"]\r\n\t}\r\n};","export default {\r\n\tdate: {\r\n\t\tmonth_full: [\"Січень\", \"Лютий\", \"Березень\", \"Квітень\", \"Травень\", \"Червень\", \"Липень\", \"Серпень\", \"Вересень\", \"Жовтень\", \"Листопад\", \"Грудень\"],\r\n\t\tmonth_short: [\"Січ\", \"Лют\", \"Бер\", \"Кві\", \"Тра\", \"Чер\", \"Лип\", \"Сер\", \"Вер\", \"Жов\", \"Лис\", \"Гру\"],\r\n\t\tday_full: [\"Неділя\", \"Понеділок\", \"Вівторок\", \"Середа\", \"Четвер\", \"П'ятниця\", \"Субота\"],\r\n\t\tday_short: [\"Нед\", \"Пон\", \"Вів\", \"Сер\", \"Чет\", \"Птн\", \"Суб\"]\r\n\t},\r\n\tlabels: {\r\n\t\tdhx_cal_today_button: \"Сьогодні\",\r\n\t\tday_tab: \"День\",\r\n\t\tweek_tab: \"Тиждень\",\r\n\t\tmonth_tab: \"Місяць\",\r\n\t\tnew_event: \"Нова подія\",\r\n\t\ticon_save: \"Зберегти\",\r\n\t\ticon_cancel: \"Відміна\",\r\n\t\ticon_details: \"Деталі\",\r\n\t\ticon_edit: \"Редагувати\",\r\n\t\ticon_delete: \"Вилучити\",\r\n\t\tconfirm_closing: \"\", //Ваші зміни втратяться. Ви впевнені ?\r\n\t\tconfirm_deleting: \"Подія вилучиться назавжди. Ви впевнені?\",\r\n\t\tsection_description: \"Опис\",\r\n\t\tsection_time: \"Часовий проміжок\",\r\n\t\tfull_day: \"Весь день\",\r\n\r\n\t\t/*recurring events*/\r\n\t\tconfirm_recurring: \"Хочете редагувати весь перелік повторюваних подій?\",\r\n\t\tsection_recurring: \"Повторювана подія\",\r\n\t\tbutton_recurring: \"Відключено\",\r\n\t\tbutton_recurring_open: \"Включено\",\r\n\t\tbutton_edit_series: \"Редагувати серію\",\r\n\t\tbutton_edit_occurrence: \"Редагувати примірник\",\r\n\r\n\t\t/*agenda view extension*/\r\n\t\tagenda_tab: \"Перелік\",\r\n\t\tdate: \"Дата\",\r\n\t\tdescription: \"Опис\",\r\n\r\n\t\t/*year view extension*/\r\n\t\tyear_tab: \"Рік\",\r\n\r\n\t\t/*week agenda view extension*/\r\n\t\tweek_agenda_tab: \"Перелік\",\r\n\r\n\t\t/*grid view extension*/\r\n\t\tgrid_tab: \"Таблиця\",\r\n\r\n\t\t/* touch tooltip*/\r\n\t\tdrag_to_create:\"Drag to create\",\r\n\t\tdrag_to_move:\"Drag to move\",\r\n\r\n\t\t/* dhtmlx message default buttons */\r\n\t\tmessage_ok:\"OK\",\r\n\t\tmessage_cancel:\"Cancel\",\r\n\r\n\t\t/* wai aria labels for non-text controls */\r\n\t\tnext: \"Next\",\r\n\t\tprev: \"Previous\",\r\n\t\tyear: \"Year\",\r\n\t\tmonth: \"Month\",\r\n\t\tday: \"Day\",\r\n\t\thour:\"Hour\",\r\n\t\tminute: \"Minute\",\r\n\r\n\t\t/* recurring event components */\r\n\t\trepeat_radio_day: \"День\",\r\n\t\trepeat_radio_week: \"Тиждень\",\r\n\t\trepeat_radio_month: \"Місяць\",\r\n\t\trepeat_radio_year: \"Рік\",\r\n\t\trepeat_radio_day_type: \"Кожний\",\r\n\t\trepeat_text_day_count: \"день\",\r\n\t\trepeat_radio_day_type2: \"Кожний робочий день\",\r\n\t\trepeat_week: \" Повторювати кожен\",\r\n\t\trepeat_text_week_count: \"тиждень , по:\",\r\n\t\trepeat_radio_month_type: \"Повторювати\",\r\n\t\trepeat_radio_month_start: \"\",\r\n\t\trepeat_text_month_day: \" числа кожний \",\r\n\t\trepeat_text_month_count: \"місяць\",\r\n\t\trepeat_text_month_count2_before: \"кожен \",\r\n\t\trepeat_text_month_count2_after: \"місяць\",\r\n\t\trepeat_year_label: \"\",\r\n\t\tselect_year_day2: \"\",\r\n\t\trepeat_text_year_day: \"день\",\r\n\t\tselect_year_month: \"\",\r\n\t\trepeat_radio_end: \"Без дати закінчення\",\r\n\t\trepeat_text_occurences_count: \"повторень\",\r\n\t\trepeat_radio_end3: \"До \",\r\n\t\trepeat_radio_end2: \"\",\r\n\r\n\t\trepeat_never: \"Ніколи\",\r\n\t\trepeat_daily: \"Щодня\",\r\n\t\trepeat_workdays: \"Щодня в робочі дні\",\r\n\t\trepeat_weekly: \"Щотижня\",\r\n\t\trepeat_monthly: \"Щомісяця\",\r\n\t\trepeat_yearly: \"Щороку\",\r\n\t\trepeat_custom: \"Налаштоване\",\r\n\t\trepeat_freq_day: \"День\",\r\n\t\trepeat_freq_week: \"Тиждень\",\r\n\t\trepeat_freq_month: \"Місяць\",\r\n\t\trepeat_freq_year: \"Рік\",\r\n\t\trepeat_on_date: \"На дату\",\r\n\t\trepeat_ends: \"Закінчується\",\r\n\r\n\t\tmonth_for_recurring: [\"січня\", \"лютого\", \"березня\", \"квітня\", \"травня\", \"червня\", \"липня\", \"серпня\", \"вересня\", \"жовтня\", \"листопада\", \"грудня\"],\r\n\t\tday_for_recurring: [\"Неділям\", \"Понеділкам\", \"Вівторкам\", \"Середам\", \"Четвергам\", \"П'ятницям\", \"Суботам\"]\r\n\t}\r\n};\r\n","import eventable from \"../utils/eventable\";\r\n\r\nexport class DatePicker {\r\n\tconstructor(scheduler, container, state = {}) {\r\n\t\tthis.state = {\r\n\t\t\tdate: new Date(),\r\n\t\t\tmodes: ['days', 'months', 'years'],\r\n\t\t\tcurrentRange: [],\r\n\t\t\teventDates: [],\r\n\t\t\tcurrentModeIndex: 0,\r\n\t\t\t...state\r\n\t\t};\r\n\t\tthis.container = null;\r\n\t\tthis.element = null;\r\n\t\tthis.onStateChangeHandlers = [];\r\n\t\tthis.scheduler = scheduler;\r\n\t\tthis._domEvents = scheduler._createDomEventScope();\r\n\t\tthis.state = this.getState();\r\n\t\teventable(this);\r\n\t\tif(container){\r\n\r\n\t\t\tthis.container = container;\r\n\t\t\tthis.render(this.container);\r\n\t\t}\r\n\r\n\t\tthis.onStateChange((oldState, newState) => {\r\n\t\t\tthis.callEvent(\"onStateChange\", [newState, oldState]);\r\n\t\t});\r\n\t}\r\n\r\n\tgetState() {\r\n\t\treturn { \r\n\t\t\t...this.state,\r\n\t\t\tmode: this.state.modes[this.state.currentModeIndex]\r\n\t\t};\r\n\t}\r\n\r\n\tsetState(newState) {\r\n\t\tconst oldState = { ...this.state };\r\n\t\tif(newState.mode){\r\n\t\t\tnewState.currentModeIndex = this.state.modes.indexOf(newState.mode);\r\n\t\t}\r\n\t\tthis.state = { ...this.state, ...newState };\r\n\r\n\t\tthis._notifyStateChange(oldState, this.state);\r\n\r\n\t\tif (this.container) {\r\n\t\t\tthis.render(this.container);\r\n\t\t}\r\n\t}\r\n\r\n\tonStateChange(handler) {\r\n\t\tthis.onStateChangeHandlers.push(handler);\r\n\r\n\t\t// function to remove the handler\r\n\t\treturn () => {\r\n\t\t\tconst index = this.onStateChangeHandlers.indexOf(handler);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tthis.onStateChangeHandlers.splice(index, 1);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t_notifyStateChange(oldState, newState) {\r\n\t\tthis.onStateChangeHandlers.forEach(handler => handler(oldState, newState));\r\n\t}\r\n\r\n\t_adjustDate(direction) {\r\n\r\n\t\tconst {mode, date} = this.getState();\r\n\t\tconst newDate = new Date(date);\r\n\t\tif (mode === 'days') {\r\n\t\t\tnewDate.setMonth(date.getMonth() + direction);\r\n\t\t} else if (mode === 'months') {\r\n\t\t\tnewDate.setFullYear(date.getFullYear() + direction);\r\n\t\t} else {\r\n\t\t\tnewDate.setFullYear(date.getFullYear() + direction * 10);\r\n\t\t}\r\n\t\tthis.setState({ date: newDate });\r\n\t}\r\n\r\n\t_toggleMode() {\r\n\t\tconst newIndex = (this.state.currentModeIndex + 1) % this.state.modes.length;\r\n\t\tthis.setState({ currentModeIndex: newIndex });\r\n\t}\r\n\r\n\t_renderCalendarHeader(container) {\r\n\t\tconst {mode, date} = this.getState();\r\n\r\n\t\tconst header = document.createElement('div');\r\n\t\theader.classList.add('dhx_cal_datepicker_header');\r\n\r\n\t\tconst backwardArrow = document.createElement('button');\r\n\r\n\t\tbackwardArrow.classList.add(\"dhx_cal_datepicker_arrow\", \"scheduler_icon\", \"arrow_left\");\r\n\t\theader.appendChild(backwardArrow);\r\n\r\n\t\tconst monthLabel = document.createElement('div');\r\n\t\tmonthLabel.classList.add('dhx_cal_datepicker_title');\r\n\r\n\t\tif (mode === 'days') {\r\n\t\t\tmonthLabel.innerText = date.toLocaleString('default', { month: 'long' }) + ' ' + date.getFullYear();\r\n\t\t} else if (mode === 'months') {\r\n\t\t\tmonthLabel.innerText = date.getFullYear();\r\n\t\t} else {\r\n\t\t\tconst startYear = Math.floor(date.getFullYear() / 10) * 10;\r\n\t\t\tmonthLabel.innerText = `${startYear} - ${startYear + 9}`;\r\n\t\t}\r\n\r\n\t\tthis._domEvents.attach(monthLabel, \"click\", this._toggleMode.bind(this));\r\n\t\theader.appendChild(monthLabel);\r\n\r\n\t\tconst forwardArrow = document.createElement('button');\r\n\r\n\t\tforwardArrow.classList.add(\"dhx_cal_datepicker_arrow\", \"scheduler_icon\", \"arrow_right\");\r\n\t\theader.appendChild(forwardArrow);\r\n\r\n\t\tcontainer.appendChild(header);\r\n\r\n\t\tthis._domEvents.attach(backwardArrow, \"click\", this._adjustDate.bind(this, -1));\r\n\t\tthis._domEvents.attach(forwardArrow, \"click\", this._adjustDate.bind(this, 1));\r\n\t}\r\n\r\n\trender(container) {\r\n\t\tthis._domEvents.detachAll();\r\n\t\tthis.container = container || this.container; \r\n\t\tthis.container.innerHTML = '';\r\n\r\n\t\tif(!this.element){\r\n\t\t\tthis.element = document.createElement(\"div\");\r\n\t\t\tthis.element.classList.add(\"dhx_cal_datepicker\");\r\n\t\t}\r\n\t\tthis.element.innerHTML = '';\r\n\t\tthis.container.appendChild(this.element);\r\n\r\n\t\tthis._renderCalendarHeader(this.element);\r\n\t\tconst dataContainer = document.createElement(\"div\");\r\n\t\tdataContainer.classList.add(\"dhx_cal_datepicker_data\");\r\n\t\tthis.element.appendChild(dataContainer);\r\n\r\n\t\tconst {mode} = this.getState();\r\n\t\tif (mode === 'days') {\r\n\t\t\tthis._renderDayGrid(dataContainer);\r\n\t\t} else if (mode === 'months') {\r\n\t\t\tthis._renderMonthGrid(dataContainer);\r\n\t\t} else {\r\n\t\t\tthis._renderYearGrid(dataContainer);\r\n\t\t}\r\n\t}\r\n\r\n\t_renderDayGridHeader(daysOfWeekContainer) {\r\n\t\tconst {date} = this.getState();\r\n\t\tconst scheduler = this.scheduler;\r\n\r\n\t\tlet currentDate = scheduler.date.week_start(new Date(date));\r\n\t\tconst maxDate = scheduler.date.add(scheduler.date.week_start(new Date(date)), 1, 'week');\r\n\r\n\t\tdaysOfWeekContainer.classList.add('dhx_cal_datepicker_days');\r\n\r\n\t\tconst labelFormat = scheduler.date.date_to_str(\"%D\");\r\n\r\n\t\twhile (currentDate.valueOf() < maxDate.valueOf()) {\r\n\t\t\tconst label = labelFormat(currentDate);\r\n\r\n\t\t\tconst dayElement = document.createElement('div');\r\n\t\t\tdayElement.setAttribute(\"data-day\", currentDate.getDay());\r\n\t\t\tdayElement.classList.add('dhx_cal_datepicker_dayname');\r\n\t\t\tdayElement.innerText = label;\r\n\t\t\tdaysOfWeekContainer.appendChild(dayElement);\r\n\r\n\t\t\tcurrentDate = scheduler.date.add(currentDate, 1, 'day');\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t_weeksBetween(min, max) {\r\n\t\tconst scheduler = this.scheduler;\r\n\t\tlet weeks = 0;\r\n\t\tlet currWeek = new Date(min);\r\n\t\twhile(currWeek.valueOf() < max.valueOf()){\r\n\t\t\tweeks += 1;\r\n\t\t\tcurrWeek = scheduler.date.week_start(scheduler.date.add(currWeek, 1, \"week\"));\r\n\t\t}\r\n\t\treturn weeks;\r\n\t}\r\n\r\n\t_renderDayGrid(container) {\r\n\t\tconst {date, currentRange, eventDates, minWeeks} = this.getState();\r\n\r\n\t\tlet minSchedulerDate = currentRange[0];\r\n\t\tlet maxSchedulerDate = currentRange[1];\r\n\r\n\t\tconst eventDaysTable = eventDates.reduce((acc, date) => {\r\n\t\t\tconst dayStart = this.scheduler.date.day_start(new Date(date));\r\n\t\t\tacc[dayStart.valueOf()] = true;\r\n\t\t\treturn acc;\r\n\t\t}, {});\r\n\r\n\r\n\t\t// Render Days of the Week\r\n\t\tconst daysOfWeekContainer = document.createElement('div');\r\n\t\tthis._renderDayGridHeader(daysOfWeekContainer);\r\n\t\tcontainer.appendChild(daysOfWeekContainer);\r\n\r\n\t\tconst scheduler = this.scheduler;\r\n\t\tconst firstDate = scheduler.date.week_start(scheduler.date.month_start(new Date(date)));\r\n\t\tconst monthStart = scheduler.date.month_start(new Date(date));\r\n\t\tconst monthEnd = scheduler.date.add(scheduler.date.month_start(new Date(date)), 1, 'month');\r\n\t\tlet lastDate = scheduler.date.add(scheduler.date.month_start(new Date(date)), 1, 'month');\r\n\t\tconst currentCalDate = scheduler.date.date_part(scheduler._currentDate());\r\n\t\tif(lastDate.getDay() !== 0){\r\n\t\t\tlastDate = scheduler.date.add(scheduler.date.week_start(lastDate), 1, \"week\");\r\n\t\t}\r\n\r\n\t\tlet weeks = this._weeksBetween(firstDate, lastDate);\r\n\t\tif(minWeeks && weeks < minWeeks){\r\n\t\t\tlastDate = scheduler.date.add(lastDate, (minWeeks - weeks), \"week\");\r\n\t\t}\r\n\r\n\t\tlet currDate = firstDate;\r\n\r\n\t\tconst dayGridContainer = document.createElement('div');\r\n\t\tdayGridContainer.classList.add('dhx_cal_datepicker_days');\r\n\r\n\t\tthis._domEvents.attach(dayGridContainer, \"click\", (event) => {\r\n\t\t\tconst dateCell = event.target.closest(\"[data-cell-date]\");\r\n\t\t\tconst date = new Date(dateCell.getAttribute(\"data-cell-date\"));\r\n\t\t\tthis.callEvent(\"onDateClick\", [date, event]);\r\n\t\t});\r\n\r\n\t\twhile(currDate.valueOf() < lastDate.valueOf()){\r\n\t\t\tconst dayElement = document.createElement('div');\r\n\t\t\tdayElement.setAttribute(\"data-cell-date\", scheduler.templates.format_date(currDate));\r\n\t\t\tdayElement.setAttribute(\"data-day\", currDate.getDay());\r\n\t\t\tdayElement.innerHTML = currDate.getDate();\r\n\r\n\t\t\tif(currDate.valueOf() < monthStart.valueOf()){\r\n\t\t\t\tdayElement.classList.add('dhx_before');\r\n\t\t\t}else if(currDate.valueOf() >= monthEnd.valueOf()){\t\r\n\t\t\t\tdayElement.classList.add('dhx_after');\r\n\t\t\t}\r\n\r\n\t\t\tif(currDate.getDay() === 0 || currDate.getDay() === 6){\r\n\t\t\t\tdayElement.classList.add(\"dhx_cal_datepicker_weekend\");\r\n\t\t\t}\r\n\r\n\t\t\tif(currDate.valueOf() == currentCalDate.valueOf()){\r\n\t\t\t\tdayElement.classList.add(\"dhx_now\");\r\n\t\t\t}\r\n\r\n\t\t\tif(minSchedulerDate && maxSchedulerDate){\r\n\t\t\t\tif(currDate.valueOf() >= minSchedulerDate.valueOf() && currDate.valueOf() < maxSchedulerDate.valueOf()){\r\n\t\t\t\t\tdayElement.classList.add('dhx_cal_datepicker_current');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(eventDaysTable[currDate.valueOf()]){\r\n\t\t\t\tdayElement.classList.add('dhx_cal_datepicker_event');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdayElement.classList.add('dhx_cal_datepicker_date');\r\n\r\n\t\t\tdayGridContainer.appendChild(dayElement);\r\n\t\t\tcurrDate = scheduler.date.add(currDate, 1, 'day');\r\n\t\t}\r\n\r\n\t\tcontainer.appendChild(dayGridContainer);\r\n\r\n\t}\r\n\r\n\t_renderMonthGrid(container) {\r\n\t\tconst {date} = this.getState();\r\n\r\n\t\tconst wrapper = document.createElement('div');\r\n\t\twrapper.classList.add(\"dhx_cal_datepicker_months\");\r\n\r\n\t\tconst months = [];\r\n\t\tfor(let i = 0; i < 12; i++){\r\n\t\t\tmonths.push(new Date(date.getFullYear(), i, 1));\r\n\t\t}\r\n\r\n\t\tconst formatLabel = this.scheduler.date.date_to_str(\"%M\");\r\n\t\tmonths.forEach(month => {\r\n\t\t\tconst monthElement = document.createElement('div');\r\n\t\t\tmonthElement.classList.add('dhx_cal_datepicker_month');\r\n\t\t\tif(date.getMonth() === month.getMonth()){\r\n\t\t\t\tmonthElement.classList.add('dhx_cal_datepicker_current');\r\n\t\t\t}\r\n\t\t\tmonthElement.setAttribute(\"data-month\", month.getMonth());\r\n\t\t\tmonthElement.innerHTML = formatLabel(month);\r\n\t\t\tthis._domEvents.attach(monthElement, \"click\", () => {\r\n\t\t\t\tconst newDate = new Date(month);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdate: newDate,\r\n\t\t\t\t\tmode: 'days'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\twrapper.appendChild(monthElement);\r\n\t\t});\r\n\t\tcontainer.appendChild(wrapper);\r\n\r\n\t\tconst doneArea = document.createElement(\"div\");\r\n\t\tdoneArea.classList.add(\"dhx_cal_datepicker_done\");\r\n\t\tconst doneBtn = document.createElement(\"button\");\r\n\t\tdoneBtn.innerText = \"Done\";\r\n\t\tdoneBtn.classList.add(\"dhx_cal_datepicker_done_btn\");\r\n\t\tthis._domEvents.attach(doneBtn, \"click\", () => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tmode: 'days'\r\n\t\t\t});\r\n\t\t});\r\n\t\tdoneArea.appendChild(doneBtn);\r\n\t\tcontainer.appendChild(doneArea);\r\n\t}\r\n\r\n\t_renderYearGrid(container) {\r\n\t\tconst {date} = this.getState();\r\n\t\tconst startYear = Math.floor(date.getFullYear() / 10) * 10;\r\n\t\t\r\n\t\tconst wrapper = document.createElement('div');\r\n\t\twrapper.classList.add(\"dhx_cal_datepicker_years\");\r\n\t\tfor (let i = startYear - 1; i <= startYear + 10; i++) {\r\n\t\t\tconst yearElement = document.createElement('div');\r\n\t\t\tyearElement.innerText = i;\r\n\t\t\tyearElement.classList.add('dhx_cal_datepicker_year');\r\n\t\t\tyearElement.setAttribute(\"data-year\", i);\r\n\t\t\tif(date.getFullYear() === i){\r\n\t\t\t\tyearElement.classList.add('dhx_cal_datepicker_current');\r\n\t\t\t}\r\n\t\t\tthis._domEvents.attach(yearElement, \"click\", () => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdate: new Date(i, date.getMonth(), 1),\r\n\t\t\t\t\tmode: 'months'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\twrapper.appendChild(yearElement);\r\n\t\t\t\r\n\t\t}\r\n\t\tcontainer.appendChild(wrapper);\r\n\r\n\t\tconst doneArea = document.createElement(\"div\");\r\n\t\tdoneArea.classList.add(\"dhx_cal_datepicker_done\");\r\n\t\tconst doneBtn = document.createElement(\"button\");\r\n\t\tdoneBtn.innerText = \"Done\";\r\n\t\tdoneBtn.classList.add(\"dhx_cal_datepicker_done_btn\");\r\n\t\tthis._domEvents.attach(doneBtn, \"click\", () => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tmode: 'months'\r\n\t\t\t});\r\n\t\t});\r\n\t\tdoneArea.appendChild(doneBtn);\r\n\t\tcontainer.appendChild(doneArea);\r\n\t}\r\n\r\n\tdestructor(){\r\n\t\tthis.onStateChangeHandlers = [];\r\n\t\tif(this.element){\r\n\t\t\tthis.element.innerHTML = '';\r\n\t\t\tthis.element.remove();\r\n\t\t}\r\n\r\n\t\tthis._domEvents.detachAll();\r\n\t\tthis.callEvent(\"onDestroy\", []);\r\n\t\tthis.detachAllEvents();\r\n\r\n\t\tthis.scheduler = null;\r\n\t}\r\n}","// import \"./css/dhtmlxscheduler_terrace\";\r\n// import \"./css/dhtmlxscheduler_material\";\r\n// import \"./css/dhtmlxscheduler_material_nofont\";\r\n// import \"./css/dhtmlxscheduler_flat\";\r\n// import \"./css/dhtmlxscheduler_contrast_black\";\r\n// import \"./css/dhtmlxscheduler_contrast_white\";\r\n\r\nimport addPlugins from \"./plugins\";\r\nimport stateProvider from \"./core/state\";\r\nimport assert from \"./core/common/assert\";\r\nimport common_errors from \"./core/common_errors\";\r\nimport connector from \"./core/connector\";\r\nimport schedulerCore from \"./core/scheduler\";\r\nimport common from \"./core/common\";\r\nimport wai_aria from \"./core/wai_aria\";\r\nimport utils from \"./core/utils/utils\";\r\nimport dom_helpers from \"./core/utils/dom_helpers\";\r\nimport env from \"./utils/env\";\r\nimport destructor from \"./core/destructor\";\r\nimport ajax from \"./core/utils/ajax\";\r\nimport base from \"./core/base\";\r\nimport config from \"./core/config\";\r\nimport event from \"./core/event\";\r\nimport event_highlight from \"./core/event_highlight\";\r\nimport load from \"./core/load\";\r\nimport lightbox from \"./core/lightbox\";\r\nimport touch from \"./core/touch\";\r\nimport dhtmlx_suite_hooks from \"./core/dhtmlx/dhtmlx_suite_hooks\";\r\nimport skins from \"./core/skins\";\r\nimport jquery from \"./core/jquery\";\r\nimport delay_render from \"./core/delay_render\";\r\nimport dataProcessorExtend from \"./core/dataprocessor/dataprocessor\";\r\nimport message from \"./core/message\";\r\nimport i18nFactory from \"./locale\";\r\n\r\nimport voidFirst from \"./publish_helpers/void_script_first\";\r\nimport voidSecond from \"./publish_helpers/void_script_second\";\r\nimport voidThird from \"./publish_helpers/void_script_third\";\r\n\r\n//import datepickerHeader from \"./core/clickable_header\";\r\n\r\nimport { DatePicker } from \"./core/datepicker\";\r\n\r\nexport default function(extensionManager) {\r\n\r\n\tconst scheduler = { version: VERSION };\r\n\t\r\n\tscheduler.$stateProvider = stateProvider();\r\n\r\n\tscheduler.getState = scheduler.$stateProvider.getState;\r\n\tcommon_errors(scheduler);\r\n\tcommon(scheduler);\r\n\tschedulerCore(scheduler);\r\n\twai_aria(scheduler);\r\n\t//utils(scheduler);\r\n\r\n\tscheduler.utils = utils;\r\n\tscheduler.$domHelpers = dom_helpers;\r\n\tscheduler.utils.dom = dom_helpers;\r\n\tscheduler.uid = utils.uid;\r\n\tscheduler.mixin = utils.mixin;\r\n\tscheduler.defined = utils.defined;\r\n\tscheduler.assert = assert(scheduler);\r\n\tscheduler.copy = utils.copy;\r\n\r\n\tscheduler._createDatePicker = function(container, config){\r\n\t\treturn new DatePicker(scheduler, container, config);\r\n\t};\r\n\r\n\t//datepickerHeader(scheduler);\r\n\r\n\r\n\t//old api compatibility\r\n\tscheduler._getFocusableNodes = dom_helpers.getFocusableNodes;\r\n\tscheduler._getClassName = dom_helpers.getClassName;\r\n\tscheduler._locate_css = dom_helpers.locateCss;\r\n\r\n\tconst messageApi = message(scheduler);\r\n\tscheduler.utils.mixin(scheduler, messageApi);\r\n\r\n\tscheduler.env = scheduler.$env = env;\r\n\tscheduler.Promise = window.Promise;\r\n\tdestructor(scheduler);\r\n\tajax(scheduler);\r\n\tvoidFirst(scheduler);\r\n\tbase(scheduler);\r\n\tconfig(scheduler);\r\n\tevent(scheduler);\r\n\tevent_highlight(scheduler);\r\n\tload(scheduler);\r\n\tlightbox(scheduler);\r\n\ttouch(scheduler);\r\n\tdhtmlx_suite_hooks(scheduler);\r\n\tvoidSecond(scheduler);\r\n\tskins(scheduler);\r\n\tjquery(scheduler);\r\n\tdelay_render(scheduler);\r\n\tdataProcessorExtend(scheduler);\r\n\tvoidThird(scheduler);\r\n\tconnector(scheduler);\r\n\tconst i18n = i18nFactory();\r\n\tscheduler.i18n = {\r\n\t\taddLocale: i18n.addLocale,\r\n\t\tsetLocale: function(locale){\r\n\t\t\tif(typeof locale === \"string\"){\r\n\t\t\t\tvar localeObject = i18n.getLocale(locale);\r\n\t\t\t\tif(!localeObject){\r\n\t\t\t\t\tlocaleObject = i18n.getLocale(\"en\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscheduler.locale = localeObject;\r\n\t\t\t}else if(locale){\r\n\t\t\t\tif(!scheduler.locale){\r\n\t\t\t\t\tscheduler.locale = locale;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tfor(var i in locale){\r\n\t\t\t\t\t\tif(locale[i] && typeof locale[i] === \"object\"){\r\n\t\t\t\t\t\t\tif(!scheduler.locale[i]){\r\n\t\t\t\t\t\t\t\tscheduler.locale[i] = {};\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tscheduler.mixin(scheduler.locale[i], locale[i], true);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tscheduler.locale[i] = locale[i];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar labels = scheduler.locale.labels;\r\n\t\t\tlabels.dhx_save_btn \t= labels.icon_save;\r\n\t\t\tlabels.dhx_cancel_btn \t= labels.icon_cancel;\r\n\t\t\tlabels.dhx_delete_btn \t= labels.icon_delete;\r\n\r\n\t\t\tif(scheduler.$container){\r\n\t\t\t\tscheduler.get_elements();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tgetLocale: i18n.getLocale\r\n\t};\r\n\tscheduler.i18n.setLocale(\"en\");\r\n\taddPlugins(scheduler);\r\n\tscheduler.ext = {};\r\n\r\n\tconst activePlugins = {};\r\n\tscheduler.plugins = function(config){\r\n\t\tconst extensionList = getExtensionList(config, {\r\n\t\t\t\ttreetimeline: [\"timeline\"],\r\n\t\t\t\tdaytimeline: [\"timeline\"],\r\n\t\t\t\touterdrag: [\"legacy\"]\r\n\t\t\t}, {\r\n\t\t\t\tlegacy: 1,\r\n\t\t\t\tlimit: 1,\r\n\t\t\t\ttimeline: 2,\r\n\t\t\t\tdaytimeline: 3,\r\n\t\t\t\ttreetimeline: 3,\r\n\t\t\t\touterdrag:6\r\n\t\t\t});\r\n\r\n\t\textensionList.forEach(function(name){\r\n\t\t\tif(!activePlugins[name]){\r\n\t\t\t\tconst plugin = extensionManager.getExtension(name);\r\n\t\t\t\tif(plugin){\r\n\t\t\t\t\tplugin(scheduler);\r\n\t\t\t\t\tactivePlugins[name] = true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthrow new Error(\"unknown plugin \" + name);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tfunction getExtensionList(config, dependencies, priorities){\r\n\t\tconst result = [];\r\n\r\n\t\tfor(const i in config){\r\n\t\t\tif(config[i]){\r\n\t\t\t\tconst extension = i.toLowerCase();\r\n\t\t\t\tif(dependencies[extension]){\r\n\t\t\t\t\tdependencies[extension].forEach(function(dep){\r\n\t\t\t\t\t\tconst dependencyName = dep.toLowerCase();\r\n\t\t\t\t\t\tif(!config[dependencyName]){\r\n\t\t\t\t\t\t\tresult.push(dependencyName);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tresult.push(extension);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tresult.sort(function(a, b){\r\n\t\t\tconst orderA = priorities[a] || 0;\r\n\t\t\tconst orderB = priorities[b] || 0;\r\n\t\t\tif(orderA > orderB){\r\n\t\t\t\treturn 1;\r\n\t\t\t}else if(orderA < orderB){\r\n\t\t\t\treturn -1;\r\n\t\t\t}else{\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\treturn scheduler;\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n(function(){\r\n\r\n\t// eslint-disable-next-line no-control-regex\r\n\tvar htmlTags = new RegExp(\"<(?:.|\\n)*?>\", \"gm\");\r\n\tvar extraSpaces = new RegExp(\" +\", \"gm\");\r\n\r\n\tfunction stripHTMLLite(htmlText){\r\n\t\treturn (htmlText + \"\")\r\n\t\t\t.replace(htmlTags, \" \").\r\n\t\t\treplace(extraSpaces, \" \");\r\n\t}\r\n\r\n\tvar singleQuotes = new RegExp(\"'\", \"gm\");\r\n\tfunction escapeQuotes(text){\r\n\t\treturn (text + \"\").replace(singleQuotes, \"&#39;\");\r\n\t}\r\n\r\n\tscheduler._waiAria = {\r\n\t\tgetAttributeString: function(attr){\r\n\t\t\tvar attributes = [\" \"];\r\n\t\t\tfor(var i in attr){\r\n\t\t\t\tif(typeof attr[i] != \"function\" && typeof attr[i] != \"object\") {\r\n\t\t\t\t\tvar text = escapeQuotes(stripHTMLLite(attr[i]));\r\n\t\t\t\t\tattributes.push(i + \"='\" + text + \"'\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tattributes.push(\" \");\r\n\t\t\treturn attributes.join(\" \");\r\n\t\t},\r\n\t\tsetAttributes: function(div, values){\r\n\t\t\tfor(var i in values){\r\n\t\t\t\tdiv.setAttribute(i, stripHTMLLite(values[i]));\r\n\t\t\t}\r\n\t\t\treturn div;\r\n\t\t},\r\n\r\n\t\tlabelAttr: function(div, content){\r\n\t\t\treturn this.setAttributes(div, {\"aria-label\": content});\r\n\t\t},\r\n\t\tlabel: function(label){\r\n\t\t\treturn scheduler._waiAria.getAttributeString({\"aria-label\": label});\r\n\t\t},\r\n\r\n\t\t// day/week/units\r\n\r\n\t\thourScaleAttr: function(div, content){\r\n\t\t\tthis.labelAttr(div, content);\r\n\r\n\t\t},\r\n\t\tmonthCellAttr: function(div, date){\r\n\t\t\tthis.labelAttr(div, scheduler.templates.day_date(date));\r\n\t\t},\r\n\r\n\t\tnavBarDateAttr: function(div, content){\r\n\t\t\tthis.labelAttr(div, content);\r\n\t\t},\r\n\t\tdayHeaderAttr: function(div, content){\r\n\t\t\tthis.labelAttr(div, content);\r\n\t\t},\r\n\r\n\t\tdayColumnAttr: function(div, date){\r\n\t\t\tthis.dayHeaderAttr(div, scheduler.templates.day_date(date));\r\n\t\t},\r\n\r\n\t\theaderButtonsAttributes: function(div, label){\r\n\t\t\treturn this.setAttributes(div, {\"role\":\"button\", \"aria-label\":label});\r\n\t\t},\r\n\r\n\t\theaderToggleState: function(div, isActive){\r\n\t\t\treturn this.setAttributes(div, {\"aria-pressed\": isActive ? \"true\" : \"false\"});\r\n\t\t},\r\n\r\n\r\n\t\tgetHeaderCellAttr:function(dateString){\r\n\r\n\t\t\treturn scheduler._waiAria.getAttributeString({\"aria-label\": dateString});\r\n\t\t},\r\n\r\n\r\n\t\teventAttr: function(event, div){\r\n\t\t\tthis._eventCommonAttr(event, div);\r\n\t\t},\r\n\r\n\r\n\t\t_eventCommonAttr: function(event, div){\r\n\t\t\tdiv.setAttribute(\"aria-label\", stripHTMLLite(scheduler.templates.event_text(event.start_date, event.end_date, event)));\r\n\r\n\t\t\tif(scheduler.config.readonly){\r\n\t\t\t\tdiv.setAttribute(\"aria-readonly\", true);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif(event.$dataprocessor_class){\r\n\t\t\t\tdiv.setAttribute(\"aria-busy\", true);\r\n\t\t\t}\r\n\r\n\r\n\t\t\tdiv.setAttribute(\"aria-selected\",\r\n\t\t\t\t(scheduler.getState().select_id == event.id) ? \"true\" : \"false\");\r\n\t\t},\r\n\r\n\t\tsetEventBarAttr: function(event, div){\r\n\t\t\tthis._eventCommonAttr(event, div);\r\n\t\t},\r\n\r\n\t\t_getAttributes: function(attributeSetter, arg){\r\n\t\t\tvar result = {\r\n\t\t\t\tsetAttribute:function(name, value){\r\n\t\t\t\t\tthis[name] = value;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tattributeSetter.apply(this, [arg, result]);\r\n\t\t\treturn result;\r\n\r\n\t\t},\r\n\r\n\t\teventBarAttrString: function(event){\r\n\t\t\treturn this.getAttributeString(this._getAttributes(this.setEventBarAttr, event));\r\n\t\t},\r\n\r\n\r\n\r\n\t\tagendaHeadAttrString :function(){\r\n\t\t\treturn this.getAttributeString({role: \"row\"});\r\n\t\t},\r\n\t\tagendaHeadDateString :function(label){\r\n\t\t\treturn this.getAttributeString({role: \"columnheader\", \"aria-label\": label});\r\n\t\t},\r\n\t\tagendaHeadDescriptionString :function(label){\r\n\t\t\treturn this.agendaHeadDateString(label);\r\n\t\t},\r\n\t\tagendaDataAttrString: function(){\r\n\t\t\treturn this.getAttributeString({role: \"grid\"});\r\n\t\t},\r\n\t\tagendaEventAttrString: function(event){\r\n\t\t\tvar attrs = this._getAttributes(this._eventCommonAttr, event);\r\n\r\n\t\t\tattrs[\"role\"] = \"row\";\r\n\r\n\t\t\treturn this.getAttributeString(attrs);\r\n\r\n\t\t},\r\n\t\tagendaDetailsBtnString: function(){\r\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\":scheduler.locale.labels.icon_details});\r\n\t\t},\r\n\r\n\r\n\t\tgridAttrString: function(){\r\n\t\t\treturn this.getAttributeString({role: \"grid\"});\r\n\t\t},\r\n\r\n\t\tgridRowAttrString: function(event){\r\n\t\t\treturn this.agendaEventAttrString(event);\r\n\t\t},\r\n\r\n\t\tgridCellAttrString: function(event, column, value){\r\n\t\t\treturn this.getAttributeString({\"role\":\"gridcell\", \"aria-label\": [\r\n\t\t\t\t(column.label === undefined ? column.id : column.label),\r\n\t\t\t\t\": \",\r\n\t\t\t\tvalue\r\n\t\t\t]});\r\n\t\t},\r\n\r\n\t\tmapAttrString: function(){\r\n\t\t\treturn this.gridAttrString();\r\n\t\t},\r\n\t\tmapRowAttrString: function(event){\r\n\t\t\treturn this.gridRowAttrString(event);\r\n\t\t},\r\n\t\tmapDetailsBtnString: function(){\r\n\t\t\treturn this.agendaDetailsBtnString();\r\n\t\t},\r\n\r\n\t\tminicalHeader: function(div, headerId){\r\n\t\t\tthis.setAttributes(div, {\r\n\t\t\t\t\"id\":headerId+\"\",\r\n\t\t\t\t\"aria-live\":\"assertice\",\r\n\t\t\t\t\"aria-atomic\":\"true\"\r\n\r\n\t\t\t});\r\n\t\t},\r\n\t\tminicalGrid: function(div, headerId){\r\n\t\t\tthis.setAttributes(div, {\r\n\t\t\t\t\"aria-labelledby\":headerId+\"\",\r\n\t\t\t\t\"role\":\"grid\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tminicalRow: function(div){\r\n\t\t\tthis.setAttributes(div, {\r\n\t\t\t\t\"role\":\"row\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tminicalDayCell: function(div, date){\r\n\t\t\tvar selected = (date.valueOf() < scheduler._max_date.valueOf() && date.valueOf() >= scheduler._min_date.valueOf());\r\n\t\t\tthis.setAttributes(div, {\r\n\t\t\t\t\"role\":\"gridcell\",\r\n\t\t\t\t\"aria-label\": scheduler.templates.day_date(date),\r\n\t\t\t\t\"aria-selected\": selected ? \"true\" : \"false\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tminicalHeadCell: function(div){\r\n\t\t\tthis.setAttributes(div, {\r\n\t\t\t\t\"role\":\"columnheader\"\r\n\t\t\t});\r\n\t\t},\r\n\r\n\r\n\t\tweekAgendaDayCell: function(div, date){\r\n\t\t\tvar header = div.querySelector(\".dhx_wa_scale_bar\");\r\n\t\t\tvar content = div.querySelector(\".dhx_wa_day_data\");\r\n\t\t\tvar headerId = scheduler.uid() + \"\";\r\n\t\t\tthis.setAttributes(header, { \"id\": headerId});\r\n\t\t\tthis.setAttributes(content, { \"aria-labelledby\": headerId});\r\n\r\n\t\t},\r\n\t\tweekAgendaEvent: function(div, event){\r\n\t\t\tthis.eventAttr(event, div);\r\n\t\t},\r\n\r\n\t\tlightboxHiddenAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\r\n\t\t},\r\n\r\n\t\tlightboxVisibleAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"false\");\r\n\t\t},\r\n\r\n\t\tlightboxSectionButtonAttrString: function(label){\r\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\":label, \"tabindex\":\"0\"});\r\n\t\t},\r\n\r\n\t\tyearHeader: function(div, headerId){\r\n\t\t\tthis.setAttributes(div, {\r\n\t\t\t\t\"id\":headerId+\"\"\r\n\t\t\t});\r\n\t\t},\r\n\t\tyearGrid: function(div, headerId){\r\n\t\t\tthis.minicalGrid(div, headerId);\r\n\t\t},\r\n\t\tyearHeadCell: function(div){\r\n\t\t\treturn this.minicalHeadCell(div);\r\n\t\t},\r\n\t\tyearRow: function(div){\r\n\t\t\treturn this.minicalRow(div);\r\n\t\t},\r\n\t\tyearDayCell: function(div){\r\n\t\t\tthis.setAttributes(div, {\r\n\t\t\t\t\"role\":\"gridcell\"\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tlightboxAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\r\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\r\n\t\t\tdiv.firstChild.setAttribute(\"role\", \"heading\");\r\n\t\t},\r\n\r\n\t\tlightboxButtonAttrString:function(buttonName){\r\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\":scheduler.locale.labels[buttonName], \"tabindex\":\"0\"});\r\n\t\t},\r\n\t\teventMenuAttrString: function(iconName){\r\n\t\t\treturn this.getAttributeString({\"role\":\"button\", \"aria-label\":scheduler.locale.labels[iconName]});\r\n\t\t},\r\n\t\tlightboxHeader: function(div, headerText){\r\n\t\t\tdiv.setAttribute(\"aria-label\", headerText);\r\n\t\t},\r\n\r\n\t\tlightboxSelectAttrString: function(time_option){\r\n\t\t\tvar label = \"\";\r\n\r\n\t\t\tswitch (time_option) {\r\n\t\t\t\tcase \"%Y\":\r\n\t\t\t\t\tlabel = scheduler.locale.labels.year;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%m\":\r\n\t\t\t\t\tlabel = scheduler.locale.labels.month;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%d\":\r\n\t\t\t\t\tlabel = scheduler.locale.labels.day;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%H:%i\":\r\n\t\t\t\t\tlabel = scheduler.locale.labels.hour + \" \" + scheduler.locale.labels.minute;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn scheduler._waiAria.getAttributeString({\"aria-label\": label});\r\n\t\t},\r\n\r\n\r\n\t\tmessageButtonAttrString: function(buttonLabel){\r\n\t\t\treturn \"tabindex='0' role='button' aria-label='\"+buttonLabel+\"'\";\r\n\t\t},\r\n\r\n\t\tmessageInfoAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"role\", \"alert\");\r\n\t\t\t//div.setAttribute(\"tabindex\", \"-1\");\r\n\t\t},\r\n\r\n\t\tmessageModalAttr: function(div, uid){\r\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\r\n\t\t\tif(uid){\r\n\t\t\t\tdiv.setAttribute(\"aria-labelledby\", uid);\r\n\t\t\t}\r\n\r\n\t\t\t//\tdiv.setAttribute(\"tabindex\", \"-1\");\r\n\t\t},\r\n\r\n\t\tquickInfoAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"role\", \"dialog\");\r\n\t\t},\r\n\r\n\t\tquickInfoHeaderAttrString: function(){\r\n\t\t\treturn \" role='heading' \";\r\n\t\t},\r\n\r\n\t\tquickInfoHeader: function(div, header){\r\n\t\t\tdiv.setAttribute(\"aria-label\", header);\r\n\t\t},\r\n\r\n\t\tquickInfoButtonAttrString: function(label){\r\n\t\t\treturn scheduler._waiAria.getAttributeString({\"role\":\"button\", \"aria-label\":label, \"tabindex\":\"0\"});\r\n\t\t},\r\n\r\n\t\ttooltipAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"role\", \"tooltip\");\r\n\t\t},\r\n\r\n\t\ttooltipVisibleAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"false\");\r\n\t\t},\r\n\r\n\t\ttooltipHiddenAttr: function(div){\r\n\t\t\tdiv.setAttribute(\"aria-hidden\", \"true\");\r\n\t\t}\r\n\t};\r\n\r\n\tfunction isDisabled(){\r\n\t\treturn !scheduler.config.wai_aria_attributes;\r\n\t}\r\n\r\n\tfor(var i in scheduler._waiAria){\r\n\t\tscheduler._waiAria[i] = (function(payload){\r\n\t\t\treturn function(){\r\n\t\t\t\tif(isDisabled()){\r\n\t\t\t\t\treturn \" \";\r\n\t\t\t\t}\r\n\t\t\t\treturn payload.apply(this, arguments);\r\n\t\t\t};\r\n\t\t})(scheduler._waiAria[i]);\r\n\t}\r\n\r\n\r\n})();\r\n\r\n}","import utils from \"./utils/utils\";\r\n\r\nconst StateService = (function(){\r\n\tconst stateProviders = {};\r\n\r\n\tfunction getState(name){\r\n\t\tconst provider = stateProviders[name];\r\n\t\tif(provider){\r\n\t\t\treturn stateProviders[name].method();\r\n\t\t}else{\r\n\t\t\tconst res = {};\r\n\t\t\tfor(const i in stateProviders){\r\n\t\t\t\tif(!stateProviders[i].internal)\r\n\t\t\t\t\tutils.mixin(res, stateProviders[i].method(), true);\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction registerProvider(name, provider, internal){\r\n\t\tstateProviders[name] = { method: provider, internal: internal};\r\n\t}\r\n\r\n\tfunction unregisterProvider(name){\r\n\t\tdelete stateProviders[name];\r\n\t}\r\n\r\n\treturn {\r\n\t\tgetState: getState,\r\n\t\tregisterProvider: registerProvider,\r\n\t\tunregisterProvider: unregisterProvider\r\n\t};\r\n});\r\n\r\nexport default StateService;\r\n\r\n","export default function extend(scheduler) {\r\n\r\nvar commonViews = {\r\n\tagenda: \"https://docs.dhtmlx.com/scheduler/agenda_view.html\",\r\n\tgrid: \"https://docs.dhtmlx.com/scheduler/grid_view.html\",\r\n\tmap: \"https://docs.dhtmlx.com/scheduler/map_view.html\",\r\n\tunit: \"https://docs.dhtmlx.com/scheduler/units_view.html\",\r\n\ttimeline: \"https://docs.dhtmlx.com/scheduler/timeline_view.html\",\r\n\tweek_agenda: \"https://docs.dhtmlx.com/scheduler/weekagenda_view.html\",\r\n\tyear: \"https://docs.dhtmlx.com/scheduler/year_view.html\",\r\n\tanythingElse: \"https://docs.dhtmlx.com/scheduler/views.html\"\r\n};\r\n\r\nvar requiredExtensions = {\r\n\tagenda: \"ext/dhtmlxscheduler_agenda_view.js\",\r\n\tgrid: \"ext/dhtmlxscheduler_grid_view.js\",\r\n\tmap: \"ext/dhtmlxscheduler_map_view.js\",\r\n\tunit: \"ext/dhtmlxscheduler_units.js\",\r\n\ttimeline: \"ext/dhtmlxscheduler_timeline.js, ext/dhtmlxscheduler_treetimeline.js, ext/dhtmlxscheduler_daytimeline.js\",\r\n\tweek_agenda: \"ext/dhtmlxscheduler_week_agenda.js\",\r\n\tyear: \"ext/dhtmlxscheduler_year_view.js\",\r\n\tlimit: \"ext/dhtmlxscheduler_limit.js\"\r\n};\r\n\r\nscheduler._commonErrorMessages = {\r\n\tunknownView: function(view){\r\n\t\tvar relatedDoc = \"Related docs: \" + (commonViews[view] || commonViews.anythingElse); \r\n\t\tvar relatedExtension = requiredExtensions[view] ? (\"You're probably missing \" + requiredExtensions[view] + \".\") : \"\";\r\n\t\treturn (\r\n\t\t\t\"`\"+view+\"` view is not defined. \\n\" +\r\n\t\t\t\"Please check parameters you pass to `scheduler.init` or `scheduler.setCurrentView` in your code and ensure you've imported appropriate extensions. \\n\" + \r\n\t\t\trelatedDoc + \"\\n\" + (relatedExtension ? (relatedExtension + \"\\n\") : \"\"));\r\n\t},\r\n\tcollapsedContainer: function(div){\r\n\t\treturn \"Scheduler container height is set to *100%* but the rendered height is zero and the scheduler is not visible. \\n\"+\r\n\t\t\"Make sure that the container has some initial height or use different units. For example:\\n\" +\r\n\t\t\"<div id='scheduler_here' class='dhx_cal_container' style='width:100%; height:600px;'> \\n\";\r\n\t}\r\n};\r\n\r\nscheduler.createTimelineView = function() {\r\n\tthrow new Error(\"scheduler.createTimelineView is not implemented. Be sure to add the required extension: \" + requiredExtensions.timeline + \r\n\t\"\\n\" +\r\n\t\"Related docs: \" + commonViews.timeline);\r\n};\r\n\r\nscheduler.createUnitsView = function() {\r\n\tthrow new Error(\"scheduler.createUnitsView is not implemented. Be sure to add the required extension: \" + requiredExtensions.unit + \r\n\t\"\\n\" +\r\n\t\"Related docs: \" + commonViews.unit);\r\n};\r\n\r\nscheduler.createGridView = function() {\r\n\tthrow new Error(\"scheduler.createGridView is not implemented. Be sure to add the required extension: \" + requiredExtensions.grid + \r\n\t\"\\n\" +\r\n\t\"Related docs: \" + commonViews.grid);\r\n};\r\n\r\nscheduler.addMarkedTimespan = function() {\r\n\tthrow new Error(\"scheduler.addMarkedTimespan is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_limit.js\" + \r\n\t\"\\n\" +\r\n\t\"Related docs: https://docs.dhtmlx.com/scheduler/limits.html\");\r\n};\r\n\r\nscheduler.renderCalendar = function() {\r\n\tthrow new Error(\"scheduler.renderCalendar is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_minical.js\" + \r\n\t\"\\n\" +\r\n\t\"https://docs.dhtmlx.com/scheduler/minicalendar.html\");\r\n};\r\n\r\nscheduler.exportToPNG = function() {\r\n\tthrow new Error([\r\n\t\t\"scheduler.exportToPNG is not implemented.\",\r\n\t\t\"This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/png.html\",\r\n\t\t\"Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml\"\r\n\t].join(\"\\n\"));\r\n};\r\n\r\nscheduler.exportToPDF = function() {\r\n\tthrow new Error([\r\n\t\t\"scheduler.exportToPDF is not implemented.\",\r\n\t\t\"This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/pdf.html\",\r\n\t\t\"Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml\"\r\n\t].join(\"\\n\"));\r\n};\r\n\r\n\r\n}","import createEventScope from './utils/scoped_event';\r\n\r\nexport default function extend(scheduler) {\r\n\r\n\r\nvar domEvents = createEventScope();\r\n\r\nscheduler.event = domEvents.attach;\r\nscheduler.eventRemove = domEvents.detach;\r\nscheduler._eventRemoveAll = domEvents.detachAll;\r\nscheduler._createDomEventScope = domEvents.extend;\r\n\r\n\r\nscheduler._trim = function(str){\r\n\tvar func = String.prototype.trim || function(){ return this.replace(/^\\s+|\\s+$/g, \"\"); };\r\n\treturn func.apply(str);\r\n};\r\n\r\nscheduler._isDate = function(obj){\r\n\tif (obj && typeof obj == \"object\") {\r\n\t\treturn !!(obj.getFullYear && obj.getMonth && obj.getDate);\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nscheduler._isObject = function(obj){\r\n\treturn (obj && typeof obj == \"object\");\r\n};\r\n\r\n}","import defaultDomEvents from './event';\r\n\r\nexport default function(){\r\n\r\n\tvar domEvents = function (addEvent, removeEvent) {\r\n\t\taddEvent = addEvent || defaultDomEvents.event;\r\n\t\tremoveEvent = removeEvent || defaultDomEvents.eventRemove;\r\n\t\tvar handlers = [];\r\n\t\tvar eventScope = {\r\n\t\t\tattach: function(el, event, callback, capture){\r\n\t\t\t\thandlers.push({element: el, event:event, callback: callback, capture: capture});\r\n\t\t\t\taddEvent(el, event, callback, capture);\r\n\t\t\t},\r\n\t\t\tdetach: function(el, event, callback, capture){\r\n\t\t\t\tremoveEvent(el, event, callback, capture);\r\n\t\t\t\tfor(var i = 0; i < handlers.length; i++){\r\n\t\t\t\t\tvar handler = handlers[i];\r\n\t\t\t\t\tif (handler.element === el && handler.event === event && handler.callback === callback && handler.capture === capture) {\r\n\t\t\t\t\t\thandlers.splice(i, 1);\r\n\t\t\t\t\t\ti--;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdetachAll: function () {\r\n\t\t\t\tvar staticArray = handlers.slice();\r\n\t\t\t\t// original handlers array can be spliced on every iteration\r\n\t\t\t\tfor (var i = 0; i < staticArray.length; i++){\r\n\t\t\t\t\tvar handler = staticArray[i];\r\n\t\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, handler.capture);\r\n\t\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, undefined);\r\n\t\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, false);\r\n\t\t\t\t\teventScope.detach(handler.element, handler.event, handler.callback, true);\r\n\t\t\t\t}\r\n\t\t\t\thandlers.splice(0, handlers.length);\r\n\t\t\t},\r\n\t\t\textend: function(){\r\n\t\t\t\treturn domEvents(this.event, this.eventRemove);\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn eventScope;\r\n\t};\r\n\t\r\n\treturn domEvents();\r\n}","\r\nimport nav_bar from \"./nav_bar\";\r\nimport scheduler_resize_listener from \"./scheduler_resize_listener\";\r\nimport eventable from \"../utils/eventable\";\r\n\r\n\r\nexport default function extend(scheduler) {\r\n\r\neventable(scheduler);\r\n\r\nnav_bar(scheduler);\r\n\r\nscheduler._detachDomEvent = function(el, event, handler){\r\n\tif (el.removeEventListener){\r\n\t\tel.removeEventListener(event, handler, false);\r\n\r\n\t}else if (el.detachEvent){\r\n\t\tel.detachEvent(\"on\"+event, handler);\r\n\t}\r\n};\r\n\r\n\r\nscheduler._init_once = function(){\r\n\tscheduler_resize_listener(scheduler);\r\n\r\n\tscheduler._init_once = function(){};\r\n};\r\n\r\nconst layout = {\r\n\t\"navbar\": {\r\n\t\trender: function (config) {\r\n\t\t\treturn scheduler._init_nav_bar(config);\r\n\t\t}\r\n\t},\r\n\t\"header\": {\r\n\t\trender: function (config) {\r\n\t\t\tconst element = document.createElement(\"div\");\r\n\t\t\telement.className = \"dhx_cal_header\";\r\n\t\t\treturn element;\r\n\t\t}\r\n\t},\r\n\t\"dataArea\": {\r\n\t\trender: function (config) {\r\n\t\t\tconst element = document.createElement(\"div\");\r\n\t\t\telement.className = \"dhx_cal_data\";\r\n\t\t\treturn element;\r\n\t\t}\r\n\t},\r\n\t\"html_element\": {\r\n\t\trender: function (config) {\r\n\t\t\treturn config.html;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction hasSchedulerMarkup(element){\r\n\treturn !!(\r\n\t\telement.querySelector(\".dhx_cal_header\") &&\r\n\t\telement.querySelector(\".dhx_cal_data\") &&\r\n\t\telement.querySelector(\".dhx_cal_navline\")\r\n\t\t);\r\n}\r\n\r\nfunction createDefaultHeader(scheduler){\r\n\tconst views = [\r\n\t\t\"day\",\r\n\t\t\"week\",\r\n\t\t\"month\"\r\n\t];\r\n\tconst date = [\r\n\t\t\"date\"\r\n\t];\r\n\tconst nav = [\r\n\t\t\"prev\",\r\n\t\t\"today\",\r\n\t\t\"next\"\r\n\t];\r\n\r\n\tif(scheduler.matrix){\r\n\t\tfor(const i in scheduler.matrix){\r\n\t\t\tviews.push(i);\r\n\t\t}\r\n\t}\r\n\tif(scheduler._props){\r\n\t\tfor(const i in scheduler._props){\r\n\t\t\tviews.push(i);\r\n\t\t}\r\n\t}\r\n\r\n\tif(scheduler._grid && scheduler._grid.names){\r\n\t\tfor(const i in scheduler._grid.names){\r\n\t\t\tviews.push(i);\r\n\t\t}\r\n\t}\r\n\r\n\tconst optionalViews = [\r\n\t\t\"map\",\r\n\t\t\"agenda\",\r\n\t\t\"week_agenda\",\r\n\t\t\"year\"\r\n\t];\r\n\r\n\toptionalViews.forEach(function(viewName){\r\n\t\tif(scheduler[viewName + \"_view\"]){\r\n\t\t\tviews.push(viewName);\r\n\t\t}\r\n\t});\r\n\r\n\treturn views.concat(date).concat(nav);\r\n}\r\n\r\nscheduler.init=function(id,date,mode){\r\n\tif(this.$destroyed){\r\n\t\treturn; // not have errors when try to reinit destroyed scheduler\r\n\t}\r\n\tdate=date||(scheduler._currentDate());\r\n\tmode=mode||\"week\";\r\n\r\n\tif(this._obj){\r\n\t\tthis.unset_actions();\r\n\t}\r\n\r\n\tthis._obj=(typeof id == \"string\")?document.getElementById(id):id;\r\n\tthis.$container = this._obj;\r\n\tthis.$root = this._obj;\r\n\r\n\tif(!this.$container.offsetHeight && this.$container.offsetWidth && this.$container.style.height === \"100%\"){\r\n\t\t// scheduler container has zero height and non-zero width\r\n\t\twindow.console.error(scheduler._commonErrorMessages.collapsedContainer(), this.$container);\r\n\t}\r\n\r\n\tif(this.config.wai_aria_attributes && this.config.wai_aria_application_role){\r\n\t\tthis.$container.setAttribute(\"role\", \"application\");\r\n\t}\r\n\r\n\tif(!this.config.header && !hasSchedulerMarkup(this.$container)){\r\n\t\t// if no header config and no required markup - use the default header\r\n\t\t// so the scheduler could be initialized in an empty div\r\n\t\tthis.config.header = createDefaultHeader(this);\r\n\t\twindow.console.log([// jshint ignore:line\r\n\t\t\t\"Required DOM elements are missing from the scheduler container and **scheduler.config.header** is not specified.\",\r\n\t\t\t\"Using a default header configuration: \",\r\n\t\t\t\"scheduler.config.header = \" + JSON.stringify(this.config.header, null, 2),\r\n\t\t\t\"Check this article for the details: https://docs.dhtmlx.com/scheduler/initialization.html\"\r\n\t\t].join(\"\\n\"));// jshint ignore:line\r\n\t}\r\n\r\n\tif (this.config.header) {\r\n\t\tthis.$container.innerHTML = \"\";\r\n\t\tthis.$container.classList.add(\"dhx_cal_container\");\r\n\t\tif(this.config.header.height){\r\n\t\t\tthis.xy.nav_height = this.config.header.height;\r\n\t\t}\r\n\t\tthis.$container.appendChild(layout.navbar.render(this.config.header));\r\n\t\tthis.$container.appendChild(layout.header.render());\r\n\t\tthis.$container.appendChild(layout.dataArea.render());\r\n\t} else {\r\n\t\t// if no header config provided - make sure scheduler container has all necessary elements\r\n\t\tif(!hasSchedulerMarkup(this.$container)){\r\n\t\t\tthrow new Error([\r\n\t\t\t\t\"Required DOM elements are missing from the scheduler container.\",\r\n\t\t\t\t\"Be sure to either specify them manually in the markup: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviamarkup\",\r\n\t\t\t\t\"Or to use **scheduler.config.header** setting so they could be created automatically: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviaheaderconfig\"\r\n\t\t\t].join(\"\\n\"));\r\n\t\t}\r\n\t}\r\n\r\n\tif (this.config.rtl) this.$container.className += \" dhx_cal_container_rtl\";\r\n\r\n\t//hook for terrace skin\r\n\tif (this._skin_init)\r\n\t\tscheduler._skin_init();\r\n\r\n\tscheduler.date.init();\r\n\r\n\tthis._scroll=true;\r\n\r\n\tthis._els=[];\r\n\tthis.get_elements();\r\n\tthis.init_templates();\r\n\tthis.set_actions();\r\n\r\n\tthis._init_once();\r\n\tthis._init_touch_events();\r\n\r\n\tthis.set_sizes();\r\n\tscheduler.callEvent('onSchedulerReady', []);\r\n\tscheduler.$initialized = true;\r\n\tthis.setCurrentView(date,mode);\r\n\r\n};\r\n\r\nscheduler.xy={\r\n\tmin_event_height:20,\r\n\tbar_height: 24,\r\n\tscale_width:50,\r\n\tscroll_width:18,\r\n\tscale_height:20,\r\n\tmonth_scale_height:20,\r\n\tmenu_width:25,\r\n\tmargin_top:0,\r\n\tmargin_left:0,\r\n\teditor_width:140,\r\n\tmonth_head_height:22,\r\n\tevent_header_height: 14\r\n};\r\nscheduler.keys={\r\n\tedit_save:13,\r\n\tedit_cancel:27\r\n};\r\n\r\nscheduler.bind = function bind(functor, object){\r\n\tif(functor.bind)\r\n\t\treturn functor.bind(object);\r\n\telse\r\n\t\treturn function(){ return functor.apply(object,arguments); };\r\n};\r\n\r\nscheduler.set_sizes=function(){\r\n\r\n\tvar w = this._x = this._obj.clientWidth-this.xy.margin_left;\r\n\r\n\t//not-table mode always has scroll - need to be fixed in future\r\n\tvar scale_x=this._table_view?0:(this.xy.scale_width+this.xy.scroll_width);\r\n\r\n\tvar materialScalePlaceholder = this.$container.querySelector(\".dhx_cal_scale_placeholder\");\r\n\tif(scheduler._is_material_skin()){\r\n\t\tif(!materialScalePlaceholder) {\r\n\t\t\tmaterialScalePlaceholder = document.createElement(\"div\");\r\n\t\t\tmaterialScalePlaceholder.className = \"dhx_cal_scale_placeholder\";\r\n\t\t\tthis.$container.insertBefore(materialScalePlaceholder, this._els[\"dhx_cal_header\"][0]);\r\n\t\t}\r\n\t\tmaterialScalePlaceholder.style.display = \"block\";\r\n\r\n\t\tthis.set_xy(materialScalePlaceholder,w,this.xy.scale_height + 1,0, this._els[\"dhx_cal_header\"][0].offsetTop);\r\n\r\n\t}else{\r\n\t\tif(materialScalePlaceholder){\r\n\t\t\tmaterialScalePlaceholder.parentNode.removeChild(materialScalePlaceholder);\r\n\t\t}\r\n\t}\r\n\r\n\tif (this._lightbox) {\r\n\t\tif (scheduler.$container.offsetWidth  < 1200) {\r\n\t\t} else {\r\n\t\t\tthis._setLbPosition(document.querySelector(\".dhx_cal_light\"));\r\n\t\t}\r\n\t}\r\n\r\n\tthis._data_width = w-scale_x;\r\n\r\n\tthis._els[\"dhx_cal_navline\"][0].style.width = w + \"px\";\r\n\tconst header = this._els[\"dhx_cal_header\"][0];\r\n\tthis.set_xy(header, this._data_width, this.xy.scale_height);\r\n\t// this._els[\"dhx_cal_header\"][0].style.marginLeft = `${scheduler.xy.scale_width}px`;\r\n\theader.style.left = ``;\r\n\theader.style.right = ``;\r\n\tif(!this._table_view){\r\n\t\tif(this.config.rtl){\r\n\t\t\theader.style.right = `${this.xy.scale_width}px`;\r\n\t\t}else{\r\n\t\t\theader.style.left = `${this.xy.scale_width}px`;\r\n\t\t}\r\n\t} else {\r\n\t\tif(!this.config.rtl){\r\n\t\t\theader.style.left = `-1px`;\r\n\t\t} else {\r\n\t\t\theader.style.right = `-1px`;\r\n\t\t}\r\n\t}\r\n};\r\nscheduler.set_xy=function(node,w,h,x,y){\r\n\tfunction prepareValue(val){\r\n\t\tlet prepared = val;\r\n\t\tif(!isNaN(Number(prepared))){\r\n\t\t\tprepared = Math.max(0,prepared) + \"px\";\r\n\t\t}\r\n\t\treturn prepared;\r\n\t}\r\n\r\n\tvar direction = 'left';\r\n\r\n\tif(w !== undefined) {\r\n\t\tnode.style.width = prepareValue(w);\r\n\t}\r\n\r\n\tif(h !== undefined){\r\n\t\tnode.style.height = prepareValue(h);\r\n\t}\r\n\r\n\tif (arguments.length>3){\r\n\r\n\t\tif(x !== undefined){\r\n\t\t\tif (this.config.rtl) direction = 'right';\r\n\t\t\tnode.style[direction]=x+\"px\";\r\n\t\t}\r\n\t\tif(y !== undefined){\r\n\t\t\tnode.style.top=y+\"px\";\r\n\t\t}\r\n\t}\r\n};\r\nscheduler.get_elements=function(){\r\n\t//get all child elements as named hash\r\n\tconst els=this._obj.getElementsByTagName(\"DIV\");\r\n\tfor (let i=0; i < els.length; i++){\r\n\t\tlet class_name= scheduler._getClassName(els[i]);\r\n\t\tconst attr_value = els[i].getAttribute(\"data-tab\") || els[i].getAttribute(\"name\") || \"\";\r\n\t\tif (class_name) class_name = class_name.split(\" \")[0];\r\n\t\tif (!this._els[class_name]) this._els[class_name]=[];\r\n\t\tthis._els[class_name].push(els[i]);\r\n\r\n\t\t//check if name need to be changed\r\n\t\t// scheduler.locale.labels[attr_value+\"_tab\"] - to fix getting labels for data-tab\r\n\t\tlet label = scheduler.locale.labels[attr_value+\"_tab\"] || scheduler.locale.labels[attr_value||class_name];\r\n\t\tif (typeof label !== \"string\" && attr_value && !els[i].innerHTML)\r\n\t\t\tlabel = attr_value.split(\"_\")[0];\r\n\t\tif (label) {\r\n\t\t\tthis._waiAria.labelAttr(els[i], label);\r\n\t\t\tels[i].innerHTML = label;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nconst domEventsScope = scheduler._createDomEventScope();\r\n\r\nscheduler.unset_actions = function(){\r\n\tdomEventsScope.detachAll();\r\n};\r\n\r\nscheduler.set_actions=function(){\r\n\tfor (const a in this._els){\r\n\t\tif (this._click[a]){\r\n\t\t\tfor (let i=0; i < this._els[a].length; i++){\r\n\t\t\t\tconst element = this._els[a][i];\r\n\t\t\t\tconst handler = this._click[a].bind(element);\r\n\t\t\t\tdomEventsScope.attach(element, \"click\", handler);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tdomEventsScope.attach(this._obj, \"selectstart\", function(e){\r\n\t\te.preventDefault();\r\n\t\treturn false;\r\n\t});\r\n\t//this._obj.onselectstart=function(e){ return false; };\r\n\tdomEventsScope.attach(this._obj, \"mousemove\", function(e){\r\n\t\tif (!scheduler._temp_touch_block)\r\n\t\t\tscheduler._on_mouse_move(e);\r\n\t});\r\n\tdomEventsScope.attach(this._obj, \"mousedown\", function(e){\r\n\t\tif (!scheduler._ignore_next_click)\r\n\t\t\tscheduler._on_mouse_down(e);\r\n\t});\r\n\tdomEventsScope.attach(this._obj, \"mouseup\", function(e){\r\n\t\tif (!scheduler._ignore_next_click)\r\n\t\t\tscheduler._on_mouse_up(e);\r\n\t});\r\n\tdomEventsScope.attach(this._obj, \"dblclick\", function(e){\r\n\t\tscheduler._on_dbl_click(e);\r\n\t});\r\n\tdomEventsScope.attach(this._obj, \"contextmenu\", function(event) {\r\n\t\tif(scheduler.checkEvent(\"onContextMenu\")){\r\n\t\t\t// block the default browser context menu \r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\r\n\t\tconst returnValue = scheduler.callEvent(\"onContextMenu\", [scheduler._locate_event(event.target), event]);\r\n\t\treturn returnValue;\r\n\t});\r\n};\r\nscheduler.select=function(id){\r\n\tif (this._select_id==id) return;\r\n\tscheduler._close_not_saved();\r\n\tthis.editStop(false);\r\n\tif(this._select_id){\r\n\t\tthis.unselect();\r\n\t}\r\n\tthis._select_id = id;\r\n\tthis.updateEvent(id);\r\n\tthis.callEvent(\"onEventSelected\", [id]);\r\n};\r\nscheduler.unselect=function(id){\r\n\tif (id && id!=this._select_id) {\r\n\t\treturn;\r\n\t}\r\n\tconst previousSelection = this._select_id;\r\n\tthis._select_id = null;\r\n\tif (previousSelection && this.getEvent(previousSelection)) {\r\n\t\tthis.updateEvent(previousSelection);\r\n\t}\r\n\tthis.callEvent(\"onEventUnselected\", [previousSelection]);\r\n};\r\nscheduler.$stateProvider.registerProvider(\"global\", (function(){\r\n\treturn {\r\n\t\tmode: this._mode,\r\n\t\tdate: new Date(this._date),\r\n\t\tmin_date: new Date(this._min_date),\r\n\t\tmax_date: new Date(this._max_date),\r\n\t\teditor_id: this._edit_id,\r\n\t\tlightbox_id: this._lightbox_id,\r\n\t\tnew_event: this._new_event,\r\n\t\tselect_id: this._select_id,\r\n\t\texpanded: this.expanded,\r\n\t\tdrag_id: this._drag_id,\r\n\t\tdrag_mode: this._drag_mode\r\n\t};\r\n}).bind(scheduler));\r\n\r\nscheduler._click={\r\n\tdhx_cal_data:function(e){\r\n\t\t//in case of touch disable click processing\r\n\t\tif (scheduler._ignore_next_click){\r\n\t\t\tif (e.preventDefault)\r\n\t\t\t\te.preventDefault();\r\n\t\t\te.cancelBubble = true;\r\n\t\t\tscheduler._ignore_next_click = false;\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\r\n\t\tconst id = scheduler._locate_event(e.target);\r\n\r\n\t\tif (!id) {\r\n\t\t\tscheduler.callEvent(\"onEmptyClick\",[scheduler.getActionData(e).date, e]);\r\n\t\t} else {\r\n\t\t\tif ( !scheduler.callEvent(\"onClick\",[id,e]) || scheduler.config.readonly ) return;\r\n\t\t}\r\n\r\n\t\tif (id && scheduler.config.select) {\r\n\r\n\t\t\tscheduler.select(id);\r\n\t\t\tconst icon = e.target.closest(\".dhx_menu_icon\");\r\n\r\n\t\t\tconst mask = scheduler._getClassName(icon);\r\n\t\t\tif (mask.indexOf(\"_icon\")!=-1)\r\n\t\t\t\tscheduler._click.buttons[mask.split(\" \")[1].replace(\"icon_\",\"\")](id);\r\n\t\t} else{\r\n\t\t\tscheduler._close_not_saved();\r\n\t\t\tif (scheduler.getState().select_id && new Date().valueOf()-(scheduler._new_event||0) > 500){\r\n\t\t\t\tscheduler.unselect();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tdhx_cal_prev_button:function(){\r\n\t\tscheduler._click.dhx_cal_next_button(0,-1);\r\n\t},\r\n\tdhx_cal_next_button:function(dummy,step){\r\n\t\tlet def_step = 1;\r\n\t\tif (scheduler.config.rtl){\r\n\t\t\tstep = -step;\r\n\t\t\tdef_step = -def_step;\r\n\t\t}\r\n\t\tscheduler.setCurrentView(scheduler.date.add( //next line changes scheduler._date , but seems it has not side-effects\r\n\t\t\tscheduler.date[scheduler._mode+\"_start\"](new Date(scheduler._date)),(step||def_step),scheduler._mode));\r\n\t},\r\n\tdhx_cal_today_button:function(){\r\n\t\tif (scheduler.callEvent(\"onBeforeTodayDisplayed\", [])) {\r\n\t\t\tscheduler.setCurrentView(scheduler._currentDate());\r\n\t\t}\r\n\t},\r\n\tdhx_cal_tab:function(){\r\n\t\tconst name = this.getAttribute(\"data-tab\");\r\n\t\tconst deprecated_name = this.getAttribute(\"name\");\r\n\t\tconst mode = name || deprecated_name.substring(0, deprecated_name.search(\"_tab\"));\r\n\t\tscheduler.setCurrentView(scheduler._date,mode);\r\n\t},\r\n\tbuttons:{\r\n\t\t\"delete\":function(id){\r\n\t\t\tconst c = scheduler.locale.labels.confirm_deleting;\r\n\t\t\tscheduler._dhtmlx_confirm({message: c, title: scheduler.locale.labels.title_confirm_deleting, callback:function(){ scheduler.deleteEvent(id); },\r\n\t\t\tconfig: {ok: scheduler.locale.labels.icon_delete}\r\n\t\t});\r\n\t\t},\r\n\t\tedit:function(id){ scheduler.edit(id); },\r\n\t\tsave:function(id){ scheduler.editStop(true); },\r\n\t\tdetails:function(id){ scheduler.showLightbox(id); },\r\n\t\tform:function(id){ scheduler.showLightbox(id); },\r\n\t\tcancel:function(id){ scheduler.editStop(false); }\r\n\t}\r\n};\r\nscheduler._dhtmlx_confirm = function({message, title, callback, config}) {\r\n\tif (!message)\r\n\t\treturn callback();\r\n\r\n\tconfig = config || {};\r\n\tconst opts = { ...config, text: message };\r\n\tif (title) {\r\n\t\topts.title = title;\r\n\t}\r\n\tif (callback) {\r\n\t\topts.callback = function(result) {\r\n\t\t\tif (result) {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\tscheduler.confirm(opts);\r\n};\r\nscheduler.addEventNow=function(start,end,e){\r\n\tlet base = {};\r\n\tif (scheduler._isObject(start) && !scheduler._isDate(start)){\r\n\t\tbase = start;\r\n\t\tstart = null;\r\n\t}\r\n\r\n\tconst duration = (this.config.event_duration||this.config.time_step)*60000;\r\n\tif (!start) start = base.start_date||Math.round((scheduler._currentDate()).valueOf()/duration)*duration;\r\n\tlet start_date = new Date(start);\r\n\tif (!end){\r\n\t\tlet start_hour = this.config.first_hour;\r\n\t\tif (start_hour > start_date.getHours()){\r\n\t\t\tstart_date.setHours(start_hour);\r\n\t\t\tstart = start_date.valueOf();\r\n\t\t}\r\n\t\tend = start.valueOf()+duration;\r\n\t}\r\n\tlet end_date = new Date(end);\r\n\r\n\t// scheduler.addEventNow(new Date(), new Date()) + collision though get_visible events defect (such event was not retrieved)\r\n\tif(start_date.valueOf() == end_date.valueOf())\r\n\t\tend_date.setTime(end_date.valueOf()+duration);\r\n\tbase.start_date = base.start_date||start_date;\r\n\tbase.end_date =  base.end_date||end_date;\r\n\tbase.text = base.text||this.locale.labels.new_event;\r\n\tbase.id = this._drag_id = base.id || this.uid();\r\n\tthis._drag_mode=\"new-size\";\r\n\tthis._loading=true;\r\n\tconst eventId = this.addEvent(base);\r\n\tthis.callEvent(\"onEventCreated\",[this._drag_id,e]);\r\n\tthis._loading=false;\r\n\r\n\tthis._drag_event={}; //dummy , to trigger correct event updating logic\r\n\tthis._on_mouse_up(e);\r\n\treturn eventId;\r\n};\r\nscheduler._on_dbl_click=function(e,src){\r\n\tsrc = src || e.target;\r\n\tif (this.config.readonly) return;\r\n\tconst name = scheduler._getClassName(src).split(\" \")[0];\r\n\tswitch(name){\r\n\t\tcase \"dhx_scale_holder\":\r\n\t\tcase \"dhx_scale_holder_now\":\r\n\t\tcase \"dhx_month_body\":\r\n\t\tcase \"dhx_wa_day_data\":\r\n\t\t\tif (!scheduler.config.dblclick_create) break;\r\n\t\t\tthis.addEventNow(this.getActionData(e).date,null,e);\r\n\t\t\tbreak;\r\n\t\tcase \"dhx_cal_event\":\r\n\t\tcase \"dhx_wa_ev_body\":\r\n\t\tcase \"dhx_agenda_line\":\r\n\t\tcase \"dhx_cal_agenda_event_line\":\r\n\t\tcase \"dhx_grid_event\":\r\n\t\tcase \"dhx_cal_event_line\":\r\n\t\tcase \"dhx_cal_event_clear\": {\r\n\t\t\tconst id = this._locate_event(src);\r\n\t\t\tif (!this.callEvent(\"onDblClick\",[id,e])) return;\r\n\t\t\tif (this.config.details_on_dblclick || this._table_view || !this.getEvent(id)._timed || !this.config.select)\r\n\t\t\t\tthis.showLightbox(id);\r\n\t\t\telse\r\n\t\t\t\tthis.edit(id);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcase \"dhx_time_block\":\r\n\t\tcase \"dhx_cal_container\":\r\n\t\t\treturn;\r\n\t\tdefault: {\r\n\t\t\tconst viewHandler = this[\"dblclick_\"+name];\r\n\t\t\tif (viewHandler) {\r\n\t\t\t\tviewHandler.call(this,e);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (src.parentNode && src != this)\r\n\t\t\t\t\treturn scheduler._on_dbl_click(e,src.parentNode);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n};\r\n//column index by mouse x-coordinate\r\nscheduler._get_column_index = function(x_pos){\r\n\tlet column = 0;\r\n\tif (this._cols){\r\n\t\tlet width = 0;\r\n\t\tlet i = 0;\r\n\t\twhile (width + this._cols[i] < x_pos && i < this._cols.length){\r\n\t\t\twidth += this._cols[i];\r\n\t\t\ti++;\r\n\t\t}\r\n\t\tcolumn = i + (this._cols[i] ? ((x_pos - width)/ this._cols[i]) : 0);\r\n\r\n\t\tif (this._ignores){\r\n\t\t\tif(column >= this._cols.length){\r\n\t\t\t\twhile(column >= 1 && this._ignores[Math.floor(column)]){\r\n\t\t\t\t\tcolumn--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\treturn column;\r\n};\r\n\r\n//transform mouse coordinates to day-time indexes of week based view\r\nscheduler._week_indexes_from_pos = function(pos){\r\n\t//\"get position\" can be invoked before columns are loaded into the units view(e.g. by onMouseMove handler in key_nav.js)\r\n\tif(!this._cols){\r\n\t\treturn pos;\r\n\t}else{\r\n\t\tconst column = this._get_column_index(pos.x);\r\n\r\n\t\tpos.x=Math.min(this._cols.length-1, Math.max(0,Math.ceil(column)-1));\r\n\t\tpos.y=Math.max(0,Math.ceil(pos.y*60/(this.config.time_step*this.config.hour_size_px))-1)+this.config.first_hour*(60/this.config.time_step);\r\n\t\treturn pos;\r\n\t}\r\n};\r\n\r\nscheduler._mouse_coords=function(ev){\r\n\tlet pos;\r\n\tconst body = document.body;\r\n\tconst documentElement = document.documentElement;\r\n\tif (!this.$env.isIE && (ev.pageX || ev.pageY))\r\n\t\tpos={x:ev.pageX, y:ev.pageY};\r\n\telse pos={\r\n\t\tx:ev.clientX + (body.scrollLeft||documentElement.scrollLeft||0) - body.clientLeft,\r\n\t\ty:ev.clientY + (body.scrollTop||documentElement.scrollTop||0) - body.clientTop\r\n\t};\r\n\t//apply layout\r\n\tif (this.config.rtl && this._colsS) {\r\n\t\tpos.x = this.$container.querySelector(\".dhx_cal_data\").offsetWidth - pos.x;\r\n\t\tpos.x += this.$domHelpers.getAbsoluteLeft(this._obj);\r\n\t\tif (this._mode !== \"month\") {\r\n\t\t\tpos.x -= this.xy.scale_width;\r\n\t\t}\r\n\t} else {\r\n\t\tpos.x-=this.$domHelpers.getAbsoluteLeft(this._obj)+(this._table_view?0:this.xy.scale_width);\r\n\t}\r\n\r\n\tconst dataArea = this.$container.querySelector(\".dhx_cal_data\");\r\n\t//pos.y-=this.$domHelpers.getAbsoluteTop(this._obj)+this.xy.nav_height+(this._dy_shift||0)+this.xy.scale_height-this._els[\"dhx_cal_data\"][0].scrollTop;\r\n\tpos.y-=this.$domHelpers.getAbsoluteTop(dataArea)-this._els[\"dhx_cal_data\"][0].scrollTop;\r\n\tpos.ev = ev;\r\n\tconst handler = this[\"mouse_\"+this._mode];\r\n\tif (handler){\r\n\t\tpos = handler.call(this,pos);\r\n\t}else{\r\n\t\t//transform to date\r\n\t\tif (!this._table_view) {\r\n\t\t\tpos = this._week_indexes_from_pos(pos);\r\n\t\t} else {\r\n\t\t\tconst column = this._get_column_index(pos.x);\r\n\t\t\tif (!this._cols || !this._colsS) // agenda/map views\r\n\t\t\t\treturn pos;\r\n\t\t\tlet dy=0;\r\n\t\t\tfor (dy=1; dy < this._colsS.heights.length; dy++)\r\n\t\t\t\tif (this._colsS.heights[dy]>pos.y) break;\r\n\r\n\t\t\tpos.y=Math.ceil( (Math.max(0, column)+Math.max(0,dy-1)*7)*24*60/this.config.time_step );\r\n\r\n\t\t\tif (scheduler._drag_mode || this._mode == \"month\")\r\n\t\t\t\tpos.y=(Math.max(0,Math.ceil(column)-1)+Math.max(0,dy-1)*7)*24*60/this.config.time_step;\r\n\r\n\t\t\t//we care about ignored days only during event moving in month view\r\n\t\t\tif (this._drag_mode == \"move\"){\r\n\t\t\t\tif (scheduler._ignores_detected && scheduler.config.preserve_length){\r\n\t\t\t\t\tpos._ignores = true;\r\n\t\t\t\t\t//get real lengtn of event\r\n\t\t\t\t\tif (!this._drag_event._event_length)\r\n\t\t\t\t\t\tthis._drag_event._event_length = this._get_real_event_length(this._drag_event.start_date, this._drag_event.end_date, { x_step:1, x_unit:\"day\"});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tpos.x=0;\r\n\t\t}\r\n\t}\r\n\tpos.timestamp = +new Date();\r\n\treturn pos;\r\n};\r\nscheduler._close_not_saved=function(){\r\n\tif (new Date().valueOf()-(scheduler._new_event||0) > 500 && scheduler._edit_id){\r\n\t\tconst confirmationText=scheduler.locale.labels.confirm_closing;\r\n\r\n\t\tscheduler._dhtmlx_confirm({\r\n\t\t\tmessage: confirmationText, \r\n\t\t\ttitle: scheduler.locale.labels.title_confirm_closing, \r\n\t\t\tcallback: function() { \r\n\t\t\t\tscheduler.editStop(scheduler.config.positive_closing);\r\n\t\t\t}\r\n\t\t});\r\n\t\tif(confirmationText){\r\n\t\t\tthis._drag_id = this._drag_pos = this._drag_mode = null;\r\n\t\t}\r\n\t}\r\n};\r\nscheduler._correct_shift=function(start, back){\r\n\treturn start-=((new Date(scheduler._min_date)).getTimezoneOffset()-(new Date(start)).getTimezoneOffset())*60000*(back?-1:1);\r\n};\r\n\r\nscheduler._is_pos_changed = function(old_pos, new_pos){\r\n\tfunction diff(old_val, new_val, acc){\r\n\t\treturn !!(Math.abs(old_val - new_val) > acc);\r\n\t}\r\n\r\n\tif(!(old_pos && this._drag_pos)){\r\n\t\treturn true;\r\n\t}\r\n\tconst delay = 100;\r\n\tconst d_pos = 5;\r\n\r\n\t// start drag only if passed some time since mouse down, or if mouse position changed sufficiently\r\n\treturn !!(this._drag_pos.has_moved || !this._drag_pos.timestamp || (new_pos.timestamp - this._drag_pos.timestamp > delay) || diff(old_pos.ev.clientX, new_pos.ev.clientX, d_pos) || diff(old_pos.ev.clientY, new_pos.ev.clientY, d_pos));\r\n};\r\n\r\nscheduler._correct_drag_start_date = function(start){\r\n\tlet obj;\r\n\tif (scheduler.matrix)\r\n\t\tobj = scheduler.matrix[scheduler._mode];\r\n\tobj = obj  || { x_step:1, x_unit:\"day\" };\r\n\r\n\tstart = new Date(start);\r\n\tlet len = 1;\r\n\tif(obj._start_correction || obj._end_correction)\r\n\t\tlen = (obj.last_hour||0)*60 - (start.getHours()*60+start.getMinutes()) || 1;\r\n\r\n\treturn start*1 + (scheduler._get_fictional_event_length(start, len, obj)  - len);\r\n};\r\nscheduler._correct_drag_end_date = function(start, duration){\r\n\tlet obj;\r\n\tif (scheduler.matrix) {\r\n\t\tobj = scheduler.matrix[scheduler._mode];\r\n\t}\r\n\tobj = obj  || { x_step:1, x_unit:\"day\" };\r\n\r\n\tconst end = start*1 + scheduler._get_fictional_event_length(start, duration, obj);\r\n\treturn new Date(end*1 - (scheduler._get_fictional_event_length(end, -1, obj, -1) + 1));\r\n};\r\n\r\nscheduler._on_mouse_move=function(e){\r\n\tif (this._drag_mode){\r\n\t\tvar pos=this._mouse_coords(e);\r\n\t\tif (this._is_pos_changed(this._drag_pos, pos)){\r\n\t\t\tvar start, end;\r\n\t\t\tif (this._edit_id!=this._drag_id)\r\n\t\t\t\tthis._close_not_saved();\r\n\r\n\t\t\tif(!this._drag_mode)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tvar mousedownPos = null;\r\n\t\t\tif(this._drag_pos && !this._drag_pos.has_moved){\r\n\t\t\t\tmousedownPos = this._drag_pos;\r\n\t\t\t\tmousedownPos.has_moved = true;\r\n\t\t\t}\r\n\r\n\t\t\tthis._drag_pos = pos;\r\n\r\n\t\t\tthis._drag_pos.has_moved = true;\r\n\r\n\t\t\tif (this._drag_mode==\"create\"){\r\n\r\n\t\t\t\t// use mouse down position as a starting point for drag-create\r\n\t\t\t\tif(mousedownPos){\r\n\t\t\t\t\tpos = mousedownPos;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._close_not_saved();\r\n\t\t\t\tthis.unselect(this._select_id);\r\n\t\t\t\tthis._loading=true; //will be ignored by dataprocessor\r\n\r\n\t\t\t\tstart = this._get_date_from_pos(pos).valueOf();\r\n\r\n\t\t\t\tif (!this._drag_start) {\r\n\t\t\t\t\tvar res = this.callEvent(\"onBeforeEventCreated\", [e, this._drag_id]);\r\n\t\t\t\t\tif (!res){\r\n\t\t\t\t\t\tthis._loading=false;\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._loading=false;\r\n\t\t\t\t\tthis._drag_start=start;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tend = start;\r\n\t\t\t\tif (end == this._drag_start) {\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar start_date = new Date(this._drag_start);\r\n\t\t\t\tvar end_date = new Date(end);\r\n\t\t\t\tif ( (this._mode == \"day\" || this._mode == \"week\") &&\r\n\t\t\t\t\t(start_date.getHours() == end_date.getHours() &&\r\n\t\t\t\t\tstart_date.getMinutes() == end_date.getMinutes()) ) {\r\n\t\t\t\t\t\tend_date = new Date(this._drag_start+1000);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tthis._drag_id=this.uid();\r\n\t\t\t\tthis.addEvent(start_date, end_date, this.locale.labels.new_event, this._drag_id, pos.fields);\r\n\r\n\t\t\t\tthis.callEvent(\"onEventCreated\",[this._drag_id,e]);\r\n\t\t\t\tthis._loading=false;\r\n\t\t\t\tthis._drag_mode=\"new-size\";\r\n\r\n\t\t\t}\r\n\r\n\t\t\tvar timeStep = this.config.time_step;\r\n\t\t\tvar ev=this.getEvent(this._drag_id);\r\n\t\t\tvar obj;\r\n\t\t\tif (scheduler.matrix)\r\n\t\t\t\tobj = scheduler.matrix[scheduler._mode];\r\n\t\t\tobj = obj  || { x_step:1, x_unit:\"day\" };\r\n\r\n\t\t\tif (this._drag_mode==\"move\"){\r\n\t\t\t\tstart = this._min_date.valueOf()+(pos.y*this.config.time_step+pos.x*24*60)*60000;\r\n\t\t\t\tif (!pos.custom && this._table_view) {\r\n\t\t\t\t\tstart += this.date.time_part(ev.start_date) * 1000;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!this._table_view && this._dragEventBody && this._drag_event._move_event_shift === undefined) {\r\n\t\t\t\t\tthis._drag_event._move_event_shift = start - ev.start_date;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this._drag_event._move_event_shift) {\r\n\t\t\t\t\tstart -= this._drag_event._move_event_shift;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstart = this._correct_shift(start);\r\n\r\n\t\t\t\tif (pos._ignores && this.config.preserve_length && this._table_view && obj){\r\n\r\n\t\t\t\t\tstart = scheduler._correct_drag_start_date(start);\r\n\t\t\t\t\tend = scheduler._correct_drag_end_date(start,this._drag_event._event_length);\r\n\r\n\t\t\t\t} else\r\n\t\t\t\t\tend = ev.end_date.valueOf()-(ev.start_date.valueOf()-start);\r\n\t\t\t} else { // resize\r\n\t\t\t\tstart = ev.start_date.valueOf();\r\n\t\t\t\tend = ev.end_date.valueOf();\r\n\t\t\t\tif (this._table_view) {\r\n\t\t\t\t\tvar resize_date = this._min_date.valueOf()+pos.y*this.config.time_step*60000 + (pos.custom?0:24*60*60000);\r\n\t\t\t\t\tif (this._mode == \"month\") {\r\n\t\t\t\t\t\tresize_date = this._correct_shift(resize_date, false);\r\n\t\t\t\t\t\tif( this._drag_from_start ) {\r\n\t\t\t\t\t\t\tvar day = 24*60*60000;\r\n\t\t\t\t\t\t\tif( resize_date <= scheduler.date.date_part(new Date(end+day-1)).valueOf() ) // to get end time as 23:59:59 and then the day start\r\n\t\t\t\t\t\t\t\tstart = resize_date - day;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tend = resize_date;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif(this.config.preserve_length) {\r\n\t\t\t\t\t\t\tif (pos.resize_from_start) {\r\n\t\t\t\t\t\t\t\tstart = scheduler._correct_drag_start_date(resize_date);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tend = scheduler._correct_drag_end_date(resize_date, 0);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tif (pos.resize_from_start) {\r\n\t\t\t\t\t\t\t\tstart = resize_date;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tend = resize_date;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar end_day_start = this.date.date_part(new Date(ev.end_date.valueOf() - 1)).valueOf();\r\n\t\t\t\t\tvar end_day_date = new Date(end_day_start);\r\n\t\t\t\t\tvar firstHour = this.config.first_hour;\r\n\t\t\t\t\tvar lastHour = this.config.last_hour;\r\n\t\t\t\t\tvar maxY = (lastHour - firstHour) * (60/timeStep);\r\n\r\n\t\t\t\t\tthis.config.time_step = 1;\r\n\t\t\t\t\tvar precisePos = this._mouse_coords(e);\r\n\t\t\t\t\tthis.config.time_step = timeStep;\r\n\r\n\t\t\t\t\tvar minDate = pos.y*timeStep*60000;\r\n\t\t\t\t\tvar maxDate = Math.min(pos.y + 1, maxY)*timeStep*60000;\r\n\t\t\t\t\tvar preciseDate = precisePos.y*60000;\r\n\r\n\t\t\t\t\t// rounding end date to the closest time step\r\n\t\t\t\t\tif(Math.abs(minDate - preciseDate) > Math.abs(maxDate - preciseDate)){\r\n\t\t\t\t\t\tend = end_day_start + maxDate;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tend = end_day_start + minDate;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tend = end + ((new Date(end)).getTimezoneOffset() - end_day_date.getTimezoneOffset()) * 60000;\r\n\t\t\t\t\tthis._els[\"dhx_cal_data\"][0].style.cursor=\"s-resize\";\r\n\t\t\t\t\tif (this._mode == \"week\" || this._mode == \"day\")\r\n\t\t\t\t\t\tend = this._correct_shift(end);\r\n\t\t\t\t}\r\n\t\t\t\tif (this._drag_mode == \"new-size\") {\r\n\t\t\t\t\tif (end <= this._drag_start){\r\n\t\t\t\t\t\tvar shift = pos.shift||((this._table_view && !pos.custom)?24*60*60000:0);\r\n\t\t\t\t\t\tstart = end-(pos.shift?0:shift);\r\n\t\t\t\t\t\tend = this._drag_start+(shift||(timeStep*60000));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstart = this._drag_start;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (end<=start)\r\n\t\t\t\t\t\tend=start+timeStep*60000;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar new_end = new Date(end-1);\r\n\t\t\tvar new_start = new Date(start);\r\n\t\t\t//deny drag out of visible scheduler scale in timeline view\r\n\t\t\tif(this._drag_mode==\"move\" && scheduler.config.limit_drag_out &&\r\n\t\t\t\t(+new_start < +scheduler._min_date || +end > +scheduler._max_date)){\r\n\r\n\t\t\t\tif(+ev.start_date < +scheduler._min_date || +ev.end_date > +scheduler._max_date){\r\n\t\t\t\t\t// not move event if it's already outside time scale\r\n\t\t\t\t\tnew_start = new Date(ev.start_date);\r\n\t\t\t\t\tend = new Date(ev.end_date);\r\n\t\t\t\t}else{\r\n\r\n\t\t\t\t\tvar duration = end - new_start;\r\n\r\n\t\t\t\t\tif(+new_start < +scheduler._min_date){\r\n\t\t\t\t\t\tnew_start = new Date(scheduler._min_date);\r\n\t\t\t\t\t\tif (pos._ignores && this.config.preserve_length && this._table_view){\r\n\t\t\t\t\t\t\tnew_start = new Date(scheduler._correct_drag_start_date(new_start));\r\n\t\t\t\t\t\t\tif(obj._start_correction)\r\n\t\t\t\t\t\t\t\tnew_start = new Date(new_start.valueOf() + obj._start_correction);\r\n\t\t\t\t\t\t\tend = new Date(new_start*1 + this._get_fictional_event_length(new_start, this._drag_event._event_length, obj));\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tend = new Date(+new_start + duration);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tend = new Date(scheduler._max_date);\r\n\r\n\t\t\t\t\t\tif (pos._ignores && this.config.preserve_length && this._table_view){\r\n\t\t\t\t\t\t\tif(obj._end_correction)\r\n\t\t\t\t\t\t\t\tend = new Date(end.valueOf() - obj._end_correction);\r\n\t\t\t\t\t\t\tend = new Date(end*1 - this._get_fictional_event_length(end, 0, obj, true));\r\n\t\t\t\t\t\t\tnew_start = new Date(end*1 - this._get_fictional_event_length(end, this._drag_event._event_length, obj, true));\r\n\t\t\t\t\t\t\tif(this._ignores_detected){\r\n\t\t\t\t\t\t\t\tnew_start = scheduler.date.add(new_start, obj.x_step, obj.x_unit);\r\n\t\t\t\t\t\t\t\tend = new Date(end*1 - this._get_fictional_event_length(end, 0, obj, true));\r\n\t\t\t\t\t\t\t\tend = scheduler.date.add(end, obj.x_step, obj.x_unit);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tnew_start = new Date(+end - duration);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t\tvar new_end = new Date(end-1);\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\t// fix event dates when resized to bottom of the column (day/week views)\r\n\t\t\tif(!this._table_view && this._dragEventBody &&\r\n\t\t\t\t!scheduler.config.all_timed &&\r\n\t\t\t\t((!scheduler._get_section_view() && pos.x != this._get_event_sday({start_date: new Date(start), end_date:new Date(start)})) || new Date(start).getHours() < this.config.first_hour)){\r\n\t\t\t\tvar duration = end - new_start;\r\n\t\t\t\tif (this._drag_mode == \"move\") {\r\n\t\t\t\t\tvar day = this._min_date.valueOf() + (pos.x * 24 * 60) * 60000;\r\n\t\t\t\t\tnew_start = new Date(day);\r\n\t\t\t\t\tnew_start.setHours(this.config.first_hour);\r\n\t\t\t\t\tend = new Date(new_start.valueOf() + duration);\r\n\t\t\t\t\tnew_end = new Date(end-1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// fix event dates when resized to bottom of the column (day/week views)\r\n\t\t\tif(!this._table_view &&\r\n\t\t\t\t!scheduler.config.all_timed &&\r\n\t\t\t\t((!scheduler.getView() && pos.x != this._get_event_sday({start_date: new Date(end), end_date:new Date(end)})) || new Date(end).getHours() >= this.config.last_hour)){\r\n\t\t\t\tvar duration = end - new_start;\r\n\t\t\t\tvar day = this._min_date.valueOf()+(pos.x*24*60)*60000;\r\n\t\t\t\tend = scheduler.date.date_part(new Date(day));\r\n\t\t\t\tend.setHours(this.config.last_hour);\r\n\t\t\t\tnew_end = new Date(end-1);\r\n\t\t\t\tif(this._drag_mode == \"move\"){\r\n\t\t\t\t\tnew_start = new Date(+end - duration);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//prevent out-of-borders situation for day|week view\r\n\t\t\tif ( this._table_view || (new_end.getDate()==new_start.getDate() && new_end.getHours()<this.config.last_hour) || scheduler._allow_dnd ){\r\n\t\t\t\tev.start_date=new_start;\r\n\t\t\t\tev.end_date=new Date(end);\r\n\t\t\t\tif (this.config.update_render){\r\n\t\t\t\t\t//fix for repaint after dnd and scroll issue, #231\r\n\t\t\t\t\tvar sx = scheduler._els[\"dhx_cal_data\"][0].scrollTop;\r\n\t\t\t\t\tthis.update_view();\r\n\t\t\t\t\tscheduler._els[\"dhx_cal_data\"][0].scrollTop = sx;\r\n\t\t\t\t} else\r\n\t\t\t\t\tthis.updateEvent(this._drag_id);\r\n\t\t\t}\r\n\t\t\tif (this._table_view) {\r\n\t\t\t\tthis.for_rendered(this._drag_id,function(r){\r\n\t\t\t\t\tr.className+=\" dhx_in_move dhx_cal_event_drag\";\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tthis.callEvent(\"onEventDrag\", [this._drag_id, this._drag_mode, e]);\r\n\t\t}\r\n\t}  else {\r\n\t\tif (scheduler.checkEvent(\"onMouseMove\")){\r\n\t\t\tvar id = this._locate_event(e.target||e.srcElement);\r\n\t\t\tthis.callEvent(\"onMouseMove\",[id,e]);\r\n\t\t}\r\n\t}\r\n};\r\nscheduler._on_mouse_down=function(e,src) {\r\n\t// on Mac we do not get onmouseup event when clicking right mouse button leaving us in dnd state\r\n\t// let's ignore right mouse button then\r\n\tif (e.button == 2)\r\n\t\treturn;\r\n\r\n\tif (this.config.readonly || this._drag_mode) return;\r\n\tsrc = src||(e.target||e.srcElement);\r\n\tvar classname = scheduler._getClassName(src).split(\" \")[0];\r\n\r\n\tif (this.config.drag_event_body && classname == \"dhx_body\") {\r\n\t\tif(src.parentNode && src.parentNode.className.indexOf(\"dhx_cal_select_menu\") === -1){\r\n\t\t\tclassname = \"dhx_event_move\";\r\n\t\t\tthis._dragEventBody = true;\r\n\t\t}\r\n\t}\r\n\r\n\tswitch (classname) {\r\n\t\tcase \"dhx_cal_event_line\":\r\n\t\tcase \"dhx_cal_event_clear\":\r\n\t\t\tif (this._table_view)\r\n\t\t\t\tthis._drag_mode=\"move\"; //item in table mode\r\n\t\t\tbreak;\r\n\t\tcase \"dhx_event_move\":\r\n\t\tcase \"dhx_wa_ev_body\":\r\n\t\t\tthis._drag_mode=\"move\";\r\n\t\t\tbreak;\r\n\t\tcase \"dhx_event_resize\":\r\n\t\t\tthis._drag_mode=\"resize\";\r\n\t\t\tvar fullClass = scheduler._getClassName(src);\r\n\t\t\tif((fullClass).indexOf(\"dhx_event_resize_end\") < 0){\r\n\t\t\t\tscheduler._drag_from_start = true;\r\n\t\t\t}else{\r\n\t\t\t\tscheduler._drag_from_start = false;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase \"dhx_scale_holder\":\r\n\t\tcase \"dhx_scale_holder_now\":\r\n\t\tcase \"dhx_month_body\":\r\n\t\tcase \"dhx_matrix_cell\":\r\n\t\tcase \"dhx_marked_timespan\":\r\n\t\t\tthis._drag_mode=\"create\";\r\n\t\t\tbreak;\r\n\t\tcase \"\":\r\n\t\t\tif (src.parentNode)\r\n\t\t\t\treturn scheduler._on_mouse_down(e,src.parentNode);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tif (!scheduler.checkEvent(\"onMouseDown\") || scheduler.callEvent(\"onMouseDown\", [classname, e])) {\r\n\t\t\t\tif (src.parentNode && src != this && classname != \"dhx_body\") {\r\n\t\t\t\t\treturn scheduler._on_mouse_down(e,src.parentNode);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._drag_mode=null;\r\n\t\t\tthis._drag_id=null;\r\n\t\t\tbreak;\r\n\t}\r\n\tif (this._drag_mode){\r\n\t\tvar id = this._locate_event(src);\r\n\t\tif (!this.config[\"drag_\"+this._drag_mode] || !this.callEvent(\"onBeforeDrag\",[id, this._drag_mode, e]))\r\n\t\t\tthis._drag_mode=this._drag_id=0;\r\n\t\telse {\r\n\t\t\tthis._drag_id= id;\r\n\r\n\t\t\tif (this._edit_id!=this._drag_id || (this._edit_id && this._drag_mode == \"create\"))\r\n\t\t\t\tthis._close_not_saved();\r\n\t\t\tif(!this._drag_mode)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tthis._drag_event = scheduler._lame_clone(this.getEvent(this._drag_id) || {});\r\n\t\t\tthis._drag_pos = this._mouse_coords(e);\r\n\t\t}\r\n\t}\r\n\tthis._drag_start=null;\r\n};\r\n\r\n\r\nscheduler._get_private_properties = function(event){\r\n\tvar fields = {};\r\n\tfor(var i in event){\r\n\t\tif(i.indexOf(\"_\") === 0){\r\n\t\t\tfields[i] = true;\r\n\t\t}\r\n\t}\r\n\treturn fields;\r\n};\r\nscheduler._clear_temporary_properties = function(clean, flagged_event){\r\n\tvar initial = this._get_private_properties(clean);\r\n\tvar current_state = this._get_private_properties(flagged_event);\r\n\tfor(var i in current_state){\r\n\t\tif(!initial[i]){\r\n\t\t\tdelete flagged_event[i];\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\nscheduler._on_mouse_up=function(e){\r\n\tif (e && e.button == 2 && this._mobile) return;\r\n\tif (this._drag_mode && this._drag_id){\r\n\t\tthis._els[\"dhx_cal_data\"][0].style.cursor=\"default\";\r\n\t\t//drop\r\n\r\n\t\tvar drag_id = this._drag_id;\r\n\t\tvar mode = this._drag_mode;\r\n\r\n\t\tvar moved = !this._drag_pos || this._drag_pos.has_moved;\r\n\t\tdelete this._drag_event._move_event_shift;\r\n\r\n\t\tvar ev=this.getEvent(this._drag_id);\r\n\t\tif (moved && (this._drag_event._dhx_changed || !this._drag_event.start_date || ev.start_date.valueOf()!=this._drag_event.start_date.valueOf() || ev.end_date.valueOf()!=this._drag_event.end_date.valueOf())){\r\n\t\t\tvar is_new=(this._drag_mode==\"new-size\");\r\n\t\t\tif (!this.callEvent(\"onBeforeEventChanged\",[ev, e, is_new, this._drag_event])){\r\n\t\t\t\tif (is_new)\r\n\t\t\t\t\tthis.deleteEvent(ev.id, true);\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis._drag_event._dhx_changed = false;\r\n\t\t\t\t\tthis._clear_temporary_properties(ev, this._drag_event);\r\n\t\t\t\t\tscheduler._lame_copy(ev, this._drag_event);\r\n\t\t\t\t\tthis.updateEvent(ev.id);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\tthis._drag_id = this._drag_mode = null;\r\n\t\t\t\tif (is_new && this.config.edit_on_create){\r\n\t\t\t\t\tthis.unselect();\r\n\t\t\t\t\tthis._new_event=new Date();//timestamp of creation\r\n\t\t\t\t\t//if selection disabled - force lightbox usage\r\n\t\t\t\t\tif (this._table_view || this.config.details_on_create || !this.config.select || !this.isOneDayEvent(this.getEvent(drag_id))) {\r\n\t\t\t\t\t\tscheduler.callEvent(\"onDragEnd\", [drag_id, mode, e]);\r\n\t\t\t\t\t\treturn this.showLightbox(drag_id);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._drag_pos = true; //set flag to trigger full redraw\r\n\t\t\t\t\tthis._select_id = this._edit_id = drag_id;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!this._new_event)\r\n\t\t\t\t\t\tthis.callEvent(is_new?\"onEventAdded\":\"onEventChanged\",[drag_id,this.getEvent(drag_id)]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this._drag_pos && (this._drag_pos.has_moved || this._drag_pos === true)) {\r\n\t\t\tthis._drag_id = this._drag_mode = null; // set null to prevent _sorder recalculation for drag event\r\n\t\t\tthis.render_view_data(); //redraw even if there is no real changes - necessary for correct positioning item after drag\r\n\t\t}\r\n\t\tscheduler.callEvent(\"onDragEnd\", [drag_id, mode, e]);\r\n\t}\r\n\tthis._drag_id = null;\r\n\tthis._drag_mode=null;\r\n\tthis._drag_pos=null;\r\n\tthis._drag_event = null;\r\n\tthis._drag_from_start = null;\r\n};\r\n\r\nscheduler._trigger_dyn_loading = function(){\r\n\tif (this._load_mode && this._load()){\r\n\t\tthis._render_wait = true;\r\n\t\treturn true;\r\n\t}else{\r\n\t\treturn false;\r\n\t}\r\n};\r\nscheduler.update_view=function(){\r\n\tthis._reset_ignores();\r\n\tthis._update_nav_bar(\r\n\t\tthis.config.header,\r\n\t\tthis.$container.querySelector(\".dhx_cal_navline\"));\r\n\r\n\tvar view = this[this._mode + \"_view\"];\r\n\tif(view){\r\n\t\tview.call(this, true);\r\n\t}else{\r\n\t\tthis._reset_scale();\r\n\t}\r\n\r\n\tif (this._trigger_dyn_loading()){\r\n\t\treturn true;\r\n\t}\r\n\tthis.render_view_data();\r\n};\r\n\r\nscheduler.isViewExists = function(mode){\r\n\treturn !!(scheduler[mode+ \"_view\"] ||\r\n\t\t(scheduler.date[mode+ \"_start\"] && scheduler.templates[mode+ \"_date\"] && scheduler.templates[mode+ \"_scale_date\"]));\r\n};\r\n\r\nscheduler._set_aria_buttons_attrs = function(){\r\n\tvar buttonGroups = [\"dhx_cal_next_button\", \"dhx_cal_prev_button\", \"dhx_cal_tab\", \"dhx_cal_today_button\"];\r\n\tfor(var i = 0; i < buttonGroups.length; i++){\r\n\t\tvar group = this._els[buttonGroups[i]];\r\n\t\tfor(var j = 0; group && j < group.length; j++ ){\r\n\t\t\tvar name = group[j].getAttribute(\"data-tab\") || group[j].getAttribute(\"name\");\r\n\t\t\tvar label = this.locale.labels[buttonGroups[i]];\r\n\t\t\tif(name){\r\n\t\t\t\tlabel = this.locale.labels[name + \"_tab\"] || this.locale.labels[name] || label;\r\n\t\t\t}\r\n\t\t\tif(buttonGroups[i] == \"dhx_cal_next_button\"){\r\n\t\t\t\tlabel = this.locale.labels.next;\r\n\t\t\t}else if(buttonGroups[i] == \"dhx_cal_prev_button\"){\r\n\t\t\t\tlabel = this.locale.labels.prev;\r\n\t\t\t}\r\n\t\t\tthis._waiAria.headerButtonsAttributes(group[j], label || \"\");\r\n\t\t}\r\n\t}\r\n};\r\n\r\nscheduler.updateView = function(date, mode) {\r\n\r\n\tif (!this.$container) {\r\n\t\tthrow new Error(\"The scheduler is not initialized. \\n **scheduler.updateView** or **scheduler.setCurrentView** can be called only after **scheduler.init**\");\r\n\t}\r\n\r\n\tdate = date || this._date;\r\n\tmode = mode || this._mode;\r\n\tvar dhx_cal_data = 'dhx_cal_data';\r\n\r\n\tif(!this.locale.labels.icon_form){\r\n\t\tthis.locale.labels.icon_form = this.locale.labels.icon_edit;\r\n\t}\r\n\r\n\tvar container = this._obj;\r\n\tvar oldClass = \"dhx_scheduler_\" + this._mode;\r\n\tvar newClass = \"dhx_scheduler_\" + mode;\r\n\r\n\tif (!this._mode || (container.className.indexOf(oldClass) == -1)){\r\n\t\tcontainer.className += \" \" + newClass;\r\n\t} else {\r\n\t\tcontainer.className = container.className.replace(oldClass, newClass);\r\n\t}\r\n\r\n\tvar dhx_multi_day = 'dhx_multi_day';\r\n\r\n\tvar prev_scroll = (this._mode == mode && this.config.preserve_scroll) ? this._els[dhx_cal_data][0].scrollTop : false; // saving current scroll\r\n\r\n\tvar multidayScroll;\r\n\tif(this._els[dhx_multi_day] && this._els[dhx_multi_day][0]){\r\n\t\tmultidayScroll = this._els[dhx_multi_day][0].scrollTop;\r\n\t}\r\n\r\n\t//hide old custom view\r\n\tif (this[this._mode + \"_view\"] && mode && this._mode != mode)\r\n\t\tthis[this._mode + \"_view\"](false);\r\n\r\n\tthis._close_not_saved();\r\n\r\n\tif (this._els[dhx_multi_day]) {\r\n\t\tthis._els[dhx_multi_day][0].parentNode.removeChild(this._els[dhx_multi_day][0]);\r\n\t\tthis._els[dhx_multi_day] = null;\r\n\t}\r\n\r\n\tthis._mode = mode;\r\n\tthis._date = date;\r\n\tthis._table_view = (this._mode == \"month\");\r\n\r\n\tthis._dy_shift = 0;//correction for multiday section in week/day views\r\n\r\n\t//show new view\r\n\tthis.update_view();\r\n\r\n\tthis._set_aria_buttons_attrs();\r\n\r\n\tvar tabs = this._els[\"dhx_cal_tab\"];\r\n\tif(tabs){//calendar can work without view tabs\r\n\t\tfor (var i = 0; i < tabs.length; i++) {\r\n\t\t\tvar tab = tabs[i];\r\n\r\n\t\t\tif (tab.getAttribute(\"data-tab\") == this._mode || tab.getAttribute(\"name\") == this._mode + \"_tab\"){\r\n\t\t\t\ttab.classList.add(\"active\");\r\n\t\t\t\tthis._waiAria.headerToggleState(tab, true);\r\n\t\t\t}else{\r\n\t\t\t\ttab.classList.remove(\"active\");\r\n\t\t\t\tthis._waiAria.headerToggleState(tab, false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (typeof prev_scroll == \"number\") // if we are updating or working with the same view scrollTop should be saved\r\n\t\tthis._els[dhx_cal_data][0].scrollTop = prev_scroll; // restoring original scroll\r\n\r\n\tif(typeof multidayScroll == \"number\" && this._els[dhx_multi_day] && this._els[dhx_multi_day][0]){\r\n\t\tthis._els[dhx_multi_day][0].scrollTop = multidayScroll;\r\n\t}\r\n\r\n};\r\nscheduler.setCurrentView = function(date, mode) {\r\n\tif (!this.callEvent(\"onBeforeViewChange\", [this._mode, this._date, mode || this._mode, date || this._date])) return;\r\n\tthis.updateView(date, mode);\r\n\tthis.callEvent(\"onViewChange\", [this._mode, this._date]);\r\n};\r\n\r\nscheduler.render = function(date, mode){\r\n\tscheduler.setCurrentView(date, mode);\r\n};\r\n\r\nscheduler._render_x_header = function(i,left,date,container, offset_top){\r\n\toffset_top = offset_top || 0;\r\n\t//header scale\r\n\tvar head=document.createElement(\"div\");\r\n\thead.className = \"dhx_scale_bar\";\r\n\r\n\tif(this.templates[this._mode+\"_scalex_class\"]){\r\n\t\t//'_scalex_class' - timeline already have similar template, use the same name\r\n\t\thead.className += ' ' + this.templates[this._mode+\"_scalex_class\"](date);\r\n\t}\r\n\r\n\tvar width = this._cols[i];\r\n\r\n\tif (this._mode == \"month\" && i === 0 && this.config.left_border) {\r\n\t\thead.className += \" dhx_scale_bar_border\";\r\n\t\tleft = left+1;\r\n\t}\r\n\r\n\tthis.set_xy(head, width, this.xy.scale_height-1, left, offset_top);\r\n\r\n\tvar columnHeaderText = this.templates[this._mode+\"_scale_date\"](date,this._mode); //TODO - move in separate method\r\n\thead.innerHTML = columnHeaderText;\r\n\r\n\tthis._waiAria.dayHeaderAttr(head, columnHeaderText);\r\n\r\n\tcontainer.appendChild(head);\r\n};\r\n\r\nscheduler._get_columns_num = function(from, to){\r\n\tvar count = 7;\r\n\tif (!scheduler._table_view){\r\n\t\tvar count_n = scheduler.date[\"get_\"+scheduler._mode+\"_end\"];\r\n\t\tif (count_n) to = count_n(from);\r\n\t\tcount = Math.round((to.valueOf()-from.valueOf())/(1000*60*60*24));\r\n\t}\r\n\treturn count;\r\n};\r\nscheduler._get_timeunit_start = function(){\r\n\t//start date of currently displayed time unit(day, week,...)\r\n\treturn this.date[this._mode+\"_start\"](new Date(this._date.valueOf()));\r\n};\r\n\r\nscheduler._get_view_end = function(){\r\n\tvar dd = this._get_timeunit_start();\r\n\tvar ed = scheduler.date.add(dd, 1, this._mode);\r\n\tif (!scheduler._table_view){\r\n\t\tvar count_n = scheduler.date[\"get_\"+scheduler._mode+\"_end\"];\r\n\t\tif (count_n) ed = count_n(dd);\r\n\t}\r\n\treturn ed;\r\n};\r\nscheduler._calc_scale_sizes = function(width, from, to){//\r\n\t//calculates number of displayed columns(days/units/month view cols) and their widths\r\n\tvar rtl = this.config.rtl;\r\n\tvar summ = width; //border delta\r\n\tvar count = this._get_columns_num(from, to);\r\n\t//if (this.config.rtl) this._process_ignores(scheduler.date.add(to, -1, \"day\"), count, \"day\", -1);\r\n\t//else\r\n\tthis._process_ignores(from, count, \"day\", 1);\r\n\tvar realcount = count - this._ignores_detected;\r\n\tfor (var i=0; i<count; i++){\r\n\t\tif (this._ignores[i]){\r\n\t\t\tthis._cols[i] = 0;\r\n\t\t\trealcount++;\r\n\t\t} else {\r\n\t\t\tthis._cols[i]=Math.floor(summ/(realcount-i));\r\n\t\t}\r\n\t\tsumm-=this._cols[i];\r\n\t\tthis._colsS[i]=(this._cols[i-1]||0)+(this._colsS[i-1]||(this._table_view?0:(rtl ? this.xy.scroll_width : this.xy.scale_width)));\r\n\t\t//this._colsS[j]=(this._cols[rtl ? j+1 : (i-1)]||0)+(this._colsS[rtl ? j+1 : (i-1)]||(this._table_view?0:(rtl?this.xy.scroll_width:this.xy.scale_width)+2));\r\n\t}\r\n\tthis._colsS['col_length'] = count;\r\n\tthis._colsS[count] = (this._cols[count-1]+this._colsS[count-1]) || 0;\r\n\t//this._colsS[count] = (this._cols[rtl ? 0 : count-1]+this._colsS[rtl ? 0 : count-1]) || 0;\r\n};\r\n\r\nscheduler._set_scale_col_size = function(div, width, left){\r\n\tvar c = this.config;\r\n\tthis.set_xy(div, width, c.hour_size_px*(c.last_hour-c.first_hour), left+this.xy.scale_width + 1, 0);//-1 for border\r\n};\r\n\r\nscheduler._render_scales = function(header, data_area){\r\n\t//render columns in week/units view, or header in month view\r\n\tvar sd = new Date(scheduler._min_date),\r\n\t\ted = new Date(scheduler._max_date),\r\n\t\ttoday = this.date.date_part( scheduler._currentDate());\r\n\r\n\tvar summ = parseInt(header.style.width,10) - 1;\r\n\tvar d = new Date(this._min_date);\r\n\t// if (this.config.rtl) {\r\n\t// \td = new Date(scheduler.date.add(this._max_date, -1, \"day\"));\r\n\t// }\r\n\tvar count = this._get_columns_num(sd, ed);\r\n\tthis._calc_scale_sizes(summ, sd, ed);\r\n\tvar left=0;\r\n\r\n\theader.innerHTML = \"\";\r\n\tfor (var i=0; i<count; i++){\r\n\t\tif (!this._ignores[i]){\r\n\t\t\tthis._render_x_header(i,left,d,header);\r\n\t\t}\r\n\t\tif (!this._table_view){\r\n\t\t\tvar scales=document.createElement(\"div\");\r\n\t\t\tvar cls = \"dhx_scale_holder\";\r\n\t\t\tif (d.valueOf() == today.valueOf()) cls += \" dhx_scale_holder_now\";\r\n\r\n\t\t\tscales.setAttribute(\"data-column-index\", i);\r\n\t\t\tif (this._ignores_detected && this._ignores[i]){\r\n\t\t\t\tcls += \" dhx_scale_ignore\";\r\n\t\t\t}\r\n\r\n\t\t\tfor (let i=this.config.first_hour*1; i < this.config.last_hour; i++) {\r\n\t\t\t\tconst firstHalf = document.createElement(\"div\");\r\n\t\t\t\tfirstHalf.className=\"dhx_scale_time_slot dhx_scale_time_slot_hour_start\";\r\n\t\t\t\tfirstHalf.style.height=this.config.hour_size_px/2+\"px\";\r\n\t\t\t\t\r\n\t\t\t\tlet slotDate = new Date(d.getFullYear(), d.getMonth(), d.getDate(), i, 0);\r\n\t\t\t\tfirstHalf.setAttribute('data-slot-date', this.templates.format_date(slotDate));\r\n\r\n\t\t\t\tlet htmlContent = this.templates.time_slot_text(slotDate);\r\n\t\t\t\tif(htmlContent){\r\n\t\t\t\t\tfirstHalf.innerHTML = htmlContent;\r\n\t\t\t\t}\r\n\t\t\t\tlet cssClass = this.templates.time_slot_class(slotDate);\r\n\t\t\t\tif(cssClass){\r\n\t\t\t\t\tfirstHalf.classList.add(cssClass);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscales.appendChild(firstHalf);\r\n\r\n\t\t\t\tconst secondHalf = document.createElement(\"div\");\r\n\t\t\t\tsecondHalf.className=\"dhx_scale_time_slot\";\r\n\t\t\t\tslotDate = new Date(d.getFullYear(), d.getMonth(), d.getDate(), i, 30);\r\n\t\t\t\tsecondHalf.setAttribute('data-slot-date', this.templates.format_date(slotDate));\r\n\t\t\t\tsecondHalf.style.height=this.config.hour_size_px/2+\"px\";\r\n\t\t\t\thtmlContent = this.templates.time_slot_text(slotDate);\r\n\t\t\t\tif(htmlContent){\r\n\t\t\t\t\tsecondHalf.innerHTML = htmlContent;\r\n\t\t\t\t}\r\n\t\t\t\tcssClass = this.templates.time_slot_class(slotDate);\r\n\t\t\t\tif(cssClass){\r\n\t\t\t\t\tsecondHalf.classList.add(cssClass);\r\n\t\t\t\t}\r\n\t\t\t\tscales.appendChild(secondHalf);\r\n\t\t\t}\r\n\r\n\t\t\tscales.className = cls+\" \"+this.templates.week_date_class(d,today);\r\n\t\t\tthis._waiAria.dayColumnAttr(scales, d);\r\n\t\t\tthis._set_scale_col_size(scales, this._cols[i], left);\r\n\r\n\t\t\tdata_area.appendChild(scales);\r\n\t\t\tthis.callEvent(\"onScaleAdd\",[scales, d]);\r\n\t\t}\r\n\t\tleft+=this._cols[i];\r\n\t\t//if (this.config.rtl) d=this.date.add(d,-1,\"day\");\r\n\t\t//else\r\n\t\td=this.date.add(d,1,\"day\");\r\n\t\td = this.date.day_start(d);\r\n\t}\r\n};\r\n\r\nscheduler._getNavDateElement = function(){\r\n\treturn this.$container.querySelector(\".dhx_cal_date\");\r\n};\r\n\r\nscheduler._reset_scale=function(){\r\n\t//current mode doesn't support scales\r\n\t//we mustn't call reset_scale for such modes, so it just to be sure\r\n\tif (!this.templates[this._mode + \"_date\"]) return;\r\n\r\n\tvar header = this._els[\"dhx_cal_header\"][0];\r\n\tvar data_area = this._els[\"dhx_cal_data\"][0];\r\n\tvar c = this.config;\r\n\r\n\theader.innerHTML = \"\";\r\n\t//data_area.scrollTop = 0; //fix flickering in FF; makes IE8 flicker instead\r\n\tdata_area.innerHTML = \"\";\r\n\r\n\tvar str = ((c.readonly || (!c.drag_resize)) ? \" dhx_resize_denied\" : \"\") + ((c.readonly || (!c.drag_move)) ? \" dhx_move_denied\" : \"\");\r\n\tdata_area.className = \"dhx_cal_data\" + str;\r\n\r\n\tthis._scales = {};\r\n\tthis._cols = [];\t//store for data section\r\n\tthis._colsS = {height: 0};\r\n\tthis._dy_shift = 0;\r\n\r\n\tthis.set_sizes();\r\n\r\n\tvar d,sd;\r\n\tvar dd = this._get_timeunit_start(),\r\n\t\ted = scheduler._get_view_end();\r\n\r\n\td = sd = this._table_view ? scheduler.date.week_start(dd) : dd;\r\n\r\n\r\n\tthis._min_date=d;\r\n\r\n\tvar navBarDateStr = this.templates[this._mode+\"_date\"](dd,ed,this._mode);\r\n\r\n\tvar scaleElement = this._getNavDateElement();\r\n\tif(scaleElement){\r\n\t\tscaleElement.innerHTML = navBarDateStr;\r\n\t\tthis._waiAria.navBarDateAttr(scaleElement, navBarDateStr);\r\n\t}\r\n\r\n\tthis._max_date = ed;\r\n\tscheduler._render_scales(header, data_area);\r\n\r\n\tif (this._table_view) // month view\r\n\t\tthis._reset_month_scale(data_area,dd,sd);\r\n\telse{\r\n\t\tthis._reset_hours_scale(data_area,dd,sd);\r\n\t\tif (c.multi_day) {\r\n\t\t\tvar dhx_multi_day = 'dhx_multi_day';\r\n\r\n\t\t\tif(this._els[dhx_multi_day]) {\r\n\t\t\t\tthis._els[dhx_multi_day][0].parentNode.removeChild(this._els[dhx_multi_day][0]);\r\n\t\t\t\tthis._els[dhx_multi_day] = null;\r\n\t\t\t}\r\n\r\n\t\t\tvar c1 = document.createElement(\"div\");\r\n\t\t\tc1.className = dhx_multi_day;\r\n\t\t\tc1.style.visibility=\"hidden\";\r\n\t\t\tc1.style.display=\"none\";\r\n\t\t\tvar totalWidth = this._colsS[this._colsS.col_length];\r\n\t\t\tvar offset = c.rtl ? this.xy.scale_width : this.xy.scroll_width;\r\n\t\t\tvar hiddenWidth = Math.max(totalWidth + offset, 0);\r\n\t\t\tthis.set_xy(c1, hiddenWidth, 0, 0); // 2 extra borders, dhx_header has -1 bottom margin\r\n\t\t\tdata_area.parentNode.insertBefore(c1,data_area);\r\n\r\n\t\t\tvar c2 = c1.cloneNode(true);\r\n\t\t\tc2.className = dhx_multi_day+\"_icon\";\r\n\t\t\tc2.style.visibility=\"hidden\";\r\n\t\t\tc2.style.display=\"none\";\r\n\t\t\tthis.set_xy(c2, this.xy.scale_width + 1, 0, 0); // dhx_header has -1 bottom margin\r\n\r\n\t\t\tc1.appendChild(c2);\r\n\t\t\tthis._els[dhx_multi_day]=[c1,c2];\r\n\t\t\tscheduler.event(this._els[dhx_multi_day][0], \"click\", this._click.dhx_cal_data);\r\n\t\t}\r\n\t}\r\n};\r\nscheduler._reset_hours_scale=function(b,dd,sd){\r\n\tvar c=document.createElement(\"div\");\r\n\tc.className=\"dhx_scale_holder\";\r\n\r\n\tvar date = new Date(1980,1,1,this.config.first_hour,0,0);\r\n\tfor (var i=this.config.first_hour*1; i < this.config.last_hour; i++) {\r\n\t\tvar cc=document.createElement(\"div\");\r\n\t\tcc.className=\"dhx_scale_hour\";\r\n\t\tcc.style.height=this.config.hour_size_px+\"px\";\r\n\t\tvar width = this.xy.scale_width;\r\n\t\tif (this.config.left_border) {\r\n\t\t\tcc.className += \" dhx_scale_hour_border\";\r\n\t\t}\r\n\t\tcc.style.width = width + \"px\";\r\n\r\n\t\tvar content = scheduler.templates.hour_scale(date);\r\n\t\tcc.innerHTML = content;\r\n\t\tthis._waiAria.hourScaleAttr(cc, content);\r\n\r\n\t\tc.appendChild(cc);\r\n\t\tdate=this.date.add(date,1,\"hour\");\r\n\t}\r\n\tb.appendChild(c);\r\n\tif (this.config.scroll_hour)\r\n\t\tb.scrollTop = this.config.hour_size_px*(this.config.scroll_hour-this.config.first_hour);\r\n};\r\n\r\nscheduler._currentDate = function(){\r\n\tif(scheduler.config.now_date){\r\n\t\treturn new Date(scheduler.config.now_date);\r\n\t}\r\n\treturn new Date();\r\n};\r\n\r\nscheduler._reset_ignores = function(){\r\n\tthis._ignores={};\r\n\tthis._ignores_detected = 0;\r\n};\r\n\r\nscheduler._process_ignores = function(sd, n, mode, step, preserve){\r\n\tthis._reset_ignores();\r\n\tvar ignore = scheduler[\"ignore_\"+this._mode];\r\n\tif (ignore){\r\n\t\tvar ign_date = new Date(sd);\r\n\t\tfor (var i=0; i<n; i++){\r\n\t\t\tif (ignore(ign_date)){\r\n\t\t\t\tthis._ignores_detected += 1;\r\n\t\t\t\tthis._ignores[i] = true;\r\n\t\t\t\tif (preserve)\r\n\t\t\t\t\tn++;\r\n\t\t\t}\r\n\t\t\tign_date = scheduler.date.add(ign_date, step, mode);\r\n\t\t\tif(scheduler.date[mode + '_start'])\r\n\t\t\t\tign_date = scheduler.date[mode + '_start'](ign_date);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nscheduler._render_month_scale = function(div, dd/*month start*/, sd/*view start*/, rows ){\r\n\t//renders month view layout\r\n\r\n\tvar ed=scheduler.date.add(dd,1,\"month\"),\r\n\t\tview_start = new Date(sd);\r\n\tvar cd = scheduler._currentDate();\r\n\tthis.date.date_part(cd);\r\n\tthis.date.date_part(sd);\r\n\r\n\trows = rows || Math.ceil(Math.round((ed.valueOf()-sd.valueOf()) / (60*60*24*1000) ) / 7);\r\n\tvar tdwidths=[];\r\n\r\n\tfor (var i=0; i<=7; i++) {\r\n\t\tvar cell_width = this._cols[i] || 0;\r\n\t\tif(!isNaN(Number(cell_width))){\r\n\t\t\tcell_width = cell_width + \"px\";\r\n\t\t}\r\n\t\ttdwidths[i] = cell_width;\r\n\t}\r\n\r\n\tfunction getCellHeight(row){\r\n\t\tvar h = scheduler._colsS.height;\r\n\t\tif(scheduler._colsS.heights[row + 1] !== undefined ){\r\n\t\t\th = scheduler._colsS.heights[row + 1] - (scheduler._colsS.heights[row]||0);\r\n\t\t}\r\n\t\treturn h;\r\n\t}\r\n\r\n\r\n\tvar cellheight = 0;\r\n\r\n\tconst table = document.createElement(\"div\");\r\n\ttable.classList.add(\"dhx_cal_month_table\");\r\n\r\n\tvar rendered_dates = [];\r\n\tfor (var i=0; i<rows; i++){\r\n\t\tvar row = document.createElement(\"div\");\r\n\t\trow.classList.add(\"dhx_cal_month_row\");\r\n\t\trow.style.height = getCellHeight(i) + \"px\";\r\n\t\ttable.appendChild(row);\r\n\t\t// var row_height = Math.max(getCellHeight(i) - scheduler.xy.month_head_height, 0);\r\n\t\tfor (var j=0; j<7; j++) {\r\n\t\t\tvar cell = document.createElement(\"div\");\r\n\t\t\trow.appendChild(cell);\r\n\r\n\t\t\tvar cls = \"dhx_cal_month_cell\";\r\n\t\t\tif (sd<dd)\r\n\t\t\t\tcls += ' dhx_before';\r\n\t\t\telse if (sd>=ed)\r\n\t\t\t\tcls += ' dhx_after';\r\n\t\t\telse if (sd.valueOf()==cd.valueOf())\r\n\t\t\t\tcls += ' dhx_now';\r\n\r\n\t\t\tif (this._ignores_detected && this._ignores[j]){\r\n\t\t\t\tcls += \" dhx_scale_ignore\";\r\n\t\t\t}\r\n\r\n\t\t\tcell.className = cls + \" \" + this.templates.month_date_class(sd, cd);\r\n\r\n\t\t\tcell.setAttribute(\"data-cell-date\", scheduler.templates.format_date(sd));\r\n\t\t\tvar body_class = \"dhx_month_body\";\r\n\t\t\tvar head_class = \"dhx_month_head\";\r\n\t\t\tif (j === 0 && this.config.left_border) {\r\n\t\t\t\tbody_class += \" dhx_month_body_border\";\r\n\t\t\t\thead_class += \" dhx_month_head_border\";\r\n\t\t\t}\r\n\t\t\tif (!this._ignores_detected || !this._ignores[j]){\r\n\t\t\t\tcell.style.width = tdwidths[j];\r\n\t\t\t\tthis._waiAria.monthCellAttr(cell, sd);\r\n\r\n\t\t\t\tvar cellHead = document.createElement(\"div\");\r\n\t\t\t\tcellHead.style.height = scheduler.xy.month_head_height + \"px\";\r\n\t\t\t\tcellHead.className = head_class;\r\n\t\t\t\tcellHead.innerHTML = this.templates.month_day(sd);\r\n\t\t\t\tcell.appendChild(cellHead);\r\n\r\n\t\t\t\tvar cellBody = document.createElement(\"div\");\r\n\t\t\t\tcellBody.className = body_class;\r\n\t\t\t\t// cellBody.style.height = row_height + \"px\";\r\n\t\t\t\t// cellBody.style.width = tdwidths[j];\r\n\t\t\t\tcell.appendChild(cellBody);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tcell.appendChild(document.createElement(\"div\"));\r\n\t\t\t\tcell.appendChild(document.createElement(\"div\"));\r\n\t\t\t}\r\n\t\t\trendered_dates.push(sd);\r\n\t\t\tvar bf1 = sd.getDate();\r\n\t\t\tsd=this.date.add(sd,1,\"day\");\r\n\t\t\tif (sd.getDate() - bf1 > 1)\r\n\t\t\t\tsd = new Date(sd.getFullYear(), sd.getMonth(), bf1 + 1, 12, 0);\r\n\t\t}\r\n\r\n\t\tscheduler._colsS.heights[i] = cellheight;\r\n\t\tcellheight += getCellHeight(i);\r\n\t}\r\n\r\n\tthis._min_date = view_start;\r\n\tthis._max_date = sd;\r\n\r\n\tdiv.innerHTML = \"\";\r\n\tdiv.appendChild(table);\r\n\r\n\tthis._scales = {};\r\n\tvar cells = div.querySelectorAll('[data-cell-date]');\r\n\tcells.forEach((cell) => {\r\n\t\tconst date = scheduler.templates.parse_date(cell.getAttribute(\"data-cell-date\"));\r\n\t\tconst body = cell.querySelector(\".dhx_month_body\");\r\n\t\tthis._scales[+date] = body;\r\n\t\tthis.callEvent(\"onScaleAdd\", [this._scales[+date], date]);\r\n\t});\r\n\r\n\treturn this._max_date;\r\n};\r\n\r\nscheduler._reset_month_scale=function(b,dd,sd,rows){\r\n\t//recalculates rows height and redraws month layout\r\n\tvar ed=scheduler.date.add(dd,1,\"month\");\r\n\r\n\t//trim time part for comparison reasons\r\n\tvar cd = scheduler._currentDate();\r\n\tthis.date.date_part(cd);\r\n\tthis.date.date_part(sd);\r\n\r\n\trows = rows || Math.ceil(Math.round((ed.valueOf()-sd.valueOf()) / (60*60*24*1000) ) / 7);\r\n\r\n\tvar height = (Math.floor(b.clientHeight/rows) - this.xy.month_head_height);\r\n\r\n\tthis._colsS.height = height + this.xy.month_head_height;\r\n\tthis._colsS.heights = [];\r\n\r\n\treturn scheduler._render_month_scale(b, dd, sd, rows);\r\n\r\n};\r\n\r\nscheduler.getView = function (viewName) {\r\n\tif (!viewName) {\r\n\t\tviewName = scheduler.getState().mode;\r\n\t}\r\n\tif (scheduler.matrix && scheduler.matrix[viewName]) {\r\n\t\treturn scheduler.matrix[viewName];\r\n\t}\r\n\r\n\tif (scheduler._props && scheduler._props[viewName]) {\r\n\t\treturn scheduler._props[viewName];\r\n\t}\r\n\r\n\treturn null;\r\n};\r\n\r\nscheduler.getLabel = function(property, key) {\r\n\tvar sections = this.config.lightbox.sections;\r\n\tfor (var i=0; i<sections.length; i++) {\r\n\t\tif(sections[i].map_to == property) {\r\n\t\t\tvar options = sections[i].options;\r\n\t\t\tfor (var j=0; j<options.length; j++) {\r\n\t\t\t\tif(options[j].key == key) {\r\n\t\t\t\t\treturn options[j].label;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn \"\";\r\n};\r\nscheduler.updateCollection = function(list_name, collection) {\r\n\tvar list = scheduler.serverList(list_name);\r\n\tif (!list) return false;\r\n\tlist.splice(0, list.length);\r\n\tlist.push.apply(list, collection || []);\r\n\tscheduler.callEvent(\"onOptionsLoad\", []);\r\n\tscheduler.resetLightbox();\r\n\tscheduler.hideCover();\r\n\treturn true;\r\n};\r\nscheduler._lame_clone = function(object, cache) {\r\n\tvar i, t, result; // iterator, types array, result\r\n\r\n\tcache = cache || [];\r\n\r\n\tfor (i=0; i<cache.length; i+=2)\r\n\t\tif(object === cache[i])\r\n\t\t\treturn cache[i+1];\r\n\r\n\tif (object && typeof object == \"object\") {\r\n\t\tresult = Object.create(object); // preserve prototype methods\r\n\t\tt = [Array,Date,Number,String,Boolean];\r\n\t\tfor (i=0; i<t.length; i++) {\r\n\t\t\tif (object instanceof t[i])\r\n\t\t\t\tresult = i ? new t[i](object) : new t[i](); // first one is array\r\n\t\t}\r\n\t\tcache.push(object, result);\r\n\t\tfor (i in object) {\r\n\t\t\tif (Object.prototype.hasOwnProperty.apply(object, [i]))\r\n\t\t\t\tresult[i] = scheduler._lame_clone(object[i], cache);\r\n\t\t}\r\n\t}\r\n\treturn result || object;\r\n};\r\nscheduler._lame_copy = function(target, source) {\r\n\tfor (var key in source) {\r\n\t\tif (source.hasOwnProperty(key)) {\r\n\t\t\ttarget[key] = source[key];\r\n\t\t}\r\n\t}\r\n\treturn target;\r\n};\r\nscheduler._get_date_from_pos = function(pos) {\r\n\tvar start=this._min_date.valueOf()+(pos.y*this.config.time_step+(this._table_view?0:pos.x)*24*60)*60000;\r\n\t//if (this.config.rtl) start=scheduler.date.add(this._max_date, -1, \"day\").valueOf()+(pos.y*this.config.time_step-(this._table_view?0:pos.x)*24*60)*60000;\r\n\treturn new Date(this._correct_shift(start));\r\n};\r\n// n_ev - native event\r\nscheduler.getActionData = function(n_ev) {\r\n\tvar pos = this._mouse_coords(n_ev);\r\n\treturn {\r\n\t\tdate:this._get_date_from_pos(pos),\r\n\t\tsection:pos.section\r\n\t};\r\n};\r\nscheduler._focus = function(node, select){\r\n\tif (node && node.focus){\r\n\t\tif (this._mobile){\r\n\t\t\twindow.setTimeout(function(){\r\n\t\t\t\tnode.focus();\r\n\t\t\t},10);\r\n\t\t} else {\r\n\t\t\ttry {\r\n\t\t\t\tif (select && node.select && node.offsetWidth) {\r\n\t\t\t\t\tnode.select();\r\n\t\t\t\t}\r\n\t\t\t\tnode.focus();\r\n\t\t\t} catch (e) {\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction getDaysDifference(startDate, endDate) {\r\n\tconst start = new Date(startDate);\r\n\tconst end = new Date(endDate);\r\n\tconst differenceInTime = end.getTime() - start.getTime();\r\n\tconst differenceInDays = differenceInTime / (1000 * 3600 * 24);\r\n\treturn Math.abs(differenceInDays);\r\n}\r\n\r\n//non-linear scales\r\nscheduler._get_real_event_length=function(startDate, endDate, config){ // config may be a timeline view or a configuration object\r\n\tvar eventLength = endDate - startDate;\r\n\r\n\t// excludedDuration - duration between [00:00, first_hour] and [last_hour, 23:59]\r\n\t// var excludedDuration = (config._start_correction + config._end_correction)||0;\r\n\tvar ignore = this[\"ignore_\"+this._mode];\r\n\r\n\tvar startColumnIndex = 0,\r\n\t\tendColumnIndex;\r\n\tif (config.render){\r\n\t\tstartColumnIndex = this._get_date_index(config, startDate);\r\n\t\tendColumnIndex = this._get_date_index(config, endDate);\r\n\r\n\t\tif(startDate.valueOf() < scheduler.getState().min_date.valueOf()){\r\n\t\t\tstartColumnIndex = -getDaysDifference(startDate, scheduler.getState().min_date);\r\n\t\t}\r\n\t\tif(endDate.valueOf() > scheduler.getState().max_date.valueOf()){\r\n\t\t\tendColumnIndex += getDaysDifference(endDate, scheduler.getState().max_date);\r\n\t\t}\r\n\t} else{\r\n\t\tendColumnIndex = Math.round(eventLength/60/60/1000/24);\r\n\t}\r\n\r\n\tvar last_column = true;\r\n\twhile (startColumnIndex < endColumnIndex){\r\n\t\tvar check = scheduler.date.add(endDate, -config.x_step, config.x_unit);\r\n\t\tif (ignore && ignore(endDate) && (!last_column || (last_column && ignore(check) ))){\r\n\t\t\teventLength -= (endDate-check);\r\n\r\n\t\t}else{\r\n\t\t\tlet excludedDuration = 0;\r\n\t\t\tconst intervalStart = new Date(Math.max(check.valueOf(), startDate.valueOf()));\r\n\t\t\tconst intervalEnd = endDate;\r\n\t\t\tconst leftCellCutOffStart = new Date(intervalStart.getFullYear(), intervalStart.getMonth(), intervalStart.getDate(), config.first_hour);\r\n\t\t\tconst leftCellCutOffEnd = new Date(intervalStart.getFullYear(), intervalStart.getMonth(), intervalStart.getDate(), config.last_hour||24);\r\n\t\t\tconst rightCellCutOffStart = new Date(endDate.getFullYear(), endDate.getMonth(), endDate.getDate(), config.first_hour);\r\n\t\t\tconst rightCellCutOffEnd = new Date(endDate.getFullYear(), endDate.getMonth(), endDate.getDate(), config.last_hour||24);\r\n\r\n\t\t\tif(intervalEnd.valueOf() > rightCellCutOffEnd.valueOf()){\r\n\t\t\t\texcludedDuration += intervalEnd - rightCellCutOffEnd;\r\n\t\t\t}\r\n\r\n\t\t\tif(intervalEnd.valueOf() > rightCellCutOffStart.valueOf()){\r\n\t\t\t\texcludedDuration += config._start_correction;\r\n\t\t\t} else {\r\n\t\t\t\texcludedDuration += intervalEnd.getHours()*60*60*1000 + intervalEnd.getMinutes()*60*1000;\r\n\t\t\t}\r\n\r\n\t\t\tif(intervalStart.valueOf() < leftCellCutOffEnd.valueOf()){\r\n\t\t\t\texcludedDuration += config._end_correction;\r\n\t\t\t}\r\n\r\n\t\t\tif(intervalStart.valueOf() < leftCellCutOffStart.valueOf()){\r\n\t\t\t\texcludedDuration += (leftCellCutOffStart.valueOf() - intervalStart.valueOf());\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\teventLength -= excludedDuration;\r\n\t\t\tlast_column = false;\r\n\t\t}\r\n\t\tendDate = check;\r\n\t\tendColumnIndex--;\r\n\t}\r\n\treturn eventLength;\r\n};\r\nscheduler._get_fictional_event_length=function(end_date, ev_length, obj, back){\r\n\tvar sd = new Date(end_date);\r\n\tvar dir = back ? -1 : 1;\r\n\r\n\t//get difference caused by first|last hour\r\n\tif (obj._start_correction || obj._end_correction){\r\n\t\tvar today;\r\n\t\tif (back)\r\n\t\t\ttoday = (sd.getHours()*60+sd.getMinutes()) - (obj.first_hour||0)*60;\r\n\t\telse\r\n\t\t\ttoday = (obj.last_hour||0)*60 - (sd.getHours()*60+sd.getMinutes());\r\n\t\tvar per_day = (obj.last_hour - obj.first_hour)*60;\r\n\t\tvar days = Math.ceil( (ev_length / (60*1000) - today ) / per_day);\r\n\t\tif(days < 0) days = 0;\r\n\t\tev_length += days * (24*60 - per_day) * 60 * 1000;\r\n\t}\r\n\r\n\tvar fd = new Date(end_date*1+ev_length*dir);\r\n\tvar ignore = this[\"ignore_\"+this._mode];\r\n\r\n\tvar start_slot = 0,\r\n\t\tend_slot;\r\n\tif (obj.render){\r\n\t\tstart_slot = this._get_date_index(obj, sd);\r\n\t\tend_slot = this._get_date_index(obj, fd);\r\n\t} else{\r\n\t\tend_slot = Math.round(ev_length/60/60/1000/24);\r\n\t}\r\n\r\n\twhile (start_slot*dir <= end_slot*dir){\r\n\t\tvar check = scheduler.date.add(sd, obj.x_step*dir, obj.x_unit);\r\n\t\tif (ignore && ignore(sd)){\r\n\t\t\tev_length += (check-sd)*dir;\r\n\t\t\tend_slot += dir;\r\n\t\t}\r\n\r\n\t\tsd = check;\r\n\t\tstart_slot+=dir;\r\n\t}\r\n\r\n\treturn ev_length;\r\n};\r\n\r\nscheduler._get_section_view = function(){\r\n\treturn this.getView();\r\n};\r\n\r\nscheduler._get_section_property = function(){\r\n\tif(this.matrix && this.matrix[this._mode]){\r\n\t\treturn this.matrix[this._mode].y_property;\r\n\t}else if(this._props && this._props[this._mode]){\r\n\t\treturn this._props[this._mode].map_to;\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nscheduler._is_initialized = function(){\r\n\tvar state = this.getState();\r\n\treturn (this._obj && state.date && state.mode);\r\n};\r\nscheduler._is_lightbox_open = function(){\r\n\tvar state = this.getState();\r\n\treturn state.lightbox_id !== null && state.lightbox_id !== undefined;\r\n};\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n\tfunction isAttachedNode(container){\r\n\t\tvar root = document.body;\r\n\t\r\n\t\twhile(container && container != root){\r\n\t\t\tcontainer = container.parentNode;\r\n\t\t}\r\n\t\r\n\t\treturn !!(root == container);\r\n\t}\r\n\t\r\n\tfunction getWindowSize(window){\r\n\t\treturn {\r\n\t\t\tw : window.innerWidth || document.documentElement.clientWidth,\r\n\t\t\th : window.innerHeight || document.documentElement.clientHeight\r\n\t\t};\r\n\t}\r\n\tfunction equals(a,b){\r\n\t\treturn a.w == b.w && a.h == b.h;\r\n\t}\r\n\t\r\n\tfunction listenWindowResize(scheduler, window){\r\n\t\tvar oldSize = getWindowSize(window);\r\n\t\tvar resizeDelay;\r\n\t\tscheduler.event(window, \"resize\", function(){\r\n\t\t\tclearTimeout(resizeDelay);\r\n\t\t\tresizeDelay = setTimeout(function(){\r\n\r\n\t\t\t\tif (!isAttachedNode(scheduler.$container) || scheduler.$destroyed){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar newSize = getWindowSize(window);\r\n\t\t\t\t// element may be resized by container-autoresize exteinsion\r\n\t\t\t\t// check if the size is actually changed in order to not to get endless loop\r\n\t\t\t\tif (!equals(oldSize, newSize)) {\r\n\t\t\t\t\toldSize = newSize;\r\n\t\t\t\t\ttriggerSchedulerResize(scheduler);\r\n\t\t\t\t}\r\n\t\t\t}, 150);\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction triggerSchedulerResize(scheduler){\r\n\t\tif(scheduler.$destroyed || !scheduler.$root || !isAttachedNode(scheduler.$root)){\r\n\t\t\treturn;\t\r\n\t\t}\r\n\t\tif (scheduler.callEvent(\"onSchedulerResize\", [])) {\r\n\t\t\tscheduler.updateView();\r\n\t\t\tscheduler.callEvent(\"onAfterSchedulerResize\", []);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction watchNodeResize(scheduler){\r\n\t\tvar previousHeight = scheduler.$root.offsetHeight;\r\n\t\tvar previousWidth = scheduler.$root.offsetWidth;\r\n\t\t\r\n\t\tfunction lowlevelResizeWatcher(){\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn;\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(scheduler.$root){\r\n\t\t\t\tif (scheduler.$root.offsetHeight != previousHeight ||\r\n\t\t\t\t\tscheduler.$root.offsetWidth != previousWidth){\r\n\t\t\t\t\ttriggerSchedulerResize(scheduler);\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tpreviousHeight = scheduler.$root.offsetHeight;\r\n\t\t\t\tpreviousWidth = scheduler.$root.offsetWidth;\r\n\t\t\t}\r\n\t\r\n\t\t\tsetTimeout(lowlevelResizeWatcher, 200);\r\n\t\t}\r\n\t\t\r\n\t\tlowlevelResizeWatcher();\r\n\t}\r\n\t\r\n\tfunction addResizeListener(scheduler){\r\n\t\tvar root = scheduler.$container;\r\n\t\tvar containerStyles = window.getComputedStyle(root);\r\n\t\tif(containerStyles.getPropertyValue(\"position\") == \"static\"){\r\n\t\t\troot.style.position = \"relative\";\r\n\t\t}\r\n\t\r\n\t\tvar resizeWatcher = document.createElement('iframe');\r\n\t\tresizeWatcher.className = \"scheduler_container_resize_watcher\";\r\n\t\tresizeWatcher.tabIndex = -1;\r\n\t\tif(scheduler.config.wai_aria_attributes){\r\n\t\t\tresizeWatcher.setAttribute(\"role\", \"none\");\r\n\t\t\tresizeWatcher.setAttribute(\"aria-hidden\", true);\r\n\t\t}\r\n\t\r\n\t\t// in some environments (namely, in SalesForce) iframe.contentWindow is not available\r\n\t\tvar salesforce_environment = !!window[\"Sfdc\"] || !!window[\"$A\"] || window[\"Aura\"];\r\n\t\tif(salesforce_environment){\r\n\t\t\twatchNodeResize(scheduler);\r\n\t\t} else {\r\n\t\t\troot.appendChild(resizeWatcher);\r\n\t\t\tif (resizeWatcher.contentWindow) {\r\n\t\t\t\tlistenWindowResize(scheduler, resizeWatcher.contentWindow);\r\n\t\t\t} else {\r\n\t\t\t\t// if so - ditch the iframe and fallback to listening the main window resize\r\n\t\t\t\troot.removeChild(resizeWatcher);\r\n\t\t\t\tlistenWindowResize(scheduler, window);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\taddResizeListener(scheduler);\r\n\r\n}","export default function(scheduler){\r\n\treturn function assert(check, message){\r\n\t\tif (!check){\r\n\t\t\tif(scheduler.config.show_errors && scheduler.callEvent(\"onError\",[message]) !== false) {\r\n\t\t\t\tif (scheduler.message) {\r\n\t\t\t\t\tscheduler.message({type: \"error\", text: message, expire: -1});\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\tconsole.log(message);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// eslint-disable-next-line no-debugger\r\n\t\t\t\tdebugger;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}","export default function extend(scheduler) {\r\n\r\nif (window.jQuery){\r\n\r\n(function( $ ){\r\n\tvar counter = 0;\r\n\tvar methods = [];\r\n\t$.fn.dhx_scheduler = function(config){\r\n\t\tif (typeof(config) === 'string') {\r\n\t\t\tif (methods[config] ) {\r\n\t\t\t\treturn methods[config].apply(this, []);\r\n\t\t\t}else {\r\n\t\t\t\t$.error('Method ' +  config + ' does not exist on jQuery.dhx_scheduler');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar views = [];\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tif (this && this.getAttribute){\r\n\t\t\t\t\tif (!this.getAttribute(\"dhxscheduler\")){\r\n\t\t\t\t\t\tvar name = \"scheduler\";\r\n\t\t\t\t\t\tif (counter){\r\n\t\t\t\t\t\t\tname = \"scheduler\" + (counter+1);\r\n\t\t\t\t\t\t\twindow[name] = Scheduler.getSchedulerInstance();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar comp  = window[name];\r\n\r\n\t\t\t\t\t\tthis.setAttribute(\"dhxscheduler\", name);\r\n\t\t\t\t\t\tfor (var key in config)\r\n\t\t\t\t\t\t\tif (key!=\"data\")\r\n\t\t\t\t\t\t\t\tcomp.config[key] = config[key];\r\n\r\n\t\t\t\t\t\tif (!this.getElementsByTagName(\"div\").length){\r\n\t\t\t\t\t\t\tthis.innerHTML = '<div class=\"dhx_cal_navline\"><div class=\"dhx_cal_prev_button\"></div><div class=\"dhx_cal_next_button\"></div><div class=\"dhx_cal_today_button\"></div><div class=\"dhx_cal_date\"></div><div class=\"dhx_cal_tab\" name=\"day_tab\" data-tab=\"day\" style=\"right:204px;\"></div><div class=\"dhx_cal_tab\" name=\"week_tab\" data-tab=\"week\" style=\"right:140px;\"></div><div class=\"dhx_cal_tab\" name=\"month_tab\" data-tab=\"month\" style=\"right:76px;\"></div></div><div class=\"dhx_cal_header\"></div><div class=\"dhx_cal_data\"></div>';\r\n\t\t\t\t\t\t\tthis.className += \" dhx_cal_container\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcomp.init(this, comp.config.date, comp.config.mode);\r\n\t\t\t\t\t\tif (config.data)\r\n\t\t\t\t\t\t\tcomp.parse(config.data);\r\n\r\n\t\t\t\t\t\tviews.push(comp);\r\n\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t} else\r\n\t\t\t\t\t\tviews.push(window[this.getAttribute(\"dhxscheduler\")]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (views.length === 1) return views[0];\r\n\t\t\treturn views;\r\n\t\t}\r\n\t};\r\n\r\n\r\n\r\n\r\n})(window.jQuery);\r\n\r\n}\r\n\r\n}","export default function extend(scheduler) {\r\n\r\nscheduler.destructor = function(){\r\n\tscheduler.callEvent(\"onDestroy\", []);\r\n\tthis.clearAll();\r\n\r\n\tif(this.$container){\r\n\t\t// FIXME: clear container or remove container\r\n\t\tthis.$container.innerHTML = \"\";\r\n\t\t// scheduler.$domHelpers.remove(this.$container);\r\n\t}\r\n\r\n\tif(this._eventRemoveAll){\r\n\t\tthis._eventRemoveAll();\r\n\t}\r\n\r\n\tif(this.resetLightbox){\r\n\t\tthis.resetLightbox();\r\n\t}\r\n\r\n\tif(this._dp && this._dp.destructor){\r\n\t\tthis._dp.destructor();\r\n\t}\r\n\r\n\t// detachAllEvents should be called last, because in components may be attached events\r\n\tthis.detachAllEvents();\r\n\r\n\tfor(var i in this){\r\n\t\tif(i.indexOf(\"$\") === 0){\r\n\t\t\tdelete this[i];\r\n\t\t}\r\n\t}\r\n\tscheduler.$destroyed = true;\r\n};\r\n\r\n}","import serialize from \"../common/url_serialize.js\";\r\n\r\nexport default function extend(scheduler) {\r\n\r\nscheduler.Promise = window.Promise; \r\n\r\nfunction createConfig(method, args) {\r\n\tvar result = {\r\n\t\tmethod: method\r\n\t};\r\n\r\n\tif (args.length === 0) {\r\n\t\tthrow new Error(\"Arguments list of query is wrong.\");\r\n\t}\r\n\tif (args.length === 1) {\r\n\t\tif (typeof args[0] === \"string\") {\r\n\t\t\tresult.url = args[0];\r\n\t\t\tresult.async = true;\r\n\t\t} else {\r\n\t\t\tresult.url = args[0].url;\r\n\t\t\tresult.async = (args[0].async || true);\r\n\t\t\tresult.callback = args[0].callback;\r\n\t\t\tresult.headers = args[0].headers;\r\n\t\t}\r\n\t\tif (method === \"POST\" || \"PUT\") {\r\n\t\t\tif (args[0].data) {\r\n\t\t\t\tif (typeof args[0].data !== \"string\") {\r\n\t\t\t\t\tresult.data = serialize(args[0].data);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.data = args[0].data;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tresult.data = \"\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tresult.url = args[0];\r\n\tswitch(method) {\r\n\t\tcase \"GET\":\r\n\t\tcase \"DELETE\":\r\n\t\t\tresult.callback = args[1];\r\n\t\t\tresult.headers = args[2];\r\n\t\tbreak;\r\n\t\tcase \"POST\":\r\n\t\tcase \"PUT\":\r\n\t\t\tif (args[1]) {\r\n\t\t\t\tif (typeof args[1] !== \"string\") {\r\n\t\t\t\t\tresult.data = serialize(args[1]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.data = args[1];\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tresult.data = \"\";\r\n\t\t\t}\r\n\t\t\tresult.callback = args[2];\r\n\t\t\tresult.headers = args[3];\r\n\t\tbreak;\r\n\t}\r\n\treturn result;\r\n}\r\nscheduler.ajax = {\r\n\t// if false - dhxr param will added to prevent caching on client side (default),\r\n\t// if true - do not add extra params\r\n\tcache: true,\r\n\r\n\t// default method for load/loadStruct, post/get allowed\r\n\tmethod: \"get\",\r\n\r\n\tserializeRequestParams: serialize,\r\n\tparse: function(data) {\r\n\t\tif (typeof data !== \"string\") return data;\r\n\r\n\t\tvar obj;\r\n\t\tdata = data.replace(/^[\\s]+/,\"\");\r\n\t\tif (typeof DOMParser !== \"undefined\" && !scheduler.$env.isIE) { // ff,ie9\r\n\t\t\tobj = (new DOMParser()).parseFromString(data, \"text/xml\");\r\n\t\t} else if (typeof window.ActiveXObject !== \"undefined\") {\r\n\t\t\tobj = new window.ActiveXObject(\"Microsoft.XMLDOM\");\r\n\t\t\tobj.async = \"false\";\r\n\t\t\tobj.loadXML(data);\r\n\t\t}\r\n\t\treturn obj;\r\n\t},\r\n\txmltop: function(tagname, xhr, obj) {\r\n\t\tif (typeof xhr.status == \"undefined\" || xhr.status < 400) {\r\n\t\t\tvar xml = (!xhr.responseXML) ? this.parse(xhr.responseText || xhr) : (xhr.responseXML || xhr);\r\n\t\t\tif (xml && xml.documentElement !== null && !xml.getElementsByTagName(\"parsererror\").length) {\r\n\t\t\t\treturn xml.getElementsByTagName(tagname)[0];\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (obj !== -1) scheduler.callEvent(\"onLoadXMLError\",[\"Incorrect XML\", arguments[1], obj]);\r\n\t\treturn document.createElement(\"DIV\");\r\n\t},\r\n\txpath: function(xpathExp, docObj) {\r\n\t\tif (!docObj.nodeName) docObj = docObj.responseXML || docObj;\r\n\t\tif (scheduler.$env.isIE) {\r\n\t\t\treturn docObj.selectNodes(xpathExp)||[];\r\n\t\t} else {\r\n\t\t\tvar rows = [];\r\n\t\t\tvar first;\r\n\t\t\tvar col = (docObj.ownerDocument||docObj).evaluate(xpathExp, docObj, null, XPathResult.ANY_TYPE, null);\r\n\r\n\t\t\twhile (true){\r\n\t\t\t\tfirst = col.iterateNext();\r\n\t\t\t\tif(first){\r\n\t\t\t\t\trows.push(first);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn rows;\r\n\t\t}\r\n\t},\r\n\tquery: function(config) {\r\n\t\treturn this._call(\r\n\t\t\t(config.method || \"GET\"),\r\n\t\t\tconfig.url,\r\n\t\t\tconfig.data || \"\",\r\n\t\t\t(config.async || true),\r\n\t\t\tconfig.callback,\r\n\t\t\tconfig.headers\r\n\t\t);\r\n\t},\r\n\tget: function(url, onLoad, headers) {\r\n\t\tvar config = createConfig(\"GET\", arguments);\r\n\t\treturn this.query(config);\r\n\t},\r\n\tgetSync: function(url, headers) {\r\n\t\tvar config = createConfig(\"GET\", arguments);\r\n\t\tconfig.async = false;\r\n\t\treturn this.query(config);\r\n\t},\r\n\tput: function(url, postData, onLoad, headers) {\r\n\t\tvar config = createConfig(\"PUT\", arguments);\r\n\t\treturn this.query(config);\r\n\t},\r\n\tdel: function(url, onLoad, headers) {\r\n\t\t/**\r\n\t\t * https://tools.ietf.org/html/rfc7231#section-4.3.5\r\n\t\t * A payload within a DELETE request message has no defined semantics;\r\n\t\t * sending a payload body on a DELETE request might cause some existing\r\n\t\t * implementations to reject the request.\r\n\t\t */\r\n\t\tvar config = createConfig(\"DELETE\", arguments);\r\n\t\treturn this.query(config);\r\n\t},\r\n\tpost: function(url, postData, onLoad, headers) {\r\n\t\tif (arguments.length == 1) {\r\n\t\t\tpostData = \"\";\r\n\t\t} else if (arguments.length == 2 && typeof(postData) == \"function\") {\r\n\t\t\tonLoad = postData;\r\n\t\t\tpostData = \"\";\r\n\t\t}\r\n\t\tvar config = createConfig(\"POST\", arguments);\r\n\t\treturn this.query(config);\r\n\t},\r\n\tpostSync: function(url, postData, headers) {\r\n\t\tpostData = (postData === null ? \"\" : String(postData));\r\n\r\n\t\tvar config = createConfig(\"POST\", arguments);\r\n\t\tconfig.async = false;\r\n\t\treturn this.query(config);\r\n\t},\r\n\t_call: function(method, url, postData, async, onLoad, headers) {\r\n\t\treturn new scheduler.Promise((function(resolve, reject) {\r\n\t\t\tvar t = (typeof XMLHttpRequest !== undefined && !scheduler.$env.isIE ? new XMLHttpRequest() : new window.ActiveXObject(\"Microsoft.XMLHTTP\"));\r\n\t\t\tvar isQt = (navigator.userAgent.match(/AppleWebKit/) !== null && navigator.userAgent.match(/Qt/) !== null && navigator.userAgent.match(/Safari/) !== null);\r\n\r\n\t\t\tif (!!async) {\r\n\t\t\t\tt.addEventListener(\"readystatechange\", function() {\r\n\t\t\t\t\tif ((t.readyState == 4) || (isQt && t.readyState == 3)) { // what for long response and status 404?\r\n\t\t\t\t\t\tif (t.status != 200 || t.responseText === \"\")\r\n\t\t\t\t\t\t\tif (!scheduler.callEvent(\"onAjaxError\", [t])) return;\r\n\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\tif (typeof(onLoad) == \"function\") {\r\n\t\t\t\t\t\t\t\tonLoad.apply(window, [{xmlDoc:t, filePath:url}]); // dhtmlx-compat, response.xmlDoc.responseXML/responseText\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tresolve(t);\r\n\t\t\t\t\t\t\tif (typeof(onLoad) == \"function\") {\r\n\t\t\t\t\t\t\t\tonLoad = null;\r\n\t\t\t\t\t\t\t\tt = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (method == \"GET\" && !this.cache) {\r\n\t\t\t\turl += (url.indexOf(\"?\")>=0?\"&\":\"?\")+\"dhxr\"+new Date().getTime()+\"=1\";\r\n\t\t\t}\r\n\r\n\t\t\tt.open(method, url, async);\r\n\r\n\t\t\tif (headers){\r\n\t\t\t\tfor (var key in headers)\r\n\t\t\t\t\tt.setRequestHeader(key, headers[key]);\r\n\t\t\t} else if (method.toUpperCase() == \"POST\" || method == \"PUT\" || method == \"DELETE\") {\r\n\t\t\t\tt.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n\t\t\t} else if (method == \"GET\") {\r\n\t\t\t\tpostData = null;\r\n\t\t\t}\r\n\r\n\t\t\tt.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n\r\n\t\t\tt.send(postData);\r\n\r\n\t\t\tif (!async) return {xmlDoc:t, filePath:url}; // dhtmlx-compat, response.xmlDoc.responseXML/responseText\r\n\t\t}.bind(this)));\r\n\t},\r\n\turlSeparator: function(str){\r\n\t\tif (str.indexOf(\"?\") != -1)\r\n\t\t\treturn \"&\";\r\n\t\telse\r\n\t\t\treturn \"?\";\r\n\t}\r\n};\r\n\r\nscheduler.$ajax = scheduler.ajax; // for old\r\n\r\n}","export default function extend(scheduler) {\r\n\r\nvar generateStringToDate = function (format, utc) {\r\n\tvar splt = \"var temp=date.match(/[a-zA-Z]+|[0-9]+/g);\";\r\n\tvar mask = format.match(/%[a-zA-Z]/g);\r\n\tfor (var i = 0; i < mask.length; i++) {\r\n\t\tswitch (mask[i]) {\r\n\t\t\tcase \"%j\":\r\n\t\t\tcase \"%d\": splt += \"set[2]=temp[\" + i + \"]||1;\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%n\":\r\n\t\t\tcase \"%m\": splt += \"set[1]=(temp[\" + i + \"]||1)-1;\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%y\": splt += \"set[0]=temp[\" + i + \"]*1+(temp[\" + i + \"]>50?1900:2000);\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%g\":\r\n\t\t\tcase \"%G\":\r\n\t\t\tcase \"%h\":\r\n\t\t\tcase \"%H\":\r\n\t\t\t\tsplt += \"set[3]=temp[\" + i + \"]||0;\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%i\":\r\n\t\t\t\tsplt += \"set[4]=temp[\" + i + \"]||0;\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%Y\": splt += \"set[0]=temp[\" + i + \"]||0;\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%a\":\r\n\t\t\tcase \"%A\": splt += \"set[3]=set[3]%12+((temp[\" + i + \"]||'').toLowerCase()=='am'?0:12);\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%s\": splt += \"set[5]=temp[\" + i + \"]||0;\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%M\": splt += \"set[1]=this.locale.date.month_short_hash[temp[\" + i + \"]]||0;\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"%F\": splt += \"set[1]=this.locale.date.month_full_hash[temp[\" + i + \"]]||0;\";\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tvar code = \"set[0],set[1],set[2],set[3],set[4],set[5]\";\r\n\tif (utc) code = \" Date.UTC(\" + code + \")\";\r\n\treturn new Function(\"date\", \"var set=[0,0,1,0,0,0]; \" + splt + \" return new Date(\" + code + \");\");\r\n};\r\nvar csp_date_to_str = function (format, utc) {\r\n\treturn function(date) {\r\n\t\treturn format.replace(/%[a-zA-Z]/g, function (a) {\r\n\t\t\tswitch (a) {\r\n\t\t\t\tcase \"%d\": return utc ? scheduler.date.to_fixed(date.getUTCDate()) : scheduler.date.to_fixed(date.getDate());\r\n\t\t\t\tcase \"%m\": return utc ? scheduler.date.to_fixed((date.getUTCMonth() + 1)) : scheduler.date.to_fixed((date.getMonth() + 1));\r\n\t\t\t\tcase \"%j\": return utc ? date.getUTCDate() : date.getDate();\r\n\t\t\t\tcase \"%n\": return utc ? (date.getUTCMonth() + 1) : (date.getMonth() + 1);\r\n\t\t\t\tcase \"%y\": return utc ? scheduler.date.to_fixed(date.getUTCFullYear() % 100) : scheduler.date.to_fixed(date.getFullYear() % 100);\r\n\t\t\t\tcase \"%Y\": return utc ? date.getUTCFullYear() : date.getFullYear();\r\n\t\t\t\tcase \"%D\": return utc ? scheduler.locale.date.day_short[date.getUTCDay()] : scheduler.locale.date.day_short[date.getDay()];\r\n\t\t\t\tcase \"%l\": return utc ? scheduler.locale.date.day_full[date.getUTCDay()] : scheduler.locale.date.day_full[date.getDay()];\r\n\t\t\t\tcase \"%M\": return utc ? scheduler.locale.date.month_short[date.getUTCMonth()] : scheduler.locale.date.month_short[date.getMonth()];\r\n\t\t\t\tcase \"%F\": return utc ? scheduler.locale.date.month_full[date.getUTCMonth()] : scheduler.locale.date.month_full[date.getMonth()];\r\n\t\t\t\tcase \"%h\": return utc ? scheduler.date.to_fixed((date.getUTCHours() + 11) % 12 + 1) : scheduler.date.to_fixed((date.getHours() + 11) % 12 + 1);\r\n\t\t\t\tcase \"%g\": return utc ? ((date.getUTCHours() + 11) % 12 + 1) : ((date.getHours() + 11) % 12 + 1);\r\n\t\t\t\tcase \"%G\": return utc ? date.getUTCHours() : date.getHours();\r\n\t\t\t\tcase \"%H\": return utc ? scheduler.date.to_fixed(date.getUTCHours()) : scheduler.date.to_fixed(date.getHours());\r\n\t\t\t\tcase \"%i\": return utc ? scheduler.date.to_fixed(date.getUTCMinutes()) : scheduler.date.to_fixed(date.getMinutes());\r\n\t\t\t\tcase \"%a\": return utc ? (date.getUTCHours() > 11 ? \"pm\" : \"am\") : (date.getHours() > 11 ? \"pm\" : \"am\");\r\n\t\t\t\tcase \"%A\": return utc ? (date.getUTCHours() > 11 ? \"PM\" : \"AM\") : (date.getHours() > 11 ? \"PM\" : \"AM\");\r\n\t\t\t\tcase \"%s\": return utc ? scheduler.date.to_fixed(date.getUTCSeconds()) : scheduler.date.to_fixed(date.getSeconds());\r\n\t\t\t\tcase \"%W\": return utc ? scheduler.date.to_fixed(scheduler.date.getUTCISOWeek(date)) : scheduler.date.to_fixed(scheduler.date.getISOWeek(date));\r\n\t\t\t\tdefault: return a;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n};\r\nvar csp_str_to_date = function (format, utc) {\r\n\tconst mask = format.match(/%[a-zA-Z]/g);\r\n\treturn function (date){\r\n\t\tvar set = [0, 0, 1, 0, 0, 0];\r\n\t\tvar temp = date.match(/[a-zA-Z]+|[0-9]+/g);\r\n\r\n\t\tfor (var i = 0; i < mask.length; i++) {\r\n\t\t\tswitch (mask[i]) {\r\n\t\t\t\tcase \"%j\":\r\n\t\t\t\tcase \"%d\":\r\n\t\t\t\t\tset[2] = temp[i] || 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%n\":\r\n\t\t\t\tcase \"%m\":\r\n\t\t\t\t\tset[1] = (temp[i] || 1) - 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%y\":\r\n\t\t\t\t\tset[0] = temp[i] * 1 + (temp[i] > 50 ? 1900 : 2000);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%g\":\r\n\t\t\t\tcase \"%G\":\r\n\t\t\t\tcase \"%h\":\r\n\t\t\t\tcase \"%H\":\r\n\t\t\t\t\tset[3] = temp[i] || 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%i\":\r\n\t\t\t\t\tset[4] = temp[i] || 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%Y\":\r\n\t\t\t\t\tset[0] = temp[i] || 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%a\":\r\n\t\t\t\tcase \"%A\":\r\n\t\t\t\t\tset[3] = set[3] % 12 + ((temp[i] || '').toLowerCase() == 'am' ? 0 : 12);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%s\":\r\n\t\t\t\t\tset[5] = temp[i] || 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%M\":\r\n\t\t\t\t\tset[1] = scheduler.locale.date.month_short_hash[temp[i]] || 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"%F\":\r\n\t\t\t\t\tset[1] = scheduler.locale.date.month_full_hash[temp[i]] || 0;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (utc) {\r\n\t\t\treturn new Date(Date.UTC(set[0], set[1], set[2], set[3], set[4], set[5]));\r\n\t\t}\r\n\r\n\t\treturn new Date(set[0], set[1], set[2], set[3], set[4], set[5]);\r\n\t};\r\n};\r\n\r\nlet cspEnabled = undefined;\r\nfunction checkIfCSPEnabled(){\r\n\ttry {\r\n\t\tnew Function(\"cspEnabled = false;\");\r\n\t\tcspEnabled = false;\r\n\t} catch(e) {\r\n\t\tcspEnabled = true;\r\n\t}\r\n\treturn cspEnabled;\r\n}\r\n\r\nfunction useCsp() {\r\n\tvar result = false;\r\n\tif (scheduler.config.csp === \"auto\") {\r\n\t\tif(cspEnabled === undefined){\r\n\t\t\tcspEnabled = checkIfCSPEnabled();\r\n\t\t}\r\n\t\tresult = cspEnabled;\r\n\t} else {\r\n\t\tresult = scheduler.config.csp;\r\n\t}\r\n\treturn result;\r\n}\r\nscheduler.date = {\r\n\tinit:function(){\r\n\t\tvar s = scheduler.locale.date.month_short;\r\n\t\tvar t = scheduler.locale.date.month_short_hash = {};\r\n\t\tfor (var i = 0; i < s.length; i++)\r\n\t\t\tt[s[i]]=i;\r\n\r\n\t\tvar s = scheduler.locale.date.month_full;\r\n\t\tvar t = scheduler.locale.date.month_full_hash = {};\r\n\t\tfor (var i = 0; i < s.length; i++)\r\n\t\t\tt[s[i]]=i;\r\n\t},\r\n\tdate_part:function(date){\r\n\t\tvar old = new Date(date);\r\n\t\tdate.setHours(0);\r\n\t\tdate.setMinutes(0);\r\n\t\tdate.setSeconds(0);\r\n\t\tdate.setMilliseconds(0);\r\n\t\tif (date.getHours() && //shift to yesterday on dst\r\n\t\t\t(date.getDate() < old.getDate() || date.getMonth() < old.getMonth() || date.getFullYear() < old.getFullYear()) )\r\n\t\t\tdate.setTime(date.getTime() + 60 * 60 * 1000 * (24 - date.getHours()));\r\n\t\treturn date;\r\n\t},\r\n\ttime_part:function(date){\r\n\t\treturn (date.valueOf()/1000 - date.getTimezoneOffset()*60)%86400;\r\n\t},\r\n\tweek_start:function(date){\r\n\t\tvar shift=date.getDay();\r\n\t\tif (scheduler.config.start_on_monday){\r\n\t\t\tif (shift===0) shift=6;\r\n\t\t\telse shift--;\r\n\t\t}\r\n\t\treturn this.date_part(this.add(date,-1*shift,\"day\"));\r\n\t},\r\n\tmonth_start:function(date){\r\n\t\tdate.setDate(1);\r\n\t\treturn this.date_part(date);\r\n\t},\r\n\tyear_start:function(date){\r\n\t\tdate.setMonth(0);\r\n\t\treturn this.month_start(date);\r\n\t},\r\n\tday_start:function(date){\r\n\t\treturn this.date_part(date);\r\n\t},\r\n\t_add_days:function(date, inc){\r\n\t\tvar ndate = new Date(date.valueOf());\r\n\r\n\t\tndate.setDate(ndate.getDate() + inc);\r\n\r\n\t\t// Workaround for Safari/iOS timezone bug, ref:OKZ-149693\r\n\t\tif(inc == Math.round(inc) && inc > 0){\r\n\t\t\tvar datesDiff = +ndate - +date,\r\n\t\t\t\trest = datesDiff % (24*60*60*1000);\r\n\t\t\tif(rest && date.getTimezoneOffset() == ndate.getTimezoneOffset()){\r\n\t\t\t\tvar hours = rest / (60* 60 * 1000);\r\n\t\t\t\tndate.setTime(ndate.getTime() + (24 - hours) * 60 * 60 * 1000);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (inc >= 0 && (!date.getHours() && ndate.getHours()) &&//shift to yesterday on dst\r\n\t\t\t(ndate.getDate() < date.getDate() || ndate.getMonth() < date.getMonth() || ndate.getFullYear() < date.getFullYear()) )\r\n\t\t\tndate.setTime(ndate.getTime() + 60 * 60 * 1000 * (24 - ndate.getHours()));\r\n\t\treturn ndate;\r\n\t},\r\n\tadd:function(date,inc,mode){\r\n\t\tvar ndate=new Date(date.valueOf());\r\n\t\tswitch(mode){\r\n\t\t\tcase \"day\":\r\n\t\t\t\tndate = scheduler.date._add_days(ndate, inc);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"week\":\r\n\t\t\t\tndate = scheduler.date._add_days(ndate, inc * 7);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"month\": ndate.setMonth(ndate.getMonth()+inc); break;\r\n\t\t\tcase \"year\": ndate.setYear(ndate.getFullYear()+inc); break;\r\n\t\t\tcase \"hour\":\r\n\t\t\t\t/*\r\n\t\t\t\t setHour(getHour() + inc) and setMinutes gives weird result when is applied on a Daylight Saving time switch\r\n\t\t\t\t setTime seems working as expected\r\n\t\t\t\t*/\r\n\t\t\t\tndate.setTime(ndate.getTime() + inc * 60 * 60 * 1000);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"minute\":\r\n\t\t\t\tndate.setTime(ndate.getTime() + inc * 60 * 1000);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\treturn scheduler.date[\"add_\"+mode](date,inc,mode);\r\n\t\t}\r\n\t\treturn ndate;\r\n\t},\r\n\tto_fixed:function(num){\r\n\t\tif (num<10)\treturn \"0\"+num;\r\n\t\treturn num;\r\n\t},\r\n\tcopy:function(date){\r\n\t\treturn new Date(date.valueOf());\r\n\t},\r\n\tdate_to_str:function(format,utc){\r\n\t\tif (useCsp()) {\r\n\t\t\treturn csp_date_to_str(format,utc);\r\n\t\t}\r\n\r\n\t\tformat=format.replace(/%[a-zA-Z]/g,function(a){\r\n\t\t\tswitch(a){\r\n\t\t\t\tcase \"%d\": return \"\\\"+this.date.to_fixed(date.getDate())+\\\"\";\r\n\t\t\t\tcase \"%m\": return \"\\\"+this.date.to_fixed((date.getMonth()+1))+\\\"\";\r\n\t\t\t\tcase \"%j\": return \"\\\"+date.getDate()+\\\"\";\r\n\t\t\t\tcase \"%n\": return \"\\\"+(date.getMonth()+1)+\\\"\";\r\n\t\t\t\tcase \"%y\": return \"\\\"+this.date.to_fixed(date.getFullYear()%100)+\\\"\";\r\n\t\t\t\tcase \"%Y\": return \"\\\"+date.getFullYear()+\\\"\";\r\n\t\t\t\tcase \"%D\": return \"\\\"+this.locale.date.day_short[date.getDay()]+\\\"\";\r\n\t\t\t\tcase \"%l\": return \"\\\"+this.locale.date.day_full[date.getDay()]+\\\"\";\r\n\t\t\t\tcase \"%M\": return \"\\\"+this.locale.date.month_short[date.getMonth()]+\\\"\";\r\n\t\t\t\tcase \"%F\": return \"\\\"+this.locale.date.month_full[date.getMonth()]+\\\"\";\r\n\t\t\t\tcase \"%h\": return \"\\\"+this.date.to_fixed((date.getHours()+11)%12+1)+\\\"\";\r\n\t\t\t\tcase \"%g\": return \"\\\"+((date.getHours()+11)%12+1)+\\\"\";\r\n\t\t\t\tcase \"%G\": return \"\\\"+date.getHours()+\\\"\";\r\n\t\t\t\tcase \"%H\": return \"\\\"+this.date.to_fixed(date.getHours())+\\\"\";\r\n\t\t\t\tcase \"%i\": return \"\\\"+this.date.to_fixed(date.getMinutes())+\\\"\";\r\n\t\t\t\tcase \"%a\": return \"\\\"+(date.getHours()>11?\\\"pm\\\":\\\"am\\\")+\\\"\";\r\n\t\t\t\tcase \"%A\": return \"\\\"+(date.getHours()>11?\\\"PM\\\":\\\"AM\\\")+\\\"\";\r\n\t\t\t\tcase \"%s\": return \"\\\"+this.date.to_fixed(date.getSeconds())+\\\"\";\r\n\t\t\t\tcase \"%W\": return \"\\\"+this.date.to_fixed(this.date.getISOWeek(date))+\\\"\";\r\n\t\t\t\tdefault: return a;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (utc) format=format.replace(/date\\.get/g,\"date.getUTC\");\r\n\t\tvar func = new Function(\"date\",\"return \\\"\"+format+\"\\\";\");\r\n\r\n\t\treturn func.bind(scheduler);\r\n\t},\r\n\tstr_to_date:function(format, utc, exactFormat){\r\n\t\tvar stringToDateMethod = useCsp() ? csp_str_to_date : generateStringToDate;\r\n\t\tvar parseExactFormat = stringToDateMethod(format, utc);\r\n\t\t// eslint-disable-next-line\r\n\t\tvar yyyyMMddhhIIss = /^[0-9]{4}(\\-|\\/)[0-9]{2}(\\-|\\/)[0-9]{2} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/;\r\n\r\n\t\t// MM/dd/yyyy - default old format for xml-date\r\n\t\t// eslint-disable-next-line\r\n\t\tvar MMddyyyyhhIIss = /^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4} ?(([0-9]{1,2}:[0-9]{2})(:[0-9]{1,2})?)?$/;\r\n\t\t// dd-MM-yyyy - default old format for api-date\r\n\t\t// eslint-disable-next-line\r\n\t\tvar ddMMyyyyhhIIss = /^[0-9]{2}\\-[0-9]{2}\\-[0-9]{4} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/;\r\n\t\t// eslint-disable-next-line\r\n\t\tvar ISO8601 = /^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24\\:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\r\n\r\n\t\tvar isYMDDate = function (datestr) {\r\n\t\t\treturn yyyyMMddhhIIss.test(String(datestr));\r\n\t\t};\r\n\r\n\t\tvar isMDYDate = function (datestr) {\r\n\t\t\treturn MMddyyyyhhIIss.test(String(datestr));\r\n\t\t};\r\n\t\tvar isDMYDate = function (datestr) {\r\n\t\t\treturn ddMMyyyyhhIIss.test(String(datestr));\r\n\t\t};\r\n\t\tvar isISO8601 = function (datestr) {\r\n\t\t\treturn ISO8601.test(datestr);\r\n\t\t};\r\n\r\n\t\tvar parseYMD = stringToDateMethod(\"%Y-%m-%d %H:%i:%s\", utc);\r\n\t\tvar parseMDY = stringToDateMethod(\"%m/%d/%Y %H:%i:%s\", utc);\r\n\t\tvar parseDMY = stringToDateMethod(\"%d-%m-%Y %H:%i:%s\", utc);\r\n\r\n\t\treturn function (dateString) {\r\n\r\n\t\t\tif (!exactFormat && !scheduler.config.parse_exact_format) {\r\n\t\t\t\tif (dateString && dateString.getISOWeek) {\r\n\t\t\t\t\treturn new Date(dateString);\r\n\t\t\t\t} else if (typeof dateString === \"number\") {\r\n\t\t\t\t\treturn new Date(dateString);\r\n\t\t\t\t} else if (isYMDDate(dateString)) {\r\n\t\t\t\t\treturn parseYMD(dateString);\r\n\t\t\t\t} else if (isMDYDate(dateString)) {\r\n\t\t\t\t\treturn parseMDY(dateString);\r\n\t\t\t\t} else if (isDMYDate(dateString)) {\r\n\t\t\t\t\treturn parseDMY(dateString);\r\n\t\t\t\t} else if (isISO8601(dateString)) {\r\n\t\t\t\t\treturn new Date(dateString);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn parseExactFormat.call(scheduler, dateString);\r\n\t\t};\r\n\t},\r\n\tgetISOWeek: function(ndate) {\r\n\t\tif(!ndate) return false;\r\n\t\tndate = this.date_part(new Date(ndate));\r\n\t\tvar nday = ndate.getDay();\r\n\t\tif (nday === 0) {\r\n\t\t\tnday = 7;\r\n\t\t}\r\n\t\tvar first_thursday = new Date(ndate.valueOf());\r\n\t\tfirst_thursday.setDate(ndate.getDate() + (4 - nday));\r\n\t\tvar year_number = first_thursday.getFullYear(); // year of the first Thursday\r\n\t\tvar ordinal_date = Math.round( (first_thursday.getTime() - new Date(year_number, 0, 1).getTime()) / 86400000); //ordinal date of the first Thursday - 1 (so not really ordinal date)\r\n\t\tvar week_number = 1 + Math.floor( ordinal_date / 7);\r\n\t\treturn week_number;\r\n\t},\r\n\tgetUTCISOWeek: function(ndate){\r\n\t\treturn this.getISOWeek(this.convert_to_utc(ndate));\r\n\t},\r\n\tconvert_to_utc: function(date) {\r\n\t\treturn new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds());\r\n\t}\r\n};\r\n\r\n}\r\n\r\n","export default function extend(scheduler) {\r\n\r\n/*\r\n%e\tDay of the month without leading zeros (01..31)\r\n%d\tDay of the month, 2 digits with leading zeros (01..31)\r\n%j\tDay of the year, 3 digits with leading zeros (001..366)\r\n%a\tA textual representation of a day, two letters\r\n%W\tA full textual representation of the day of the week\r\n\r\n%c\tNumeric representation of a month, without leading zeros (0..12)\r\n%m\tNumeric representation of a month, with leading zeros (00..12)\r\n%b\tA short textual representation of a month, three letters (Jan..Dec)\r\n%M\tA full textual representation of a month, such as January or March (January..December)\r\n\r\n%y\tA two digit representation of a year (93..03)\r\n%Y\tA full numeric representation of a year, 4 digits (1993..03)\r\n*/\r\n\r\nscheduler.config={\r\n\tdefault_date: \"%j %M %Y\",\r\n\tmonth_date: \"%F %Y\",\r\n\tload_date: \"%Y-%m-%d\",\r\n\tweek_date: \"%l\",\r\n\tday_date: \"%D %j\",\r\n\thour_date: \"%H:%i\",\r\n\tmonth_day: \"%d\",\r\n\t//xml_date: \"%m/%d/%Y %H:%i\",\r\n\tdate_format: \"%Y-%m-%d %H:%i\",\r\n\tapi_date: \"%d-%m-%Y %H:%i\",\r\n\tparse_exact_format: false,\r\n\tpreserve_length:true,\r\n\ttime_step: 5,\r\n\tdisplayed_event_color: \"#ff4a4a\",\r\n\tdisplayed_event_text_color: \"#ffef80\",\r\n\twide_form: 0,\r\n\tday_column_padding: 8,\r\n\tuse_select_menu_space: true,\r\n\tfix_tab_position: true,\r\n\tstart_on_monday: true,\r\n\tfirst_hour: 0,\r\n\tlast_hour: 24,\r\n\treadonly: false,\r\n\tdrag_resize: true,\r\n\tdrag_move: true,\r\n\tdrag_create: true,\r\n\tdrag_event_body: true,\r\n\tdblclick_create: true,\r\n\tdetails_on_dblclick: true,\r\n\tedit_on_create: true,\r\n\tdetails_on_create: true,\r\n\theader: null,\r\n\thour_size_px: 44,\r\n\tresize_month_events:false,\r\n\tresize_month_timed:false,\r\n\tresponsive_lightbox: false,\r\n\tseparate_short_events: true,\r\n\trtl:false,\r\n\r\n\tcascade_event_display: false,\r\n\tcascade_event_count: 4,\r\n\tcascade_event_margin: 30,\r\n\r\n\tmulti_day:true,\r\n\tmulti_day_height_limit: 200,\r\n\r\n\tdrag_lightbox: true,\r\n\tpreserve_scroll: true,\r\n\tselect: true,\r\n\tundo_deleted: true,\r\n\tserver_utc: false,\r\n\ttouch:true,\r\n\ttouch_tip:true,\r\n\ttouch_drag:500,\r\n\ttouch_swipe_dates: false,\r\n\tquick_info_detached:true,\r\n\r\n\tpositive_closing: false,\r\n\t//header_datepicker: true,\r\n\tdrag_highlight: true,\r\n\tlimit_drag_out: false,\r\n\ticons_edit: [\"icon_save\", \"icon_cancel\"],\r\n\ticons_select: [\"icon_details\", \"icon_edit\", \"icon_delete\"],\r\n\tbuttons_left: [\"dhx_save_btn\", \"dhx_cancel_btn\"],\r\n\tbuttons_right: [\"dhx_delete_btn\"],\r\n\tlightbox: {\r\n\t\tsections: [\r\n\t\t\t{name: \"description\", map_to: \"text\", type: \"textarea\", focus: true},\r\n\t\t\t{name: \"time\", height: 72, type: \"time\", map_to: \"auto\"}\r\n\t\t]\r\n\t},\r\n\thighlight_displayed_event: true,\r\n\tleft_border: false,\r\n\r\n\tajax_error: \"alert\",//\"ignore\"|\"console\"\r\n\tdelay_render: 0,\r\n\ttimeline_swap_resize: true,\r\n\twai_aria_attributes: true,\r\n\twai_aria_application_role: true,\r\n\r\n\tcsp: \"auto\",\r\n\tevent_attribute: \"data-event-id\",\r\n\tshow_errors: true\r\n};\r\n\r\nscheduler.config.buttons_left.$initial = scheduler.config.buttons_left.join();\r\nscheduler.config.buttons_right.$initial = scheduler.config.buttons_right.join();\r\n\r\nscheduler._helpers = {\r\n\tparseDate: function parseDate(date) {\r\n\t\tvar parse = scheduler.templates.xml_date || scheduler.templates.parse_date;\r\n\t\treturn parse(date);\r\n\t},\r\n\tformatDate: function formatDate(date) {\r\n\t\tvar format = scheduler.templates.xml_format || scheduler.templates.format_date;\r\n\t\treturn format(date);\r\n\t}\r\n};\r\n\r\nscheduler.templates={};\r\nscheduler.init_templates=function(){\r\n\r\n\r\n\r\n\tvar d=scheduler.date.date_to_str;\r\n\tvar c=scheduler.config;\r\n\tvar f = function(a,b){\r\n\t\tfor (var c in b)\r\n\t\t\tif (!a[c]) a[c]=b[c];\r\n\t};\r\n\tf(scheduler.templates,{\r\n\t\tday_date:d(c.default_date),\r\n\t\tmonth_date:d(c.month_date),\r\n\t\tweek_date:function(d1,d2){\r\n\t\t\tif(c.rtl) {\r\n\t\t\t\treturn scheduler.templates.day_date(scheduler.date.add(d2,-1,\"day\"))+\" &ndash; \"+scheduler.templates.day_date(d1);\r\n\t\t\t} \r\n\t\t\treturn scheduler.templates.day_date(d1)+\" &ndash; \"+scheduler.templates.day_date(scheduler.date.add(d2,-1,\"day\"));\r\n\t\t},\r\n\t\tday_scale_date:d(c.default_date),\r\n\t\ttime_slot_text: function(date){\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\ttime_slot_class: function(date){\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\r\n\t\tmonth_scale_date:d(c.week_date),\r\n\t\tweek_scale_date:d(c.day_date),\r\n\t\thour_scale:d(c.hour_date),\r\n\t\ttime_picker:d(c.hour_date),\r\n\t\tevent_date:d(c.hour_date),\r\n\t\tmonth_day:d(c.month_day),\r\n\r\n\t\tload_format: d(c.load_date),\r\n\t//\txml_date:scheduler.date.str_to_date(c.xml_date,c.server_utc),\r\n\t//\txml_format:d(c.date_format,c.server_utc),\r\n\t\tformat_date: d(c.date_format, c.server_utc),\r\n\t\tparse_date:scheduler.date.str_to_date(c.date_format,c.server_utc),\r\n\t\tapi_date:scheduler.date.str_to_date(c.api_date, false, false),\r\n\t\tevent_header:function(start,end,ev){\r\n\r\n\t\t\tif(ev._mode === \"small\" || ev._mode === \"smallest\"){\r\n\t\t\t\treturn scheduler.templates.event_date(start);\r\n\t\t\t}else{\r\n\t\t\t\treturn scheduler.templates.event_date(start)+\" - \"+scheduler.templates.event_date(end);\r\n\t\t\t}\r\n\t\t},\r\n\t\tevent_text:function(start,end,ev){\r\n\t\t\treturn ev.text;\r\n\t\t},\r\n\t\tevent_class:function(start,end,ev){\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\tmonth_date_class:function(d){\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\tweek_date_class:function(d){\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\tevent_bar_date:function(start,end,ev) {\r\n\t\t\treturn scheduler.templates.event_date(start);\r\n\t\t},\r\n\t\tevent_bar_text:function(start,end,ev){\r\n\t\t\treturn ev.text;\r\n\t\t},\r\n\t\tmonth_events_link : function(date, count){\r\n\t\t\treturn \"<a>View more(\"+count+\" events)</a>\";\r\n\t\t},\r\n\t\tdrag_marker_class : function(start, end, event){\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\tdrag_marker_content : function(start, end, event){\r\n\t\t\treturn \"\";\r\n\t\t},\r\n\t\t/* Could be redifined */\r\n\t\ttooltip_date_format: scheduler.date.date_to_str(\"%Y-%m-%d %H:%i\"),\r\n\t\ttooltip_text: function(start, end, event) {\r\n\t\t\treturn \"<b>Event:</b> \" + event.text + \"<br/><b>Start date:</b> \" + scheduler.templates.tooltip_date_format(start) + \"<br/><b>End date:</b> \" + scheduler.templates.tooltip_date_format(end);\r\n\t\t},\r\n\r\n\t\tcalendar_month: d(\"%F %Y\"),\r\n\t\tcalendar_scale_date: d(\"%D\"),\r\n\t\tcalendar_date: d(\"%d\"),\r\n\t\tcalendar_time: d(\"%d-%m-%Y\")\r\n\r\n\t});\r\n\tthis.callEvent(\"onTemplatesReady\",[]);\r\n};\r\n\r\n\r\n}","export default function extend(scheduler) {\r\n\r\nscheduler._events = {};\r\nscheduler.clearAll = function() {\r\n\tthis._events = {};\r\n\tthis._loaded = {};\r\n\r\n\tthis._edit_id = null;\r\n\tthis._select_id = null;\r\n\tthis._drag_id = null;\r\n\tthis._drag_mode = null;\r\n\tthis._drag_pos = null;\r\n\tthis._new_event = null;\r\n\r\n\tthis.clear_view();\r\n\tthis.callEvent(\"onClearAll\", []);\r\n};\r\nscheduler.addEvent = function(start_date, end_date, text, id, extra_data) {\r\n\tif (!arguments.length)\r\n\t\treturn this.addEventNow();\r\n\tvar ev = start_date;\r\n\tif (arguments.length != 1) {\r\n\t\tev = extra_data || {};\r\n\t\tev.start_date = start_date;\r\n\t\tev.end_date = end_date;\r\n\t\tev.text = text;\r\n\t\tev.id = id;\r\n\t}\r\n\tev.id = ev.id || scheduler.uid();\r\n\tev.text = ev.text || \"\";\r\n\r\n\tif (typeof ev.start_date == \"string\")  ev.start_date = this.templates.api_date(ev.start_date);\r\n\tif (typeof ev.end_date == \"string\")  ev.end_date = this.templates.api_date(ev.end_date);\r\n\tvar d = (this.config.event_duration || this.config.time_step) * 60000;\r\n\tif (ev.start_date.valueOf() == ev.end_date.valueOf())\r\n\t\tev.end_date.setTime(ev.end_date.valueOf() + d);\r\n\r\n\tev.start_date.setMilliseconds(0);\r\n\tev.end_date.setMilliseconds(0);\r\n\r\n\tev._timed = this.isOneDayEvent(ev);\r\n\r\n\tvar is_new = !this._events[ev.id];\r\n\tthis._events[ev.id] = ev;\r\n\tthis.event_updated(ev);\r\n\tif (!this._loading)\r\n\t\tthis.callEvent(is_new ? \"onEventAdded\" : \"onEventChanged\", [ev.id, ev]);\r\n\treturn ev.id;\r\n};\r\nscheduler.deleteEvent = function(id, silent) {\r\n\tvar ev = this._events[id];\r\n\tif (!silent && (!this.callEvent(\"onBeforeEventDelete\", [id, ev]) || !this.callEvent(\"onConfirmedBeforeEventDelete\", [id, ev])))\r\n\t\treturn;\r\n\tif (ev) {\r\n\t\tif(scheduler.getState().select_id == id){\r\n\t\t\tscheduler.unselect();\r\n\t\t}\r\n\t\tdelete this._events[id];\r\n\t\tthis.event_updated(ev);\r\n\r\n\t\tif(this._drag_id == ev.id){\r\n\t\t\tthis._drag_id = null;\r\n\t\t\tthis._drag_mode=null;\r\n\t\t\tthis._drag_pos=null;\r\n\t\t}\r\n\t}\r\n\r\n\tthis.callEvent(\"onEventDeleted\", [id, ev]);\r\n};\r\nscheduler.getEvent = function(id) {\r\n\treturn this._events[id];\r\n};\r\nscheduler.setEvent = function(id, hash) {\r\n\tif(!hash.id)\r\n\t\thash.id = id;\r\n\r\n\tthis._events[id] = hash;\r\n};\r\nscheduler.for_rendered = function(id, method) {\r\n\tfor (var i = this._rendered.length - 1; i >= 0; i--)\r\n\t\tif (this._rendered[i].getAttribute(this.config.event_attribute) == id)\r\n\t\t\tmethod(this._rendered[i], i);\r\n};\r\nscheduler.changeEventId = function(id, new_id) {\r\n\tif (id == new_id) return;\r\n\tvar ev = this._events[id];\r\n\tif (ev) {\r\n\t\tev.id = new_id;\r\n\t\tthis._events[new_id] = ev;\r\n\t\tdelete this._events[id];\r\n\t}\r\n\tthis.for_rendered(id, function(r) {\r\n\t\tr.setAttribute(\"event_id\", new_id); // for backward compatibility\r\n\t\tr.setAttribute(scheduler.config.event_attribute, new_id);\r\n\t});\r\n\tif (this._select_id == id) this._select_id = new_id;\r\n\tif (this._edit_id == id) this._edit_id = new_id;\r\n\t//if (this._drag_id==id) this._drag_id=new_id;\r\n\tthis.callEvent(\"onEventIdChange\", [id, new_id]);\r\n};\r\n\r\n(function() {\r\n\tvar attrs = [\"text\", \"Text\", \"start_date\", \"StartDate\", \"end_date\", \"EndDate\"];\r\n\tvar create_getter = function(name) {\r\n\t\treturn function(id) { return (scheduler.getEvent(id))[name]; };\r\n\t};\r\n\tvar create_setter = function(name) {\r\n\t\treturn function(id, value) {\r\n\t\t\tvar ev = scheduler.getEvent(id);\r\n\t\t\tev[name] = value;\r\n\t\t\tev._changed = true;\r\n\t\t\tev._timed = this.isOneDayEvent(ev);\r\n\t\t\tscheduler.event_updated(ev, true);\r\n\t\t};\r\n\t};\r\n\tfor (var i = 0; i < attrs.length; i += 2) {\r\n\t\tscheduler[\"getEvent\" + attrs[i + 1]] = create_getter(attrs[i]);\r\n\t\tscheduler[\"setEvent\" + attrs[i + 1]] = create_setter(attrs[i]);\r\n\t}\r\n})();\r\n\r\nscheduler.event_updated = function(ev, force) {\r\n\tif (this.is_visible_events(ev))\r\n\t\tthis.render_view_data();\r\n\telse\r\n\t\tthis.clear_event(ev.id);\r\n};\r\nscheduler.is_visible_events = function(ev) {\r\n\tif(!this._min_date || !this._max_date){\r\n\t\treturn false;\r\n\t}\r\n\r\n\t//if in displayed dates\r\n\tvar in_visible_range = (ev.start_date.valueOf() < this._max_date.valueOf() && this._min_date.valueOf() < ev.end_date.valueOf());\r\n\r\n\tif(in_visible_range){\r\n\r\n\t\t//end dates are not between last/first hours\r\n\t\tvar evFirstHour = ev.start_date.getHours(),\r\n\t\t\tevLastHour = ev.end_date.getHours() + (ev.end_date.getMinutes()/60),\r\n\t\t\tlastHour = this.config.last_hour,\r\n\t\t\tfirstHour = this.config.first_hour;\r\n\r\n\t\tvar end_dates_visible = (this._table_view || !((evLastHour > lastHour || evLastHour <= firstHour) && (evFirstHour >= lastHour || evFirstHour < firstHour)));\r\n\r\n\t\tif(end_dates_visible){\r\n\t\t\treturn true;\r\n\t\t}else{\r\n\r\n\t\t\t//event is bigger than area hidden between last/first hours\r\n\t\t\tvar event_duration = (ev.end_date.valueOf() - ev.start_date.valueOf()) / (1000*60*60),//hours\r\n\t\t\t\thidden_duration = 24 - (this.config.last_hour - this.config.first_hour);\r\n\r\n\t\t\treturn !!((event_duration > hidden_duration) || (evFirstHour < lastHour && evLastHour > firstHour));\r\n\r\n\t\t}\r\n\t}else{\r\n\t\treturn false;\r\n\t}\r\n};\r\nscheduler.isOneDayEvent = function(ev) {\r\n\t// decrease by one ms so events that ends on midnight on the next day were still considered one day events\r\n\t// e.g. (09-02-2018 19:00 - 10-02-2018 00:00)\r\n\t// events >= 24h long are considered multiday\r\n\tvar checkEndDate = new Date(ev.end_date.valueOf() - 1);\r\n\treturn (\r\n\t\tev.start_date.getFullYear() === checkEndDate.getFullYear() &&\r\n\t\tev.start_date.getMonth() === checkEndDate.getMonth() &&\r\n\t\tev.start_date.getDate() === checkEndDate.getDate()\r\n\t) && ((ev.end_date.valueOf() - ev.start_date.valueOf()) < (1000 * 60 * 60 * 24));\r\n};\r\n\r\nscheduler.get_visible_events = function(only_timed) {\r\n\t//not the best strategy for sure\r\n\tvar stack = [];\r\n\r\n\tfor (var id in this._events)\r\n\t\tif (this.is_visible_events(this._events[id]))\r\n\t\t\tif (!only_timed || this._events[id]._timed)\r\n\t\t\t\tif (this.filter_event(id, this._events[id]))\r\n\t\t\t\t\tstack.push(this._events[id]);\r\n\r\n\treturn stack;\r\n};\r\nscheduler.filter_event = function(id, ev) {\r\n\tvar filter = this[\"filter_\" + this._mode];\r\n\treturn (filter) ? filter(id, ev) : true;\r\n};\r\nscheduler._is_main_area_event = function(ev){\r\n\treturn !!ev._timed;\r\n};\r\nscheduler.render_view_data = function(evs, hold) {\r\n\tvar full = false;\r\n\tif (!evs) {\r\n\t\tfull = true;\r\n\t\tif (this._not_render) {\r\n\t\t\tthis._render_wait = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._render_wait = false;\r\n\r\n\t\tthis.clear_view();\r\n\t\tevs = this.get_visible_events(!(this._table_view || this.config.multi_day));\r\n\t}\r\n\tfor(var i= 0, len = evs.length; i < len; i++){\r\n\t\tthis._recalculate_timed(evs[i]);\r\n\t}\r\n\r\n\tif (this.config.multi_day && !this._table_view) {\r\n\r\n\t\tvar tvs = [];\r\n\t\tvar tvd = [];\r\n\t\tfor (var i = 0; i < evs.length; i++) {\r\n\t\t\tif (this._is_main_area_event(evs[i]))\r\n\t\t\t\ttvs.push(evs[i]);\r\n\t\t\telse\r\n\t\t\t\ttvd.push(evs[i]);\r\n\t\t}\r\n\r\n\t\tif(!this._els['dhx_multi_day']){\r\n\t\t\tvar message = scheduler._commonErrorMessages.unknownView(this._mode);\r\n\t\t\tthrow new Error(message);\r\n\t\t}\r\n\r\n\t\t// multiday events\r\n\t\tthis._rendered_location = this._els['dhx_multi_day'][0];\r\n\t\tthis._table_view = true;\r\n\t\tthis.render_data(tvd, hold);\r\n\t\tthis._table_view = false;\r\n\r\n\t\t// normal events\r\n\t\tthis._rendered_location = this._els['dhx_cal_data'][0];\r\n\t\tthis._table_view = false;\r\n\t\tthis.render_data(tvs, hold);\r\n\r\n\t} else {\r\n\t\tvar buffer = document.createDocumentFragment();\r\n\t\tvar renderedLocation = this._els['dhx_cal_data'][0];\r\n\t\tthis._rendered_location = buffer;\r\n\t\tthis.render_data(evs, hold);\r\n\t\trenderedLocation.appendChild(buffer);\r\n\t\tthis._rendered_location = renderedLocation;\r\n\r\n\t}\r\n\r\n\tif(full){\r\n\t\tthis.callEvent(\"onDataRender\", []);\r\n\t}\r\n};\r\n\r\n\r\nscheduler._view_month_day = function(e){\r\n\tvar date = scheduler.getActionData(e).date;\r\n\tif(!scheduler.callEvent(\"onViewMoreClick\", [date]))\r\n\t\treturn;\r\n\tscheduler.setCurrentView(date, \"day\");\r\n};\r\n\r\nscheduler._render_month_link = function(ev){\r\n\tvar parent = this._rendered_location;\r\n\tvar toRender = this._lame_clone(ev);\r\n\r\n\t//render links in each cell of multiday events\r\n\tfor(var d = ev._sday; d < ev._eday; d++){\r\n\r\n\t\ttoRender._sday = d;\r\n\t\ttoRender._eday = d+1;\r\n\r\n\t\tvar date = scheduler.date;\r\n\t\tvar curr = scheduler._min_date;\r\n\t\tcurr = date.add(curr, toRender._sweek, \"week\");\r\n\t\tcurr = date.add(curr, toRender._sday, \"day\");\r\n\t\tvar count = scheduler.getEvents(curr, date.add(curr, 1, \"day\")).length;\r\n\r\n\t\tvar pos = this._get_event_bar_pos(toRender);\r\n\t\tvar widt = (pos.x2 - pos.x);\r\n\r\n\t\tvar el = document.createElement(\"div\");\r\n\t\tscheduler.event(el, \"click\", function(e){scheduler._view_month_day(e);});\r\n\t\tel.className = \"dhx_month_link\";\r\n\t\tel.style.top = pos.y + \"px\";\r\n\t\tel.style.left = pos.x + \"px\";\r\n\t\tel.style.width = widt + \"px\";\r\n\t\tel.innerHTML = scheduler.templates.month_events_link(curr, count);\r\n\t\tthis._rendered.push(el);\r\n\r\n\t\tparent.appendChild(el);\r\n\t}\r\n};\r\n\r\nscheduler._recalculate_timed = function(id){\r\n\tif(!id) return;\r\n\tvar ev;\r\n\tif(typeof(id) != \"object\")\r\n\t\tev = this._events[id];\r\n\telse\r\n\t\tev = id;\r\n\tif(!ev) return;\r\n\tev._timed = scheduler.isOneDayEvent(ev);\r\n};\r\nscheduler.attachEvent(\"onEventChanged\", scheduler._recalculate_timed);\r\nscheduler.attachEvent(\"onEventAdded\", scheduler._recalculate_timed);\r\n\r\nscheduler.render_data = function(evs, hold) {\r\n\tevs = this._pre_render_events(evs, hold);\r\n\tvar containers = {};\r\n\tfor (var i = 0; i < evs.length; i++)\r\n\t\tif (this._table_view){\r\n\t\t\tif(scheduler._mode != 'month'){\r\n\t\t\t\tthis.render_event_bar(evs[i]);//may be multiday section on other views\r\n\t\t\t}else{\r\n\r\n\t\t\t\tvar max_evs = scheduler.config.max_month_events;\r\n\t\t\t\tif(max_evs !== max_evs*1 || evs[i]._sorder < max_evs){\r\n\t\t\t\t\t//of max number events per month cell is set and event can be rendered\r\n\t\t\t\t\tthis.render_event_bar(evs[i]);\r\n\t\t\t\t}else if(max_evs !== undefined && evs[i]._sorder == max_evs){\r\n\t\t\t\t\t//render 'view more' links\r\n\t\t\t\t\tscheduler._render_month_link(evs[i]);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//do not render events with ordinal number > maximum events per cell\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t}else{\r\n\t\t\tvar ev = evs[i];\r\n\t\t\tvar parent = scheduler.locate_holder(ev._sday);\r\n\t\t\tif (!parent) continue; //attempt to render non-visible event\r\n\r\n\t\t\tif(!containers[ev._sday]){\r\n\t\t\t\tcontainers[ev._sday] = {\r\n\t\t\t\t\treal: parent,\r\n\t\t\t\t\tbuffer: document.createDocumentFragment(),\r\n\t\t\t\t\twidth: parent.clientWidth\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tvar container = containers[ev._sday];\r\n\t\t\tthis.render_event(ev, container.buffer, container.width);\r\n\t\t}\r\n\r\n\t\tfor(var i in containers){\r\n\t\t\tvar container = containers[i];\r\n\t\t\tif(container.real && container.buffer){\r\n\t\t\t\tcontainer.real.appendChild(container.buffer);\r\n\t\t\t}\r\n\t\t}\r\n};\r\n\r\nscheduler._get_first_visible_cell = function(cells) {\r\n\tfor (var i = 0; i < cells.length; i++) {\r\n\t\tif ((cells[i].className || \"\").indexOf(\"dhx_scale_ignore\") == -1) {\r\n\t\t\treturn cells[i];\r\n\t\t}\r\n\t}\r\n\t// if no visible cell found, return cells[0] to be more tolerant, since it's the original logic\r\n\treturn cells[0];\r\n};\r\n\r\nscheduler._pre_render_events = function(evs, hold) {\r\n\tvar hb = this.xy.bar_height;\r\n\tvar h_old = this._colsS.heights;\r\n\tvar h = this._colsS.heights = [0, 0, 0, 0, 0, 0, 0];\r\n\tvar data = this._els[\"dhx_cal_data\"][0];\r\n\r\n\tif (!this._table_view) {\r\n\t\tevs = this._pre_render_events_line(evs, hold); //ignore long events for now\r\n\t}\r\n\telse {\r\n\t\tevs = this._pre_render_events_table(evs, hold);\r\n\t}\r\n\tif (this._table_view) {\r\n\t\tif (hold)\r\n\t\t\tthis._colsS.heights = h_old;\r\n\t\telse {\r\n\t\t\tvar monthRows = data.querySelectorAll(\".dhx_cal_month_row\");\r\n\t\t\tif (monthRows.length) {\r\n\t\t\t\tfor (var i = 0; i < monthRows.length; i++) {\r\n\t\t\t\t\th[i]++;\r\n\t\t\t\t\tvar cells = monthRows[i].querySelectorAll(\".dhx_cal_month_cell\");\r\n\t\t\t\t\tvar cellHeight = this._colsS.height - this.xy.month_head_height;\r\n\t\t\t\t\tif ((h[i]) * hb > cellHeight) { // 22 - height of cell's header\r\n\t\t\t\t\t\t//we have overflow, update heights\r\n\r\n\t\t\t\t\t\tvar cHeight = cellHeight;\r\n\t\t\t\t\t\tif(this.config.max_month_events*1 !== this.config.max_month_events || h[i] <= this.config.max_month_events){\r\n\t\t\t\t\t\t\tcHeight = h[i] * hb;\r\n\t\t\t\t\t\t}else if( (this.config.max_month_events + 1) * hb > cellHeight){\r\n\t\t\t\t\t\t\tcHeight = (this.config.max_month_events + 1) * hb;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tmonthRows[i].style.height = (cHeight + this.xy.month_head_height) + \"px\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\th[i] = (h[i - 1] || 0) + scheduler._get_first_visible_cell(cells).offsetHeight;\r\n\t\t\t\t}\r\n\t\t\t\th.unshift(0);\r\n\t\t\t\tconst dataArea = this.$container.querySelector(\".dhx_cal_data\");\r\n\t\t\t\tif (dataArea.offsetHeight < dataArea.scrollHeight && !scheduler._colsS.scroll_fix && scheduler.xy.scroll_width) {\r\n\r\n\t\t\t\t\tvar scale_settings = scheduler._colsS,\r\n\t\t\t\t\t\tsum_width = scale_settings[scale_settings.col_length],\r\n\t\t\t\t\t\trow_heights = scale_settings.heights.slice();\r\n\r\n\t\t\t\t\tsum_width -= (scheduler.xy.scroll_width || 0);\r\n\t\t\t\t\tthis._calc_scale_sizes(sum_width, this._min_date, this._max_date);\r\n\t\t\t\t\tscheduler._colsS.heights = row_heights;\r\n\r\n\t\t\t\t\tthis.set_xy(this._els[\"dhx_cal_header\"][0], sum_width/*, this.xy.scale_height*/);\r\n\t\t\t\t\tscheduler._render_scales(this._els[\"dhx_cal_header\"][0]);\r\n\t\t\t\t\tscheduler._render_month_scale(this._els[\"dhx_cal_data\"][0], this._get_timeunit_start(), this._min_date);\r\n\r\n\t\t\t\t\tscale_settings.scroll_fix = true;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!evs.length && this._els[\"dhx_multi_day\"][0].style.visibility == \"visible\")\r\n\t\t\t\t\th[0] = -1;\r\n\t\t\t\tif (evs.length || h[0] == -1) {\r\n\t\t\t\t\t//shift days to have space for multiday events\r\n\t\t\t\t\t//var childs = evl.parentNode.childNodes;\r\n\r\n\t\t\t\t\t// +1 so multiday events would have 2px from top and 2px from bottom by default\r\n\t\t\t\t\tvar full_multi_day_height = (h[0] + 1) * hb + 4;\r\n\r\n\t\t\t\t\tvar used_multi_day_height = full_multi_day_height;\r\n\t\t\t\t\tvar used_multi_day_height_css = full_multi_day_height + \"px\";\r\n\t\t\t\t\tif (this.config.multi_day_height_limit) {\r\n\t\t\t\t\t\tused_multi_day_height = Math.min(full_multi_day_height, this.config.multi_day_height_limit) ;\r\n\t\t\t\t\t\tused_multi_day_height_css = used_multi_day_height + \"px\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar multi_day_section = this._els[\"dhx_multi_day\"][0];\r\n\t\t\t\t\tmulti_day_section.style.height = used_multi_day_height_css;\r\n\t\t\t\t\tmulti_day_section.style.visibility = (h[0] == -1 ? \"hidden\" : \"visible\");\r\n\t\t\t\t\tmulti_day_section.style.display = (h[0] == -1 ? \"none\" : \"\");\r\n\r\n\t\t\t\t\t// icon\r\n\t\t\t\t\tvar multi_day_icon = this._els[\"dhx_multi_day\"][1];\r\n\t\t\t\t\tmulti_day_icon.style.height = used_multi_day_height_css;\r\n\t\t\t\t\tmulti_day_icon.style.visibility = (h[0] == -1 ? \"hidden\" : \"visible\");\r\n\t\t\t\t\tmulti_day_icon.style.display = (h[0] == -1 ? \"none\" : \"\");\r\n\t\t\t\t\tmulti_day_icon.className = h[0] ? \"dhx_multi_day_icon\" : \"dhx_multi_day_icon_small\";\r\n\t\t\t\t\tthis._dy_shift = (h[0] + 1) * hb;\r\n\t\t\t\t\tif(this.config.multi_day_height_limit){\r\n\t\t\t\t\t\tthis._dy_shift = Math.min(this.config.multi_day_height_limit, this._dy_shift);\r\n\t\t\t\t\t}\r\n\t\t\t\t\th[0] = 0;\r\n\r\n\t\t\t\t\tif (used_multi_day_height != full_multi_day_height) {\r\n\r\n\t\t\t\t\t\tmulti_day_section.style.overflowY = \"auto\";\r\n\t\t\t\t\t//\tmulti_day_section.style.width = (parseInt(this._els[\"dhx_cal_navline\"][0].style.width)) + \"px\";\r\n\r\n\t\t\t\t\t\tmulti_day_icon.style.position = \"fixed\";\r\n\t\t\t\t\t\tmulti_day_icon.style.top = \"\";\r\n\t\t\t\t\t\tmulti_day_icon.style.left = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn evs;\r\n};\r\nscheduler._get_event_sday = function(ev) {\r\n\t// get day in current view\r\n\t// use rounding for 23 or 25 hour days on DST\r\n\tvar datePart = this.date.day_start(new Date(ev.start_date));\r\n\treturn Math.round((datePart.valueOf() - this._min_date.valueOf()) / (24 * 60 * 60 * 1000));\r\n};\r\nscheduler._get_event_mapped_end_date = function(ev) {\r\n\tvar end_date = ev.end_date;\r\n\tif (this.config.separate_short_events) {\r\n\t\tvar ev_duration = (ev.end_date - ev.start_date) / 60000; // minutes\r\n\t\tif (ev_duration < this._min_mapped_duration) {\r\n\t\t\tend_date = this.date.add(end_date, this._min_mapped_duration - ev_duration, \"minute\");\r\n\t\t}\r\n\t}\r\n\treturn end_date;\r\n};\r\nscheduler._pre_render_events_line = function(evs, hold){\r\n\tevs.sort(function(a, b) {\r\n\t\tif (a.start_date.valueOf() == b.start_date.valueOf())\r\n\t\t\treturn a.id > b.id ? 1 : -1;\r\n\t\treturn a.start_date > b.start_date ? 1 : -1;\r\n\t});\r\n\tvar days = []; //events by weeks\r\n\tvar evs_originals = [];\r\n\r\n\tthis._min_mapped_duration = Math.floor(this.xy.min_event_height * 60 / this.config.hour_size_px);  // values could change along the way\r\n\r\n\tfor (var i = 0; i < evs.length; i++) {\r\n\t\tvar ev = evs[i];\r\n\r\n\t\t//check date overflow\r\n\t\tvar sd = ev.start_date;\r\n\t\tvar ed = ev.end_date;\r\n\t\t//check scale overflow\r\n\t\tvar sh = sd.getHours();\r\n\t\tvar eh = ed.getHours();\r\n\t\tev._sday = this._get_event_sday(ev); // sday based on event start_date\r\n\t\tif (this._ignores[ev._sday]){\r\n\t\t\t//ignore event\r\n\t\t\tevs.splice(i,1);\r\n\t\t\ti--;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (!days[ev._sday]) days[ev._sday] = [];\r\n\r\n\t\tif (!hold) {\r\n\t\t\tev._inner = false;\r\n\r\n\t\t\tvar stack = days[ev._sday];\r\n\r\n\t\t\twhile (stack.length) {\r\n\t\t\t\tvar t_ev = stack[stack.length - 1];\r\n\t\t\t\tvar t_end_date = this._get_event_mapped_end_date(t_ev);\r\n\t\t\t\tif (t_end_date.valueOf() <= ev.start_date.valueOf()) {\r\n\t\t\t\t\tstack.splice(stack.length - 1, 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar slot_index = stack.length;\r\n\t\t\tvar sorderSet = false;\r\n\t\t\tfor (var j = 0; j < stack.length; j++) {\r\n\t\t\t\tvar t_ev = stack[j];\r\n\t\t\t\tvar t_end_date = this._get_event_mapped_end_date(t_ev);\r\n\t\t\t\tif (t_end_date.valueOf() <= ev.start_date.valueOf()) {\r\n\t\t\t\t\tsorderSet = true;\r\n\t\t\t\t\tev._sorder = t_ev._sorder;\r\n\t\t\t\t\tslot_index = j;\r\n\t\t\t\t\tev._inner = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (stack.length)\r\n\t\t\t\tstack[stack.length - 1]._inner = true;\r\n\r\n\t\t\tif (!sorderSet) {\r\n\t\t\t\tif (stack.length) {\r\n\t\t\t\t\tif (stack.length <= stack[stack.length - 1]._sorder) {\r\n\t\t\t\t\t\tif (!stack[stack.length - 1]._sorder)\r\n\t\t\t\t\t\t\tev._sorder = 0;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tfor (j = 0; j < stack.length; j++) {\r\n\t\t\t\t\t\t\t\tvar _is_sorder = false;\r\n\t\t\t\t\t\t\t\tfor (var k = 0; k < stack.length; k++) {\r\n\t\t\t\t\t\t\t\t\tif (stack[k]._sorder == j) {\r\n\t\t\t\t\t\t\t\t\t\t_is_sorder = true;\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (!_is_sorder) {\r\n\t\t\t\t\t\t\t\t\tev._sorder = j;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\tev._inner = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar _max_sorder = stack[0]._sorder;\r\n\t\t\t\t\t\tfor (j = 1; j < stack.length; j++) {\r\n\t\t\t\t\t\t\tif (stack[j]._sorder > _max_sorder)\r\n\t\t\t\t\t\t\t\t_max_sorder = stack[j]._sorder;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tev._sorder = _max_sorder + 1;\r\n\t\t\t\t\t\tev._inner = false;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else\r\n\t\t\t\t\tev._sorder = 0;\r\n\t\t\t}\r\n\r\n\t\t\tstack.splice(slot_index, slot_index == stack.length ? 0 : 1, ev);\r\n\r\n\t\t\tif (stack.length > (stack.max_count || 0)) {\r\n\t\t\t\tstack.max_count = stack.length;\r\n\t\t\t\tev._count = stack.length;\r\n\t\t\t} else {\r\n\t\t\t\tev._count = (ev._count) ? ev._count : 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (sh < this.config.first_hour || eh >= this.config.last_hour) {\r\n\t\t\t// Need to create copy of event as we will be changing it's start/end date\r\n\t\t\t// e.g. first_hour = 11 and event.start_date hours = 9. Need to preserve that info\r\n\t\t\tevs_originals.push(ev);\r\n\t\t\tevs[i] = ev = this._copy_event(ev);\r\n\r\n\t\t\tif (sh < this.config.first_hour) {\r\n\t\t\t\tev.start_date.setHours(this.config.first_hour);\r\n\t\t\t\tev.start_date.setMinutes(0);\r\n\t\t\t}\r\n\t\t\tif (eh >= this.config.last_hour) {\r\n\t\t\t\tev.end_date.setMinutes(0);\r\n\t\t\t\tev.end_date.setHours(this.config.last_hour);\r\n\t\t\t}\r\n\r\n\t\t\tif (ev.start_date > ev.end_date || sh == this.config.last_hour) {\r\n\t\t\t\tevs.splice(i, 1);\r\n\t\t\t\ti--;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (!hold) {\r\n\t\tfor (var i = 0; i < evs.length; i++) {\r\n\t\t\tevs[i]._count = days[evs[i]._sday].max_count;\r\n\t\t}\r\n\t\tfor (var i = 0; i < evs_originals.length; i++)\r\n\t\t\tevs_originals[i]._count = days[evs_originals[i]._sday].max_count;\r\n\t}\r\n\r\n\treturn evs;\r\n};\r\nscheduler._time_order = function(evs) {\r\n\tevs.sort(function(a, b) {\r\n\t\tif (a.start_date.valueOf() == b.start_date.valueOf()) {\r\n\t\t\tif (a._timed && !b._timed) return 1;\r\n\t\t\tif (!a._timed && b._timed) return -1;\r\n\t\t\treturn a.id > b.id ? 1 : -1;\r\n\t\t}\r\n\t\treturn a.start_date > b.start_date ? 1 : -1;\r\n\t});\r\n};\r\n\r\nscheduler._is_any_multiday_cell_visible = function(from, to, event){\r\n\tvar cols = this._cols.length;\r\n\tvar isAnyCellVisible = false;\r\n\tvar checkDate = from;\r\n\tvar noCells = true;\r\n\tvar lastDayEnd = new Date(to);\r\n\tif(scheduler.date.day_start(new Date(to)).valueOf() != to.valueOf()){\r\n\t\tlastDayEnd = scheduler.date.day_start(lastDayEnd);\r\n\t\tlastDayEnd = scheduler.date.add(lastDayEnd, 1, \"day\");\r\n\t}\r\n\twhile(checkDate < lastDayEnd){\r\n\t\tnoCells = false;\r\n\t\tvar cellIndex = this.locate_holder_day(checkDate, false, event);\r\n\t\tvar weekCellIndex = cellIndex % cols;\r\n\t\tif(!this._ignores[weekCellIndex]){\r\n\t\t\tisAnyCellVisible = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tcheckDate = scheduler.date.add(checkDate, 1, \"day\");\r\n\t}\r\n\treturn noCells || isAnyCellVisible;\r\n};\r\n\r\nscheduler._pre_render_events_table = function(evs, hold) { // max - max height of week slot\r\n\tthis._time_order(evs);\r\n\tvar out = [];\r\n\tvar weeks = [\r\n\t\t[],\r\n\t\t[],\r\n\t\t[],\r\n\t\t[],\r\n\t\t[],\r\n\t\t[],\r\n\t\t[]\r\n\t]; //events by weeks\r\n\tvar max = this._colsS.heights;\r\n\tvar start_date;\r\n\tvar cols = this._cols.length;\r\n\tvar chunks_info = {};\r\n\r\n\tfor (var i = 0; i < evs.length; i++) {\r\n\t\tvar ev = evs[i];\r\n\t\tvar id = ev.id;\r\n\t\tif (!chunks_info[id]) {\r\n\t\t\tchunks_info[id] = {\r\n\t\t\t\tfirst_chunk: true,\r\n\t\t\t\tlast_chunk: true\r\n\t\t\t};\r\n\t\t}\r\n\t\tvar chunk_info = chunks_info[id];\r\n\t\tvar sd = (start_date || ev.start_date);\r\n\t\tvar ed = ev.end_date;\r\n\t\t//trim events which are crossing through current view\r\n\t\tif (sd < this._min_date) {\r\n\t\t\tchunk_info.first_chunk = false;\r\n\t\t\tsd = this._min_date;\r\n\t\t}\r\n\t\tif (ed > this._max_date) {\r\n\t\t\tchunk_info.last_chunk = false;\r\n\t\t\ted = this._max_date;\r\n\t\t}\r\n\r\n\t\tvar locate_s = this.locate_holder_day(sd, false, ev);\r\n\t\tev._sday = locate_s % cols;\r\n\t\t//skip single day events for ignored dates\r\n\t\tif (this._ignores[ev._sday] && ev._timed) continue;\r\n\r\n\t\tvar locate_e = this.locate_holder_day(ed, true, ev) || cols;\r\n\t\tev._eday = (locate_e % cols) || cols; //cols used to fill full week, when event end on monday\r\n\t\tev._length = locate_e - locate_s;\r\n\t\t//3600000 - compensate 1 hour during winter|summer time shift\r\n\t\tev._sweek = Math.floor((this._correct_shift(sd.valueOf(), 1) - this._min_date.valueOf()) / (60 * 60 * 1000 * 24 * cols));\r\n\r\n\t\tvar isAnyCellVisible = scheduler._is_any_multiday_cell_visible(sd, ed, ev);\r\n\r\n\t\tif(!isAnyCellVisible){\r\n\t\t\tstart_date = null;\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\t//current slot\r\n\t\tvar stack = weeks[ev._sweek];\r\n\t\t//check order position\r\n\t\tvar stack_line;\r\n\r\n\t\tfor (stack_line = 0; stack_line < stack.length; stack_line++)\r\n\t\t\tif (stack[stack_line]._eday <= ev._sday)\r\n\t\t\t\tbreak;\r\n\r\n\t\tif (!ev._sorder || !hold) {\r\n\t\t\tev._sorder = stack_line;\r\n\t\t}\r\n\r\n\t\tif (ev._sday + ev._length <= cols) {\r\n\t\t\tstart_date = null;\r\n\t\t\tout.push(ev);\r\n\t\t\tstack[stack_line] = ev;\r\n\t\t\t//get max height of slot\r\n\t\t\tmax[ev._sweek] = stack.length - 1;\r\n\t\t\tev._first_chunk = chunk_info.first_chunk;\r\n\t\t\tev._last_chunk = chunk_info.last_chunk;\r\n\t\t} else { // split long event in chunks\r\n\t\t\tvar copy = this._copy_event(ev);\r\n\t\t\tcopy.id = ev.id;\r\n\t\t\tcopy._length = cols - ev._sday;\r\n\t\t\tcopy._eday = cols;\r\n\t\t\tcopy._sday = ev._sday;\r\n\t\t\tcopy._sweek = ev._sweek;\r\n\t\t\tcopy._sorder = ev._sorder;\r\n\t\t\tcopy.end_date = this.date.add(sd, copy._length, \"day\");\r\n\t\t\tcopy._first_chunk = chunk_info.first_chunk;\r\n\t\t\tif (chunk_info.first_chunk) {\r\n\t\t\t\tchunk_info.first_chunk = false;\r\n\t\t\t}\r\n\r\n\t\t\tout.push(copy);\r\n\t\t\tstack[stack_line] = copy;\r\n\t\t\tstart_date = copy.end_date;\r\n\t\t\t//get max height of slot\r\n\t\t\tmax[ev._sweek] = stack.length - 1;\r\n\t\t\ti--;\r\n\t\t\tcontinue;  //repeat same step\r\n\t\t}\r\n\t}\r\n\treturn out;\r\n};\r\nscheduler._copy_dummy = function() {\r\n\tvar a = new Date(this.start_date);\r\n\tvar b = new Date(this.end_date);\r\n\tthis.start_date = a;\r\n\tthis.end_date = b;\r\n};\r\nscheduler._copy_event = function(ev) {\r\n\tthis._copy_dummy.prototype = ev;\r\n\treturn new this._copy_dummy();\r\n\t//return {start_date:ev.start_date, end_date:ev.end_date, text:ev.text, id:ev.id}\r\n};\r\nscheduler._rendered = [];\r\nscheduler.clear_view = function() {\r\n\tfor (var i = 0; i < this._rendered.length; i++) {\r\n\t\tvar obj = this._rendered[i];\r\n\t\tif (obj.parentNode) obj.parentNode.removeChild(obj);\r\n\t}\r\n\tthis._rendered = [];\r\n};\r\nscheduler.updateEvent = function(id) {\r\n\tvar ev = this.getEvent(id);\r\n\tthis.clear_event(id);\r\n\r\n\tif (ev && this.is_visible_events(ev) && this.filter_event(id, ev) && (this._table_view || this.config.multi_day || ev._timed)) {\r\n\t\tif (this.config.update_render){\r\n\t\t\tthis.render_view_data();\r\n\t\t}else{\r\n\t\t\tif(this.getState().mode == \"month\" && !this.getState().drag_id && !this.isOneDayEvent(ev)){\r\n\t\t\t\tthis.render_view_data();\r\n\t\t\t}else{\r\n\t\t\t\tthis.render_view_data([ev], true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\nscheduler.clear_event = function(id) {\r\n\tthis.for_rendered(id, function(node, i) {\r\n\t\tif (node.parentNode)\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\tscheduler._rendered.splice(i, 1);\r\n\t});\r\n};\r\nscheduler._y_from_date = function(date){\r\n\tvar sm = date.getHours() * 60 + date.getMinutes();\r\n\treturn ((Math.round((sm * 60 * 1000 - this.config.first_hour * 60 * 60 * 1000) * this.config.hour_size_px / (60 * 60 * 1000))) % (this.config.hour_size_px * 24)); //42px/hour\r\n};\r\nscheduler._calc_event_y = function(ev, min_height){\r\n\tmin_height = min_height || 0;\r\n\tvar sm = ev.start_date.getHours() * 60 + ev.start_date.getMinutes();\r\n\tvar em = (ev.end_date.getHours() * 60 + ev.end_date.getMinutes()) || (scheduler.config.last_hour * 60);\r\n\tvar top = this._y_from_date(ev.start_date);\r\n\r\n\tvar height = Math.max(min_height, (em - sm) * this.config.hour_size_px / 60); //42px/hour\r\n\treturn {\r\n\t\ttop: top,\r\n\t\theight: height\r\n\t};\r\n};\r\nscheduler.render_event = function(ev, buffer, parentWidth) {\r\n\tvar menu = scheduler.xy.menu_width;\r\n\tvar menu_offset = (this.config.use_select_menu_space) ? 0 : menu;\r\n\tif (ev._sday < 0) return; //can occur in case of recurring event during time shift\r\n\r\n\tvar parent = scheduler.locate_holder(ev._sday);\r\n\tif (!parent) return; //attempt to render non-visible event\r\n\r\n\tbuffer = buffer || parent;\r\n\r\n\tvar pos_y = this._calc_event_y(ev, scheduler.xy.min_event_height);\r\n\tvar top = pos_y.top,\r\n\t\theight = pos_y.height;\r\n\r\n\tvar ev_count = ev._count || 1;\r\n\tvar ev_sorder = ev._sorder || 0;\r\n\r\n\tparentWidth = parentWidth || parent.clientWidth;\r\n\tif(this.config.day_column_padding){\r\n\t\tparentWidth -= this.config.day_column_padding;\r\n\t}\r\n\r\n\tvar width = Math.floor((parentWidth - menu_offset) / ev_count);\r\n\tvar left = ev_sorder * width + 1;\r\n\tif (!ev._inner) width = width * (ev_count - ev_sorder);\r\n\tif (this.config.cascade_event_display) {\r\n\t\tvar limit = this.config.cascade_event_count;\r\n\t\tvar margin = this.config.cascade_event_margin;\r\n\t\tleft = ev_sorder % limit * margin;\r\n\t\tvar right = (ev._inner) ? (ev_count - ev_sorder - 1) % limit * margin / 2 : 0;\r\n\t\twidth = Math.floor(parentWidth - menu_offset - left - right);\r\n\t}\r\n\r\n\tif(height < 30){\r\n\t\tev._mode = \"smallest\";\r\n\t}else if(height < 42){\r\n\t\tev._mode = \"small\";\r\n\t}else{\r\n\t\tev._mode = null;\r\n\t}\r\n\r\n\tvar d = this._render_v_bar(ev, menu_offset + left, top, width, height, ev._text_style, scheduler.templates.event_header(ev.start_date, ev.end_date, ev), scheduler.templates.event_text(ev.start_date, ev.end_date, ev));\r\n\t\r\n\tif(ev._mode === \"smallest\"){\r\n\t\td.classList.add(\"dhx_cal_event--xsmall\");\r\n\t}else if (ev._mode === \"small\"){\r\n\t\td.classList.add(\"dhx_cal_event--small\");\r\n\t}\r\n\r\n\tthis._waiAria.eventAttr(ev, d);\r\n\tthis._rendered.push(d);\r\n\tbuffer.appendChild(d);\r\n\r\n\tvar parentPosition = parseInt( this.config.rtl ? parent.style.right : parent.style.left, 10);\r\n\r\n\tleft = left + parentPosition + menu_offset;\r\n\r\n\tif (this._edit_id == ev.id) {\r\n\r\n\t\td.style.zIndex = 1; //fix overlapping issue\r\n\t\twidth = Math.max(width, scheduler.xy.editor_width);\r\n\t\td = document.createElement(\"div\");\r\n\t\td.setAttribute(\"event_id\", ev.id); // for backward compatibility\r\n\t\td.setAttribute(this.config.event_attribute, ev.id);\r\n\r\n\t\tthis._waiAria.eventAttr(ev, d);\r\n\r\n\t\td.className = \"dhx_cal_event dhx_cal_editor\";\r\n\t\tif (this.config.rtl) left++;\r\n\t\tthis.set_xy(d, width, height, left, top);\r\n\r\n\r\n\t\tif(ev.color){\r\n\t\t\td.style.setProperty(\"--dhx-scheduler-event-background\", ev.color);\r\n\t\t}\r\n\t\tvar tplClass = scheduler.templates.event_class(ev.start_date, ev.end_date, ev);\r\n\r\n\t\tif(tplClass){\r\n\t\t\td.className += \" \" + tplClass;\r\n\t\t}\r\n\t\tvar d2 = document.createElement(\"div\");\r\n\t\td2.style.cssText += \"overflow:hidden;height:100%\";\r\n\r\n\t\td.appendChild(d2);\r\n\t\tthis._els[\"dhx_cal_data\"][0].appendChild(d);\r\n\t\tthis._rendered.push(d);\r\n\r\n\t\td2.innerHTML = \"<textarea class='dhx_cal_editor'>\" + ev.text + \"</textarea>\";\r\n\t\tthis._editor = d2.querySelector(\"textarea\");\r\n\t\t\r\n\t\tscheduler.event(this._editor, \"keydown\", function(e) {\r\n\t\t\tif (e.shiftKey) return true;\r\n\t\t\tvar code = e.keyCode;\r\n\t\t\tif (code == scheduler.keys.edit_save) scheduler.editStop(true);\r\n\t\t\tif (code == scheduler.keys.edit_cancel) scheduler.editStop(false);\r\n\r\n\t\t\tif(code == scheduler.keys.edit_save || code == scheduler.keys.edit_cancel){\r\n\t\t\t\tif(e.preventDefault) e.preventDefault();\r\n\t\t\t}\r\n\t\t});\r\n\t\tscheduler.event(this._editor, \"selectstart\", function (e) {\r\n\t\t\te.cancelBubble = true;\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\tscheduler._focus(this._editor, true);\r\n\t\t//IE and opera can add x-scroll during focusing\r\n\t\tthis._els[\"dhx_cal_data\"][0].scrollLeft = 0;\r\n\t}\r\n\tif (this.xy.menu_width !== 0 && this._select_id == ev.id) {\r\n\r\n\t\tif (this.config.cascade_event_display && this._drag_mode)\r\n\t\t\td.style.zIndex = 1; //fix overlapping issue for cascade view in case of dnd of selected event\r\n\t\tvar icons = this.config[\"icons_\" + ((this._edit_id == ev.id) ? \"edit\" : \"select\")];\r\n\t\tvar icons_str = \"\";\r\n\r\n\t\tvar ariaAttr;\r\n\r\n\t\tfor (var i = 0; i < icons.length; i++) {\r\n\t\t\tconst currentIcon = icons[i];\r\n\t\t\tariaAttr = this._waiAria.eventMenuAttrString(currentIcon);\r\n\t\t\ticons_str += `<div class='dhx_menu_icon ${currentIcon}' title='${this.locale.labels[currentIcon]}' ${ariaAttr}></div>`;\r\n\t\t}\r\n\t\tvar obj = this._render_v_bar(ev, left - menu - 1, top, menu, null, \"\", \"<div class='dhx_menu_head'></div>\", icons_str, true);\r\n\r\n\t\tif(ev.color){\r\n\t\t\tobj.style.setProperty(\"--dhx-scheduler-event-background\", ev.color);\r\n\t\t}\r\n\t\tif(ev.textColor){\r\n\t\t\tobj.style.setProperty(\"--dhx-scheduler-event-color\", ev.textColor);\r\n\t\t}\r\n\r\n\t\t//obj.style.left = left - menu + 1;\r\n\t\tthis._els[\"dhx_cal_data\"][0].appendChild(obj);\r\n\t\tthis._rendered.push(obj);\r\n\t}\r\n\tif(this.config.drag_highlight && this._drag_id == ev.id){\r\n\t\tthis.highlightEventPosition(ev);\r\n\t}\r\n};\r\nscheduler._render_v_bar = function (ev, x, y, w, h, style, contentA, contentB, bottom) {\r\n\tvar d = document.createElement(\"div\");\r\n\tvar id = ev.id;\r\n\tvar cs = (bottom) ? \"dhx_cal_event dhx_cal_select_menu\" : \"dhx_cal_event\";\r\n\r\n\tvar state = scheduler.getState();\r\n\tif(state.drag_id == ev.id){\r\n\t\tcs += \" dhx_cal_event_drag\";\r\n\t}\r\n\r\n\tif(state.select_id == ev.id){\r\n\t\tcs += \" dhx_cal_event_selected\";\r\n\t}\r\n\r\n\tvar cse = scheduler.templates.event_class(ev.start_date, ev.end_date, ev);\r\n\tif (cse) cs = cs + \" \" + cse;\r\n\r\n\tif(this.config.cascade_event_display) {\r\n\t\tcs += \" dhx_cal_event_cascade\";\r\n\t}\r\n\r\n\tvar boxWidth = w - 1;\r\n\tvar html = `<div event_id=\"${id}\" ${this.config.event_attribute}=\"${id}\" class=\"${cs}\"\r\n\t\t\t\tstyle=\"position:absolute; top:${y}px; ${((this.config.rtl) ? 'right:':'left:')}${x}px; width:${boxWidth}px; height:${h}px; ${(style || \"\")}\" \r\n\t\t\t\tdata-bar-start=\"${ev.start_date.valueOf()}\" data-bar-end=\"${ev.end_date.valueOf()}\">\r\n\t\t\t\t</div>`;\r\n\r\n\td.innerHTML = html;\r\n\r\n\tvar container = d.cloneNode(true).firstChild;\r\n\r\n\tif (!bottom && scheduler.renderEvent(container, ev, w, h, contentA, contentB)) {\r\n\t\tif(ev.color){\r\n\t\t\tcontainer.style.setProperty(\"--dhx-scheduler-event-background\", ev.color);\r\n\t\t}\r\n\t\tif(ev.textColor){\r\n\t\t\tcontainer.style.setProperty(\"--dhx-scheduler-event-color\", ev.textColor);\r\n\t\t}\r\n\r\n\t\treturn container;\r\n\t} else {\r\n\t\tcontainer = d.firstChild;\r\n\t\tif(ev.color){\r\n\t\t\tcontainer.style.setProperty(\"--dhx-scheduler-event-background\", ev.color);\r\n\t\t}\r\n\t\tif(ev.textColor){\r\n\t\t\tcontainer.style.setProperty(\"--dhx-scheduler-event-color\", ev.textColor);\r\n\t\t}\r\n\r\n\t\tvar inner_html = '<div class=\"dhx_event_move dhx_header\" >&nbsp;</div>';\r\n\t\tinner_html += '<div class=\"dhx_event_move dhx_title\">' + contentA + '</div>';\r\n\t\tinner_html += '<div class=\"dhx_body\">' + contentB + '</div>'; // +2 css specific, moved from render_event\r\n\r\n\t\tvar footer_class = \"dhx_event_resize dhx_footer\";\r\n\t\tif (bottom || ev._drag_resize === false)\r\n\t\t\tfooter_class = \"dhx_resize_denied \" + footer_class;\r\n\r\n\t\tinner_html += '<div class=\"' + footer_class + '\" style=\" width:' + (bottom ? ' margin-top:-1px;' : '') + '\" ></div>';\r\n\r\n\t\tcontainer.innerHTML = inner_html;\r\n\t}\r\n\r\n\treturn container;\r\n};\r\nscheduler.renderEvent = function(){\r\n\treturn false;\r\n};\r\nscheduler.locate_holder = function(day) {\r\n\tif (this._mode == \"day\") return this._els[\"dhx_cal_data\"][0].firstChild; //dirty\r\n\treturn this._els[\"dhx_cal_data\"][0].childNodes[day];\r\n};\r\nscheduler.locate_holder_day = function(date, past) {\r\n\tvar day = Math.floor((this._correct_shift(date, 1) - this._min_date) / (60 * 60 * 24 * 1000));\r\n\t//when locating end data of event , we need to use next day if time part was defined\r\n\tif (past && this.date.time_part(date)) day++;\r\n\treturn day;\r\n};\r\n\r\n\r\n\r\nscheduler._get_dnd_order = function(order, ev_height, max_height){\r\n\tif(!this._drag_event)\r\n\t\treturn order;\r\n\tif(!this._drag_event._orig_sorder)\r\n\t\tthis._drag_event._orig_sorder = order;\r\n\telse\r\n\t\torder = this._drag_event._orig_sorder;\r\n\r\n\tvar evTop = ev_height * order;\r\n\twhile((evTop + ev_height) > max_height){\r\n\t\torder--;\r\n\t\tevTop -= ev_height;\r\n\t}\r\n\torder = Math.max(order, 0);\r\n\treturn order;\r\n};\r\n//scheduler._get_event_bar_pos = function(sday, eday, week, drag){\r\nscheduler._get_event_bar_pos = function(ev){\r\n\tvar rtl = this.config.rtl;\r\n\tvar columns = this._colsS;\r\n\tvar x = columns[ev._sday];\r\n\tvar x2 = columns[ev._eday];\r\n\tif (rtl) {\r\n\t\tx = columns[columns.col_length] - columns[ev._eday] + columns[0];\r\n\t\tx2 = columns[columns.col_length] - columns[ev._sday] + columns[0];\r\n\t}\r\n\r\n\tif (x2 == x) x2 = columns[ev._eday + 1];\r\n\tvar hb = this.xy.bar_height;\r\n\r\n\tvar order = ev._sorder;\r\n\tif(ev.id == this._drag_id){\r\n\t\tvar cellHeight = columns.heights[ev._sweek + 1] - columns.heights[ev._sweek]- this.xy.month_head_height;//22 for month head height\r\n\t\torder = scheduler._get_dnd_order(order, hb, cellHeight);\r\n\t}\r\n\tvar y_event_offset =  order * hb;\r\n\tvar y = columns.heights[ev._sweek] + (columns.height ? (this.xy.month_scale_height + 2) : 2 ) + y_event_offset;\r\n\treturn {x:x, x2:x2, y:y};\r\n};\r\n\r\nscheduler.render_event_bar = function (ev) {\r\n\tvar parent = this._rendered_location;\r\n\tvar pos = this._get_event_bar_pos(ev);\r\n\tvar y = pos.y;\r\n\tvar x = pos.x;\r\n\tvar x2 = pos.x2;\r\n\t// resize for month mutliday events\r\n\tvar resize_handle = \"\";\r\n\r\n\t//events in ignored dates\r\n\r\n\tif (!x2) return;\r\n\r\n\tvar resizable = scheduler.config.resize_month_events && this._mode == \"month\" &&\r\n\t\t(!ev._timed || scheduler.config.resize_month_timed);\r\n\r\n\tvar d = document.createElement(\"div\");\r\n\tvar left_chunk = (ev.hasOwnProperty(\"_first_chunk\") && ev._first_chunk),\r\n\t\tright_chunk = (ev.hasOwnProperty(\"_last_chunk\") && ev._last_chunk);\r\n\r\n\tvar resize_left = resizable && (ev._timed || left_chunk);\r\n\tvar resize_right = resizable && (ev._timed || right_chunk);\r\n\r\n\tvar timed = true;\r\n\tvar cs = \"dhx_cal_event_clear\";\r\n\tif (!ev._timed || resizable) {\r\n\t\ttimed = false;\r\n\t\tcs = \"dhx_cal_event_line\";\r\n\t}\r\n\tif(left_chunk){\r\n\t\tcs += \" dhx_cal_event_line_start\";\r\n\t}\r\n\tif(right_chunk){\r\n\t\tcs += \" dhx_cal_event_line_end\";\r\n\t}\r\n\tif(resize_left){\r\n\t\tresize_handle += \"<div class='dhx_event_resize dhx_event_resize_start'></div>\";\r\n\t}\r\n\tif(resize_right){\r\n\t\tresize_handle += \"<div class='dhx_event_resize dhx_event_resize_end'></div>\";\r\n\t}\r\n\r\n\tvar cse = scheduler.templates.event_class(ev.start_date, ev.end_date, ev);\r\n\tif (cse){\r\n\t\tcs += \" \" + cse;\r\n\t}\r\n\r\n\tvar bg_color = (ev.color ? (\"--dhx-scheduler-event-background:\" + ev.color + \";\") : \"\");\r\n\tvar color = (ev.textColor ? (\"--dhx-scheduler-event-color:\" + ev.textColor + \";\") : \"\");\r\n\r\n\tvar style_text = [\r\n\t\t\"position:absolute\",\r\n\t\t\"top:\" + y + \"px\",\r\n\t\t\"left:\" + x + \"px\",\r\n\t\t\"width:\" + (x2 - x - (timed ? 1 : 0)) + \"px\",\r\n\t\t\"height:\" + (this.xy.bar_height - 2) + \"px\",\r\n\t\tcolor,\r\n\t\tbg_color,\r\n\t\t(ev._text_style || \"\")\r\n\t].join(\";\");\r\n\r\n\tvar html = \"<div event_id='\" + ev.id + \"' \" + this.config.event_attribute + \"='\" + ev.id + \"' class='\"+ cs + \"' style='\"+style_text+\"'\"+this._waiAria.eventBarAttrString(ev)+\">\";\r\n\tif (resizable) {\r\n\t\thtml += resize_handle;\r\n\t}\r\n\tif(scheduler.getState().mode == \"month\"){\r\n\t\tev = scheduler.getEvent(ev.id); // ev at this point could be a part (row in a month view) of a larger event\r\n\t}\r\n\r\n\tif (ev._timed){\r\n\t\thtml += `<span class='dhx_cal_event_clear_date'>${scheduler.templates.event_bar_date(ev.start_date, ev.end_date, ev)}</span>`;\r\n\t}\r\n\r\n\thtml += \"<div class='dhx_cal_event_line_content'>\";\r\n\thtml += scheduler.templates.event_bar_text(ev.start_date, ev.end_date, ev) + '</div>';\r\n\thtml += \"</div>\";\r\n\thtml += '</div>';\r\n\r\n\td.innerHTML = html;\r\n\r\n\tthis._rendered.push(d.firstChild);\r\n\tparent.appendChild(d.firstChild);\r\n};\r\n\r\nscheduler._locate_event = function(node) {\r\n\tvar id = null;\r\n\twhile (node && !id && node.getAttribute) {\r\n\t\tid = node.getAttribute(this.config.event_attribute);\r\n\t\tnode = node.parentNode;\r\n\t}\r\n\treturn id;\r\n};\r\n\r\nscheduler.edit = function(id) {\r\n\tif (this._edit_id == id) return;\r\n\tthis.editStop(false, id);\r\n\tthis._edit_id = id;\r\n\tthis.updateEvent(id);\r\n};\r\nscheduler.editStop = function(mode, id) {\r\n\tif (id && this._edit_id == id) return;\r\n\tvar ev = this.getEvent(this._edit_id);\r\n\tif (ev) {\r\n\t\tif (mode) ev.text = this._editor.value;\r\n\t\tthis._edit_id = null;\r\n\t\tthis._editor = null;\r\n\t\tthis.updateEvent(ev.id);\r\n\t\tthis._edit_stop_event(ev, mode);\r\n\t}\r\n};\r\nscheduler._edit_stop_event = function(ev, mode) {\r\n\tif (this._new_event) {\r\n\t\tif (!mode) {\r\n\t\t\tif (ev) // in case of custom lightbox user can already delete event\r\n\t\t\t\tthis.deleteEvent(ev.id, true);\r\n\t\t} else {\r\n\t\t\tthis.callEvent(\"onEventAdded\", [ev.id, ev]);\r\n\t\t}\r\n\t\tthis._new_event = null;\r\n\t} else {\r\n\t\tif (mode){\r\n\t\t\tthis.callEvent(\"onEventChanged\", [ev.id, ev]);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nscheduler.getEvents = function(from, to) {\r\n\tvar result = [];\r\n\tfor (var a in this._events) {\r\n\t\tvar ev = this._events[a];\r\n\t\tif (ev && ( (!from && !to) || (ev.start_date < to && ev.end_date > from) ))\r\n\t\t\tresult.push(ev);\r\n\t}\r\n\treturn result;\r\n};\r\nscheduler.getRenderedEvent = function(id) {\r\n\tif (!id)\r\n\t\treturn;\r\n\tvar rendered_events = scheduler._rendered;\r\n\tfor (var i=0; i<rendered_events.length; i++) {\r\n\t\tvar rendered_event = rendered_events[i];\r\n\t\tif (rendered_event.getAttribute(scheduler.config.event_attribute) == id) {\r\n\t\t\treturn rendered_event;\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n};\r\nscheduler.showEvent = function(id, mode) {\r\n\tvar section;\r\n\tif(id && typeof id === \"object\"){\r\n\t\tmode = id.mode;\r\n\t\tsection = id.section;\r\n\t\tid = id.section;\r\n\t}\r\n\tvar ev = (typeof id == \"number\" || typeof id == \"string\") ? scheduler.getEvent(id) : id;\r\n\tmode = mode||scheduler._mode;\r\n\r\n\tif (!ev || (this.checkEvent(\"onBeforeEventDisplay\") && !this.callEvent(\"onBeforeEventDisplay\", [ev, mode])))\r\n\t\treturn;\r\n\r\n\tvar scroll_hour = scheduler.config.scroll_hour;\r\n\tscheduler.config.scroll_hour = ev.start_date.getHours();\r\n\tvar preserve_scroll = scheduler.config.preserve_scroll;\r\n\tscheduler.config.preserve_scroll = false;\r\n\r\n\tvar original_color = ev.color;\r\n\tvar original_text_color = ev.textColor;\r\n\tif (scheduler.config.highlight_displayed_event) {\r\n\t\tev.color = scheduler.config.displayed_event_color;\r\n\t\tev.textColor = scheduler.config.displayed_event_text_color;\r\n\t}\r\n\r\n\tscheduler.setCurrentView(new Date(ev.start_date), mode);\r\n\r\n\tfunction restoreOriginalColors(){\r\n\t\tev.color = original_color;\r\n\t\tev.textColor = original_text_color;\r\n\t}\r\n\r\n\tscheduler.config.scroll_hour = scroll_hour;\r\n\tscheduler.config.preserve_scroll = preserve_scroll;\r\n\r\n\tif (scheduler.matrix && scheduler.matrix[mode]) {\r\n\t\tvar timeline = scheduler.getView();\r\n\t\tvar property = timeline.y_property;\r\n\r\n\t\tvar event = scheduler.getEvent(ev.id);\r\n\r\n\t\tif(event){\r\n\t\t\tif(!section){\r\n\t\t\t\tvar section = event[property];\r\n\t\t\t\tif(Array.isArray(section)){\r\n\t\t\t\t\tsection = section[0];\r\n\t\t\t\t}else if(typeof section === \"string\" && scheduler.config.section_delimiter && section.indexOf(scheduler.config.section_delimiter) > -1){\r\n\t\t\t\t\tsection = section.split(scheduler.config.section_delimiter)[0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar top = timeline.getSectionTop(section);\r\n\t\t\tvar left = timeline.posFromDate(event.start_date);\r\n\t\t\tvar container = scheduler.$container.querySelector(\".dhx_timeline_data_wrapper\");\r\n\t\t\tleft = left - (container.offsetWidth - timeline.dx) / 2;\r\n\t\t\ttop = top - container.offsetHeight / 2 + timeline.dy/2;\r\n\r\n\t\t\tif (timeline._smartRenderingEnabled()) {\r\n\t\t\t\tvar handlerId = timeline.attachEvent(\"onScroll\", function(){\r\n\t\t\t\t\trestoreOriginalColors();\r\n\t\t\t\t\ttimeline.detachEvent(handlerId);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\ttimeline.scrollTo({\r\n\t\t\t\tleft: left,\r\n\t\t\t\ttop: top\r\n\t\t\t});\r\n\t\t\tif (!timeline._smartRenderingEnabled()) {\r\n\t\t\t\trestoreOriginalColors();\r\n\t\t\t}\r\n\t\t}\r\n\t}else{\r\n\t\trestoreOriginalColors();\r\n\t}\r\n\r\n\tscheduler.callEvent(\"onAfterEventDisplay\", [ev, mode]);\r\n};\r\n\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n\r\nscheduler._append_drag_marker = function(m){\r\n\tif(m.parentNode) return;\r\n\tvar zone = scheduler._els[\"dhx_cal_data\"][0];\r\n\r\n\tvar scale = zone.lastChild;\r\n\tvar className = scheduler._getClassName(scale);\r\n\tif(className.indexOf(\"dhx_scale_holder\") < 0 && scale.previousSibling){\r\n\t\tscale = scale.previousSibling;\r\n\t}\r\n\r\n\tclassName = scheduler._getClassName(scale);\r\n\tif (scale && className.indexOf(\"dhx_scale_holder\") === 0) {\r\n\t\tscale.appendChild(m);\r\n\t}\r\n};\r\n\r\nscheduler._update_marker_position = function(m, event){\r\n\tvar size = scheduler._calc_event_y(event, 0);\r\n\tm.style.top = size.top + \"px\";\r\n\tm.style.height = size.height + \"px\";\r\n};\r\n\r\nscheduler.highlightEventPosition = function(event){\r\n\tvar m = document.createElement(\"div\");\r\n\r\n\tm.setAttribute(\"event_id\", event.id); // for backward compatibility\r\n\tm.setAttribute(this.config.event_attribute, event.id);\r\n\tthis._rendered.push(m);\r\n\tthis._update_marker_position(m, event);\r\n\r\n\tvar css = this.templates.drag_marker_class(event.start_date, event.end_date, event);\r\n\tvar html = this.templates.drag_marker_content(event.start_date, event.end_date, event);\r\n\tm.className = \"dhx_drag_marker\";\r\n\tif(css)\r\n\t\tm.className += \" \" + css;\r\n\tif(html)\r\n\t\tm.innerHTML = html;\r\n\tthis._append_drag_marker(m);\r\n};\r\n\r\n}","import xmlLoaded from \"./loaders/xml\";\r\nimport jsonLoader from \"./loaders/json\";\r\nimport iCalLoader from \"./loaders/ical\";\r\nimport createSerializator from \"../core/common/get_serializable_events\";\r\n\r\nexport default function extend(scheduler) {\r\n\r\nscheduler._loaded = {};\r\nscheduler._load = function(url, from) {\r\n\turl = url || this._load_url;\r\n\r\n\tif(!url){\r\n\t\t//if scheduler.setLoadMode is called before scheduler.init, initial rendering will invoke data loading while url is undefined\r\n\t\treturn;\r\n\t}\r\n\r\n\turl += (url.indexOf(\"?\") == -1 ? \"?\" : \"&\") + \"timeshift=\" + (new Date()).getTimezoneOffset();\r\n\tif (this.config.prevent_cache)    url += \"&uid=\" + this.uid();\r\n\tvar to;\r\n\tfrom = from || this._date;\r\n\tfunction ajaxCallback(response) {\r\n\t\tscheduler.on_load(response);\r\n\t\tscheduler.callEvent(\"onLoadEnd\", []);\r\n\t}\r\n\tif (this._load_mode) {\r\n\t\tvar lf = this.templates.load_format;\r\n\r\n\t\tfrom = this.date[this._load_mode + \"_start\"](new Date(from.valueOf()));\r\n\t\twhile (from > this._min_date) from = this.date.add(from, -1, this._load_mode);\r\n\t\tto = from;\r\n\r\n\t\tvar cache_line = true;\r\n\t\twhile (to < this._max_date) {\r\n\t\t\tto = this.date.add(to, 1, this._load_mode);\r\n\t\t\tif (this._loaded[lf(from)] && cache_line)\r\n\t\t\t\tfrom = this.date.add(from, 1, this._load_mode); else cache_line = false;\r\n\t\t}\r\n\r\n\t\tvar temp_to = to;\r\n\t\tdo {\r\n\t\t\tto = temp_to;\r\n\t\t\ttemp_to = this.date.add(to, -1, this._load_mode);\r\n\t\t} while (temp_to > from && this._loaded[lf(temp_to)]);\r\n\r\n\t\tif (to <= from)\r\n\t\t\treturn false; //already loaded\r\n\r\n\t\tscheduler.ajax.get(url + \"&from=\" + lf(from) + \"&to=\" + lf(to), ajaxCallback);\r\n\r\n\t\twhile (from < to) {\r\n\t\t\tthis._loaded[lf(from)] = true;\r\n\t\t\tfrom = this.date.add(from, 1, this._load_mode);\r\n\t\t}\r\n\t} else {\r\n\t\tscheduler.ajax.get(url, ajaxCallback);\r\n\t}\r\n\r\n\t// TODO: remove onXLS\r\n\tthis.callEvent(\"onXLS\", []);\r\n\tthis.callEvent(\"onLoadStart\", []);\r\n\treturn true;\r\n};\r\n\r\nscheduler._parsers = {};\r\n\r\n\r\nxmlLoaded(scheduler);\r\njsonLoader(scheduler);\r\niCalLoader(scheduler);\r\n\r\nscheduler.on_load = function (loader) {\r\n\tthis.callEvent(\"onBeforeParse\", []);\r\n\r\n\tvar evs;\r\n\tvar error = false;\r\n\r\n\tvar foundParser = false;\r\n\tfor(var i in this._parsers){\r\n\t\tvar parser = this._parsers[i];\r\n\t\tif(parser.canParse(loader.xmlDoc.responseText, loader.xmlDoc)){\r\n\t\t\ttry{\r\n\t\t\t\tvar param = loader.xmlDoc.responseText;\r\n\t\t\t\tif(i === \"xml\"){\r\n\t\t\t\t\tparam = loader;\r\n\t\t\t\t}\r\n\t\t\t\tevs = parser.parse(param);\r\n\t\t\t\tif(!evs){\r\n\t\t\t\t\terror = true;\r\n\t\t\t\t}\r\n\t\t\t}catch(e){\r\n\t\t\t\terror = true;\r\n\t\t\t}\r\n\t\t\tfoundParser = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tif(!foundParser){\r\n\t\tif(this._process && this[this._process]){\r\n\t\t\ttry{\r\n\t\t\t\tevs = this[this._process].parse(loader.xmlDoc.responseText);\r\n\t\t\t}catch (e){\r\n\t\t\t\terror = true;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\terror = true;\r\n\t\t}\r\n\t}\r\n\r\n\tif(error || (loader.xmlDoc.status && loader.xmlDoc.status >= 400)){\r\n\t\tthis.callEvent(\"onLoadError\", [loader.xmlDoc]);\r\n\t\tevs = [];\r\n\t}\r\n\r\n\tthis._process_loading(evs);\r\n\r\n\t// TODO: remove onXLE\r\n\tthis.callEvent(\"onXLE\", []);\r\n\tthis.callEvent(\"onParse\", []);\r\n};\r\nscheduler._process_loading = function(evs) {\r\n\tthis._loading = true;\r\n\tthis._not_render = true;\r\n\tfor (var i = 0; i < evs.length; i++) {\r\n\t\tif (!this.callEvent(\"onEventLoading\", [evs[i]])) continue;\r\n\t\tthis.addEvent(evs[i]);\r\n\t}\r\n\tthis._not_render = false;\r\n\tif (this._render_wait) this.render_view_data();\r\n\r\n\tthis._loading = false;\r\n\tif (this._after_call) this._after_call();\r\n\tthis._after_call = null;\r\n};\r\nscheduler._init_event = function(event) {\r\n\tevent.text = (event.text || event._tagvalue) || \"\";\r\n\tevent.start_date = scheduler._init_date(event.start_date);\r\n\tevent.end_date = scheduler._init_date(event.end_date);\r\n};\r\n\r\nscheduler._init_date = function(date){\r\n\tif(!date)\r\n\t\treturn null;\r\n\tif (typeof date == \"string\") {\r\n\t\treturn scheduler._helpers.parseDate(date);\r\n\t}\r\n\telse return new Date(date);\r\n};\r\n\r\nconst getSerializableData = createSerializator(scheduler);\r\nscheduler.serialize = function(){\r\n\tconst dataset = [];\r\n\tconst allEvents = getSerializableData();\r\n\tfor (var a in allEvents){\r\n\t\t\r\n\t\tconst exportedEvent = {};\r\n\t\tvar ev = allEvents[a];\r\n\r\n\t\tfor(var key in ev){\r\n\t\t\tif (key.charAt(0) == \"$\" || key.charAt(0) == \"_\"){\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tlet exportValue;\r\n\t\t\tconst rawValue = ev[key];\r\n\t\t\tif(scheduler.utils.isDate(rawValue)){\r\n\t\t\t\texportValue = scheduler.defined(scheduler.templates.xml_format) ? scheduler.templates.xml_format(rawValue) : scheduler.templates.format_date(rawValue);\r\n\t\t\t}else{\r\n\t\t\t\texportValue = rawValue;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\texportedEvent[key] = exportValue;\r\n\t\t}\r\n\r\n\t\tdataset.push(exportedEvent);\r\n\t}\r\n\treturn dataset;\r\n};\r\n\r\n/*\r\nscheduler.json = {};\r\nscheduler.json.parse = function(data) {\r\n\r\n\tvar events = [];\r\n\r\n\tif (typeof data == \"string\") {\r\n\t\tdata = JSON.parse(data);\r\n\t}\r\n\tif (Object.prototype.toString.call(data) === '[object Array]') {\r\n\t\tevents = data;\r\n\t} else {\r\n\t\tif(data){\r\n\t\t\tif(data.events){\r\n\t\t\t\tevents = data.events;\r\n\t\t\t}else if(data.data){\r\n\t\t\t\tevents = data.data;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tevents = events || [];\r\n\r\n\tif (data.dhx_security) {\r\n\t\tif (window.dhtmlx) {\r\n\t\t\twindow.dhtmlx.security_key = data.dhx_security;\r\n\t\t}\r\n\t\tscheduler.security_key = data.dhx_security;\r\n\t}\r\n\r\n\tvar collections = (data && data.collections) ? data.collections : {};\r\n\tvar collections_loaded = false;\r\n\tfor (var key in collections) {\r\n\t\tif (collections.hasOwnProperty(key)) {\r\n\t\t\tcollections_loaded = true;\r\n\t\t\tvar collection = collections[key];\r\n\t\t\tvar arr = scheduler.serverList[key];\r\n\t\t\tif (!arr) {\r\n\t\t\t\tscheduler.serverList[key] = arr = [];\r\n\t\t\t}\r\n\t\t\tarr.splice(0, arr.length); //clear old options\r\n\t\t\tfor (var j = 0; j < collection.length; j++) {\r\n\t\t\t\tvar option = collection[j];\r\n\t\t\t\tvar obj = { key: option.value, label: option.label }; // resulting option object\r\n\t\t\t\tfor (var option_key in option) {\r\n\t\t\t\t\tif (option.hasOwnProperty(option_key)) {\r\n\t\t\t\t\t\tif (option_key == \"value\" || option_key == \"label\")\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\tobj[option_key] = option[option_key]; // obj['value'] = option['value']\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tarr.push(obj);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif (collections_loaded)\r\n\t\tscheduler.callEvent(\"onOptionsLoad\", []);\r\n\r\n\tvar evs = [];\r\n\tfor (var i = 0; i < events.length; i++) {\r\n\t\tvar event = events[i];\r\n\t\tscheduler._init_event(event);\r\n\t\tevs.push(event);\r\n\t}\r\n\treturn evs;\r\n};*/\r\nscheduler.parse = function(data, type) {\r\n\tthis._process = type;\r\n\tthis.on_load({xmlDoc: {responseText: data}});\r\n};\r\nscheduler.load = function(url, call) {\r\n\tif (typeof call == \"string\") {\r\n\t\tthis._process = call;\r\n\t\tcall = arguments[2];\r\n\t}\r\n\r\n\tthis._load_url = url;\r\n\tthis._after_call = call;\r\n\tthis._load(url, this._date);\r\n};\r\n//possible values - day,week,month,year,all\r\nscheduler.setLoadMode = function(mode) {\r\n\tif (mode == \"all\") mode = \"\";\r\n\tthis._load_mode = mode;\r\n};\r\n\r\nscheduler.serverList = function(name, array) {\r\n\tif (array) {\r\n\t\tthis.serverList[name] = array.slice(0);\r\n\t\treturn this.serverList[name];\r\n\t}\r\n\tthis.serverList[name] = (this.serverList[name] || []);\r\n\treturn this.serverList[name];\r\n};\r\nscheduler._userdata = {};\r\n\r\nscheduler._xmlNodeToJSON = function(node) {\r\n\tvar t = {};\r\n\tfor (var i = 0; i < node.attributes.length; i++)\r\n\t\tt[node.attributes[i].name] = node.attributes[i].value;\r\n\r\n\tfor (var i = 0; i < node.childNodes.length; i++) {\r\n\t\tvar child = node.childNodes[i];\r\n\t\tif (child.nodeType == 1)\r\n\t\t\tt[child.tagName] = child.firstChild ? child.firstChild.nodeValue : \"\";\r\n\t}\r\n\r\n\tif (!t.text) t.text = node.firstChild ? node.firstChild.nodeValue : \"\";\r\n\r\n\treturn t;\r\n};\r\nscheduler.attachEvent(\"onXLS\", function() {\r\n\tif (this.config.show_loading === true) {\r\n\t\tvar t;\r\n\t\tt = this.config.show_loading = document.createElement(\"div\");\r\n\t\tt.className = 'dhx_loading';\r\n\t\tt.style.left = Math.round((this._x - 128) / 2) + \"px\";\r\n\t\tt.style.top = Math.round((this._y - 15) / 2) + \"px\";\r\n\t\tthis._obj.appendChild(t);\r\n\t}\r\n});\r\nscheduler.attachEvent(\"onXLE\", function() {\r\n\tvar t = this.config.show_loading;\r\n\tif (t && typeof t == \"object\") {\r\n\t\tif(t.parentNode) {\r\n\t\t\tt.parentNode.removeChild(t);\r\n\t\t}\r\n\t\tthis.config.show_loading = true;\r\n\t}\r\n});\r\n\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n\r\nscheduler._parsers.xml = {\r\n\tcanParse: function(data, xhr){\r\n\t\t// IE returns non-empty responseXML type regardless of actual data type\r\n\t\tif(xhr.responseXML && xhr.responseXML.firstChild){\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\ttry{\r\n\t\t\tvar xmlDoc = scheduler.ajax.parse(xhr.responseText);\r\n\t\t\tvar topElement = scheduler.ajax.xmltop(\"data\", xmlDoc);\r\n\t\t\tif(topElement && topElement.tagName === \"data\"){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}catch (e){\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tparse: function(loader) {\r\n\t\tvar xml;\r\n\r\n\t\tif (!loader.xmlDoc.responseXML) { //from a string\r\n\t\t\tloader.xmlDoc.responseXML = scheduler.ajax.parse(loader.xmlDoc.responseText);\r\n\t\t}\r\n\t\r\n\t\txml = scheduler.ajax.xmltop(\"data\", loader.xmlDoc);\r\n\t\tif (xml.tagName != \"data\") return null;//not an xml\r\n\t\tvar csrfToken = xml.getAttribute(\"dhx_security\");\r\n\t\tif (csrfToken) {\r\n\t\t\tif (window.dhtmlx) {\r\n\t\t\t\twindow.dhtmlx.security_key = csrfToken;\r\n\t\t\t}\r\n\t\t\tscheduler.security_key = csrfToken;\r\n\t\t}\r\n\t\r\n\t\tvar opts = scheduler.ajax.xpath(\"//coll_options\", loader.xmlDoc);\r\n\t\tfor (var i = 0; i < opts.length; i++) {\r\n\t\t\tvar bind = opts[i].getAttribute(\"for\");\r\n\t\t\tvar arr = scheduler.serverList[bind];\r\n\t\t\tif (!arr) {\r\n\t\t\t\tscheduler.serverList[bind] = arr = [];\r\n\t\t\t}\r\n\t\t\tarr.splice(0, arr.length);\t//clear old options\r\n\t\t\tvar itms = scheduler.ajax.xpath(\".//item\", opts[i]);\r\n\t\t\tfor (var j = 0; j < itms.length; j++) {\r\n\t\t\t\tvar itm = itms[j];\r\n\t\t\t\tvar attrs = itm.attributes;\r\n\t\t\t\tvar obj = { key: itms[j].getAttribute(\"value\"), label: itms[j].getAttribute(\"label\")};\r\n\t\t\t\tfor (var k = 0; k < attrs.length; k++) {\r\n\t\t\t\t\tvar attr = attrs[k];\r\n\t\t\t\t\tif (attr.nodeName == \"value\" || attr.nodeName == \"label\")\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\tobj[attr.nodeName] = attr.nodeValue;\r\n\t\t\t\t}\r\n\t\t\t\tarr.push(obj);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (opts.length)\r\n\t\t\tscheduler.callEvent(\"onOptionsLoad\", []);\r\n\t\r\n\t\tvar ud = scheduler.ajax.xpath(\"//userdata\", loader.xmlDoc);\r\n\t\tfor (var i = 0; i < ud.length; i++) {\r\n\t\t\tvar udx = scheduler._xmlNodeToJSON(ud[i]);\r\n\t\t\tscheduler._userdata[udx.name] = udx.text;\r\n\t\t}\r\n\t\r\n\t\tvar evs = [];\r\n\t\txml = scheduler.ajax.xpath(\"//event\", loader.xmlDoc);\r\n\t\r\n\t\tfor (var i = 0; i < xml.length; i++) {\r\n\t\t\tvar ev = evs[i] = scheduler._xmlNodeToJSON(xml[i]);\r\n\t\t\tscheduler._init_event(ev);\r\n\t\t}\r\n\t\treturn evs;\r\n\t}\r\n};\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n\r\nscheduler.json = scheduler._parsers.json = {\r\n\tcanParse: function(data){\r\n\t\tif(data && typeof data === \"object\"){\r\n\t\t\treturn true;\r\n\t\t} else if(typeof data === \"string\"){\r\n\t\t\ttry {\r\n\t\t\t\tvar result = JSON.parse(data);\r\n\t\t\t\treturn Object.prototype.toString.call(result) === '[object Object]' || \r\n\t\t\t\t\t\tObject.prototype.toString.call(result) === '[object Array]';\r\n\t\t\t} catch (err) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\tparse: function(data) {\r\n\t\tvar events = [];\r\n\r\n\t\tif (typeof data == \"string\") {\r\n\t\t\tdata = JSON.parse(data);\r\n\t\t}\r\n\t\tif (Object.prototype.toString.call(data) === '[object Array]') {\r\n\t\t\tevents = data;\r\n\t\t} else {\r\n\t\t\tif(data){\r\n\t\t\t\tif(data.events){\r\n\t\t\t\t\tevents = data.events;\r\n\t\t\t\t}else if(data.data){\r\n\t\t\t\t\tevents = data.data;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tevents = events || [];\r\n\r\n\t\tif (data.dhx_security) {\r\n\t\t\tif (window.dhtmlx) {\r\n\t\t\t\twindow.dhtmlx.security_key = data.dhx_security;\r\n\t\t\t}\r\n\t\t\tscheduler.security_key = data.dhx_security;\r\n\t\t}\r\n\r\n\t\tvar collections = (data && data.collections) ? data.collections : {};\r\n\t\tvar collections_loaded = false;\r\n\t\tfor (var key in collections) {\r\n\t\t\tif (collections.hasOwnProperty(key)) {\r\n\t\t\t\tcollections_loaded = true;\r\n\t\t\t\tvar collection = collections[key];\r\n\t\t\t\tvar arr = scheduler.serverList[key];\r\n\t\t\t\tif (!arr) {\r\n\t\t\t\t\tscheduler.serverList[key] = arr = [];\r\n\t\t\t\t}\r\n\t\t\t\tarr.splice(0, arr.length); //clear old options\r\n\t\t\t\tfor (var j = 0; j < collection.length; j++) {\r\n\t\t\t\t\tvar option = collection[j];\r\n\t\t\t\t\tvar obj = { key: option.value, label: option.label }; // resulting option object\r\n\t\t\t\t\tfor (var option_key in option) {\r\n\t\t\t\t\t\tif (option.hasOwnProperty(option_key)) {\r\n\t\t\t\t\t\t\tif (option_key == \"value\" || option_key == \"label\")\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\tobj[option_key] = option[option_key]; // obj['value'] = option['value']\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tarr.push(obj);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (collections_loaded)\r\n\t\t\tscheduler.callEvent(\"onOptionsLoad\", []);\r\n\r\n\t\tvar evs = [];\r\n\t\tfor (var i = 0; i < events.length; i++) {\r\n\t\t\tvar event = events[i];\r\n\t\t\tscheduler._init_event(event);\r\n\t\t\tevs.push(event);\r\n\t\t}\r\n\t\treturn evs;\r\n\t}\r\n};\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n\r\nscheduler.ical = scheduler._parsers.ical = {\r\n\tcanParse: function(data){\r\n\t\tif(typeof data === \"string\"){\r\n\t\t\treturn new RegExp(\"^BEGIN:VCALENDAR\").test(data);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t},\r\n\tparse:function(str){\r\n\t\tvar data = str.match(RegExp(this.c_start+\"[^\\f]*\"+this.c_end,\"\"));\r\n\t\tif (!data.length) return;\r\n\r\n\t\t// mpl: handle bad unfolding\r\n\t\tdata[0]=data[0].replace(/[\\r\\n]+ /g,\"\");\r\n\r\n\t\t//unfolding \r\n\t\tdata[0]=data[0].replace(/[\\r\\n]+(?=[a-z \\t])/g,\" \");\r\n\t\t//drop property\r\n\t\tdata[0]=data[0].replace(/;[^:\\r\\n]*:/g,\":\");\r\n\t\t\r\n\t\t\r\n\t\tvar incoming=[];\r\n\t\tvar match;\r\n\t\tvar event_r = RegExp(\"(?:\"+this.e_start+\")([^\\f]*?)(?:\"+this.e_end+\")\",\"g\");\r\n\t\twhile ((match=event_r.exec(data)) !== null){\r\n\t\t\tvar e={};\r\n\t\t\tvar param;\r\n\t\t\tvar param_r = /[^\\r\\n]+[\\r\\n]+/g;\r\n\t\t\twhile ((param=param_r.exec(match[1])) !== null)\r\n\t\t\t\tthis.parse_param(param.toString(),e);\r\n\t\t\tif (e.uid && !e.id) e.id = e.uid; //fallback to UID, when ID is not defined\r\n\t\t\tincoming.push(e);\t\r\n\t\t}\r\n\t\treturn incoming;\r\n\t},\r\n\tparse_param:function(str,obj){\r\n\t\tvar d = str.indexOf(\":\"); \r\n\t\t\tif (d==-1) return;\r\n\t\t\r\n\t\tvar name = str.substr(0,d).toLowerCase();\r\n\t\tvar value = str.substr(d+1).replace(/\\\\,/g,\",\").replace(/[\\r\\n]+$/,\"\");\r\n\t\tif (name==\"summary\")\r\n\t\t\tname=\"text\";\r\n\t\telse if (name==\"dtstart\"){\r\n\t\t\tname = \"start_date\";\r\n\t\t\tvalue = this.parse_date(value,0,0);\r\n\t\t}\r\n\t\telse if (name==\"dtend\"){\r\n\t\t\tname = \"end_date\";\r\n\t\t\tvalue = this.parse_date(value,0,0);\r\n\t\t}\r\n\t\tobj[name]=value;\r\n\t},\r\n\tparse_date:function(value,dh,dm){\r\n\t\tvar t = value.split(\"T\");\r\n\r\n\t\tvar utcMark = false;\r\n\t\tif (t[1]){\r\n\t\t\tdh=t[1].substr(0,2);\r\n\t\t\tdm=t[1].substr(2,2);\r\n\t\t\tutcMark = !!(t[1][6] == \"Z\");\r\n\t\t}\r\n\t\tvar dy = t[0].substr(0,4);\r\n\t\tvar dn = parseInt(t[0].substr(4,2),10)-1;\r\n\t\tvar dd = t[0].substr(6,2);\r\n\r\n\t\tif(scheduler.config.server_utc || utcMark){\r\n\t\t\treturn new Date(Date.UTC(dy,dn,dd,dh,dm)) ;\r\n\t\t}else{\r\n\t\t\treturn new Date(dy,dn,dd,dh,dm);\r\n\t\t}\r\n\t},\r\n\tc_start:\"BEGIN:VCALENDAR\",\r\n\te_start:\"BEGIN:VEVENT\",\r\n\te_end:\"END:VEVENT\",\r\n\tc_end:\"END:VCALENDAR\"\t\r\n};\r\n\r\n}","export default function extend(scheduler) {\r\n\r\nscheduler._lightbox_controls = {};\r\nscheduler.formSection = function(name){\r\n\tvar config = this.config.lightbox.sections;\r\n\tvar i = 0;\r\n\tfor (i; i < config.length; i++) {\r\n\t\tif (config[i].name == name) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tif (i === config.length) {\r\n\t\t// GS-1662 section not found, should exit here instead of throwing an error\r\n\t\treturn null;\r\n\t}\r\n\r\n\tvar section = config[i];\r\n\tif (!scheduler._lightbox) {\r\n\t\tscheduler.getLightbox();\r\n\t}\r\n\tvar header = scheduler._lightbox.querySelector(`#${section.id}`);\r\n\tvar node = header.nextSibling;\r\n\r\n\tvar result = {\r\n\t\tsection: section,\r\n\t\theader: header,\r\n\t\tnode: node,\r\n\t\tgetValue:function(ev){\r\n\t\t\treturn scheduler.form_blocks[section.type].get_value(node, (ev||{}), section);\r\n\t\t},\r\n\t\tsetValue:function(value, ev){\r\n\t\t\treturn scheduler.form_blocks[section.type].set_value(node, value, (ev||{}), section);\r\n\t\t}\r\n\t};\r\n\r\n\tvar handler = scheduler._lightbox_controls[\"get_\"+section.type+\"_control\"];\r\n\treturn handler?handler(result):result;\r\n};\r\nscheduler._lightbox_controls.get_template_control = function(result) {\r\n\tresult.control = result.node;\r\n\treturn result;\r\n};\r\nscheduler._lightbox_controls.get_select_control = function(result) {\r\n\tresult.control = result.node.getElementsByTagName('select')[0];\r\n\treturn result;\r\n};\r\nscheduler._lightbox_controls.get_textarea_control = function(result) {\r\n\tresult.control = result.node.getElementsByTagName('textarea')[0];\r\n\treturn result;\r\n};\r\nscheduler._lightbox_controls.get_time_control = function(result) {\r\n\tresult.control = result.node.getElementsByTagName('select'); // array\r\n\treturn result;\r\n};\r\n\r\nscheduler._lightbox_controls.defaults = {\r\n\ttemplate: {\r\n\t\theight:30\r\n\t},\r\n\ttextarea: {\r\n\t\theight: 200\r\n\t},\r\n\tselect: {\r\n\t\theight: 23\r\n\t},\r\n\ttime: {\r\n\t\theight: 20\r\n\t}\r\n};\r\n\r\n\r\nscheduler.form_blocks={\r\n\ttemplate:{\r\n\t\trender: function(sns){\r\n\t\t\treturn \"<div class='dhx_cal_ltext dhx_cal_template' ></div>\";\r\n\t\t},\r\n\t\tset_value:function(node,value,ev,config){\r\n\t\t\tnode.innerHTML = value||\"\";\r\n\t\t},\r\n\t\tget_value:function(node,ev,config){\r\n\t\t\treturn node.innerHTML||\"\";\r\n\t\t},\r\n\t\tfocus: function(node){\r\n\t\t}\r\n\t},\r\n\ttextarea:{\r\n\t\trender:function(sns){\r\n\t\t\tconst placeholder = sns.placeholder ? `placeholder='${sns.placeholder}'` : \"\";\r\n\t\t\treturn `<div class='dhx_cal_ltext'><textarea ${placeholder}></textarea></div>`;\r\n\t\t},\r\n\t\tset_value:function(node,value,ev){\r\n\t\t\tscheduler.form_blocks.textarea._get_input(node).value=value||\"\";\r\n\t\t},\r\n\t\tget_value:function(node,ev){\r\n\t\t\treturn scheduler.form_blocks.textarea._get_input(node).value;\r\n\t\t},\r\n\t\tfocus:function(node){\r\n\t\t\tvar a = scheduler.form_blocks.textarea._get_input(node);\r\n\t\t\tscheduler._focus(a, true);\r\n\t\t},\r\n\t\t_get_input: function(node){\r\n\t\t\treturn node.getElementsByTagName(\"textarea\")[0];\r\n\t\t}\r\n\t},\r\n\tselect:{\r\n\t\trender:function(sns){\r\n\t\t\t//var defaults = scheduler._lightbox_controls.defaults.select;\r\n\t\t\tvar html=\"<div class='dhx_cal_ltext dhx_cal_select'><select style='width:100%;'>\";\r\n\t\t\tfor (var i=0; i < sns.options.length; i++)\r\n\t\t\t\thtml+=\"<option value='\"+sns.options[i].key+\"'>\"+sns.options[i].label+\"</option>\";\r\n\t\t\thtml+=\"</select></div>\";\r\n\t\t\treturn html;\r\n\t\t},\r\n\t\tset_value:function(node,value,ev,sns){\r\n\t\t\tvar select = node.firstChild;\r\n\t\t\tif (!select._dhx_onchange && sns.onchange) {\r\n\t\t\t\tscheduler.event(select, \"change\", sns.onchange);\r\n\t\t\t\tselect._dhx_onchange = true;\r\n\t\t\t}\r\n\t\t\tif (typeof value == \"undefined\")\r\n\t\t\t\tvalue = (select.options[0]||{}).value;\r\n\t\t\tselect.value=value||\"\";\r\n\t\t},\r\n\t\tget_value:function(node,ev){\r\n\t\t\treturn node.firstChild.value;\r\n\t\t},\r\n\t\tfocus:function(node){\r\n\t\t\tvar a=node.firstChild; scheduler._focus(a, true);\r\n\t\t}\r\n\t},\r\n\ttime:{\r\n\t\trender:function(sns) {\r\n\t\t\tif (!sns.time_format) {\r\n\t\t\t\t// default order\r\n\t\t\t\tsns.time_format = [\"%H:%i\", \"%d\", \"%m\", \"%Y\"];\r\n\t\t\t}\r\n\t\t\t// map: default order => real one\r\n\t\t\tsns._time_format_order = {};\r\n\t\t\tvar time_format = sns.time_format;\r\n\r\n\t\t\tvar cfg = scheduler.config;\r\n\t\t\tvar dt = scheduler.date.date_part(scheduler._currentDate());\r\n\t\t\tvar last = 24*60, first = 0;\r\n\t\t\tif(scheduler.config.limit_time_select){\r\n\t\t\t\tlast = 60*cfg.last_hour+1;\r\n\t\t\t\tfirst = 60*cfg.first_hour;\r\n\t\t\t\tdt.setHours(cfg.first_hour);\r\n\t\t\t}\r\n\t\t\tvar html = \"\";\r\n\r\n\t\t\tfor (var p = 0; p < time_format.length; p++) {\r\n\t\t\t\tvar time_option = time_format[p];\r\n\r\n\t\t\t\t// adding spaces between selects\r\n\t\t\t\tif (p > 0) {\r\n\t\t\t\t\thtml += \" \";\r\n\t\t\t\t}\r\n\t\t\t\tvar selectBoxClass = \"\";\r\n\t\t\t\tvar options = \"\";\r\n\t\t\t\tswitch (time_option) {\r\n\t\t\t\t\tcase \"%Y\":\r\n\t\t\t\t\t\tselectBoxClass = \"dhx_lightbox_year_select\";\r\n\t\t\t\t\t\tsns._time_format_order[3] = p;\r\n\t\t\t\t\t\t//year\r\n\t\t\t\t\t\tvar range;\r\n\t\t\t\t\t\tvar start_year;\r\n\t\t\t\t\t\tvar end_year;\r\n\t\t\t\t\t\tif(sns.year_range){\r\n\t\t\t\t\t\t\tif (!isNaN(sns.year_range)) {\r\n\t\t\t\t\t\t\t\trange = sns.year_range;\r\n\t\t\t\t\t\t\t} else if (sns.year_range.push) {\r\n\t\t\t\t\t\t\t\t// if\r\n\t\t\t\t\t\t\t\tstart_year = sns.year_range[0];\r\n\t\t\t\t\t\t\t\tend_year = sns.year_range[1];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\trange = range || 10;\r\n\t\t\t\t\t\tvar offset = offset || Math.floor(range / 2);\r\n\t\t\t\t\t\tstart_year = start_year || dt.getFullYear() - offset;\r\n\t\t\t\t\t\tend_year = end_year || start_year + range;\r\n\r\n\t\t\t\t\t\tfor (var i = start_year; i < end_year; i++)\r\n\t\t\t\t\t\t\toptions += \"<option value='\" + (i) + \"'>\" + (i) + \"</option>\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"%m\":\r\n\t\t\t\t\t\tselectBoxClass = \"dhx_lightbox_month_select\";\r\n\t\t\t\t\t\tsns._time_format_order[2] = p;\r\n\t\t\t\t\t\t//month\r\n\t\t\t\t\t\tfor (var i=0; i < 12; i++)\r\n\t\t\t\t\t\t\toptions+=\"<option value='\"+i+\"'>\"+this.locale.date.month_full[i]+\"</option>\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"%d\":\r\n\t\t\t\t\t\tselectBoxClass = \"dhx_lightbox_day_select\";\r\n\t\t\t\t\t\tsns._time_format_order[1] = p;\r\n\t\t\t\t\t\t//days\r\n\t\t\t\t\t\tfor (var i=1; i < 32; i++)\r\n\t\t\t\t\t\t\toptions+=\"<option value='\"+i+\"'>\"+i+\"</option>\";\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"%H:%i\":\r\n\t\t\t\t\t\tselectBoxClass = \"dhx_lightbox_time_select\";\r\n\t\t\t\t\t\tsns._time_format_order[0] = p;\r\n\t\t\t\t\t\t//hours\r\n\t\t\t\t\t\tvar i = first;\r\n\t\t\t\t\t\tvar tdate = dt.getDate();\r\n\t\t\t\t\t\tsns._time_values = [];\r\n\r\n\t\t\t\t\t\twhile(i<last){\r\n\t\t\t\t\t\t\tvar time=this.templates.time_picker(dt);\r\n\t\t\t\t\t\t\toptions+=\"<option value='\"+i+\"'>\"+time+\"</option>\";\r\n\t\t\t\t\t\t\tsns._time_values.push(i);\r\n\t\t\t\t\t\t\tdt.setTime(dt.valueOf()+this.config.time_step*60*1000);\r\n\t\t\t\t\t\t\tvar diff = (dt.getDate()!=tdate)?1:0; // moved or not to the next day\r\n\t\t\t\t\t\t\ti=diff*24*60+dt.getHours()*60+dt.getMinutes();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(options){\r\n\r\n\t\t\t\t\tvar ariaAttrs = scheduler._waiAria.lightboxSelectAttrString(time_option);\r\n\t\t\t\t\tvar readonly = sns.readonly ? \"disabled='disabled'\" : \"\";\r\n\t\t\t\t\thtml += \"<select class='\"+selectBoxClass+\"' \"+readonly + ariaAttrs+\">\"+options+\"</select> \";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//var defaults = scheduler._lightbox_controls.defaults.select;\r\n\r\n\t\t\treturn \"<div class='dhx_section_time'>\"+html+\"<span style='font-weight:normal; font-size:10pt;' class='dhx_section_time_spacer'> &nbsp;&ndash;&nbsp; </span>\"+html+\"</div>\";\r\n\t\t},\r\n\t\tset_value:function(node,value,ev,config){\r\n\t\t\tvar cfg = scheduler.config;\r\n\t\t\tvar s=node.getElementsByTagName(\"select\");\r\n\t\t\tvar map = config._time_format_order;\r\n\t\t\tvar start_date, end_date;\r\n\r\n\t\t\tif(cfg.full_day) {\r\n\t\t\t\tif (!node._full_day){\r\n\t\t\t\t\tvar html = \"<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> \"+scheduler.locale.labels.full_day+\"&nbsp;</label></input>\";\r\n\t\t\t\t\tif (!scheduler.config.wide_form)\r\n\t\t\t\t\t\thtml = node.previousSibling.innerHTML+html;\r\n\t\t\t\t\tnode.previousSibling.innerHTML=html;\r\n\t\t\t\t\tnode._full_day=true;\r\n\t\t\t\t}\r\n\t\t\t\tvar input=node.previousSibling.getElementsByTagName(\"input\")[0];\r\n\t\t\t\tinput.checked = (scheduler.date.time_part(ev.start_date)===0 && scheduler.date.time_part(ev.end_date)===0);\r\n\r\n\t\t\t\ts[map[0]].disabled=input.checked;\r\n\t\t\t\ts[ map[0] + s.length/2 ].disabled=input.checked;\r\n\r\n\t\t\t\tif(!input.$_eventAttached){\r\n\t\t\t\t\tinput.$_eventAttached = true;\r\n\r\n\t\t\t\t\t\tscheduler.event(input, \"click\", function(){\r\n\t\t\t\t\t\tif(input.checked) {\r\n\t\t\t\t\t\t\tvar obj = {};\r\n\t\t\t\t\t\t\tscheduler.form_blocks.time.get_value(node,obj,config);\r\n\r\n\t\t\t\t\t\t\tstart_date = scheduler.date.date_part(obj.start_date);\r\n\t\t\t\t\t\t\tend_date = scheduler.date.date_part(obj.end_date);\r\n\r\n\t\t\t\t\t\t\tif (+end_date == +start_date || (+end_date >= +start_date && (ev.end_date.getHours() !== 0 || ev.end_date.getMinutes() !== 0)))\r\n\t\t\t\t\t\t\t\tend_date = scheduler.date.add(end_date, 1, \"day\");\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tstart_date = null;\r\n\t\t\t\t\t\t\tend_date = null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ts[map[0]].disabled=input.checked;\r\n\t\t\t\t\t\ts[ map[0] + s.length/2 ].disabled=input.checked;\r\n\r\n\t\t\t\t\t\t_fill_lightbox_select(s,0,start_date||ev.start_date);\r\n\t\t\t\t\t\t_fill_lightbox_select(s,4,end_date||ev.end_date);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(cfg.auto_end_date && cfg.event_duration) {\r\n\t\t\t\tvar _update_lightbox_select = function () {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!(cfg.auto_end_date && cfg.event_duration)){\r\n\t\t\t\t\t\t// setting may be disabled after the handler is attached\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstart_date = new Date(s[map[3]].value,s[map[2]].value,s[map[1]].value,0,s[map[0]].value);\r\n\t\t\t\t\tend_date = new Date(start_date.getTime() + (scheduler.config.event_duration * 60 * 1000));\r\n\t\t\t\t\t_fill_lightbox_select(s, 4, end_date);\r\n\t\t\t\t};\r\n\t\t\t\tfor(var i=0; i<4; i++) {\r\n\t\t\t\t\tif(!s[i].$_eventAttached) {\r\n\t\t\t\t\t\ts[i].$_eventAttached = true;\r\n\t\t\t\t\t\tscheduler.event(s[i], \"change\", _update_lightbox_select);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction _fill_lightbox_select(s,i,d) {\r\n\t\t\t\tvar time_values = config._time_values;\r\n\t\t\t\tvar direct_value = d.getHours()*60+d.getMinutes();\r\n\t\t\t\tvar fixed_value = direct_value;\r\n\t\t\t\tvar value_found = false;\r\n\t\t\t\tfor (var k=0; k<time_values.length; k++) {\r\n\t\t\t\t\tvar t_v = time_values[k];\r\n\t\t\t\t\tif (t_v === direct_value) {\r\n\t\t\t\t\t\tvalue_found = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (t_v < direct_value)\r\n\t\t\t\t\t\tfixed_value = t_v;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ts[i+map[0]].value=(value_found)?direct_value:fixed_value;\r\n\t\t\t\tif(!(value_found || fixed_value)){\r\n\t\t\t\t\ts[i+map[0]].selectedIndex = -1;//show empty select in FF\r\n\t\t\t\t}\r\n\t\t\t\ts[i+map[1]].value=d.getDate();\r\n\t\t\t\ts[i+map[2]].value=d.getMonth();\r\n\t\t\t\ts[i+map[3]].value=d.getFullYear();\r\n\t\t\t}\r\n\r\n\t\t\t_fill_lightbox_select(s,0,ev.start_date);\r\n\t\t\t_fill_lightbox_select(s,4,ev.end_date);\r\n\t\t},\r\n\t\tget_value:function(node, ev, config) {\r\n\t\t\tvar s = node.getElementsByTagName(\"select\");\r\n\t\t\tvar map = config._time_format_order;\r\n\r\n\t\t\tev.start_date=new Date(s[map[3]].value,s[map[2]].value,s[map[1]].value,0,s[map[0]].value);\r\n\t\t\tev.end_date=new Date(s[map[3]+4].value,s[map[2]+4].value,s[map[1]+4].value,0,s[map[0]+4].value);\r\n\r\n\t\t\tif(!(s[map[3]].value && s[map[3]+4].value)){\r\n\t\t\t\t// use the previous date if start/end years are empty (outside lightbox range)\r\n\t\t\t\tvar original = scheduler.getEvent(scheduler._lightbox_id);\r\n\t\t\t\tif(original){\r\n\t\t\t\t\tev.start_date = original.start_date;\r\n\t\t\t\t\tev.end_date = original.end_date;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (ev.end_date<=ev.start_date)\r\n\t\t\t\tev.end_date=scheduler.date.add(ev.start_date,scheduler.config.time_step,\"minute\");\r\n\t\t\treturn {\r\n\t\t\t\tstart_date: new Date(ev.start_date),\r\n\t\t\t\tend_date: new Date(ev.end_date)\r\n\t\t\t};\r\n\t\t},\r\n\t\tfocus:function(node){\r\n\t\t\tscheduler._focus(node.getElementsByTagName(\"select\")[0]);\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\n\t// GS-2214. Attaching the lightbox to the BODY element is not considered secure.\r\n\t// Attach it to Scheduler container for Salesforce and other secure environments\r\n\tfunction getLightboxRoot(){\r\n\t\tconst cspEnvironment = scheduler.config.csp === true;\r\n\t\tconst salesforceEnvironment = !!window[\"Sfdc\"] || !!window[\"$A\"] || window[\"Aura\"] || ('$shadowResolver$' in document.body);\r\n\t\tif (cspEnvironment || salesforceEnvironment) {\r\n\t\t\treturn scheduler.$root;\r\n\t\t} else {\r\n\t\t\treturn document.body;\r\n\t\t}\r\n\t}\r\n\r\nscheduler._setLbPosition = function(box) {\r\n\tif(!box){\r\n\t\treturn;\r\n\t}\r\n\r\n\tbox.style.top = Math.max(getLightboxRoot().offsetHeight / 2 - box.offsetHeight/2, 0) + \"px\";\r\n\tbox.style.left = Math.max(getLightboxRoot().offsetWidth / 2 - box.offsetWidth/2, 0) + \"px\";\r\n\r\n};\r\n\r\nscheduler.showCover=function(box){\r\n\tif (box){\r\n\t\tbox.style.display=\"block\";\r\n\r\n\t\tthis._setLbPosition(box);\r\n\t}\r\n\tif(scheduler.config.responsive_lightbox){\r\n\t\tdocument.documentElement.classList.add(\"dhx_cal_overflow_container\");\r\n\t\tgetLightboxRoot().classList.add(\"dhx_cal_overflow_container\");\r\n\t}\r\n\tthis.show_cover();\r\n\tthis._cover.style.display = \"\";\r\n};\r\nscheduler.showLightbox=function(id){\r\n\tif (!id) return;\r\n\tif (!this.callEvent(\"onBeforeLightbox\",[id])) {\r\n\t\tif (this._new_event)\r\n\t\t\tthis._new_event = null;\r\n\t\treturn;\r\n\t}\r\n\tthis.showCover(box);\r\n\tvar box = this.getLightbox();\r\n\tthis._setLbPosition(box);\r\n\tthis._fill_lightbox(id,box);\r\n\tthis._waiAria.lightboxVisibleAttr(box);\r\n\t\r\n\tthis.callEvent(\"onLightbox\",[id]);\r\n};\r\nscheduler._fill_lightbox = function(id, box) {\r\n\tvar ev = this.getEvent(id);\r\n\tvar s = box.getElementsByTagName(\"span\");\r\n\tvar lightboxHeader = [];\r\n\r\n\tif (scheduler.templates.lightbox_header) {\r\n\t\tlightboxHeader.push(\"\");\r\n\t\tvar headerContent = scheduler.templates.lightbox_header(ev.start_date, ev.end_date, ev);\r\n\t\tlightboxHeader.push(headerContent);\r\n\t\ts[1].innerHTML = \"\";\r\n\t\ts[2].innerHTML = headerContent;\r\n\t} else {\r\n\t\tvar headerDate = this.templates.event_header(ev.start_date, ev.end_date, ev);\r\n\t\tvar headerTitle = (this.templates.event_bar_text(ev.start_date, ev.end_date, ev) || \"\").substr(0, 70); //IE6 fix;\r\n\r\n\t\tlightboxHeader.push(headerDate);\r\n\t\tlightboxHeader.push(headerTitle);\r\n\t\ts[1].innerHTML = headerDate;\r\n\t\ts[2].innerHTML = headerTitle;\r\n\t}\r\n\r\n\tthis._waiAria.lightboxHeader(box,  lightboxHeader.join(\" \"));\r\n\r\n\tvar sns = this.config.lightbox.sections;\r\n\tfor (var i = 0; i < sns.length; i++) {\r\n\t\tvar current_sns = sns[i];\r\n\t\tvar node = scheduler._get_lightbox_section_node(current_sns);\r\n\t\tvar block = this.form_blocks[current_sns.type];\r\n\t\tvar value = (ev[current_sns.map_to] !== undefined) ? ev[current_sns.map_to] : current_sns.default_value;\r\n\t\tblock.set_value.call(this, node, value, ev, current_sns);\r\n\t\tif (sns[i].focus)\r\n\t\t\tblock.focus.call(this, node);\r\n\t}\r\n\r\n\tscheduler._lightbox_id = id;\r\n};\r\n\r\nscheduler._get_lightbox_section_node = function(section){\r\n\treturn scheduler._lightbox.querySelector(`#${section.id}`).nextSibling;\r\n};\r\n\r\nscheduler._lightbox_out=function(ev){\r\n\tvar sns = this.config.lightbox.sections;\r\n\tfor (var i=0; i < sns.length; i++) {\r\n\t\tvar node = scheduler._lightbox.querySelector(`#${sns[i].id}`);\r\n\t\tnode=(node?node.nextSibling:node);\r\n\t\tvar block=this.form_blocks[sns[i].type];\r\n\t\tvar res=block.get_value.call(this,node,ev, sns[i]);\r\n\t\tif (sns[i].map_to!=\"auto\")\r\n\t\t\tev[sns[i].map_to]=res;\r\n\t}\r\n\treturn ev;\r\n};\r\nscheduler._empty_lightbox=function(data){\r\n\tvar id=scheduler._lightbox_id;\r\n\tvar ev=this.getEvent(id);\r\n\t//var box=this.getLightbox();\r\n\r\n\tthis._lame_copy(ev, data);\r\n\r\n\tthis.setEvent(ev.id,ev);\r\n\tthis._edit_stop_event(ev,true);\r\n\tthis.render_view_data();\r\n};\r\nscheduler.hide_lightbox=function(id){\r\n\tscheduler.endLightbox(false, this.getLightbox());\r\n};\r\n\r\nscheduler.hideCover=function(box){\r\n\tif (box) box.style.display=\"none\";\r\n\tthis.hide_cover();\r\n\tif(scheduler.config.responsive_lightbox){\r\n\t\tdocument.documentElement.classList.remove(\"dhx_cal_overflow_container\");\r\n\t\tgetLightboxRoot().classList.remove(\"dhx_cal_overflow_container\");\r\n\t}\r\n};\r\nscheduler.hide_cover=function(){\r\n\tif (this._cover)\r\n\t\tthis._cover.parentNode.removeChild(this._cover);\r\n\tthis._cover=null;\r\n};\r\n\r\nscheduler.show_cover=function(){\r\n\tif(this._cover) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tthis._cover=document.createElement(\"div\");\r\n\tthis._cover.className=\"dhx_cal_cover\";\r\n\tthis._cover.style.display = \"none\";\r\n\r\n\tscheduler.event(this._cover, \"mousemove\", scheduler._move_while_dnd);\r\n\tscheduler.event(this._cover, \"mouseup\", scheduler._finish_dnd);\r\n\r\n\tgetLightboxRoot().appendChild(this._cover);\r\n};\r\nscheduler.save_lightbox=function(){\r\n\tvar data = this._lightbox_out({}, this._lame_copy(this.getEvent(this._lightbox_id)));\r\n\tif (this.checkEvent(\"onEventSave\") && !this.callEvent(\"onEventSave\",[this._lightbox_id, data, this._new_event]))\r\n\t\treturn;\r\n\tthis._empty_lightbox(data);\r\n\tthis.hide_lightbox();\r\n};\r\nscheduler.startLightbox = function(id, box){\r\n\tthis._lightbox_id = id;\r\n\tthis._custom_lightbox = true;\r\n\r\n\tthis._temp_lightbox = this._lightbox;\r\n\tthis._lightbox = box;\r\n\tthis.showCover(box);\r\n};\r\nscheduler.endLightbox = function(mode, box){\r\n\tvar box = box || scheduler.getLightbox();\r\n\r\n\tvar event = scheduler.getEvent(this._lightbox_id);\r\n\tif(event)\r\n\t\tthis._edit_stop_event(event, mode);\r\n\tif (mode)\r\n\t\tscheduler.render_view_data();\r\n\tthis.hideCover(box);\r\n\r\n\tif (this._custom_lightbox){\r\n\t\tthis._lightbox = this._temp_lightbox;\r\n\t\tthis._custom_lightbox = false;\r\n\t}\r\n\tthis._temp_lightbox = this._lightbox_id = null; // in case of custom lightbox user only calls endLightbox so we need to reset _lightbox_id\r\n\tthis._waiAria.lightboxHiddenAttr(box);\r\n\tthis.resetLightbox();\r\n\tthis.callEvent(\"onAfterLightbox\",[]);\r\n};\r\nscheduler.resetLightbox = function(){\r\n\tif (scheduler._lightbox && !scheduler._custom_lightbox)\r\n\t\tscheduler._lightbox.parentNode.removeChild(scheduler._lightbox);\r\n\tscheduler._lightbox = null;\r\n};\r\nscheduler.cancel_lightbox=function(){\r\n\tif(this._lightbox_id){\r\n\t\tthis.callEvent(\"onEventCancel\",[this._lightbox_id, !!this._new_event]);\r\n\t}\r\n\r\n\tthis.hide_lightbox();\r\n};\r\nscheduler.hideLightbox = scheduler.cancel_lightbox;// GS-1650 need to use cancel in order to fire onEventCancel event, which is important to refresh the state of recurring series\r\n\r\nscheduler._init_lightbox_events=function(){\r\n\tif(this.getLightbox().$_eventAttached){\r\n\t\treturn;\t\r\n\t}\r\n\tconst lightbox = this.getLightbox();\r\n\tlightbox.$_eventAttached = true;\r\n\r\n\tscheduler.event(lightbox, \"click\", function(e){\r\n\r\n\t\tif(e.target.closest(\".dhx_cal_ltitle_close_btn\")){\r\n\t\t\tscheduler.cancel_lightbox();\r\n\t\t}\r\n\t\t\r\n\t\tconst buttonTarget = scheduler.$domHelpers.closest(e.target, \".dhx_btn_set\");\r\n\t\tif(!buttonTarget) {\r\n\t\t\tconst sectionButton = scheduler.$domHelpers.closest(e.target, \".dhx_custom_button[data-section-index]\");\r\n\t\t\tif(sectionButton){\r\n\t\t\t\tconst index = Number(sectionButton.getAttribute(\"data-section-index\"));\r\n\t\t\t\tconst block = scheduler.form_blocks[scheduler.config.lightbox.sections[index].type];\r\n\t\t\t\tblock.button_click(scheduler.$domHelpers.closest(sectionButton, \".dhx_cal_lsection\"), sectionButton, e);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tconst action = buttonTarget ? buttonTarget.getAttribute(\"data-action\") : null;\r\n\r\n\t\tswitch(action){\r\n\t\t\tcase \"dhx_save_btn\":\r\n\t\t\tcase \"save\":\r\n\t\t\t\tif(scheduler.config.readonly_active){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tscheduler.save_lightbox();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"dhx_delete_btn\":\r\n\t\t\tcase \"delete\":\r\n\t\t\t\tif(scheduler.config.readonly_active){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tvar c=scheduler.locale.labels.confirm_deleting;\r\n\r\n\t\t\t\tscheduler._dhtmlx_confirm({message: c, title: scheduler.locale.labels.title_confirm_deleting, callback: function(){\r\n\t\t\t\t\tscheduler.deleteEvent(scheduler._lightbox_id);\r\n\t\t\t\t\tscheduler._new_event = null; //clear flag, if it was unsaved event\r\n\t\t\t\t\tscheduler.hide_lightbox();\r\n\t\t\t\t},\r\n\t\t\t\tconfig: {ok: scheduler.locale.labels.icon_delete}});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"dhx_cancel_btn\":\r\n\t\t\tcase \"cancel\":\r\n\t\t\t\tscheduler.cancel_lightbox();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tscheduler.callEvent(\"onLightboxButton\", [action, buttonTarget, e]);\r\n\t\t}\r\n\t});\r\n\tscheduler.event(lightbox, \"keydown\", function(e){\r\n\t\tvar event = e || window.event;\r\n\t\tvar target = e.target || e.srcElement;\r\n\t\tvar buttonTarget = target.querySelector(\"[dhx_button]\");\r\n\r\n\t\tif(!buttonTarget){\r\n\t\t\tbuttonTarget = target.parentNode.querySelector(\".dhx_custom_button, .dhx_readonly\");\r\n\t\t}\r\n\r\n\t\tswitch((e||event).keyCode){\r\n\t\t\tcase 32:{//space\r\n\t\t\t\tif ((e||event).shiftKey) return;\r\n\t\t\t\tif(buttonTarget && buttonTarget.click){\r\n\t\t\t\t\tbuttonTarget.click();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase scheduler.keys.edit_save:\r\n\t\t\t\tif ((e||event).shiftKey) return;\r\n\t\t\t\tif(buttonTarget && buttonTarget.click){\r\n\t\t\t\t\tbuttonTarget.click();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(scheduler.config.readonly_active){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tscheduler.save_lightbox();\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase scheduler.keys.edit_cancel:\r\n\t\t\t\tscheduler.cancel_lightbox();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t});\r\n};\r\nscheduler.setLightboxSize=function(){\r\n\treturn;\r\n/* TODO: inspect and remove in 7.0\r\n\tvar d = this._lightbox;\r\n\tif (!d) return;\r\n\r\n\tvar con = d.childNodes[1];\r\n\tcon.style.height=\"0px\";\r\n\tcon.style.height=con.scrollHeight+\"px\";\r\n\td.style.height=con.scrollHeight+scheduler.xy.lightbox_additional_height+\"px\";\r\n\tcon.style.height=con.scrollHeight+\"px\"; //it is incredible , how ugly IE can be*/\r\n};\r\n\r\nscheduler._init_dnd_events = function(){\r\n\tscheduler.event(getLightboxRoot(), \"mousemove\", scheduler._move_while_dnd);\r\n\tscheduler.event(getLightboxRoot(), \"mouseup\", scheduler._finish_dnd);\r\n\tscheduler._init_dnd_events = function(){};\r\n };\r\nscheduler._move_while_dnd = function(e){\r\n\tif (scheduler._dnd_start_lb){\r\n\t\tif (!document.dhx_unselectable){\r\n\t\t\tgetLightboxRoot().classList.add(\"dhx_unselectable\");\r\n\t\t\tdocument.dhx_unselectable = true;\r\n\t\t}\r\n\t\tvar lb = scheduler.getLightbox();\r\n\t\tvar now = [e.pageX, e.pageY];\r\n\t\tlb.style.top = scheduler._lb_start[1]+now[1]-scheduler._dnd_start_lb[1]+\"px\";\r\n\t\tlb.style.left = scheduler._lb_start[0]+now[0]-scheduler._dnd_start_lb[0]+\"px\";\r\n\t}\r\n};\r\nscheduler._ready_to_dnd = function(e){\r\n\tvar lb = scheduler.getLightbox();\r\n\tscheduler._lb_start = [lb.offsetLeft, lb.offsetTop];\r\n\tscheduler._dnd_start_lb = [e.pageX, e.pageY];\r\n};\r\nscheduler._finish_dnd = function(){\r\n\tif (scheduler._lb_start){\r\n\t\tscheduler._lb_start = scheduler._dnd_start_lb = false;\r\n\t\tgetLightboxRoot().classList.remove(\"dhx_unselectable\");\r\n\t\tdocument.dhx_unselectable = false;\r\n\t}\r\n};\r\nscheduler.getLightbox=function(){ //scheduler.config.wide_form=true;\r\n\tif (!this._lightbox){\r\n\t\tvar d=document.createElement(\"div\");\r\n\t\td.className=\"dhx_cal_light\";\r\n\t\tif (scheduler.config.wide_form)\r\n\t\t\td.className+=\" dhx_cal_light_wide\";\r\n\t\tif (scheduler.form_blocks.recurring)\r\n\t\t\td.className+=\" dhx_cal_light_rec\";\r\n\t\tif (scheduler.config.rtl)\r\n\t\t\td.className+=\" dhx_cal_light_rtl\";\r\n\t\tif (scheduler.config.responsive_lightbox)\r\n\t\t\td.className += \" dhx_cal_light_responsive\";\r\n\r\n\t\td.style.visibility=\"hidden\";\r\n\t\tvar html = this._lightbox_template;\r\n\r\n\t\tvar buttons = this.config.buttons_left;\r\n\r\n\r\n\t\thtml += \"<div class='dhx_cal_lcontrols'>\";\r\n\t\tvar ariaAttr = \"\";\r\n\t\tfor (var i = 0; i < buttons.length; i++) {\r\n\t\t\tariaAttr = this._waiAria.lightboxButtonAttrString(buttons[i]);\r\n\t\t\thtml += \"<div \"+ariaAttr+\" data-action='\"+ buttons[i]+\"' class='dhx_btn_set dhx_\"+(scheduler.config.rtl?\"right\":\"left\")+\"_btn_set \" + buttons[i] + \"_set'><div class='dhx_btn_inner \" + buttons[i] + \"'></div><div>\" + scheduler.locale.labels[buttons[i]] + \"</div></div>\";\r\n\t\t}\r\n\r\n\t\tbuttons = this.config.buttons_right;\r\n\t\tvar rtl = scheduler.config.rtl;\r\n\t\tfor (var i = 0; i < buttons.length; i++) {\r\n\t\t\tariaAttr = this._waiAria.lightboxButtonAttrString(buttons[i]);\r\n\r\n\t\t\thtml += \"<div class='dhx_cal_lcontrols_push_right'></div>\";\r\n\r\n\t\t\thtml += \"<div \"+ariaAttr+\" data-action='\"+ buttons[i]+\"' class='dhx_btn_set dhx_\"+(rtl?\"left\":\"right\")+\"_btn_set \" +\r\n\t\t\t\t\t\tbuttons[i] + \"_set'><div class='dhx_btn_inner \" +\r\n\t\t\t\t\t\tbuttons[i] + \"'></div><div>\" + scheduler.locale.labels[buttons[i]] + \"</div></div>\";\r\n\t\t}\r\n\t\thtml += \"</div>\";\r\n\t\thtml+=\"</div>\";\r\n\t\td.innerHTML=html;\r\n\t\tif (scheduler.config.drag_lightbox){\r\n\t\t\tscheduler.event(d.firstChild, \"mousedown\", scheduler._ready_to_dnd);\r\n\t\t\tscheduler.event(d.firstChild, \"selectstart\", function(e){ \r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn false; \r\n\t\t\t});\r\n\t\t\td.firstChild.style.cursor = \"move\";\r\n\t\t\tscheduler._init_dnd_events();\r\n\r\n\t\t}\r\n\r\n\t\tthis._waiAria.lightboxAttr(d);\r\n\r\n\t\tthis.show_cover();\r\n\t\tthis._cover.insertBefore(d,this._cover.firstChild);\r\n\t\t\r\n\t\tthis._lightbox=d;\r\n\r\n\t\tvar sns=this.config.lightbox.sections;\r\n\t\thtml=\"\";\r\n\t\tfor (var i=0; i < sns.length; i++) {\r\n\t\t\tvar block=this.form_blocks[sns[i].type];\r\n\t\t\tif (!block) continue; //ignore incorrect blocks\r\n\t\t\tsns[i].id=\"area_\"+this.uid();\r\n\t\t\tvar button = \"\";\r\n\t\t\tif (sns[i].button){\r\n\t\t\t\tvar ariaAttr = scheduler._waiAria.lightboxSectionButtonAttrString(this.locale.labels[\"button_\"+sns[i].button]);\r\n\t\t\t\tbutton = \"<div \"+ariaAttr+\" class='dhx_custom_button' data-section-index='\"+i+\"' index='\"+i+\"'><div class='dhx_custom_button_\"+sns[i].button+\"'></div><div>\"+this.locale.labels[\"button_\"+sns[i].button]+\"</div></div>\";\r\n\t\t\t}\r\n\r\n\t\t\tif (this.config.wide_form){\r\n\t\t\t\thtml+=\"<div class='dhx_wrap_section'>\";\r\n\t\t\t}\r\n\r\n\t\t\tvar label_name = this.locale.labels[\"section_\"+sns[i].name];\r\n\t\t\tif(typeof label_name !== \"string\"){\r\n\t\t\t\tlabel_name = sns[i].name;\r\n\t\t\t}\r\n\t\t\thtml+=\"<div id='\"+sns[i].id+\"' class='dhx_cal_lsection dhx_cal_lsection_\"+sns[i].name+\"'>\"+button+ \"<label>\"+label_name+\"</label></div>\"+block.render.call(this,sns[i]);\r\n\t\t\thtml+=\"</div>\";\r\n\t\t}\r\n\r\n\t\tvar ds=d.getElementsByTagName(\"div\");\r\n\t\tfor (var i=0; i<ds.length; i++) {\r\n\t\t\tvar t_ds = ds[i];\r\n\t\t\tvar className = scheduler._getClassName(t_ds);\r\n\t\t\tif (className == \"dhx_cal_larea\") {\r\n\t\t\t\tt_ds.innerHTML = html;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// bind labels to lightbox inputs\r\n\t\tscheduler._bindLightboxLabels(sns);\r\n\r\n\t\t//sizes\r\n\t\tthis.setLightboxSize();\r\n\r\n\t\tthis._init_lightbox_events(this);\r\n\t\t//d.style.display=\"none\";\r\n\t\td.style.visibility=\"visible\";\r\n\t}\r\n\r\n\r\n\treturn this._lightbox;\r\n};\r\n\r\nscheduler._bindLightboxLabels = function(sections){\r\n\t// link section labels to controls using label[for] attribute and label.onclick=control.focus as a fallback\r\n\t// label[for] is preferable for accessibility reasons\r\n\r\n\tfor(var i = 0; i < sections.length; i++){\r\n\t\tvar section = sections[i];\r\n\t\tif(!section.id || !scheduler._lightbox.querySelector(`#${section.id}`))\r\n\t\t\tcontinue;\r\n\r\n\t\tvar labelBlock = scheduler._lightbox.querySelector(`#${section.id}`);\r\n\t\tvar label = labelBlock.querySelector(\"label\");\r\n\r\n\t\tvar inputBlock = scheduler._get_lightbox_section_node(section);\r\n\t\twhile(inputBlock && !inputBlock.querySelector){\r\n\t\t\tinputBlock = inputBlock.nextSibling;\r\n\t\t}\r\n\r\n\t\tvar fallback = true;\r\n\r\n\t\tif(inputBlock) {\r\n\t\t\tvar input = inputBlock.querySelector(\"input, select, textarea\");\r\n\t\t\tif(input){\r\n\t\t\t\tsection.inputId = input.id || \"input_\" + scheduler.uid();\r\n\t\t\t\tif(!input.id)\r\n\t\t\t\t\tinput.id = section.inputId;\r\n\t\t\t\tlabel.setAttribute(\"for\", section.inputId);\r\n\t\t\t\tfallback = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// use control.focus if failed to bind input using label[for]\r\n\t\tif(fallback){\r\n\t\t\tvar control = scheduler.form_blocks[section.type];\r\n\t\t\tif(control.focus){\r\n\t\t\t\tscheduler.event(label, \"click\", (function(section){\r\n\t\t\t\t\treturn function(){\r\n\r\n\t\t\t\t\t\tvar block = scheduler.form_blocks[section.type];\r\n\t\t\t\t\t\tvar node = scheduler._get_lightbox_section_node(section);\r\n\r\n\t\t\t\t\t\tif(block && block.focus)\r\n\t\t\t\t\t\t\tblock.focus.call(scheduler, node);\r\n\t\t\t\t\t};\r\n\t\t\t\t})(section));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nscheduler.attachEvent(\"onEventIdChange\", function(old_id, new_id){\r\n\tif(this._lightbox_id == old_id)\r\n\t\tthis._lightbox_id = new_id;\r\n});\r\n\r\nscheduler._lightbox_template= `<div class='dhx_cal_ltitle'><div class=\"dhx_cal_ltitle_descr\"><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span>\r\n</div>\r\n<div class=\"dhx_cal_ltitle_controls\">\r\n<a class=\"dhx_cal_ltitle_close_btn scheduler_icon close\"></a>\r\n</div></div><div class='dhx_cal_larea'></div>`;\r\n\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n\r\nscheduler._init_touch_events = function(){\r\n\tvar mobile = this.config.touch  &&\r\n\t\t( ((navigator.userAgent.indexOf(\"Mobile\")!=-1)   ||\r\n\t\t\t(navigator.userAgent.indexOf(\"iPad\")!=-1)       ||\r\n\t\t\t(navigator.userAgent.indexOf(\"Android\")!=-1)    ||\r\n\t\t\t(navigator.userAgent.indexOf(\"Touch\")!=-1)) && !window.MSStream) ||\r\n\t\t\t((navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1));\r\n\r\n\tif(mobile){\r\n\t\tthis.xy.scroll_width = 0;\r\n\t\tthis._mobile = true;\r\n\t}\r\n\r\n\tif(this.config.touch){\r\n\r\n\t\tvar touchEventsSupported = true;\r\n\t\ttry {\r\n\t\t\tdocument.createEvent(\"TouchEvent\");\r\n\t\t} catch (e) {\r\n\t\t\ttouchEventsSupported = false;\r\n\t\t}\r\n\r\n\t\tif (touchEventsSupported) {\r\n\t\t\tthis._touch_events([\"touchmove\", \"touchstart\", \"touchend\"], function (ev) {\r\n\t\t\t\tif (ev.touches && ev.touches.length > 1) return null;\r\n\t\t\t\tif (ev.touches[0])\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\ttarget: ev.target,\r\n\t\t\t\t\t\tpageX: ev.touches[0].pageX,\r\n\t\t\t\t\t\tpageY: ev.touches[0].pageY,\r\n\t\t\t\t\t\tclientX: ev.touches[0].clientX,\r\n\t\t\t\t\t\tclientY: ev.touches[0].clientY\r\n\t\t\t\t\t};\r\n\t\t\t\telse\r\n\t\t\t\t\treturn ev;\r\n\t\t\t}, function () {\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t} else if (window.PointerEvent || window.navigator.pointerEnabled) {\r\n\t\t\tthis._touch_events([\"pointermove\", \"pointerdown\", \"pointerup\"], function (ev) {\r\n\t\t\t\tif (ev.pointerType == \"mouse\") return null;\r\n\t\t\t\treturn ev;\r\n\t\t\t}, function (ev) {\r\n\t\t\t\treturn (!ev || (ev.pointerType == \"mouse\" ));\r\n\t\t\t});\r\n\t\t} else if (window.navigator.msPointerEnabled) {\r\n\t\t\tthis._touch_events([\"MSPointerMove\", \"MSPointerDown\", \"MSPointerUp\"], function (ev) {\r\n\t\t\t\tif (ev.pointerType == ev.MSPOINTER_TYPE_MOUSE) return null;\r\n\t\t\t\treturn ev;\r\n\t\t\t}, function (ev) {\r\n\t\t\t\treturn (!ev || ev.pointerType == ev.MSPOINTER_TYPE_MOUSE);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n\r\nscheduler._touch_events = function(names, accessor, ignore){\r\n\t//webkit on android need to be handled separately\r\n\t//var a_webkit = (navigator.userAgent.indexOf(\"Android\")!=-1) && (navigator.userAgent.indexOf(\"WebKit\")!=-1);\r\n\tvar source, tracker, timer, drag_mode, scroll_mode, action_mode;\r\n\tvar dblclicktime = 0;\r\n\r\n\tfunction attachTouchEvent(element, name, callback){\r\n\t\t//touch gestures must be disabled when ligthbox is opened\r\n\t\tscheduler.event(element, name, function(e){\r\n\t\t\tif(scheduler._is_lightbox_open()){\r\n\t\t\t\treturn true;\r\n\t\t\t}else{\r\n\t\t\t\tif (ignore(e)) return;\r\n\t\t\t\treturn callback(e);\r\n\t\t\t}\r\n\t\t}, { passive: false });\r\n\t}\r\n\r\n\tfunction check_direction_swipe(s_ev, e_ev, step, max_dy){\r\n\t\tif (!s_ev || !e_ev) return false;\r\n\r\n\t\tvar t = s_ev.target;\r\n\t\twhile(t && t != scheduler._obj){\r\n\t\t\tt = t.parentNode;\r\n\t\t}\r\n\t\tif(t != scheduler._obj){\r\n\t\t\t//swipe outside scheduler\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// ignore swipe in horizontal timeline\r\n\t\tif(scheduler.matrix && scheduler.matrix[scheduler.getState().mode]){\r\n\t\t\tvar timeline = scheduler.matrix[scheduler.getState().mode];\r\n\t\t\tif(timeline.scrollable){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar dy = Math.abs(s_ev.pageY - e_ev.pageY);\r\n\t\tvar dx = Math.abs(s_ev.pageX - e_ev.pageX);\r\n\t\tif (dy < max_dy && dx>step && (!dy || (dx/dy > 3))){\r\n\t\t\tif (s_ev.pageX > e_ev.pageX) {\r\n\t\t\t\tscheduler._click.dhx_cal_next_button();\r\n\t\t\t}else {\r\n\t\t\t\tscheduler._click.dhx_cal_prev_button();\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction doMouseMove(e){\r\n\t\tif (ignore(e)) return;\r\n\t\tvar dnd = scheduler.getState().drag_mode,\r\n\t\t\ttimeline = scheduler.matrix ? scheduler.matrix[scheduler._mode] : false;\r\n\r\n\t\tvar original_render = scheduler.render_view_data;\r\n\t\tif(dnd == 'create' && timeline){\r\n\t\t\t//suppress full redraw of timeline on creating event\r\n\t\t\tscheduler.render_view_data = function() {\r\n\t\t\t\tvar id = scheduler.getState().drag_id;\r\n\t\t\t\tvar ev = scheduler.getEvent(id);\r\n\t\t\t\tvar property = timeline.y_property;\r\n\r\n\t\t\t\tvar evs = scheduler.getEvents(ev.start_date, ev.end_date);\r\n\t\t\t\tfor(var i = 0; i < evs.length; i++){\r\n\t\t\t\t\tif(evs[i][property] != ev[property]){\r\n\t\t\t\t\t\tevs.splice(i, 1);\r\n\t\t\t\t\t\ti--;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tev._sorder = evs.length - 1;\r\n\t\t\t\tev._count = evs.length;\r\n\r\n\t\t\t\tthis.render_data([ev], scheduler.getState().mode);\r\n\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tscheduler._on_mouse_move(e);\r\n\r\n\t\tif(dnd == 'create' && timeline){\r\n\t\t\tscheduler.render_view_data = original_render;\r\n\t\t}\r\n\r\n\t\tif (e.preventDefault)\r\n\t\t\te.preventDefault();\r\n\t\te.cancelBubble = true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// touchmove\r\n\tattachTouchEvent(document.body, names[0], function(e){\r\n\t\tif (ignore(e)) return;\r\n\r\n\t\tvar acc = accessor(e);\r\n\t\tif(!acc) return;\r\n\t\tif (drag_mode){\r\n\t\t\tdoMouseMove(acc);\r\n\r\n\t\t\tif (e.preventDefault)\r\n\t\t\t\te.preventDefault();\r\n\t\t\te.cancelBubble = true;\r\n\t\t\tscheduler._update_global_tip();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t//if (tracker && a_webkit){\r\n\t\t//\tcheck_direction_swipe(tracker, accessor(e), 0);\r\n\t\t//}\r\n\r\n\t\ttracker = accessor(e);\r\n\t\t//ignore common and scrolling moves\r\n\t\tif (!action_mode) return;\r\n\r\n\t\t//multitouch\r\n\t\tif (!tracker){\r\n\t\t\tscroll_mode = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//target changed - probably in scroll mode\r\n\r\n\t\tif (source.target != tracker.target || (Math.abs(source.pageX - tracker.pageX) > 5) || (Math.abs(source.pageY - tracker.pageY) > 5)){\r\n\t\t\tscroll_mode = true;\r\n\t\t\tclearTimeout(timer);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t//attachTouchEvent(this._els[\"dhx_cal_data\"][0], \"scroll\", drag_cancel);\r\n\tattachTouchEvent(this._els[\"dhx_cal_data\"][0], \"touchcancel\", drag_cancel);\r\n\tattachTouchEvent(this._els[\"dhx_cal_data\"][0], \"contextmenu\", function(e){\r\n\t\tif (ignore(e)) return;\r\n\t\tif (action_mode){\r\n\t\t\tif (e && e.preventDefault)\r\n\t\t\t\te.preventDefault();\r\n\t\t\te.cancelBubble = true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n\r\n\t// touchstart\r\n\tattachTouchEvent(this._obj, names[1], function(e){\r\n\t\t// block pull-to-refresh\r\n\t\tif(document && document.body){\r\n\t\t\tdocument.body.classList.add(\"dhx_cal_touch_active\");\r\n\t\t}\r\n\r\n\t\tif (ignore(e)) return;\r\n\t\tscheduler._pointerDragId = e.pointerId;\r\n\r\n\t\tvar fake_event;\r\n\t\tdrag_mode = scroll_mode = false;\r\n\t\taction_mode = true;\r\n\t\tfake_event = tracker = accessor(e);\r\n\r\n\t\tif (!fake_event){\r\n\t\t\tscroll_mode = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//dbl click\r\n\t\tvar now = new Date();\r\n\r\n\t\tif (!scroll_mode && !drag_mode && now - dblclicktime < 250){\r\n\t\t\tscheduler._click.dhx_cal_data(fake_event);\r\n\t\t\twindow.setTimeout(function(){\r\n\t\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t//fake_event.type = \"dblclick\";\r\n\t\t\t\tscheduler._on_dbl_click(fake_event);\r\n\t\t\t}, 50);\r\n\r\n\t\t\tif (e.preventDefault)\r\n\t\t\t\te.preventDefault();\r\n\t\t\te.cancelBubble = true;\r\n\t\t\tscheduler._block_next_stop = true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tdblclicktime = now;\r\n\r\n\t\t//drag\r\n\r\n\t\tif (scroll_mode || drag_mode || !scheduler.config.touch_drag)\r\n\t\t\treturn;\r\n\r\n\t\tvar actTask = scheduler._locate_event(document.activeElement);\r\n\t\tvar fakeTask = scheduler._locate_event(fake_event.target);\r\n\t\tvar sourceTask = source? scheduler._locate_event(source.target) : null;\r\n\r\n\t\tif(actTask && fakeTask && actTask == fakeTask && actTask != sourceTask)\r\n\t\t{\r\n\t\t\tif(e.preventDefault) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t\te.cancelBubble = true;\r\n\t\t\tscheduler._ignore_next_click = false;\r\n\t\t\tscheduler._click.dhx_cal_data(fake_event);\r\n\t\t\tsource = fake_event;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t//there is no target\r\n\t\ttimer = setTimeout(function(){\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tdrag_mode = true;\r\n\t\t\tvar target = source.target;\r\n\t\t\tvar className = scheduler._getClassName(target);\r\n\t\t\tif (target && className.indexOf(\"dhx_body\") != -1)\r\n\t\t\t\ttarget = target.previousSibling;\r\n\r\n\t\t\tscheduler._on_mouse_down(source, target);\r\n\t\t\tif (scheduler._drag_mode && scheduler._drag_mode != \"create\"){\r\n\t\t\t\tscheduler.for_rendered(scheduler._drag_id, function(node, i) {\r\n\t\t\t\t\tnode.style.display='none';\r\n\t\t\t\t\tscheduler._rendered.splice(i, 1);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (scheduler.config.touch_tip) {\r\n\t\t\t\tscheduler._show_global_tip();\r\n\t\t\t}\r\n\t\t\tscheduler.updateEvent(scheduler._drag_id);\r\n\t\t},scheduler.config.touch_drag);\r\n\r\n\t\tsource = fake_event;\r\n\t});\r\n\tfunction drag_cancel(e){\r\n\t\tif (ignore(e)) return;\r\n\t\tscheduler._hide_global_tip();\r\n\t\tif (drag_mode){\r\n\t\t\tscheduler._on_mouse_up( accessor(e) );\r\n\t\t\tscheduler._temp_touch_block = false;\r\n\t\t}\r\n\t\tscheduler._drag_id = null;\r\n\t\tscheduler._drag_mode=null;\r\n\t\tscheduler._drag_pos=null;\r\n\t\tscheduler._pointerDragId = null;\r\n\t\tclearTimeout(timer);\r\n\t\tdrag_mode = action_mode = false;\r\n\t\tscroll_mode = true;\r\n\t}\r\n\r\n\t// touch end\r\n\tattachTouchEvent(this._els[\"dhx_cal_data\"][0], names[2], function(e){\r\n\t\tif(document && document.body){\r\n\t\t\tdocument.body.classList.remove(\"dhx_cal_touch_active\");\r\n\t\t}\r\n\r\n\t\tif (ignore(e)) return;\r\n\r\n\t\tif(scheduler.config.touch_swipe_dates){\r\n\t\t\tif (!drag_mode && check_direction_swipe(source, tracker, 200, 100)) {\r\n\t\t\t\tscheduler._block_next_stop = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (drag_mode) {\r\n\t\t\tscheduler._ignore_next_click = true;\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tscheduler._ignore_next_click = false;\r\n\t\t\t}, 100);\r\n\t\t}\r\n\r\n\t\tdrag_cancel(e);\r\n\t\tif (scheduler._block_next_stop){\r\n\t\t\tscheduler._block_next_stop = false;\r\n\t\t\tif (e.preventDefault)\r\n\t\t\t\te.preventDefault();\r\n\t\t\te.cancelBubble = true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n\r\n\tscheduler.event(document.body, names[2], drag_cancel);\r\n};\r\n\r\nscheduler._show_global_tip = function(){\r\n\tscheduler._hide_global_tip();\r\n\r\n\tvar toptip = scheduler._global_tip = document.createElement(\"div\");\r\n\ttoptip.className='dhx_global_tip';\r\n\r\n\tscheduler._update_global_tip(1);\r\n\r\n\tdocument.body.appendChild(toptip);\r\n};\r\nscheduler._update_global_tip = function(init){\r\n\tvar toptip = scheduler._global_tip;\r\n\tif (toptip){\r\n\t\tvar time = \"\";\r\n\t\tif (scheduler._drag_id && !init){\r\n\t\t\tvar ev = scheduler.getEvent(scheduler._drag_id);\r\n\t\t\tif (ev)\r\n\t\t\t\ttime = \"<div>\" + (ev._timed ? scheduler.templates.event_header(ev.start_date, ev.end_date, ev):scheduler.templates.day_date(ev.start_date, ev.end_date, ev)) + \"</div>\";\r\n\t\t}\r\n\r\n\t\tif (scheduler._drag_mode == \"create\" || scheduler._drag_mode == \"new-size\")\r\n\t\t\ttoptip.innerHTML = (scheduler.locale.labels.drag_to_create || \"Drag to create\")+time;\r\n\t\telse\r\n\t\t\ttoptip.innerHTML = (scheduler.locale.labels.drag_to_move || \"Drag to move\")+time;\r\n\t}\r\n};\r\nscheduler._hide_global_tip = function(){\r\n\tvar toptip = scheduler._global_tip;\r\n\tif (toptip && toptip.parentNode){\r\n\t\ttoptip.parentNode.removeChild(toptip);\r\n\t\tscheduler._global_tip = 0;\r\n\t}\r\n};\r\n\r\n\r\n}","export default function extend(scheduler) {\r\n\r\nscheduler.getRootView = function() {\r\n\treturn {\r\n\t\tview: {\r\n\t\t\trender: function(){\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttag: \"div\",\r\n\t\t\t\t\ttype: 1,\r\n\t\t\t\t\tattrs: {\r\n\t\t\t\t\t\tstyle: \"width:100%;height:100%;\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\thooks: {\r\n\t\t\t\t\t\t\"didInsert\": function(){\r\n\t\t\t\t\t\t\tscheduler.setCurrentView();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tel: this.el,\r\n\t\t\t\t\t\t\ttype: 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tinit: function(){\r\n\t\t\t\tvar container = document.createElement(\"DIV\");\r\n\t\t\t\tcontainer.id = \"scheduler_\"+ scheduler.uid();\r\n\t\t\t\tcontainer.style.width = \"100%\";\r\n\t\t\t\tcontainer.style.height = \"100%\";\r\n\t\t\t\tcontainer.classList.add(\"dhx_cal_container\");\r\n\t\t\t\tcontainer.cmp = \"grid\";\r\n\t\t\t\tcontainer.innerHTML = '<div class=\"dhx_cal_navline\">' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_prev_button\"></div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_next_button\"></div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_today_button\"></div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_date\"></div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_tab\" data-tab=\"day\"></div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_tab\" data-tab=\"week\"></div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_tab\" data-tab=\"month\"></div>' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_header\">' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t'<div class=\"dhx_cal_data\">' +\r\n\t\t\t\t\t'</div>';\r\n\t\t\t\tscheduler.init(container);\r\n\r\n\t\t\t\tthis.el = container;\r\n\t\t\t}\r\n\t\t},\r\n\t\ttype: 4\r\n\t};\r\n};\r\n\r\n}","export default function extend(scheduler) {\r\n\r\n\r\nscheduler._addThemeClass = function(){\r\n\tdocument.documentElement.setAttribute(\"data-scheduler-theme\", scheduler.skin);\r\n};\r\n\r\nscheduler._skin_settings = {\r\n\tfix_tab_position: [1,0],\r\n\tuse_select_menu_space: [1,0],\r\n\twide_form: [1,0],\r\n\r\n\thour_size_px: [44,42],\r\n\tdisplayed_event_color: [\"#ff4a4a\", \"ffc5ab\"],\r\n\tdisplayed_event_text_color: [\"#ffef80\", \"7e2727\"]\r\n};\r\n\r\nscheduler._skin_xy = {\r\n\tlightbox_additional_height: [90,50],\r\n\tnav_height: [59,22],\r\n\tbar_height: [24,20]\r\n};\r\n\r\n// material skin uses a different box sizing model than other skins, and also requires some post-processing.\r\n// In order to render events correctly, we need to know which box sizing model is used\r\n// We can detect it by styles applied, taking into account that styles may be loaded after scheduler is rendered\r\n\r\nscheduler._is_material_skin = function(){\r\n\tif(!scheduler.skin){\r\n\t\treturn checkIfMaterialSkin();\r\n\t}else{\r\n\t\treturn ((scheduler.skin + \"\").indexOf(\"material\") > -1);\r\n\t}\r\n};\r\n\r\nfunction themeNameFromFile(){\r\n\tvar links = document.getElementsByTagName(\"link\");\r\n\tfor (var i = 0; i < links.length; i++) {\r\n\t\tvar res = links[i].href.match(\"dhtmlxscheduler_([a-z]+).css\");\r\n\t\tif (res){\r\n\t\t\treturn res[1];\r\n\t\t}\r\n\t}\r\n}\r\n\r\nscheduler._build_skin_info = function() {\r\n\tmonitorThemeChange();\r\n\tconst styles = getComputedStyle(this.$container);\r\n\tconst themeVar = styles.getPropertyValue(\"--dhx-scheduler-theme\");\r\n\r\n\tlet isCssVarTheme = !!themeVar;\r\n\tlet themeName;\r\n\tlet cssValues = {};\r\n\tlet oldMaterialTheme = false;\r\n\r\n\tif(isCssVarTheme){\r\n\t\tthemeName = themeVar;\r\n\t\tfor(let i in scheduler.xy){\r\n\t\t\tcssValues[i] = styles.getPropertyValue(`--dhx-scheduler-xy-${i}`);\r\n\t\t}\r\n\r\n\t\tcssValues.hour_size_px = styles.getPropertyValue(`--dhx-scheduler-config-hour_size_px`);\r\n\t\tcssValues.wide_form = styles.getPropertyValue(`--dhx-scheduler-config-form_wide`);\r\n\r\n\t}else{\r\n\t\tthemeName = themeNameFromFile();\r\n\t\toldMaterialTheme = scheduler._is_material_skin();\r\n\t}\r\n\r\n\r\n\tscheduler._theme_info = {\r\n\t\ttheme: themeName,\r\n\t\tcssVarTheme: isCssVarTheme,\r\n\t\toldMaterialTheme: oldMaterialTheme,\r\n\t\tvalues: cssValues\r\n\t};\r\n\r\n\tif(scheduler._theme_info.cssVarTheme){\r\n\t\tconst themeVariables = this._theme_info.values;\r\n\t\tfor(let i in scheduler.xy){\r\n\t\t\tif(!isNaN(parseInt(themeVariables[i]))){\r\n\t\t\t\tscheduler.xy[i] = parseInt(themeVariables[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nvar calculatedMaterial;\r\nfunction checkIfMaterialSkin(){\r\n\tif(calculatedMaterial === undefined){\r\n\t\tvar probe = document.createElement(\"div\");\r\n\t\tprobe.style.position = \"absolute\";\r\n\t\tprobe.style.left = \"-9999px\";\r\n\t\tprobe.style.top = \"-9999px\";\r\n\t\tprobe.innerHTML = \"<div class='dhx_cal_container'>\" +\r\n\t\t\t\"<div class='dhx_cal_scale_placeholder'>\" +\r\n\t\t\t\"</div>\"+\r\n\t\t\"<div>\";\r\n\t\tdocument.body.appendChild(probe);\r\n\t\tvar styles = window.getComputedStyle(probe.querySelector(\".dhx_cal_scale_placeholder\"));\r\n\t\tvar position = styles.getPropertyValue('position');\r\n\t\tif(position === \"absolute\"){\r\n\t\t\t// page has skins for placeholder element from material skin\r\n\t\t\tcalculatedMaterial = true;\r\n\t\t}else{\r\n\t\t\tcalculatedMaterial = false;\r\n\t\t}\r\n\r\n\t\tsetTimeout(function(){\r\n\t\t\tcalculatedMaterial = null;\r\n\t\t\tif(probe && probe.parentNode){\r\n\t\t\t\tprobe.parentNode.removeChild(probe);\r\n\t\t\t}\r\n\t\t}, 500);\r\n\t}\r\n\treturn calculatedMaterial;\r\n}\r\n\r\nvar cachedBorderBoxValue;\r\nfunction checkIfBorderBoxStyling(){\r\n\tif(scheduler._is_material_skin()){\r\n\t\treturn true;\r\n\t}else{\r\n\t\tif(cachedBorderBoxValue === undefined){\r\n\t\t\tvar probe = document.createElement(\"div\");\r\n\t\t\tprobe.style.position = \"absolute\";\r\n\t\t\tprobe.style.left = \"-9999px\";\r\n\t\t\tprobe.style.top = \"-9999px\";\r\n\t\t\tprobe.innerHTML = \"<div class='dhx_cal_container'>\" +\r\n\t\t\t\t\"<div class='dhx_cal_data'>\" +\r\n\t\t\t\t\t\"<div class='dhx_cal_event'><div class='dhx_body'></div>\"+\r\n\t\t\t\t\"</div>\"+\r\n\t\t\t\"<div>\";\r\n\r\n\t\t\tdocument.body.appendChild(probe);\r\n\t\t\tvar styles = window.getComputedStyle(probe.querySelector(\".dhx_body\"));\r\n\t\t\tvar boxSizing = styles.getPropertyValue('box-sizing');\r\n\t\t\tdocument.body.removeChild(probe);\r\n\t\t\tcachedBorderBoxValue = !!(boxSizing === \"border-box\");\r\n\r\n\t\t\tif(!cachedBorderBoxValue){\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tcachedBorderBoxValue = undefined;\r\n\t\t\t\t}, 1000);// recalculate in case scheduler initialized before skin is loaded\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\treturn cachedBorderBoxValue;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction refreshAfterLoad(){\r\n\tif(scheduler._is_material_skin() || scheduler._border_box_events()){\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar oldStyling = cachedBorderBoxValue;\r\n\tcachedBorderBoxValue = undefined;\r\n\tcalculatedMaterial = undefined;\r\n\tvar newStyling = checkIfBorderBoxStyling();\r\n\r\n\t// if box styling model changed - means scheduler was rendered before stylesheet was loaded or parsed inline\r\n\t// repaint scheduler in order to apply new styles\r\n\tif(oldStyling !== newStyling && scheduler.$container && scheduler.getState().mode){\r\n\t\tscheduler.setCurrentView();\r\n\t}\r\n}\r\nscheduler.event(window, 'DOMContentLoaded', refreshAfterLoad);\r\nscheduler.event(window, 'load', refreshAfterLoad);\r\n\r\nscheduler._border_box_events = function(){\r\n\treturn checkIfBorderBoxStyling();\r\n};\r\n\r\nscheduler._configure = function(col, data, skin){\r\n\tfor (var key in data)\r\n\t\tif (typeof col[key] == \"undefined\")\r\n\t\t\tcol[key] = data[key][skin];\r\n};\r\n\r\nscheduler.setSkin = function(value){\r\n\tthis.skin = value;\r\n\tscheduler._addThemeClass();\r\n\tif(scheduler.$container){\r\n\t\tthis._skin_init();\r\n\t\tthis.render();\r\n\t}\r\n\t\r\n\t//\r\n};\r\n\r\nfunction flatSkinHourScale(date){\r\n\tvar min = date.getMinutes();\r\n\tmin = min < 10 ? \"0\"+min : min;\r\n\tvar html = \"<span class='dhx_scale_h'>\"+ date.getHours() +\"</span>\"+\r\n\t\t\"<span class='dhx_scale_m'>&nbsp;\"+ min +\"</span>\";\r\n\treturn html;\r\n}\r\n\r\nlet monitorIntervalId = null;\r\nfunction monitorThemeChange(){\r\n\tconst container = scheduler.$container;\r\n\t\r\n\tclearInterval(monitorIntervalId);\r\n\tif(container){\r\n\t\tmonitorIntervalId = setInterval(() => {\r\n\t\t\tconst csstheme = getComputedStyle(container).getPropertyValue('--dhx-scheduler-theme');\r\n\t\t\tif(csstheme && csstheme !== scheduler.skin){\r\n\t\t\t\tscheduler.setSkin(csstheme);\r\n\t\t\t}\r\n\r\n\t\t}, 100);\r\n\t}\r\n}\r\nscheduler.attachEvent(\"onDestroy\", function(){\r\n\tclearInterval(monitorIntervalId);\r\n});\r\n\r\nscheduler._skin_init = function(){\r\n\tthis._build_skin_info();\r\n\r\n\tif (!this.skin){\r\n\t\tthis.skin = this._theme_info.theme;\r\n\t}\r\n\tscheduler._addThemeClass();\r\n\tif (scheduler.skin === \"flat\"){\r\n\t\t// scheduler.xy.scale_height = 35;\r\n\t\tscheduler.templates.hour_scale = flatSkinHourScale;\r\n\t}else if (scheduler.templates.hour_scale === flatSkinHourScale){\r\n\t\tscheduler.templates.hour_scale = scheduler.date.date_to_str(scheduler.config.hour_date);\r\n\t}\r\n\r\n\r\n\r\n\t//scheduler._lightbox_template=\"<div class='dhx_cal_ltitle'><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span><div class='dhx_close_icon'></div></div><div class='dhx_cal_larea'></div>\";\r\n\tscheduler.attachEvent(\"onTemplatesReady\", function() {\r\n\r\n\t\tvar date_to_str = scheduler.date.date_to_str(\"%d\");\r\n\t\tif(!scheduler.templates._old_month_day){\r\n\t\t\tscheduler.templates._old_month_day = scheduler.templates.month_day;\r\n\t\t}\r\n\t\tvar old_month_day = scheduler.templates._old_month_day;\r\n\t\tscheduler.templates.month_day = function(date) {\r\n\t\t\tif (this._mode == \"month\") {\r\n\t\t\t\tvar label = date_to_str(date);\r\n\t\t\t\tif (date.getDate() == 1) {\r\n\t\t\t\t\tlabel = scheduler.locale.date.month_full[date.getMonth()] + \" \" + label;\r\n\t\t\t\t}\r\n\t\t\t\tif (+date == +scheduler.date.date_part(this._currentDate())) {\r\n\t\t\t\t\tlabel = scheduler.locale.labels.dhx_cal_today_button + \" \" + label;\r\n\t\t\t\t}\r\n\t\t\t\treturn label;\r\n\t\t\t} else {\r\n\t\t\t\treturn old_month_day.call(this, date);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// tab classes\r\n\t\tif(scheduler.config.fix_tab_position){\r\n\t\t\tconst tabs = scheduler._els[\"dhx_cal_navline\"][0].querySelectorAll('[data-tab]');\r\n\t\t\ttabs.forEach((tab) => {\r\n\t\t\t\tconst view = tab.getAttribute(\"data-tab\") || tab.getAttribute(\"name\");\r\n\r\n\t\t\t\tswitch (view) {\r\n\t\t\t\t\tcase \"day\":\r\n\t\t\t\t\tcase \"day_tab\":\r\n\t\t\t\t\t\ttab.classList.add(\"dhx_cal_tab_first\");\r\n\t\t\t\t\t\ttab.classList.add(\"dhx_cal_tab_segmented\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"week\":\r\n\t\t\t\t\tcase \"week_tab\":\r\n\t\t\t\t\t\ttab.classList.add(\"dhx_cal_tab_segmented\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"month\":\r\n\t\t\t\t\tcase \"month_tab\":\r\n\t\t\t\t\t\ttab.classList.add(\"dhx_cal_tab_last\");\r\n\t\t\t\t\t\ttab.classList.add(\"dhx_cal_tab_segmented\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\ttab.classList.add(\"dhx_cal_tab_standalone\");\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treorderTabs(scheduler._els[\"dhx_cal_navline\"][0]);\r\n\r\n\t\t}\r\n\t}, {once: true});\r\n\r\n\tfunction reorderTabs(container) {\r\n\t\t// segmented tabs should go first\r\n\r\n\t\tif(scheduler.config.header){\r\n\t\t\treturn;\r\n\t\t\t// don't reorder tabs if header is defined via config\r\n\t\t}\r\n\t\tconst tabs = Array.from(container.querySelectorAll('.dhx_cal_tab'));\r\n\t\r\n\t\t// segmented tabs\r\n\t\tconst order = ['day', 'week', 'month'];\r\n\t\r\n\t\tconst specialTabs = order.map(tabName => \r\n\t\t\ttabs.find(tab => tab.getAttribute('data-tab') === tabName)\r\n\t\t).filter(tab => tab !== undefined);\r\n\t\r\n\t\tlet firstTab = tabs.length > 0 ? tabs[0] : null;\r\n\r\n\t\tspecialTabs.reverse().forEach(tab => {\r\n\t\t\tcontainer.insertBefore(tab, firstTab);\r\n\t\t\tfirstTab = tab;\r\n\t\t});\r\n\t}\r\n\r\n\t// scheduler._skin_init = function(){\r\n\t// \tthis._build_skin_info();\r\n\t// \tthis.skin = this._theme_info.theme;\r\n\t// };\r\n};\r\n\r\n\r\n\r\n}","import global from \"../global\";\r\n\r\nexport default function extend(scheduler) {\r\n\r\n(function(){\r\n\r\n\tvar setCurrentView = scheduler.setCurrentView,\r\n\t\tupdateView = scheduler.updateView;\r\n\tvar update_view_timer = null,\r\n\t\tcurr_view_timer = null;\r\n\r\n\tvar lazy_setCurrentView = function(date, mode){\r\n\t\tvar self = this;\r\n\t\tglobal.clearTimeout(curr_view_timer);\r\n\t\tglobal.clearTimeout(update_view_timer);\r\n\r\n\t\tvar oldDate = self._date,\r\n\t\t\toldMode = self._mode;\r\n\t\tupdateFlags(this, date, mode);\r\n\r\n\t\tcurr_view_timer = setTimeout(function(){\r\n\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!self.callEvent(\"onBeforeViewChange\", [oldMode, oldDate, mode || self._mode, date || self._date])){\r\n\t\t\t\tupdateFlags(self, oldDate, oldMode);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tupdateView.call(self, date, mode);\r\n\t\t\tself.callEvent(\"onViewChange\", [self._mode, self._date]);\r\n\r\n\t\t\tglobal.clearTimeout(update_view_timer);\r\n\t\t\tcurr_view_timer = 0;\r\n\t\t}, scheduler.config.delay_render);\r\n\t};\r\n\tvar lazy_updateView = function(date, mode){\r\n\t\tvar self = this,\r\n\t\t\tars = arguments;\r\n\r\n\t\tupdateFlags(this, date, mode);\r\n\r\n\t\tglobal.clearTimeout(update_view_timer);\r\n\t\tupdate_view_timer = setTimeout(function(){\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif(curr_view_timer)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tupdateView.apply(self, ars);\r\n\t\t}, scheduler.config.delay_render);\r\n\t};\r\n\tfunction updateFlags(scheduler, date, mode){\r\n\t\tif(date)\r\n\t\t\tscheduler._date = date;\r\n\t\tif(mode)\r\n\t\t\tscheduler._mode = mode;\r\n\r\n\t}\r\n\tscheduler.attachEvent(\"onSchedulerReady\", function(){\r\n\t\tif(scheduler.config.delay_render){\r\n\t\t\tscheduler.setCurrentView = lazy_setCurrentView;\r\n\t\t\tscheduler.updateView = lazy_updateView;\r\n\t\t}else{\r\n\t\t\tscheduler.setCurrentView = setCurrentView;\r\n\t\t\tscheduler.updateView = updateView;\r\n\t\t}\r\n\t});\r\n\r\n})();\r\n\r\n}","import global from \"../global\";\r\n\r\nexport default function extend(scheduler) {\r\n/*\r\nif (global.dataProcessor && !dataProcessor.prototype.init_original){\r\n\tdataProcessor.prototype.init_original=dataProcessor.prototype.init;\r\n\tdataProcessor.prototype.init=function(obj){\r\n\t\tthis.init_original(obj);\r\n\t\tobj._dataprocessor=this;\r\n\r\n\t\tthis.setTransactionMode(\"POST\",true);\r\n\t\tthis.serverProcessor+=(this.serverProcessor.indexOf(\"?\")!=-1?\"&\":\"?\")+\"editing=true\";\r\n\t};\r\n}*/\r\n\r\nscheduler.attachEvent(\"onSchedulerReady\", function(){\r\n\tif(typeof dhtmlxError !== \"undefined\") {\r\n\t\twindow.dhtmlxError.catchError(\"LoadXML\", function(a, b, c){\r\n\t\t\tvar message = c[0].responseText;\r\n\r\n\t\t\tswitch (scheduler.config.ajax_error){\r\n\t\t\t\tcase \"alert\":\r\n\t\t\t\t\tglobal.alert(message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"console\":\r\n\t\t\t\t\tglobal.console.log(message);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n\r\n\r\n}","import ar from \"./locale_ar\";\r\nimport be from \"./locale_be\";\r\nimport ca from \"./locale_ca\";\r\nimport cn from \"./locale_cn\";\r\nimport cs from \"./locale_cs\";\r\nimport da from \"./locale_da\";\r\nimport de from \"./locale_de\";\r\nimport el from \"./locale_el\";\r\nimport en from \"./locale_en\";\r\nimport es from \"./locale_es\";\r\nimport fi from \"./locale_fi\";\r\nimport fr from \"./locale_fr\";\r\nimport he from \"./locale_he\";\r\nimport hu from \"./locale_hu\";\r\nimport id from \"./locale_id\";\r\nimport it from \"./locale_it\";\r\nimport jp from \"./locale_jp\";\r\n\r\nimport LocaleManager from \"./locale_manager\";\r\n\r\nimport nb from \"./locale_nb\";\r\nimport nl from \"./locale_nl\";\r\nimport no from \"./locale_no\";\r\nimport pl from \"./locale_pl\";\r\nimport pt from \"./locale_pt\";\r\nimport ro from \"./locale_ro\";\r\nimport ru from \"./locale_ru\";\r\nimport si from \"./locale_si\";\r\nimport sk from \"./locale_sk\";\r\nimport sv from \"./locale_sv\";\r\nimport tr from \"./locale_tr\";\r\nimport ua from \"./locale_ua\";\r\n\r\nexport default function(){\r\n\treturn new LocaleManager({\r\n\t\ten,\r\n\t\tar,\r\n\t\tbe,\r\n\t\tca,\r\n\t\tcn,\r\n\t\tcs,\r\n\t\tda,\r\n\t\tde,\r\n\t\tel,\r\n\t\tes,\r\n\t\tfi,\r\n\t\tfr,\r\n\t\the,\r\n\t\thu,\r\n\t\tid,\r\n\t\tit,\r\n\t\tjp,\r\n\t\tnb,\r\n\t\tnl,\r\n\t\tno,\r\n\t\tpl,\r\n\t\tpt,\r\n\t\tro,\r\n\t\tru,\r\n\t\tsi,\r\n\t\tsk,\r\n\t\tsv,\r\n\t\ttr,\r\n\t\tua\r\n\t});\r\n}","export default class ExtensionsManager{\r\n\tconstructor(config){\r\n\t\tthis._extensions = {};\r\n\t\tfor(const i in config){\r\n\t\t\tthis._extensions[i] = config[i];\r\n\t\t}\r\n\t}\r\n\r\n\taddExtension(name, ext) {\r\n\t\tthis._extensions[name] = ext;\r\n\t}\r\n\r\n\tgetExtension(name) {\r\n\t\treturn this._extensions[name];\r\n\t}\r\n}","\r\nexport default function(){\r\n/* global dhtmlx */\r\nif (typeof dhtmlx != \"undefined\" && dhtmlx.attaches) {\r\n\tdhtmlx.attaches.attachScheduler = function (day, mode, tabs, scheduler) {\r\n\t\tvar tabs = tabs || '<div class=\"dhx_cal_tab\" name=\"day_tab\" data-tab=\"day\" style=\"right:204px;\"></div><div class=\"dhx_cal_tab\" name=\"week_tab\" data-tab=\"week\" style=\"right:140px;\"></div><div class=\"dhx_cal_tab\" name=\"month_tab\" data-tab=\"month\" style=\"right:76px;\"></div>';\r\n\t\tvar obj = document.createElement(\"DIV\");\r\n\t\tobj.id = \"dhxSchedObj_\" + this._genStr(12);\r\n\t\tobj.innerHTML = '<div id=\"' + obj.id + '\" class=\"dhx_cal_container\" style=\"width:100%; height:100%;\"><div class=\"dhx_cal_navline\"><div class=\"dhx_cal_prev_button\"></div><div class=\"dhx_cal_next_button\"></div><div class=\"dhx_cal_today_button\"></div><div class=\"dhx_cal_date\"></div>' + tabs + '</div><div class=\"dhx_cal_header\"></div><div class=\"dhx_cal_data\"></div></div>';\r\n\t\tdocument.body.appendChild(obj.firstChild);\r\n\r\n\t\tthis.attachObject(obj.id, false, true);\r\n\r\n\t\tthis.vs[this.av].sched = scheduler;\r\n\t\tthis.vs[this.av].schedId = obj.id;\r\n\t\tscheduler.setSizes = scheduler.updateView;\r\n\t\tscheduler.destructor = function () { };\r\n\t\tscheduler.init(obj.id, day, mode);\r\n\r\n\t\treturn this.vs[this._viewRestore()].sched;\r\n\t};\r\n}\r\n\r\n}","export default {\r\n\talert: (extension, assert) => {\r\n\t\tassert(false, `The ${extension} extension is not included in this version of dhtmlxScheduler.<br>\r\n\t\tYou may need a <a href=\"https://docs.dhtmlx.com/scheduler/editions_comparison.html\" target=\"_blank\">Professional version of the component</a>.<br>\r\n\t\tContact us at <a href=\"https://dhtmlx.com/docs/contact.shtml\" target=\"_blank\">https://dhtmlx.com/docs/contact.shtml</a> if you have any questions.`);\r\n\t}\r\n};","import { IMapAdapter, ICalendarEvent, IMapSettings, IMapPosition} from \"./types\";\r\ndeclare let google: any;\r\n\r\nexport class GoogleMapAdapter implements IMapAdapter {\r\n\tprivate map: any;\r\n\tprivate scheduler: any;\r\n\tprivate settings: IMapSettings;\r\n\tprivate _markers: any[];\r\n\tprivate infoWindow: any;\r\n\tconstructor(scheduler: any) {\r\n\t\tthis.map = null;\r\n\t\tthis._markers = [];\r\n\t\tthis.scheduler = scheduler;\r\n\t}\r\n\tonEventClick(event: ICalendarEvent): void {\r\n\t\tif (this._markers && this._markers.length > 0) {\r\n\t\t\tfor (let i = 0; i < this._markers.length; i++) {\r\n\t\t\t\tif (event.id == this._markers[i].event.id) {\r\n\t\t\t\t\tlet zoom = this.settings.zoom_after_resolve || this.settings.initial_zoom;\r\n\t\t\t\t\tif (event.lat && event.lng){\r\n\t\t\t\t\t\tthis.map.setCenter({\r\n\t\t\t\t\t\t\tlat: event.lat, \r\n\t\t\t\t\t\t\tlng: event.lng,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.map.setZoom(zoom);\r\n\t\t\t\t\t} else {\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.map.setCenter({\r\n\t\t\t\t\t\t\tlat: this.settings.error_position.lat, \r\n\t\t\t\t\t\t\tlng: this.settings.error_position.lng,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.map.setZoom(zoom);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgoogle.maps.event.trigger(this._markers[i].marker, 'click');\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t} \r\n\t}\r\n\r\n\tinitialize(container: HTMLElement, options: IMapSettings): void {\r\n\t\tthis.settings = options;\r\n\t\tlet scheduler = this.scheduler;\r\n\t\tlet mapOptions = {\r\n\t\t\tcenter: { lat: options.initial_position.lat, lng:  options.initial_position.lng },\r\n\t\t\tzoom: options.initial_zoom,\r\n\t\t\tmapId: container.id,\r\n\t\t\tscrollwheel: true,\r\n\t\t\tmapTypeId: options.type\r\n\t\t}\r\n\t\t// we need to reuse the google map to avoid leak memory\r\n\t\tif (this.map === null) {\r\n\t\t\tthis.map = new google.maps.Map(container, mapOptions);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlet map = this.map;\r\n\t\t\tcontainer.appendChild(this.map.__gm.messageOverlay);\r\n\t\t\tcontainer.appendChild(this.map.__gm.outerContainer);\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tmap.setOptions({container: container.id});\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t\tgoogle.maps.event.addListener(this.map, \"dblclick\", function(event) {\r\n\t\t\tconst geocoder = new google.maps.Geocoder();\r\n\t\r\n\t\t\tif (!scheduler.config.readonly && scheduler.config.dblclick_create) {\r\n\t\t\t\tlet point = event.latLng;\r\n\t\t\t\tgeocoder.geocode(\r\n\t\t\t\t\t{ 'latLng': point },\r\n\t\t\t\t\tfunction(results, status) {\r\n\t\t\t\t\t\tif (status == google.maps.GeocoderStatus.OK) {\r\n\t\t\t\t\t\t\tpoint = results[0].geometry.location;\r\n\t\t\t\t\t\t\tscheduler.addEventNow({\r\n\t\t\t\t\t\t\t\tlat: point.lat(),\r\n\t\t\t\t\t\t\t\tlng: point.lng(),\r\n\t\t\t\t\t\t\t\tevent_location: results[0].formatted_address,\r\n\t\t\t\t\t\t\t\tstart_date: scheduler.getState().date,\r\n\t\t\t\t\t\t\t\tend_date: scheduler.date.add(scheduler.getState().date, scheduler.config.time_step, \"minute\")\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconsole.error('Geocode was not successful for the following reason: ' + status);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tdestroy(container: HTMLElement): void {\r\n\t\tgoogle.maps.event.clearInstanceListeners(window);\r\n\t\tgoogle.maps.event.clearInstanceListeners(document);\r\n\t\tgoogle.maps.event.clearInstanceListeners(container);\r\n\t\twhile (container.firstChild) {\r\n\t\t\tcontainer.firstChild.remove();\r\n\t\t}\r\n\t\tcontainer.innerHTML = \"\";\r\n\t}\r\n\r\n\tasync addEventMarker(event: ICalendarEvent): Promise<void> {\r\n\t\tlet config = {\r\n\t\t\ttitle: event.text,\r\n\t\t\tposition: {},\r\n\t\t\tmap: {}\r\n\t\t}\r\n\t\t\r\n\t\tif (event.lat && event.lng) {\r\n\t\t\tconfig.position = { lat: event.lat, lng: event.lng };\r\n\t\t} else {\r\n\t\t\tconfig.position = { lat: this.settings.error_position.lat, lng: this.settings.error_position.lng }\r\n\t\t}\r\n\t\tconst { AdvancedMarkerElement } = await google.maps.importLibrary(\"marker\");\r\n\t\tlet marker;\r\n\t\tif (this.scheduler.ext.mapView.createMarker) {\r\n\t\t\tconfig.map = this.map;\r\n\t\t\tmarker = this.scheduler.ext.mapView.createMarker(config);\r\n\t\t} else {\r\n\t\t\tmarker = new AdvancedMarkerElement(config);\r\n\t\t\tmarker.map = this.map;\r\n\t\t}\r\n\t\tmarker.setMap(this.map);\r\n\t\t//case for markeks which were deleted with DataProcessor\r\n\t\tif (event[\"!nativeeditor_status\"] == \"true_deleted\"){\r\n\t\t\tmarker.setMap(null);\r\n\t\t}\r\n\t\tgoogle.maps.event.addListener(marker, \"click\", () => {\r\n\t\t\tif (this.infoWindow) {\r\n\t\t\t\tthis.infoWindow.close();\r\n\t\t\t}\r\n\t\t\tthis.infoWindow = new google.maps.InfoWindow({maxWidth: this.settings.info_window_max_width});\r\n\t\t\tthis.infoWindow.setContent(this.scheduler.templates.map_info_content(event));\r\n\t\t\tthis.infoWindow.open({\r\n\t\t\t\tanchor: marker,\r\n\t\t\t\tmap: this.map,\r\n\t\t\t});\r\n\t\t});\r\n\t\tlet markerInfo = {event, ...config, marker};\r\n\t\tthis._markers.push(markerInfo);\r\n\t}\r\n\r\n\tremoveEventMarker(eventId: string): void {\r\n\t\tfor (let i = 0; i < this._markers.length; i++) {\r\n\t\t\tif (eventId == this._markers[i].event.id) {\r\n\t\t\t\tthis._markers[i].marker.setVisible(false);\r\n\t\t\t\tthis._markers[i].marker.setMap(null);\r\n\t\t\t\tthis._markers[i].marker.setPosition(null);\r\n\t\t\t\tthis._markers[i].marker = null;\r\n\t\t\t\tthis._markers.splice(i,1);\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tupdateEventMarker(event: ICalendarEvent): void {\r\n\t\tfor (let i = 0; i < this._markers.length; i++) {\r\n\t\t\tif(this._markers[i].event.id == event.id) {\r\n\t\t\t\tthis._markers[i].event = event;\r\n\t\t\t\tthis._markers[i].position.lat = event.lat;\r\n\t\t\t\tthis._markers[i].position.lng = event.lng;\r\n\t\t\t\tthis._markers[i].text = event.text;\r\n\t\t\t\tlet latlng = new google.maps.LatLng(event.lat, event.lng);\r\n\t\t\t\tthis._markers[i].marker.setPosition(latlng);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tclearEventMarkers(): void {\r\n\t\tif (this._markers.length > 0) {\r\n\t\t\tfor (let i = 0; i < this._markers.length; i++) {\r\n\t\t\t\tthis._markers[i].marker.setMap(null);\r\n\t\t\t}\r\n\t\t\tthis._markers = [];\r\n\t\t}\r\n\t}\r\n\r\n\tsetView(latitude: number, longitude: number, zoom: number): void {\r\n\t\tthis.map.setCenter({\r\n\t\t\tlat: latitude, \r\n\t\t\tlng: longitude,\r\n\t\t});\r\n\t\tthis.map.setZoom(zoom);\r\n\t}\r\n\r\n\tasync resolveAddress(string: string): Promise<IMapPosition> {\r\n\t\tconst geocoder = new google.maps.Geocoder();\r\n\t\tlet position: any = await new Promise((resolve) => {\r\n\t\t\tgeocoder.geocode(\r\n\t\t\t\t{ 'address': string },\r\n\t\t\t\tfunction(results, status) {\r\n\t\t\t\t\tif (status == google.maps.GeocoderStatus.OK) {\r\n\t\t\t\t\t\tresolve({\r\n\t\t\t\t\t\t lat: results[0].geometry.location.lat(),\r\n\t\t\t\t\t\t lng: results[0].geometry.location.lng()\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error('Geocode was not successful for the following reason: ' + status);\r\n\t\t\t\t\t\tresolve({});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t});\r\n\t\treturn position;\r\n\t}\r\n\t\r\n}","import { IMapAdapter, ICalendarEvent, IMapSettings, IMapPosition} from \"./types\";\r\n\r\ndeclare let L: any\r\n\r\nexport class OpenStreetMapAdapter implements IMapAdapter {\r\n\tprivate map: any;\r\n\tprivate scheduler: any;\r\n\tprivate _markers: any[];\r\n\tprivate settings: IMapSettings;\r\n\tconstructor(scheduler: any) {\r\n\t\tthis.map = null;\r\n\t\tthis._markers = [];\r\n\t\tthis.scheduler = scheduler;\r\n\t}\r\n\tonEventClick(event: ICalendarEvent): void {\r\n\t\tif (this._markers && this._markers.length > 0) {\r\n\t\t\tfor (let i = 0; i <  this._markers.length; i++) {\r\n\t\t\t\tif (event.id ==  this._markers[i].event.id) {\r\n\t\t\t\t\tthis._markers[i].marker.openPopup();\r\n\t\t\t\t\tthis._markers[i].marker.closeTooltip();\r\n\t\t\t\t\tif (event.lat && event.lng) {\r\n\t\t\t\t\t\tthis.setView(event.lat, event.lng, this.settings.zoom_after_resolve || this.settings.initial_zoom);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setView(this.settings.error_position.lat, this.settings.error_position.lng, this.settings.zoom_after_resolve || this.settings.initial_zoom);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t} \r\n\t}\r\n\r\n\tinitialize(container: HTMLElement, options: IMapSettings): void {\r\n\t\tlet scheduler = this.scheduler;\r\n\t\tlet mapWrapper = document.createElement('div');\r\n\t\tmapWrapper.className = 'mapWrapper';\r\n\t\tmapWrapper.id = 'mapWrapper';\r\n\t\tmapWrapper.style.width = container.style.width;\r\n\t\tmapWrapper.style.height = container.style.height;\r\n\t\tcontainer.appendChild(mapWrapper);\r\n\r\n\t\tlet map = L.map(mapWrapper, {\r\n\t\t\tcenter: L.latLng(options.initial_position.lat, options.initial_position.lng),\r\n\t\t\tzoom: options.initial_zoom,\r\n\t\t\tkeyboard: false // need to set false, due to bug with moving window\r\n\t\t});\r\n\t\tL.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);\r\n\t\tmap.on(\"dblclick\", async function(e){\r\n\t\t\tconst settings = {\r\n\t\t\t\t\"method\": \"GET\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Accept-Language\":  \"en\",\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\t\tlet response = await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${e.latlng.lat}&lon=${e.latlng.lng}&format=json`, settings).then(response => response.json());\r\n\t\t\tif (response.address) {\r\n\t\t\t\tlet address = response.address.country;\r\n\t\t\t\tscheduler.addEventNow({\r\n\t\t\t\t\tlat: e.latlng.lat,\r\n\t\t\t\t\tlng: e.latlng.lng,\r\n\t\t\t\t\tevent_location: address,\r\n\t\t\t\t\tstart_date: scheduler.getState().date,\r\n\t\t\t\t\tend_date: scheduler.date.add(scheduler.getState().date, scheduler.config.time_step, \"minute\")\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.error(\"unable recieve a position of the event\", response.error);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.map = map;\r\n\t\tthis.settings = options;\r\n\t}\r\n\r\n\tdestroy(container: HTMLElement): void {\r\n\t\tthis.map.remove();\r\n\t\twhile (container.firstChild) {\r\n\t\t\tcontainer.firstChild.remove();\r\n\t\t}\r\n\t\tcontainer.innerHTML = \"\";\r\n\t}\r\n\r\n\taddEventMarker(event: ICalendarEvent): void {\r\n\t\tconst myIcon = L.icon({\r\n\t\t\ticonUrl: 'https://unpkg.com/leaflet@1.0.3/dist/images/marker-icon.png',\r\n\t\t\ticonSize:     [25, 41],\r\n\t\t\tshadowSize:   [30, 65],\r\n\t\t\ticonAnchor:   [12, 41],\r\n\t\t\tshadowAnchor: [7, 65]\r\n\t\t});\r\n\t\tlet popupConfig = {\r\n\t\t\tminWidth: 180,\r\n\t\t\tmaxWidth: this.settings.info_window_max_width,\r\n\t\t}\r\n\t\tconst markerPopup = L.popup(popupConfig).setContent(this.scheduler.templates.map_info_content(event));\r\n\t\tconst tooltip = L.tooltip().setContent(event.text);\r\n\r\n\t\tlet markerConfig = [\r\n\t\t\tevent.lat,\r\n\t\t\tevent.lng\r\n\t\t]\r\n\t\t\r\n\t\tif (!event.lat || !event.lng) {\r\n\t\t\tmarkerConfig = [this.settings.error_position.lat, this.settings.error_position.lng];\r\n\t\t}\r\n\t\tconst marker = L.marker(markerConfig, {\r\n\t\t\ticon: myIcon\r\n\t\t}).bindPopup(markerPopup).bindTooltip(tooltip).addTo(this.map);\r\n\t\tconst markerInfo = {event, marker};\r\n\t\tthis._markers.push(markerInfo);\t\t\r\n\t}\r\n\r\n\tremoveEventMarker(eventId: string): void {\r\n\t\tfor (let i = 0; i < this._markers.length; i++) {\r\n\t\t\tif (eventId == this._markers[i].event.id) {\r\n\t\t\t\tthis.map.removeLayer(this._markers[i].marker);\r\n\t\t\t\tthis._markers.splice(i,1);\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tupdateEventMarker(event: ICalendarEvent): void {\r\n\t\tfor (let i = 0; i < this._markers.length; i++) {\r\n\t\t\tif(this._markers[i].event.id == event.id) {\r\n\t\t\t\tthis._markers[i].event = event;\r\n\t\t\t\tif (!event.lat || !event.lng){\r\n\t\t\t\t\tthis._markers[i].marker.setLatLng([this.settings.error_position.lat, this.settings.error_position.lng]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._markers[i].marker.setLatLng([event.lat, event.lng]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tclearEventMarkers(): void {\r\n\t\tif(this._markers) {\r\n\t\t\tfor (let i = 0; i < this._markers.length; i++) {\r\n\t\t\t\tthis.map.removeLayer(this._markers[i].marker); \r\n\t\t\t}\r\n\t\t\tthis._markers = [];\r\n\t\t}\r\n\t}\r\n\r\n\tsetView(latitude: number, longitude: number, zoom: number): void {\r\n\t\tthis.map.setView([latitude, longitude], zoom);\r\n\t}\r\n\r\n\tasync resolveAddress(string: string): Promise<IMapPosition> {\r\n\t\tconst settings = {\r\n\t\t\t\"method\": \"GET\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Accept-Language\":  \"en\",\r\n\t\t\t},\r\n\t\t};\r\n\t\tlet position:any = {};\r\n\t\tlet response = await fetch(`https://nominatim.openstreetmap.org/search?q=${string}&format=json`, settings).then(response => response.json());\r\n\t\tif (response && response.length) {\r\n\t\t\tposition.lat = +response[0].lat;\r\n\t\t\tposition.lng = +response[0].lon;\r\n\t\t} else {\r\n\t\t\tconsole.error(`Unable recieve a position of the event's location: ${string}`);\r\n\t\t}\r\n\t\treturn position;\r\n\t}\r\n}","import { IMapAdapter, ICalendarEvent, IMapSettings, IMapPosition} from \"./types\";\r\n\r\ndeclare let mapboxgl: any;\r\ndeclare let MapboxGeocoder: any;\r\n\r\nexport class MapboxAdapter implements IMapAdapter {\r\n\tprivate map: any;\r\n\tprivate scheduler: any;\r\n\tprivate settings: IMapSettings;\r\n\tprivate _markers: any[];\r\n\tconstructor(scheduler: any) {\r\n\t\tthis.map = null;\r\n\t\tthis._markers = [];\r\n\t\tthis.scheduler = scheduler;\r\n\t}\r\n\tonEventClick(event: ICalendarEvent): void {\r\n\t\tif (this._markers && this._markers.length > 0) {\r\n\t\t\tfor (let i = 0; i <  this._markers.length; i++) {\r\n                const popup = this._markers[i].marker.getPopup();\r\n                if (popup.isOpen()){\r\n                    popup.remove();\r\n                }\r\n\t\t\t\tif (event.id ==  this._markers[i].event.id) {\r\n\t\t\t\t\tthis._markers[i].marker.togglePopup();\r\n\t\t\t\t\tif (event.lat && event.lng) {\r\n\t\t\t\t\t\tthis.setView(event.lat, event.lng, this.settings.zoom_after_resolve || this.settings.initial_zoom);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.setView(this.settings.error_position.lat, this.settings.error_position.lng, this.settings.zoom_after_resolve || this.settings.initial_zoom);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t} \r\n\t}\r\n\r\n\tinitialize(container: HTMLElement, options: IMapSettings): void {\r\n        let scheduler = this.scheduler;\r\n\r\n\t\tmapboxgl.accessToken = options.accessToken;\r\n        const map = new mapboxgl.Map({\r\n            container: container, \r\n            center: [options.initial_position.lng, options.initial_position.lat], \r\n            zoom:  options.initial_zoom + 1, // problems with coordinates if zoom = 1\r\n        });\r\n        map.on(\"dblclick\",async function(e){\r\n\t\t\tlet response = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${e.lngLat.lng},${ e.lngLat.lat}.json?access_token=${options.accessToken}`).then(response => response.json());\r\n\t\t\tif (response.features){\r\n\t\t\t\tlet address = response.features[0].place_name;\r\n\t\t\t\tscheduler.addEventNow({\r\n\t\t\t\t\tlat: e.lngLat.lat,\r\n\t\t\t\t\tlng: e.lngLat.lng,\r\n\t\t\t\t\tevent_location: address,\r\n\t\t\t\t\tstart_date: scheduler.getState().date,\r\n\t\t\t\t\tend_date: scheduler.date.add(scheduler.getState().date, scheduler.config.time_step, \"minute\")\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.error(\"unable recieve a position of the event\");\r\n\t\t\t}\r\n\t\t});\r\n        this.map = map;\r\n        this.settings = options;\r\n\t}\r\n\r\n\tdestroy(container: HTMLElement): void {\r\n\t\tthis.map.remove();\r\n        while (container.firstChild) {\r\n\t\t\tcontainer.firstChild.remove();\r\n\t\t}\r\n        container.innerHTML = \"\";\r\n\t}\r\n\r\n\taddEventMarker(event: ICalendarEvent): void {\r\n        let config = [\r\n\t\t\tevent.lng,\r\n\t\t\tevent.lat\r\n\t\t]\r\n\t\t\r\n\t\tif (!event.lat || !event.lng) {\r\n\t\t\tconfig = [this.settings.error_position.lng, this.settings.error_position.lat];\r\n\t\t} \r\n\r\n\t\tconst popup = new mapboxgl.Popup({ offset: 25, focusAfterOpen: false})\r\n            .setMaxWidth(`${this.settings.info_window_max_width}px`) \r\n            .setHTML(this.scheduler.templates.map_info_content(event));\r\n        const marker = new mapboxgl.Marker()\r\n            .setLngLat(config)\r\n            .setPopup(popup)\r\n            .addTo(this.map);\r\n        const markerInfo = {event, marker};    \r\n        this._markers.push(markerInfo);\r\n\t}\r\n\r\n\tremoveEventMarker(eventId: string): void {\r\n\t\tfor (let i = 0; i < this._markers.length; i++) {\r\n\t\t\tif (eventId == this._markers[i].event.id) {\r\n\t\t\t\tthis._markers[i].marker.remove();\r\n                this._markers.splice(i,1);\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tupdateEventMarker(event: ICalendarEvent): void {\r\n\t\tfor (let i = 0; i < this._markers.length; i++) {\r\n\t\t\tif(this._markers[i].event.id == event.id) {\r\n\t\t\t\tthis._markers[i].event = event;\r\n\t\t\t\tif (!event.lat || !event.lng){\r\n\t\t\t\t\tthis._markers[i].marker.setLngLat([this.settings.error_position.lng, this.settings.error_position.lat]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._markers[i].marker.setLngLat([event.lng, event.lat]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tclearEventMarkers(): void {\r\n\t\tfor (let i = 0; i <this._markers.length; i++) {\r\n\t\t\tthis._markers[i].marker.remove();\r\n\t\t}\r\n\t\tthis._markers = [];\r\n\t}\r\n\r\n\tsetView(latitude: number, longitude: number, zoom: number): void {\r\n\t\tthis.map.setCenter([longitude, latitude]);\r\n        this.map.setZoom(zoom);\r\n\t}\r\n\r\n\tasync resolveAddress(string: string): Promise<IMapPosition> {\r\n\t\tlet response = await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${string}.json?access_token=${this.settings.accessToken}`).then(response => response.json());\r\n\t\tlet position:any = {};\r\n\t\tif (response && response.features.length) {\r\n\t\t\tposition.lng = response.features[0].center[0];\r\n\t\t\tposition.lat = response.features[0].center[1];\r\n\t\t} else {\r\n\t\t\tconsole.error(`Unable recieve a position of the event's location: ${string}`);\r\n\t\t}\r\n\t\treturn position;\r\n\t}\r\n}","// =============================================================================\n// Weekday\n// =============================================================================\nexport var ALL_WEEKDAYS = [\n    'MO',\n    'TU',\n    'WE',\n    'TH',\n    'FR',\n    'SA',\n    'SU',\n];\nvar Weekday = /** @class */ (function () {\n    function Weekday(weekday, n) {\n        if (n === 0)\n            throw new Error(\"Can't create weekday with n == 0\");\n        this.weekday = weekday;\n        this.n = n;\n    }\n    Weekday.fromStr = function (str) {\n        return new Weekday(ALL_WEEKDAYS.indexOf(str));\n    };\n    // __call__ - Cannot call the object directly, do it through\n    // e.g. RRule.TH.nth(-1) instead,\n    Weekday.prototype.nth = function (n) {\n        return this.n === n ? this : new Weekday(this.weekday, n);\n    };\n    // __eq__\n    Weekday.prototype.equals = function (other) {\n        return this.weekday === other.weekday && this.n === other.n;\n    };\n    // __repr__\n    Weekday.prototype.toString = function () {\n        var s = ALL_WEEKDAYS[this.weekday];\n        if (this.n)\n            s = (this.n > 0 ? '+' : '') + String(this.n) + s;\n        return s;\n    };\n    Weekday.prototype.getJsWeekday = function () {\n        return this.weekday === 6 ? 0 : this.weekday + 1;\n    };\n    return Weekday;\n}());\nexport { Weekday };\n//# sourceMappingURL=weekday.js.map","// =============================================================================\n// Helper functions\n// =============================================================================\nimport { ALL_WEEKDAYS } from './weekday';\nexport var isPresent = function (value) {\n    return value !== null && value !== undefined;\n};\nexport var isNumber = function (value) {\n    return typeof value === 'number';\n};\nexport var isWeekdayStr = function (value) {\n    return typeof value === 'string' && ALL_WEEKDAYS.includes(value);\n};\nexport var isArray = Array.isArray;\n/**\n * Simplified version of python's range()\n */\nexport var range = function (start, end) {\n    if (end === void 0) { end = start; }\n    if (arguments.length === 1) {\n        end = start;\n        start = 0;\n    }\n    var rang = [];\n    for (var i = start; i < end; i++)\n        rang.push(i);\n    return rang;\n};\nexport var clone = function (array) {\n    return [].concat(array);\n};\nexport var repeat = function (value, times) {\n    var i = 0;\n    var array = [];\n    if (isArray(value)) {\n        for (; i < times; i++)\n            array[i] = [].concat(value);\n    }\n    else {\n        for (; i < times; i++)\n            array[i] = value;\n    }\n    return array;\n};\nexport var toArray = function (item) {\n    if (isArray(item)) {\n        return item;\n    }\n    return [item];\n};\nexport function padStart(item, targetLength, padString) {\n    if (padString === void 0) { padString = ' '; }\n    var str = String(item);\n    targetLength = targetLength >> 0;\n    if (str.length > targetLength) {\n        return String(str);\n    }\n    targetLength = targetLength - str.length;\n    if (targetLength > padString.length) {\n        padString += repeat(padString, targetLength / padString.length);\n    }\n    return padString.slice(0, targetLength) + String(str);\n}\n/**\n * Python like split\n */\nexport var split = function (str, sep, num) {\n    var splits = str.split(sep);\n    return num\n        ? splits.slice(0, num).concat([splits.slice(num).join(sep)])\n        : splits;\n};\n/**\n * closure/goog/math/math.js:modulo\n * Copyright 2006 The Closure Library Authors.\n * The % operator in JavaScript returns the remainder of a / b, but differs from\n * some other languages in that the result will have the same sign as the\n * dividend. For example, -1 % 8 == -1, whereas in some other languages\n * (such as Python) the result would be 7. This function emulates the more\n * correct modulo behavior, which is useful for certain applications such as\n * calculating an offset index in a circular list.\n *\n * @param {number} a The dividend.\n * @param {number} b The divisor.\n * @return {number} a % b where the result is between 0 and b (either 0 <= x < b\n * or b < x <= 0, depending on the sign of b).\n */\nexport var pymod = function (a, b) {\n    var r = a % b;\n    // If r and b differ in sign, add b to wrap the result to the correct sign.\n    return r * b < 0 ? r + b : r;\n};\n/**\n * @see: <http://docs.python.org/library/functions.html#divmod>\n */\nexport var divmod = function (a, b) {\n    return { div: Math.floor(a / b), mod: pymod(a, b) };\n};\nexport var empty = function (obj) {\n    return !isPresent(obj) || obj.length === 0;\n};\n/**\n * Python-like boolean\n *\n * @return {Boolean} value of an object/primitive, taking into account\n * the fact that in Python an empty list's/tuple's\n * boolean value is False, whereas in JS it's true\n */\nexport var notEmpty = function (obj) {\n    return !empty(obj);\n};\n/**\n * Return true if a value is in an array\n */\nexport var includes = function (arr, val) {\n    return notEmpty(arr) && arr.indexOf(val) !== -1;\n};\n//# sourceMappingURL=helpers.js.map","import { padStart } from './helpers';\nexport var datetime = function (y, m, d, h, i, s) {\n    if (h === void 0) { h = 0; }\n    if (i === void 0) { i = 0; }\n    if (s === void 0) { s = 0; }\n    return new Date(Date.UTC(y, m - 1, d, h, i, s));\n};\n/**\n * General date-related utilities.\n * Also handles several incompatibilities between JavaScript and Python\n *\n */\nexport var MONTH_DAYS = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n/**\n * Number of milliseconds of one day\n */\nexport var ONE_DAY = 1000 * 60 * 60 * 24;\n/**\n * @see: <http://docs.python.org/library/datetime.html#datetime.MAXYEAR>\n */\nexport var MAXYEAR = 9999;\n/**\n * Python uses 1-Jan-1 as the base for calculating ordinals but we don't\n * want to confuse the JS engine with milliseconds > Number.MAX_NUMBER,\n * therefore we use 1-Jan-1970 instead\n */\nexport var ORDINAL_BASE = datetime(1970, 1, 1);\n/**\n * Python: MO-SU: 0 - 6\n * JS: SU-SAT 0 - 6\n */\nexport var PY_WEEKDAYS = [6, 0, 1, 2, 3, 4, 5];\n/**\n * py_date.timetuple()[7]\n */\nexport var getYearDay = function (date) {\n    var dateNoTime = new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n    return (Math.ceil((dateNoTime.valueOf() - new Date(date.getUTCFullYear(), 0, 1).valueOf()) /\n        ONE_DAY) + 1);\n};\nexport var isLeapYear = function (year) {\n    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n};\nexport var isDate = function (value) {\n    return value instanceof Date;\n};\nexport var isValidDate = function (value) {\n    return isDate(value) && !isNaN(value.getTime());\n};\n/**\n * @return {Number} the date's timezone offset in ms\n */\nexport var tzOffset = function (date) {\n    return date.getTimezoneOffset() * 60 * 1000;\n};\n/**\n * @see: <http://www.mcfedries.com/JavaScript/DaysBetween.asp>\n */\nexport var daysBetween = function (date1, date2) {\n    // The number of milliseconds in one day\n    // Convert both dates to milliseconds\n    var date1ms = date1.getTime();\n    var date2ms = date2.getTime();\n    // Calculate the difference in milliseconds\n    var differencems = date1ms - date2ms;\n    // Convert back to days and return\n    return Math.round(differencems / ONE_DAY);\n};\n/**\n * @see: <http://docs.python.org/library/datetime.html#datetime.date.toordinal>\n */\nexport var toOrdinal = function (date) {\n    return daysBetween(date, ORDINAL_BASE);\n};\n/**\n * @see - <http://docs.python.org/library/datetime.html#datetime.date.fromordinal>\n */\nexport var fromOrdinal = function (ordinal) {\n    return new Date(ORDINAL_BASE.getTime() + ordinal * ONE_DAY);\n};\nexport var getMonthDays = function (date) {\n    var month = date.getUTCMonth();\n    return month === 1 && isLeapYear(date.getUTCFullYear())\n        ? 29\n        : MONTH_DAYS[month];\n};\n/**\n * @return {Number} python-like weekday\n */\nexport var getWeekday = function (date) {\n    return PY_WEEKDAYS[date.getUTCDay()];\n};\n/**\n * @see: <http://docs.python.org/library/calendar.html#calendar.monthrange>\n */\nexport var monthRange = function (year, month) {\n    var date = datetime(year, month + 1, 1);\n    return [getWeekday(date), getMonthDays(date)];\n};\n/**\n * @see: <http://docs.python.org/library/datetime.html#datetime.datetime.combine>\n */\nexport var combine = function (date, time) {\n    time = time || date;\n    return new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), time.getHours(), time.getMinutes(), time.getSeconds(), time.getMilliseconds()));\n};\nexport var clone = function (date) {\n    var dolly = new Date(date.getTime());\n    return dolly;\n};\nexport var cloneDates = function (dates) {\n    var clones = [];\n    for (var i = 0; i < dates.length; i++) {\n        clones.push(clone(dates[i]));\n    }\n    return clones;\n};\n/**\n * Sorts an array of Date or Time objects\n */\nexport var sort = function (dates) {\n    dates.sort(function (a, b) {\n        return a.getTime() - b.getTime();\n    });\n};\nexport var timeToUntilString = function (time, utc) {\n    if (utc === void 0) { utc = true; }\n    var date = new Date(time);\n    return [\n        padStart(date.getUTCFullYear().toString(), 4, '0'),\n        padStart(date.getUTCMonth() + 1, 2, '0'),\n        padStart(date.getUTCDate(), 2, '0'),\n        'T',\n        padStart(date.getUTCHours(), 2, '0'),\n        padStart(date.getUTCMinutes(), 2, '0'),\n        padStart(date.getUTCSeconds(), 2, '0'),\n        utc ? 'Z' : '',\n    ].join('');\n};\nexport var untilStringToDate = function (until) {\n    var re = /^(\\d{4})(\\d{2})(\\d{2})(T(\\d{2})(\\d{2})(\\d{2})Z?)?$/;\n    var bits = re.exec(until);\n    if (!bits)\n        throw new Error(\"Invalid UNTIL value: \".concat(until));\n    return new Date(Date.UTC(parseInt(bits[1], 10), parseInt(bits[2], 10) - 1, parseInt(bits[3], 10), parseInt(bits[5], 10) || 0, parseInt(bits[6], 10) || 0, parseInt(bits[7], 10) || 0));\n};\nvar dateTZtoISO8601 = function (date, timeZone) {\n    // date format for sv-SE is almost ISO8601\n    var dateStr = date.toLocaleString('sv-SE', { timeZone: timeZone });\n    // '2023-02-07 10:41:36'\n    return dateStr.replace(' ', 'T') + 'Z';\n};\nexport var dateInTimeZone = function (date, timeZone) {\n    var localTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    // Date constructor can only reliably parse dates in ISO8601 format\n    var dateInLocalTZ = new Date(dateTZtoISO8601(date, localTimeZone));\n    var dateInTargetTZ = new Date(dateTZtoISO8601(date, timeZone !== null && timeZone !== void 0 ? timeZone : 'UTC'));\n    var tzOffset = dateInTargetTZ.getTime() - dateInLocalTZ.getTime();\n    return new Date(date.getTime() - tzOffset);\n};\n//# sourceMappingURL=dateutil.js.map","/**\n * This class helps us to emulate python's generators, sorta.\n */\nvar IterResult = /** @class */ (function () {\n    function IterResult(method, args) {\n        this.minDate = null;\n        this.maxDate = null;\n        this._result = [];\n        this.total = 0;\n        this.method = method;\n        this.args = args;\n        if (method === 'between') {\n            this.maxDate = args.inc\n                ? args.before\n                : new Date(args.before.getTime() - 1);\n            this.minDate = args.inc ? args.after : new Date(args.after.getTime() + 1);\n        }\n        else if (method === 'before') {\n            this.maxDate = args.inc ? args.dt : new Date(args.dt.getTime() - 1);\n        }\n        else if (method === 'after') {\n            this.minDate = args.inc ? args.dt : new Date(args.dt.getTime() + 1);\n        }\n    }\n    /**\n     * Possibly adds a date into the result.\n     *\n     * @param {Date} date - the date isn't necessarly added to the result\n     * list (if it is too late/too early)\n     * @return {Boolean} true if it makes sense to continue the iteration\n     * false if we're done.\n     */\n    IterResult.prototype.accept = function (date) {\n        ++this.total;\n        var tooEarly = this.minDate && date < this.minDate;\n        var tooLate = this.maxDate && date > this.maxDate;\n        if (this.method === 'between') {\n            if (tooEarly)\n                return true;\n            if (tooLate)\n                return false;\n        }\n        else if (this.method === 'before') {\n            if (tooLate)\n                return false;\n        }\n        else if (this.method === 'after') {\n            if (tooEarly)\n                return true;\n            this.add(date);\n            return false;\n        }\n        return this.add(date);\n    };\n    /**\n     *\n     * @param {Date} date that is part of the result.\n     * @return {Boolean} whether we are interested in more values.\n     */\n    IterResult.prototype.add = function (date) {\n        this._result.push(date);\n        return true;\n    };\n    /**\n     * 'before' and 'after' return only one date, whereas 'all'\n     * and 'between' an array.\n     *\n     * @return {Date,Array?}\n     */\n    IterResult.prototype.getValue = function () {\n        var res = this._result;\n        switch (this.method) {\n            case 'all':\n            case 'between':\n                return res;\n            case 'before':\n            case 'after':\n            default:\n                return (res.length ? res[res.length - 1] : null);\n        }\n    };\n    IterResult.prototype.clone = function () {\n        return new IterResult(this.method, this.args);\n    };\n    return IterResult;\n}());\nexport default IterResult;\n//# sourceMappingURL=iterresult.js.map","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\n  function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","import { __extends } from \"tslib\";\nimport IterResult from './iterresult';\n/**\n * IterResult subclass that calls a callback function on each add,\n * and stops iterating when the callback returns false.\n */\nvar CallbackIterResult = /** @class */ (function (_super) {\n    __extends(CallbackIterResult, _super);\n    function CallbackIterResult(method, args, iterator) {\n        var _this = _super.call(this, method, args) || this;\n        _this.iterator = iterator;\n        return _this;\n    }\n    CallbackIterResult.prototype.add = function (date) {\n        if (this.iterator(date, this._result.length)) {\n            this._result.push(date);\n            return true;\n        }\n        return false;\n    };\n    return CallbackIterResult;\n}(IterResult));\nexport default CallbackIterResult;\n//# sourceMappingURL=callbackiterresult.js.map","export var Frequency;\n(function (Frequency) {\n    Frequency[Frequency[\"YEARLY\"] = 0] = \"YEARLY\";\n    Frequency[Frequency[\"MONTHLY\"] = 1] = \"MONTHLY\";\n    Frequency[Frequency[\"WEEKLY\"] = 2] = \"WEEKLY\";\n    Frequency[Frequency[\"DAILY\"] = 3] = \"DAILY\";\n    Frequency[Frequency[\"HOURLY\"] = 4] = \"HOURLY\";\n    Frequency[Frequency[\"MINUTELY\"] = 5] = \"MINUTELY\";\n    Frequency[Frequency[\"SECONDLY\"] = 6] = \"SECONDLY\";\n})(Frequency || (Frequency = {}));\nexport function freqIsDailyOrGreater(freq) {\n    return freq < Frequency.HOURLY;\n}\n//# sourceMappingURL=types.js.map","// =============================================================================\n// i18n\n// =============================================================================\nvar ENGLISH = {\n    dayNames: [\n        'Sunday',\n        'Monday',\n        'Tuesday',\n        'Wednesday',\n        'Thursday',\n        'Friday',\n        'Saturday',\n    ],\n    monthNames: [\n        'January',\n        'February',\n        'March',\n        'April',\n        'May',\n        'June',\n        'July',\n        'August',\n        'September',\n        'October',\n        'November',\n        'December',\n    ],\n    tokens: {\n        SKIP: /^[ \\r\\n\\t]+|^\\.$/,\n        number: /^[1-9][0-9]*/,\n        numberAsText: /^(one|two|three)/i,\n        every: /^every/i,\n        'day(s)': /^days?/i,\n        'weekday(s)': /^weekdays?/i,\n        'week(s)': /^weeks?/i,\n        'hour(s)': /^hours?/i,\n        'minute(s)': /^minutes?/i,\n        'month(s)': /^months?/i,\n        'year(s)': /^years?/i,\n        on: /^(on|in)/i,\n        at: /^(at)/i,\n        the: /^the/i,\n        first: /^first/i,\n        second: /^second/i,\n        third: /^third/i,\n        nth: /^([1-9][0-9]*)(\\.|th|nd|rd|st)/i,\n        last: /^last/i,\n        for: /^for/i,\n        'time(s)': /^times?/i,\n        until: /^(un)?til/i,\n        monday: /^mo(n(day)?)?/i,\n        tuesday: /^tu(e(s(day)?)?)?/i,\n        wednesday: /^we(d(n(esday)?)?)?/i,\n        thursday: /^th(u(r(sday)?)?)?/i,\n        friday: /^fr(i(day)?)?/i,\n        saturday: /^sa(t(urday)?)?/i,\n        sunday: /^su(n(day)?)?/i,\n        january: /^jan(uary)?/i,\n        february: /^feb(ruary)?/i,\n        march: /^mar(ch)?/i,\n        april: /^apr(il)?/i,\n        may: /^may/i,\n        june: /^june?/i,\n        july: /^july?/i,\n        august: /^aug(ust)?/i,\n        september: /^sep(t(ember)?)?/i,\n        october: /^oct(ober)?/i,\n        november: /^nov(ember)?/i,\n        december: /^dec(ember)?/i,\n        comma: /^(,\\s*|(and|or)\\s*)+/i,\n    },\n};\nexport default ENGLISH;\n//# sourceMappingURL=i18n.js.map","import ENGLISH from './i18n';\nimport { RRule } from '../rrule';\nimport { isArray, isNumber, isPresent } from '../helpers';\n// =============================================================================\n// Helper functions\n// =============================================================================\n/**\n * Return true if a value is in an array\n */\nvar contains = function (arr, val) {\n    return arr.indexOf(val) !== -1;\n};\nvar defaultGetText = function (id) { return id.toString(); };\nvar defaultDateFormatter = function (year, month, day) { return \"\".concat(month, \" \").concat(day, \", \").concat(year); };\n/**\n *\n * @param {RRule} rrule\n * Optional:\n * @param {Function} gettext function\n * @param {Object} language definition\n * @constructor\n */\nvar ToText = /** @class */ (function () {\n    function ToText(rrule, gettext, language, dateFormatter) {\n        if (gettext === void 0) { gettext = defaultGetText; }\n        if (language === void 0) { language = ENGLISH; }\n        if (dateFormatter === void 0) { dateFormatter = defaultDateFormatter; }\n        this.text = [];\n        this.language = language || ENGLISH;\n        this.gettext = gettext;\n        this.dateFormatter = dateFormatter;\n        this.rrule = rrule;\n        this.options = rrule.options;\n        this.origOptions = rrule.origOptions;\n        if (this.origOptions.bymonthday) {\n            var bymonthday = [].concat(this.options.bymonthday);\n            var bynmonthday = [].concat(this.options.bynmonthday);\n            bymonthday.sort(function (a, b) { return a - b; });\n            bynmonthday.sort(function (a, b) { return b - a; });\n            // 1, 2, 3, .., -5, -4, -3, ..\n            this.bymonthday = bymonthday.concat(bynmonthday);\n            if (!this.bymonthday.length)\n                this.bymonthday = null;\n        }\n        if (isPresent(this.origOptions.byweekday)) {\n            var byweekday = !isArray(this.origOptions.byweekday)\n                ? [this.origOptions.byweekday]\n                : this.origOptions.byweekday;\n            var days = String(byweekday);\n            this.byweekday = {\n                allWeeks: byweekday.filter(function (weekday) {\n                    return !weekday.n;\n                }),\n                someWeeks: byweekday.filter(function (weekday) {\n                    return Boolean(weekday.n);\n                }),\n                isWeekdays: days.indexOf('MO') !== -1 &&\n                    days.indexOf('TU') !== -1 &&\n                    days.indexOf('WE') !== -1 &&\n                    days.indexOf('TH') !== -1 &&\n                    days.indexOf('FR') !== -1 &&\n                    days.indexOf('SA') === -1 &&\n                    days.indexOf('SU') === -1,\n                isEveryDay: days.indexOf('MO') !== -1 &&\n                    days.indexOf('TU') !== -1 &&\n                    days.indexOf('WE') !== -1 &&\n                    days.indexOf('TH') !== -1 &&\n                    days.indexOf('FR') !== -1 &&\n                    days.indexOf('SA') !== -1 &&\n                    days.indexOf('SU') !== -1,\n            };\n            var sortWeekDays = function (a, b) {\n                return a.weekday - b.weekday;\n            };\n            this.byweekday.allWeeks.sort(sortWeekDays);\n            this.byweekday.someWeeks.sort(sortWeekDays);\n            if (!this.byweekday.allWeeks.length)\n                this.byweekday.allWeeks = null;\n            if (!this.byweekday.someWeeks.length)\n                this.byweekday.someWeeks = null;\n        }\n        else {\n            this.byweekday = null;\n        }\n    }\n    /**\n     * Test whether the rrule can be fully converted to text.\n     *\n     * @param {RRule} rrule\n     * @return {Boolean}\n     */\n    ToText.isFullyConvertible = function (rrule) {\n        var canConvert = true;\n        if (!(rrule.options.freq in ToText.IMPLEMENTED))\n            return false;\n        if (rrule.origOptions.until && rrule.origOptions.count)\n            return false;\n        for (var key in rrule.origOptions) {\n            if (contains(['dtstart', 'tzid', 'wkst', 'freq'], key))\n                return true;\n            if (!contains(ToText.IMPLEMENTED[rrule.options.freq], key))\n                return false;\n        }\n        return canConvert;\n    };\n    ToText.prototype.isFullyConvertible = function () {\n        return ToText.isFullyConvertible(this.rrule);\n    };\n    /**\n     * Perform the conversion. Only some of the frequencies are supported.\n     * If some of the rrule's options aren't supported, they'll\n     * be omitted from the output an \"(~ approximate)\" will be appended.\n     *\n     * @return {*}\n     */\n    ToText.prototype.toString = function () {\n        var gettext = this.gettext;\n        if (!(this.options.freq in ToText.IMPLEMENTED)) {\n            return gettext('RRule error: Unable to fully convert this rrule to text');\n        }\n        this.text = [gettext('every')];\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        this[RRule.FREQUENCIES[this.options.freq]]();\n        if (this.options.until) {\n            this.add(gettext('until'));\n            var until = this.options.until;\n            this.add(this.dateFormatter(until.getUTCFullYear(), this.language.monthNames[until.getUTCMonth()], until.getUTCDate()));\n        }\n        else if (this.options.count) {\n            this.add(gettext('for'))\n                .add(this.options.count.toString())\n                .add(this.plural(this.options.count) ? gettext('times') : gettext('time'));\n        }\n        if (!this.isFullyConvertible())\n            this.add(gettext('(~ approximate)'));\n        return this.text.join('');\n    };\n    ToText.prototype.HOURLY = function () {\n        var gettext = this.gettext;\n        if (this.options.interval !== 1)\n            this.add(this.options.interval.toString());\n        this.add(this.plural(this.options.interval) ? gettext('hours') : gettext('hour'));\n    };\n    ToText.prototype.MINUTELY = function () {\n        var gettext = this.gettext;\n        if (this.options.interval !== 1)\n            this.add(this.options.interval.toString());\n        this.add(this.plural(this.options.interval)\n            ? gettext('minutes')\n            : gettext('minute'));\n    };\n    ToText.prototype.DAILY = function () {\n        var gettext = this.gettext;\n        if (this.options.interval !== 1)\n            this.add(this.options.interval.toString());\n        if (this.byweekday && this.byweekday.isWeekdays) {\n            this.add(this.plural(this.options.interval)\n                ? gettext('weekdays')\n                : gettext('weekday'));\n        }\n        else {\n            this.add(this.plural(this.options.interval) ? gettext('days') : gettext('day'));\n        }\n        if (this.origOptions.bymonth) {\n            this.add(gettext('in'));\n            this._bymonth();\n        }\n        if (this.bymonthday) {\n            this._bymonthday();\n        }\n        else if (this.byweekday) {\n            this._byweekday();\n        }\n        else if (this.origOptions.byhour) {\n            this._byhour();\n        }\n    };\n    ToText.prototype.WEEKLY = function () {\n        var gettext = this.gettext;\n        if (this.options.interval !== 1) {\n            this.add(this.options.interval.toString()).add(this.plural(this.options.interval) ? gettext('weeks') : gettext('week'));\n        }\n        if (this.byweekday && this.byweekday.isWeekdays) {\n            if (this.options.interval === 1) {\n                this.add(this.plural(this.options.interval)\n                    ? gettext('weekdays')\n                    : gettext('weekday'));\n            }\n            else {\n                this.add(gettext('on')).add(gettext('weekdays'));\n            }\n        }\n        else if (this.byweekday && this.byweekday.isEveryDay) {\n            this.add(this.plural(this.options.interval) ? gettext('days') : gettext('day'));\n        }\n        else {\n            if (this.options.interval === 1)\n                this.add(gettext('week'));\n            if (this.origOptions.bymonth) {\n                this.add(gettext('in'));\n                this._bymonth();\n            }\n            if (this.bymonthday) {\n                this._bymonthday();\n            }\n            else if (this.byweekday) {\n                this._byweekday();\n            }\n            if (this.origOptions.byhour) {\n                this._byhour();\n            }\n        }\n    };\n    ToText.prototype.MONTHLY = function () {\n        var gettext = this.gettext;\n        if (this.origOptions.bymonth) {\n            if (this.options.interval !== 1) {\n                this.add(this.options.interval.toString()).add(gettext('months'));\n                if (this.plural(this.options.interval))\n                    this.add(gettext('in'));\n            }\n            else {\n                // this.add(gettext('MONTH'))\n            }\n            this._bymonth();\n        }\n        else {\n            if (this.options.interval !== 1) {\n                this.add(this.options.interval.toString());\n            }\n            this.add(this.plural(this.options.interval)\n                ? gettext('months')\n                : gettext('month'));\n        }\n        if (this.bymonthday) {\n            this._bymonthday();\n        }\n        else if (this.byweekday && this.byweekday.isWeekdays) {\n            this.add(gettext('on')).add(gettext('weekdays'));\n        }\n        else if (this.byweekday) {\n            this._byweekday();\n        }\n    };\n    ToText.prototype.YEARLY = function () {\n        var gettext = this.gettext;\n        if (this.origOptions.bymonth) {\n            if (this.options.interval !== 1) {\n                this.add(this.options.interval.toString());\n                this.add(gettext('years'));\n            }\n            else {\n                // this.add(gettext('YEAR'))\n            }\n            this._bymonth();\n        }\n        else {\n            if (this.options.interval !== 1) {\n                this.add(this.options.interval.toString());\n            }\n            this.add(this.plural(this.options.interval) ? gettext('years') : gettext('year'));\n        }\n        if (this.bymonthday) {\n            this._bymonthday();\n        }\n        else if (this.byweekday) {\n            this._byweekday();\n        }\n        if (this.options.byyearday) {\n            this.add(gettext('on the'))\n                .add(this.list(this.options.byyearday, this.nth, gettext('and')))\n                .add(gettext('day'));\n        }\n        if (this.options.byweekno) {\n            this.add(gettext('in'))\n                .add(this.plural(this.options.byweekno.length)\n                ? gettext('weeks')\n                : gettext('week'))\n                .add(this.list(this.options.byweekno, undefined, gettext('and')));\n        }\n    };\n    ToText.prototype._bymonthday = function () {\n        var gettext = this.gettext;\n        if (this.byweekday && this.byweekday.allWeeks) {\n            this.add(gettext('on'))\n                .add(this.list(this.byweekday.allWeeks, this.weekdaytext, gettext('or')))\n                .add(gettext('the'))\n                .add(this.list(this.bymonthday, this.nth, gettext('or')));\n        }\n        else {\n            this.add(gettext('on the')).add(this.list(this.bymonthday, this.nth, gettext('and')));\n        }\n        // this.add(gettext('DAY'))\n    };\n    ToText.prototype._byweekday = function () {\n        var gettext = this.gettext;\n        if (this.byweekday.allWeeks && !this.byweekday.isWeekdays) {\n            this.add(gettext('on')).add(this.list(this.byweekday.allWeeks, this.weekdaytext));\n        }\n        if (this.byweekday.someWeeks) {\n            if (this.byweekday.allWeeks)\n                this.add(gettext('and'));\n            this.add(gettext('on the')).add(this.list(this.byweekday.someWeeks, this.weekdaytext, gettext('and')));\n        }\n    };\n    ToText.prototype._byhour = function () {\n        var gettext = this.gettext;\n        this.add(gettext('at')).add(this.list(this.origOptions.byhour, undefined, gettext('and')));\n    };\n    ToText.prototype._bymonth = function () {\n        this.add(this.list(this.options.bymonth, this.monthtext, this.gettext('and')));\n    };\n    ToText.prototype.nth = function (n) {\n        n = parseInt(n.toString(), 10);\n        var nth;\n        var gettext = this.gettext;\n        if (n === -1)\n            return gettext('last');\n        var npos = Math.abs(n);\n        switch (npos) {\n            case 1:\n            case 21:\n            case 31:\n                nth = npos + gettext('st');\n                break;\n            case 2:\n            case 22:\n                nth = npos + gettext('nd');\n                break;\n            case 3:\n            case 23:\n                nth = npos + gettext('rd');\n                break;\n            default:\n                nth = npos + gettext('th');\n        }\n        return n < 0 ? nth + ' ' + gettext('last') : nth;\n    };\n    ToText.prototype.monthtext = function (m) {\n        return this.language.monthNames[m - 1];\n    };\n    ToText.prototype.weekdaytext = function (wday) {\n        var weekday = isNumber(wday) ? (wday + 1) % 7 : wday.getJsWeekday();\n        return ((wday.n ? this.nth(wday.n) + ' ' : '') +\n            this.language.dayNames[weekday]);\n    };\n    ToText.prototype.plural = function (n) {\n        return n % 100 !== 1;\n    };\n    ToText.prototype.add = function (s) {\n        this.text.push(' ');\n        this.text.push(s);\n        return this;\n    };\n    ToText.prototype.list = function (arr, callback, finalDelim, delim) {\n        var _this = this;\n        if (delim === void 0) { delim = ','; }\n        if (!isArray(arr)) {\n            arr = [arr];\n        }\n        var delimJoin = function (array, delimiter, finalDelimiter) {\n            var list = '';\n            for (var i = 0; i < array.length; i++) {\n                if (i !== 0) {\n                    if (i === array.length - 1) {\n                        list += ' ' + finalDelimiter + ' ';\n                    }\n                    else {\n                        list += delimiter + ' ';\n                    }\n                }\n                list += array[i];\n            }\n            return list;\n        };\n        callback =\n            callback ||\n                function (o) {\n                    return o.toString();\n                };\n        var realCallback = function (arg) {\n            return callback && callback.call(_this, arg);\n        };\n        if (finalDelim) {\n            return delimJoin(arr.map(realCallback), delim, finalDelim);\n        }\n        else {\n            return arr.map(realCallback).join(delim + ' ');\n        }\n    };\n    return ToText;\n}());\nexport default ToText;\n//# sourceMappingURL=totext.js.map","import ENGLISH from './i18n';\nimport { RRule } from '../rrule';\n// =============================================================================\n// Parser\n// =============================================================================\nvar Parser = /** @class */ (function () {\n    function Parser(rules) {\n        this.done = true;\n        this.rules = rules;\n    }\n    Parser.prototype.start = function (text) {\n        this.text = text;\n        this.done = false;\n        return this.nextSymbol();\n    };\n    Parser.prototype.isDone = function () {\n        return this.done && this.symbol === null;\n    };\n    Parser.prototype.nextSymbol = function () {\n        var best;\n        var bestSymbol;\n        this.symbol = null;\n        this.value = null;\n        do {\n            if (this.done)\n                return false;\n            var rule = void 0;\n            best = null;\n            for (var name_1 in this.rules) {\n                rule = this.rules[name_1];\n                var match = rule.exec(this.text);\n                if (match) {\n                    if (best === null || match[0].length > best[0].length) {\n                        best = match;\n                        bestSymbol = name_1;\n                    }\n                }\n            }\n            if (best != null) {\n                this.text = this.text.substr(best[0].length);\n                if (this.text === '')\n                    this.done = true;\n            }\n            if (best == null) {\n                this.done = true;\n                this.symbol = null;\n                this.value = null;\n                return;\n            }\n        } while (bestSymbol === 'SKIP');\n        this.symbol = bestSymbol;\n        this.value = best;\n        return true;\n    };\n    Parser.prototype.accept = function (name) {\n        if (this.symbol === name) {\n            if (this.value) {\n                var v = this.value;\n                this.nextSymbol();\n                return v;\n            }\n            this.nextSymbol();\n            return true;\n        }\n        return false;\n    };\n    Parser.prototype.acceptNumber = function () {\n        return this.accept('number');\n    };\n    Parser.prototype.expect = function (name) {\n        if (this.accept(name))\n            return true;\n        throw new Error('expected ' + name + ' but found ' + this.symbol);\n    };\n    return Parser;\n}());\nexport default function parseText(text, language) {\n    if (language === void 0) { language = ENGLISH; }\n    var options = {};\n    var ttr = new Parser(language.tokens);\n    if (!ttr.start(text))\n        return null;\n    S();\n    return options;\n    function S() {\n        // every [n]\n        ttr.expect('every');\n        var n = ttr.acceptNumber();\n        if (n)\n            options.interval = parseInt(n[0], 10);\n        if (ttr.isDone())\n            throw new Error('Unexpected end');\n        switch (ttr.symbol) {\n            case 'day(s)':\n                options.freq = RRule.DAILY;\n                if (ttr.nextSymbol()) {\n                    AT();\n                    F();\n                }\n                break;\n            // FIXME Note: every 2 weekdays != every two weeks on weekdays.\n            // DAILY on weekdays is not a valid rule\n            case 'weekday(s)':\n                options.freq = RRule.WEEKLY;\n                options.byweekday = [RRule.MO, RRule.TU, RRule.WE, RRule.TH, RRule.FR];\n                ttr.nextSymbol();\n                AT();\n                F();\n                break;\n            case 'week(s)':\n                options.freq = RRule.WEEKLY;\n                if (ttr.nextSymbol()) {\n                    ON();\n                    AT();\n                    F();\n                }\n                break;\n            case 'hour(s)':\n                options.freq = RRule.HOURLY;\n                if (ttr.nextSymbol()) {\n                    ON();\n                    F();\n                }\n                break;\n            case 'minute(s)':\n                options.freq = RRule.MINUTELY;\n                if (ttr.nextSymbol()) {\n                    ON();\n                    F();\n                }\n                break;\n            case 'month(s)':\n                options.freq = RRule.MONTHLY;\n                if (ttr.nextSymbol()) {\n                    ON();\n                    F();\n                }\n                break;\n            case 'year(s)':\n                options.freq = RRule.YEARLY;\n                if (ttr.nextSymbol()) {\n                    ON();\n                    F();\n                }\n                break;\n            case 'monday':\n            case 'tuesday':\n            case 'wednesday':\n            case 'thursday':\n            case 'friday':\n            case 'saturday':\n            case 'sunday':\n                options.freq = RRule.WEEKLY;\n                var key = ttr.symbol\n                    .substr(0, 2)\n                    .toUpperCase();\n                options.byweekday = [RRule[key]];\n                if (!ttr.nextSymbol())\n                    return;\n                // TODO check for duplicates\n                while (ttr.accept('comma')) {\n                    if (ttr.isDone())\n                        throw new Error('Unexpected end');\n                    var wkd = decodeWKD();\n                    if (!wkd) {\n                        throw new Error('Unexpected symbol ' + ttr.symbol + ', expected weekday');\n                    }\n                    options.byweekday.push(RRule[wkd]);\n                    ttr.nextSymbol();\n                }\n                AT();\n                MDAYs();\n                F();\n                break;\n            case 'january':\n            case 'february':\n            case 'march':\n            case 'april':\n            case 'may':\n            case 'june':\n            case 'july':\n            case 'august':\n            case 'september':\n            case 'october':\n            case 'november':\n            case 'december':\n                options.freq = RRule.YEARLY;\n                options.bymonth = [decodeM()];\n                if (!ttr.nextSymbol())\n                    return;\n                // TODO check for duplicates\n                while (ttr.accept('comma')) {\n                    if (ttr.isDone())\n                        throw new Error('Unexpected end');\n                    var m = decodeM();\n                    if (!m) {\n                        throw new Error('Unexpected symbol ' + ttr.symbol + ', expected month');\n                    }\n                    options.bymonth.push(m);\n                    ttr.nextSymbol();\n                }\n                ON();\n                F();\n                break;\n            default:\n                throw new Error('Unknown symbol');\n        }\n    }\n    function ON() {\n        var on = ttr.accept('on');\n        var the = ttr.accept('the');\n        if (!(on || the))\n            return;\n        do {\n            var nth = decodeNTH();\n            var wkd = decodeWKD();\n            var m = decodeM();\n            // nth <weekday> | <weekday>\n            if (nth) {\n                // ttr.nextSymbol()\n                if (wkd) {\n                    ttr.nextSymbol();\n                    if (!options.byweekday)\n                        options.byweekday = [];\n                    options.byweekday.push(RRule[wkd].nth(nth));\n                }\n                else {\n                    if (!options.bymonthday)\n                        options.bymonthday = [];\n                    options.bymonthday.push(nth);\n                    ttr.accept('day(s)');\n                }\n                // <weekday>\n            }\n            else if (wkd) {\n                ttr.nextSymbol();\n                if (!options.byweekday)\n                    options.byweekday = [];\n                options.byweekday.push(RRule[wkd]);\n            }\n            else if (ttr.symbol === 'weekday(s)') {\n                ttr.nextSymbol();\n                if (!options.byweekday) {\n                    options.byweekday = [RRule.MO, RRule.TU, RRule.WE, RRule.TH, RRule.FR];\n                }\n            }\n            else if (ttr.symbol === 'week(s)') {\n                ttr.nextSymbol();\n                var n = ttr.acceptNumber();\n                if (!n) {\n                    throw new Error('Unexpected symbol ' + ttr.symbol + ', expected week number');\n                }\n                options.byweekno = [parseInt(n[0], 10)];\n                while (ttr.accept('comma')) {\n                    n = ttr.acceptNumber();\n                    if (!n) {\n                        throw new Error('Unexpected symbol ' + ttr.symbol + '; expected monthday');\n                    }\n                    options.byweekno.push(parseInt(n[0], 10));\n                }\n            }\n            else if (m) {\n                ttr.nextSymbol();\n                if (!options.bymonth)\n                    options.bymonth = [];\n                options.bymonth.push(m);\n            }\n            else {\n                return;\n            }\n        } while (ttr.accept('comma') || ttr.accept('the') || ttr.accept('on'));\n    }\n    function AT() {\n        var at = ttr.accept('at');\n        if (!at)\n            return;\n        do {\n            var n = ttr.acceptNumber();\n            if (!n) {\n                throw new Error('Unexpected symbol ' + ttr.symbol + ', expected hour');\n            }\n            options.byhour = [parseInt(n[0], 10)];\n            while (ttr.accept('comma')) {\n                n = ttr.acceptNumber();\n                if (!n) {\n                    throw new Error('Unexpected symbol ' + ttr.symbol + '; expected hour');\n                }\n                options.byhour.push(parseInt(n[0], 10));\n            }\n        } while (ttr.accept('comma') || ttr.accept('at'));\n    }\n    function decodeM() {\n        switch (ttr.symbol) {\n            case 'january':\n                return 1;\n            case 'february':\n                return 2;\n            case 'march':\n                return 3;\n            case 'april':\n                return 4;\n            case 'may':\n                return 5;\n            case 'june':\n                return 6;\n            case 'july':\n                return 7;\n            case 'august':\n                return 8;\n            case 'september':\n                return 9;\n            case 'october':\n                return 10;\n            case 'november':\n                return 11;\n            case 'december':\n                return 12;\n            default:\n                return false;\n        }\n    }\n    function decodeWKD() {\n        switch (ttr.symbol) {\n            case 'monday':\n            case 'tuesday':\n            case 'wednesday':\n            case 'thursday':\n            case 'friday':\n            case 'saturday':\n            case 'sunday':\n                return ttr.symbol.substr(0, 2).toUpperCase();\n            default:\n                return false;\n        }\n    }\n    function decodeNTH() {\n        switch (ttr.symbol) {\n            case 'last':\n                ttr.nextSymbol();\n                return -1;\n            case 'first':\n                ttr.nextSymbol();\n                return 1;\n            case 'second':\n                ttr.nextSymbol();\n                return ttr.accept('last') ? -2 : 2;\n            case 'third':\n                ttr.nextSymbol();\n                return ttr.accept('last') ? -3 : 3;\n            case 'nth':\n                var v = parseInt(ttr.value[1], 10);\n                if (v < -366 || v > 366)\n                    throw new Error('Nth out of range: ' + v);\n                ttr.nextSymbol();\n                return ttr.accept('last') ? -v : v;\n            default:\n                return false;\n        }\n    }\n    function MDAYs() {\n        ttr.accept('on');\n        ttr.accept('the');\n        var nth = decodeNTH();\n        if (!nth)\n            return;\n        options.bymonthday = [nth];\n        ttr.nextSymbol();\n        while (ttr.accept('comma')) {\n            nth = decodeNTH();\n            if (!nth) {\n                throw new Error('Unexpected symbol ' + ttr.symbol + '; expected monthday');\n            }\n            options.bymonthday.push(nth);\n            ttr.nextSymbol();\n        }\n    }\n    function F() {\n        if (ttr.symbol === 'until') {\n            var date = Date.parse(ttr.text);\n            if (!date)\n                throw new Error('Cannot parse until date:' + ttr.text);\n            options.until = new Date(date);\n        }\n        else if (ttr.accept('for')) {\n            options.count = parseInt(ttr.value[0], 10);\n            ttr.expect('number');\n            // ttr.expect('times')\n        }\n    }\n}\n//# sourceMappingURL=parsetext.js.map","import ToText from './totext';\nimport parseText from './parsetext';\nimport { RRule } from '../rrule';\nimport { Frequency } from '../types';\nimport ENGLISH from './i18n';\n/* !\n * rrule.js - Library for working with recurrence rules for calendar dates.\n * https://github.com/jakubroztocil/rrule\n *\n * Copyright 2010, Jakub Roztocil and Lars Schoning\n * Licenced under the BSD licence.\n * https://github.com/jakubroztocil/rrule/blob/master/LICENCE\n *\n */\n/**\n *\n * Implementation of RRule.fromText() and RRule::toText().\n *\n *\n * On the client side, this file needs to be included\n * when those functions are used.\n *\n */\n// =============================================================================\n// fromText\n// =============================================================================\n/**\n * Will be able to convert some of the below described rules from\n * text format to a rule object.\n *\n *\n * RULES\n *\n * Every ([n])\n * day(s)\n * | [weekday], ..., (and) [weekday]\n * | weekday(s)\n * | week(s)\n * | month(s)\n * | [month], ..., (and) [month]\n * | year(s)\n *\n *\n * Plus 0, 1, or multiple of these:\n *\n * on [weekday], ..., (or) [weekday] the [monthday], [monthday], ... (or) [monthday]\n *\n * on [weekday], ..., (and) [weekday]\n *\n * on the [monthday], [monthday], ... (and) [monthday] (day of the month)\n *\n * on the [nth-weekday], ..., (and) [nth-weekday] (of the month/year)\n *\n *\n * Plus 0 or 1 of these:\n *\n * for [n] time(s)\n *\n * until [date]\n *\n * Plus (.)\n *\n *\n * Definitely no supported for parsing:\n *\n * (for year):\n * in week(s) [n], ..., (and) [n]\n *\n * on the [yearday], ..., (and) [n] day of the year\n * on day [yearday], ..., (and) [n]\n *\n *\n * NON-TERMINALS\n *\n * [n]: 1, 2 ..., one, two, three ..\n * [month]: January, February, March, April, May, ... December\n * [weekday]: Monday, ... Sunday\n * [nth-weekday]: first [weekday], 2nd [weekday], ... last [weekday], ...\n * [monthday]: first, 1., 2., 1st, 2nd, second, ... 31st, last day, 2nd last day, ..\n * [date]:\n * - [month] (0-31(,) ([year])),\n * - (the) 0-31.(1-12.([year])),\n * - (the) 0-31/(1-12/([year])),\n * - [weekday]\n *\n * [year]: 0000, 0001, ... 01, 02, ..\n *\n * Definitely not supported for parsing:\n *\n * [yearday]: first, 1., 2., 1st, 2nd, second, ... 366th, last day, 2nd last day, ..\n *\n * @param {String} text\n * @return {Object, Boolean} the rule, or null.\n */\nvar fromText = function (text, language) {\n    if (language === void 0) { language = ENGLISH; }\n    return new RRule(parseText(text, language) || undefined);\n};\nvar common = [\n    'count',\n    'until',\n    'interval',\n    'byweekday',\n    'bymonthday',\n    'bymonth',\n];\nToText.IMPLEMENTED = [];\nToText.IMPLEMENTED[Frequency.HOURLY] = common;\nToText.IMPLEMENTED[Frequency.MINUTELY] = common;\nToText.IMPLEMENTED[Frequency.DAILY] = ['byhour'].concat(common);\nToText.IMPLEMENTED[Frequency.WEEKLY] = common;\nToText.IMPLEMENTED[Frequency.MONTHLY] = common;\nToText.IMPLEMENTED[Frequency.YEARLY] = ['byweekno', 'byyearday'].concat(common);\n// =============================================================================\n// Export\n// =============================================================================\nvar toText = function (rrule, gettext, language, dateFormatter) {\n    return new ToText(rrule, gettext, language, dateFormatter).toString();\n};\nvar isFullyConvertible = ToText.isFullyConvertible;\nexport { fromText, parseText, isFullyConvertible, toText };\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { Frequency } from './types';\nimport { pymod, divmod, empty, includes } from './helpers';\nimport { getWeekday, MAXYEAR, monthRange } from './dateutil';\nvar Time = /** @class */ (function () {\n    function Time(hour, minute, second, millisecond) {\n        this.hour = hour;\n        this.minute = minute;\n        this.second = second;\n        this.millisecond = millisecond || 0;\n    }\n    Time.prototype.getHours = function () {\n        return this.hour;\n    };\n    Time.prototype.getMinutes = function () {\n        return this.minute;\n    };\n    Time.prototype.getSeconds = function () {\n        return this.second;\n    };\n    Time.prototype.getMilliseconds = function () {\n        return this.millisecond;\n    };\n    Time.prototype.getTime = function () {\n        return ((this.hour * 60 * 60 + this.minute * 60 + this.second) * 1000 +\n            this.millisecond);\n    };\n    return Time;\n}());\nexport { Time };\nvar DateTime = /** @class */ (function (_super) {\n    __extends(DateTime, _super);\n    function DateTime(year, month, day, hour, minute, second, millisecond) {\n        var _this = _super.call(this, hour, minute, second, millisecond) || this;\n        _this.year = year;\n        _this.month = month;\n        _this.day = day;\n        return _this;\n    }\n    DateTime.fromDate = function (date) {\n        return new this(date.getUTCFullYear(), date.getUTCMonth() + 1, date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.valueOf() % 1000);\n    };\n    DateTime.prototype.getWeekday = function () {\n        return getWeekday(new Date(this.getTime()));\n    };\n    DateTime.prototype.getTime = function () {\n        return new Date(Date.UTC(this.year, this.month - 1, this.day, this.hour, this.minute, this.second, this.millisecond)).getTime();\n    };\n    DateTime.prototype.getDay = function () {\n        return this.day;\n    };\n    DateTime.prototype.getMonth = function () {\n        return this.month;\n    };\n    DateTime.prototype.getYear = function () {\n        return this.year;\n    };\n    DateTime.prototype.addYears = function (years) {\n        this.year += years;\n    };\n    DateTime.prototype.addMonths = function (months) {\n        this.month += months;\n        if (this.month > 12) {\n            var yearDiv = Math.floor(this.month / 12);\n            var monthMod = pymod(this.month, 12);\n            this.month = monthMod;\n            this.year += yearDiv;\n            if (this.month === 0) {\n                this.month = 12;\n                --this.year;\n            }\n        }\n    };\n    DateTime.prototype.addWeekly = function (days, wkst) {\n        if (wkst > this.getWeekday()) {\n            this.day += -(this.getWeekday() + 1 + (6 - wkst)) + days * 7;\n        }\n        else {\n            this.day += -(this.getWeekday() - wkst) + days * 7;\n        }\n        this.fixDay();\n    };\n    DateTime.prototype.addDaily = function (days) {\n        this.day += days;\n        this.fixDay();\n    };\n    DateTime.prototype.addHours = function (hours, filtered, byhour) {\n        if (filtered) {\n            // Jump to one iteration before next day\n            this.hour += Math.floor((23 - this.hour) / hours) * hours;\n        }\n        for (;;) {\n            this.hour += hours;\n            var _a = divmod(this.hour, 24), dayDiv = _a.div, hourMod = _a.mod;\n            if (dayDiv) {\n                this.hour = hourMod;\n                this.addDaily(dayDiv);\n            }\n            if (empty(byhour) || includes(byhour, this.hour))\n                break;\n        }\n    };\n    DateTime.prototype.addMinutes = function (minutes, filtered, byhour, byminute) {\n        if (filtered) {\n            // Jump to one iteration before next day\n            this.minute +=\n                Math.floor((1439 - (this.hour * 60 + this.minute)) / minutes) * minutes;\n        }\n        for (;;) {\n            this.minute += minutes;\n            var _a = divmod(this.minute, 60), hourDiv = _a.div, minuteMod = _a.mod;\n            if (hourDiv) {\n                this.minute = minuteMod;\n                this.addHours(hourDiv, false, byhour);\n            }\n            if ((empty(byhour) || includes(byhour, this.hour)) &&\n                (empty(byminute) || includes(byminute, this.minute))) {\n                break;\n            }\n        }\n    };\n    DateTime.prototype.addSeconds = function (seconds, filtered, byhour, byminute, bysecond) {\n        if (filtered) {\n            // Jump to one iteration before next day\n            this.second +=\n                Math.floor((86399 - (this.hour * 3600 + this.minute * 60 + this.second)) /\n                    seconds) * seconds;\n        }\n        for (;;) {\n            this.second += seconds;\n            var _a = divmod(this.second, 60), minuteDiv = _a.div, secondMod = _a.mod;\n            if (minuteDiv) {\n                this.second = secondMod;\n                this.addMinutes(minuteDiv, false, byhour, byminute);\n            }\n            if ((empty(byhour) || includes(byhour, this.hour)) &&\n                (empty(byminute) || includes(byminute, this.minute)) &&\n                (empty(bysecond) || includes(bysecond, this.second))) {\n                break;\n            }\n        }\n    };\n    DateTime.prototype.fixDay = function () {\n        if (this.day <= 28) {\n            return;\n        }\n        var daysinmonth = monthRange(this.year, this.month - 1)[1];\n        if (this.day <= daysinmonth) {\n            return;\n        }\n        while (this.day > daysinmonth) {\n            this.day -= daysinmonth;\n            ++this.month;\n            if (this.month === 13) {\n                this.month = 1;\n                ++this.year;\n                if (this.year > MAXYEAR) {\n                    return;\n                }\n            }\n            daysinmonth = monthRange(this.year, this.month - 1)[1];\n        }\n    };\n    DateTime.prototype.add = function (options, filtered) {\n        var freq = options.freq, interval = options.interval, wkst = options.wkst, byhour = options.byhour, byminute = options.byminute, bysecond = options.bysecond;\n        switch (freq) {\n            case Frequency.YEARLY:\n                return this.addYears(interval);\n            case Frequency.MONTHLY:\n                return this.addMonths(interval);\n            case Frequency.WEEKLY:\n                return this.addWeekly(interval, wkst);\n            case Frequency.DAILY:\n                return this.addDaily(interval);\n            case Frequency.HOURLY:\n                return this.addHours(interval, filtered, byhour);\n            case Frequency.MINUTELY:\n                return this.addMinutes(interval, filtered, byhour, byminute);\n            case Frequency.SECONDLY:\n                return this.addSeconds(interval, filtered, byhour, byminute, bysecond);\n        }\n    };\n    return DateTime;\n}(Time));\nexport { DateTime };\n//# sourceMappingURL=datetime.js.map","import { __assign } from \"tslib\";\nimport { freqIsDailyOrGreater } from './types';\nimport { includes, notEmpty, isPresent, isNumber, isArray, isWeekdayStr, } from './helpers';\nimport { RRule, defaultKeys, DEFAULT_OPTIONS } from './rrule';\nimport { getWeekday, isDate, isValidDate } from './dateutil';\nimport { Weekday } from './weekday';\nimport { Time } from './datetime';\nexport function initializeOptions(options) {\n    var invalid = [];\n    var keys = Object.keys(options);\n    // Shallow copy for options and origOptions and check for invalid\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        if (!includes(defaultKeys, key))\n            invalid.push(key);\n        if (isDate(options[key]) && !isValidDate(options[key])) {\n            invalid.push(key);\n        }\n    }\n    if (invalid.length) {\n        throw new Error('Invalid options: ' + invalid.join(', '));\n    }\n    return __assign({}, options);\n}\nexport function parseOptions(options) {\n    var opts = __assign(__assign({}, DEFAULT_OPTIONS), initializeOptions(options));\n    if (isPresent(opts.byeaster))\n        opts.freq = RRule.YEARLY;\n    if (!(isPresent(opts.freq) && RRule.FREQUENCIES[opts.freq])) {\n        throw new Error(\"Invalid frequency: \".concat(opts.freq, \" \").concat(options.freq));\n    }\n    if (!opts.dtstart)\n        opts.dtstart = new Date(new Date().setMilliseconds(0));\n    if (!isPresent(opts.wkst)) {\n        opts.wkst = RRule.MO.weekday;\n    }\n    else if (isNumber(opts.wkst)) {\n        // cool, just keep it like that\n    }\n    else {\n        opts.wkst = opts.wkst.weekday;\n    }\n    if (isPresent(opts.bysetpos)) {\n        if (isNumber(opts.bysetpos))\n            opts.bysetpos = [opts.bysetpos];\n        for (var i = 0; i < opts.bysetpos.length; i++) {\n            var v = opts.bysetpos[i];\n            if (v === 0 || !(v >= -366 && v <= 366)) {\n                throw new Error('bysetpos must be between 1 and 366,' + ' or between -366 and -1');\n            }\n        }\n    }\n    if (!(Boolean(opts.byweekno) ||\n        notEmpty(opts.byweekno) ||\n        notEmpty(opts.byyearday) ||\n        Boolean(opts.bymonthday) ||\n        notEmpty(opts.bymonthday) ||\n        isPresent(opts.byweekday) ||\n        isPresent(opts.byeaster))) {\n        switch (opts.freq) {\n            case RRule.YEARLY:\n                if (!opts.bymonth)\n                    opts.bymonth = opts.dtstart.getUTCMonth() + 1;\n                opts.bymonthday = opts.dtstart.getUTCDate();\n                break;\n            case RRule.MONTHLY:\n                opts.bymonthday = opts.dtstart.getUTCDate();\n                break;\n            case RRule.WEEKLY:\n                opts.byweekday = [getWeekday(opts.dtstart)];\n                break;\n        }\n    }\n    // bymonth\n    if (isPresent(opts.bymonth) && !isArray(opts.bymonth)) {\n        opts.bymonth = [opts.bymonth];\n    }\n    // byyearday\n    if (isPresent(opts.byyearday) &&\n        !isArray(opts.byyearday) &&\n        isNumber(opts.byyearday)) {\n        opts.byyearday = [opts.byyearday];\n    }\n    // bymonthday\n    if (!isPresent(opts.bymonthday)) {\n        opts.bymonthday = [];\n        opts.bynmonthday = [];\n    }\n    else if (isArray(opts.bymonthday)) {\n        var bymonthday = [];\n        var bynmonthday = [];\n        for (var i = 0; i < opts.bymonthday.length; i++) {\n            var v = opts.bymonthday[i];\n            if (v > 0) {\n                bymonthday.push(v);\n            }\n            else if (v < 0) {\n                bynmonthday.push(v);\n            }\n        }\n        opts.bymonthday = bymonthday;\n        opts.bynmonthday = bynmonthday;\n    }\n    else if (opts.bymonthday < 0) {\n        opts.bynmonthday = [opts.bymonthday];\n        opts.bymonthday = [];\n    }\n    else {\n        opts.bynmonthday = [];\n        opts.bymonthday = [opts.bymonthday];\n    }\n    // byweekno\n    if (isPresent(opts.byweekno) && !isArray(opts.byweekno)) {\n        opts.byweekno = [opts.byweekno];\n    }\n    // byweekday / bynweekday\n    if (!isPresent(opts.byweekday)) {\n        opts.bynweekday = null;\n    }\n    else if (isNumber(opts.byweekday)) {\n        opts.byweekday = [opts.byweekday];\n        opts.bynweekday = null;\n    }\n    else if (isWeekdayStr(opts.byweekday)) {\n        opts.byweekday = [Weekday.fromStr(opts.byweekday).weekday];\n        opts.bynweekday = null;\n    }\n    else if (opts.byweekday instanceof Weekday) {\n        if (!opts.byweekday.n || opts.freq > RRule.MONTHLY) {\n            opts.byweekday = [opts.byweekday.weekday];\n            opts.bynweekday = null;\n        }\n        else {\n            opts.bynweekday = [[opts.byweekday.weekday, opts.byweekday.n]];\n            opts.byweekday = null;\n        }\n    }\n    else {\n        var byweekday = [];\n        var bynweekday = [];\n        for (var i = 0; i < opts.byweekday.length; i++) {\n            var wday = opts.byweekday[i];\n            if (isNumber(wday)) {\n                byweekday.push(wday);\n                continue;\n            }\n            else if (isWeekdayStr(wday)) {\n                byweekday.push(Weekday.fromStr(wday).weekday);\n                continue;\n            }\n            if (!wday.n || opts.freq > RRule.MONTHLY) {\n                byweekday.push(wday.weekday);\n            }\n            else {\n                bynweekday.push([wday.weekday, wday.n]);\n            }\n        }\n        opts.byweekday = notEmpty(byweekday) ? byweekday : null;\n        opts.bynweekday = notEmpty(bynweekday) ? bynweekday : null;\n    }\n    // byhour\n    if (!isPresent(opts.byhour)) {\n        opts.byhour = opts.freq < RRule.HOURLY ? [opts.dtstart.getUTCHours()] : null;\n    }\n    else if (isNumber(opts.byhour)) {\n        opts.byhour = [opts.byhour];\n    }\n    // byminute\n    if (!isPresent(opts.byminute)) {\n        opts.byminute =\n            opts.freq < RRule.MINUTELY ? [opts.dtstart.getUTCMinutes()] : null;\n    }\n    else if (isNumber(opts.byminute)) {\n        opts.byminute = [opts.byminute];\n    }\n    // bysecond\n    if (!isPresent(opts.bysecond)) {\n        opts.bysecond =\n            opts.freq < RRule.SECONDLY ? [opts.dtstart.getUTCSeconds()] : null;\n    }\n    else if (isNumber(opts.bysecond)) {\n        opts.bysecond = [opts.bysecond];\n    }\n    return { parsedOptions: opts };\n}\nexport function buildTimeset(opts) {\n    var millisecondModulo = opts.dtstart.getTime() % 1000;\n    if (!freqIsDailyOrGreater(opts.freq)) {\n        return [];\n    }\n    var timeset = [];\n    opts.byhour.forEach(function (hour) {\n        opts.byminute.forEach(function (minute) {\n            opts.bysecond.forEach(function (second) {\n                timeset.push(new Time(hour, minute, second, millisecondModulo));\n            });\n        });\n    });\n    return timeset;\n}\n//# sourceMappingURL=parseoptions.js.map","import { __assign } from \"tslib\";\nimport { Frequency } from './types';\nimport { Weekday } from './weekday';\nimport { untilStringToDate } from './dateutil';\nimport { Days } from './rrule';\nexport function parseString(rfcString) {\n    var options = rfcString\n        .split('\\n')\n        .map(parseLine)\n        .filter(function (x) { return x !== null; });\n    return __assign(__assign({}, options[0]), options[1]);\n}\nexport function parseDtstart(line) {\n    var options = {};\n    var dtstartWithZone = /DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\\s]+)/i.exec(line);\n    if (!dtstartWithZone) {\n        return options;\n    }\n    var tzid = dtstartWithZone[1], dtstart = dtstartWithZone[2];\n    if (tzid) {\n        options.tzid = tzid;\n    }\n    options.dtstart = untilStringToDate(dtstart);\n    return options;\n}\nfunction parseLine(rfcString) {\n    rfcString = rfcString.replace(/^\\s+|\\s+$/, '');\n    if (!rfcString.length)\n        return null;\n    var header = /^([A-Z]+?)[:;]/.exec(rfcString.toUpperCase());\n    if (!header) {\n        return parseRrule(rfcString);\n    }\n    var key = header[1];\n    switch (key.toUpperCase()) {\n        case 'RRULE':\n        case 'EXRULE':\n            return parseRrule(rfcString);\n        case 'DTSTART':\n            return parseDtstart(rfcString);\n        default:\n            throw new Error(\"Unsupported RFC prop \".concat(key, \" in \").concat(rfcString));\n    }\n}\nfunction parseRrule(line) {\n    var strippedLine = line.replace(/^RRULE:/i, '');\n    var options = parseDtstart(strippedLine);\n    var attrs = line.replace(/^(?:RRULE|EXRULE):/i, '').split(';');\n    attrs.forEach(function (attr) {\n        var _a = attr.split('='), key = _a[0], value = _a[1];\n        switch (key.toUpperCase()) {\n            case 'FREQ':\n                options.freq = Frequency[value.toUpperCase()];\n                break;\n            case 'WKST':\n                options.wkst = Days[value.toUpperCase()];\n                break;\n            case 'COUNT':\n            case 'INTERVAL':\n            case 'BYSETPOS':\n            case 'BYMONTH':\n            case 'BYMONTHDAY':\n            case 'BYYEARDAY':\n            case 'BYWEEKNO':\n            case 'BYHOUR':\n            case 'BYMINUTE':\n            case 'BYSECOND':\n                var num = parseNumber(value);\n                var optionKey = key.toLowerCase();\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                options[optionKey] = num;\n                break;\n            case 'BYWEEKDAY':\n            case 'BYDAY':\n                options.byweekday = parseWeekday(value);\n                break;\n            case 'DTSTART':\n            case 'TZID':\n                // for backwards compatibility\n                var dtstart = parseDtstart(line);\n                options.tzid = dtstart.tzid;\n                options.dtstart = dtstart.dtstart;\n                break;\n            case 'UNTIL':\n                options.until = untilStringToDate(value);\n                break;\n            case 'BYEASTER':\n                options.byeaster = Number(value);\n                break;\n            default:\n                throw new Error(\"Unknown RRULE property '\" + key + \"'\");\n        }\n    });\n    return options;\n}\nfunction parseNumber(value) {\n    if (value.indexOf(',') !== -1) {\n        var values = value.split(',');\n        return values.map(parseIndividualNumber);\n    }\n    return parseIndividualNumber(value);\n}\nfunction parseIndividualNumber(value) {\n    if (/^[+-]?\\d+$/.test(value)) {\n        return Number(value);\n    }\n    return value;\n}\nfunction parseWeekday(value) {\n    var days = value.split(',');\n    return days.map(function (day) {\n        if (day.length === 2) {\n            // MO, TU, ...\n            return Days[day]; // wday instanceof Weekday\n        }\n        // -1MO, +3FR, 1SO, 13TU ...\n        var parts = day.match(/^([+-]?\\d{1,2})([A-Z]{2})$/);\n        if (!parts || parts.length < 3) {\n            throw new SyntaxError(\"Invalid weekday string: \".concat(day));\n        }\n        var n = Number(parts[1]);\n        var wdaypart = parts[2];\n        var wday = Days[wdaypart].weekday;\n        return new Weekday(wday, n);\n    });\n}\n//# sourceMappingURL=parsestring.js.map","import { dateInTimeZone, timeToUntilString } from './dateutil';\nvar DateWithZone = /** @class */ (function () {\n    function DateWithZone(date, tzid) {\n        if (isNaN(date.getTime())) {\n            throw new RangeError('Invalid date passed to DateWithZone');\n        }\n        this.date = date;\n        this.tzid = tzid;\n    }\n    Object.defineProperty(DateWithZone.prototype, \"isUTC\", {\n        get: function () {\n            return !this.tzid || this.tzid.toUpperCase() === 'UTC';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DateWithZone.prototype.toString = function () {\n        var datestr = timeToUntilString(this.date.getTime(), this.isUTC);\n        if (!this.isUTC) {\n            return \";TZID=\".concat(this.tzid, \":\").concat(datestr);\n        }\n        return \":\".concat(datestr);\n    };\n    DateWithZone.prototype.getTime = function () {\n        return this.date.getTime();\n    };\n    DateWithZone.prototype.rezonedDate = function () {\n        if (this.isUTC) {\n            return this.date;\n        }\n        return dateInTimeZone(this.date, this.tzid);\n    };\n    return DateWithZone;\n}());\nexport { DateWithZone };\n//# sourceMappingURL=datewithzone.js.map","import { RRule, DEFAULT_OPTIONS } from './rrule';\nimport { includes, isPresent, isArray, isNumber, toArray } from './helpers';\nimport { Weekday } from './weekday';\nimport { timeToUntilString } from './dateutil';\nimport { DateWithZone } from './datewithzone';\nexport function optionsToString(options) {\n    var rrule = [];\n    var dtstart = '';\n    var keys = Object.keys(options);\n    var defaultKeys = Object.keys(DEFAULT_OPTIONS);\n    for (var i = 0; i < keys.length; i++) {\n        if (keys[i] === 'tzid')\n            continue;\n        if (!includes(defaultKeys, keys[i]))\n            continue;\n        var key = keys[i].toUpperCase();\n        var value = options[keys[i]];\n        var outValue = '';\n        if (!isPresent(value) || (isArray(value) && !value.length))\n            continue;\n        switch (key) {\n            case 'FREQ':\n                outValue = RRule.FREQUENCIES[options.freq];\n                break;\n            case 'WKST':\n                if (isNumber(value)) {\n                    outValue = new Weekday(value).toString();\n                }\n                else {\n                    outValue = value.toString();\n                }\n                break;\n            case 'BYWEEKDAY':\n                /*\n                  NOTE: BYWEEKDAY is a special case.\n                  RRule() deconstructs the rule.options.byweekday array\n                  into an array of Weekday arguments.\n                  On the other hand, rule.origOptions is an array of Weekdays.\n                  We need to handle both cases here.\n                  It might be worth change RRule to keep the Weekdays.\n        \n                  Also, BYWEEKDAY (used by RRule) vs. BYDAY (RFC)\n        \n                  */\n                key = 'BYDAY';\n                outValue = toArray(value)\n                    .map(function (wday) {\n                    if (wday instanceof Weekday) {\n                        return wday;\n                    }\n                    if (isArray(wday)) {\n                        return new Weekday(wday[0], wday[1]);\n                    }\n                    return new Weekday(wday);\n                })\n                    .toString();\n                break;\n            case 'DTSTART':\n                dtstart = buildDtstart(value, options.tzid);\n                break;\n            case 'UNTIL':\n                outValue = timeToUntilString(value, !options.tzid);\n                break;\n            default:\n                if (isArray(value)) {\n                    var strValues = [];\n                    for (var j = 0; j < value.length; j++) {\n                        strValues[j] = String(value[j]);\n                    }\n                    outValue = strValues.toString();\n                }\n                else {\n                    outValue = String(value);\n                }\n        }\n        if (outValue) {\n            rrule.push([key, outValue]);\n        }\n    }\n    var rules = rrule\n        .map(function (_a) {\n        var key = _a[0], value = _a[1];\n        return \"\".concat(key, \"=\").concat(value.toString());\n    })\n        .join(';');\n    var ruleString = '';\n    if (rules !== '') {\n        ruleString = \"RRULE:\".concat(rules);\n    }\n    return [dtstart, ruleString].filter(function (x) { return !!x; }).join('\\n');\n}\nfunction buildDtstart(dtstart, tzid) {\n    if (!dtstart) {\n        return '';\n    }\n    return 'DTSTART' + new DateWithZone(new Date(dtstart), tzid).toString();\n}\n//# sourceMappingURL=optionstostring.js.map","import IterResult from './iterresult';\nimport { clone, cloneDates } from './dateutil';\nimport { isArray } from './helpers';\nfunction argsMatch(left, right) {\n    if (Array.isArray(left)) {\n        if (!Array.isArray(right))\n            return false;\n        if (left.length !== right.length)\n            return false;\n        return left.every(function (date, i) { return date.getTime() === right[i].getTime(); });\n    }\n    if (left instanceof Date) {\n        return right instanceof Date && left.getTime() === right.getTime();\n    }\n    return left === right;\n}\nvar Cache = /** @class */ (function () {\n    function Cache() {\n        this.all = false;\n        this.before = [];\n        this.after = [];\n        this.between = [];\n    }\n    /**\n     * @param {String} what - all/before/after/between\n     * @param {Array,Date} value - an array of dates, one date, or null\n     * @param {Object?} args - _iter arguments\n     */\n    Cache.prototype._cacheAdd = function (what, value, args) {\n        if (value) {\n            value = value instanceof Date ? clone(value) : cloneDates(value);\n        }\n        if (what === 'all') {\n            this.all = value;\n        }\n        else {\n            args._value = value;\n            this[what].push(args);\n        }\n    };\n    /**\n     * @return false - not in the cache\n     * @return null  - cached, but zero occurrences (before/after)\n     * @return Date  - cached (before/after)\n     * @return []    - cached, but zero occurrences (all/between)\n     * @return [Date1, DateN] - cached (all/between)\n     */\n    Cache.prototype._cacheGet = function (what, args) {\n        var cached = false;\n        var argsKeys = args ? Object.keys(args) : [];\n        var findCacheDiff = function (item) {\n            for (var i = 0; i < argsKeys.length; i++) {\n                var key = argsKeys[i];\n                if (!argsMatch(args[key], item[key])) {\n                    return true;\n                }\n            }\n            return false;\n        };\n        var cachedObject = this[what];\n        if (what === 'all') {\n            cached = this.all;\n        }\n        else if (isArray(cachedObject)) {\n            // Let's see whether we've already called the\n            // 'what' method with the same 'args'\n            for (var i = 0; i < cachedObject.length; i++) {\n                var item = cachedObject[i];\n                if (argsKeys.length && findCacheDiff(item))\n                    continue;\n                cached = item._value;\n                break;\n            }\n        }\n        if (!cached && this.all) {\n            // Not in the cache, but we already know all the occurrences,\n            // so we can find the correct dates from the cached ones.\n            var iterResult = new IterResult(what, args);\n            for (var i = 0; i < this.all.length; i++) {\n                if (!iterResult.accept(this.all[i]))\n                    break;\n            }\n            cached = iterResult.getValue();\n            this._cacheAdd(what, cached, args);\n        }\n        return isArray(cached)\n            ? cloneDates(cached)\n            : cached instanceof Date\n                ? clone(cached)\n                : cached;\n    };\n    return Cache;\n}());\nexport { Cache };\n//# sourceMappingURL=cache.js.map","import { __spreadArray } from \"tslib\";\nimport { range, repeat } from './helpers';\n// =============================================================================\n// Date masks\n// =============================================================================\n// Every mask is 7 days longer to handle cross-year weekly periods.\nvar M365MASK = __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], repeat(1, 31), true), repeat(2, 28), true), repeat(3, 31), true), repeat(4, 30), true), repeat(5, 31), true), repeat(6, 30), true), repeat(7, 31), true), repeat(8, 31), true), repeat(9, 30), true), repeat(10, 31), true), repeat(11, 30), true), repeat(12, 31), true), repeat(1, 7), true);\nvar M366MASK = __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], repeat(1, 31), true), repeat(2, 29), true), repeat(3, 31), true), repeat(4, 30), true), repeat(5, 31), true), repeat(6, 30), true), repeat(7, 31), true), repeat(8, 31), true), repeat(9, 30), true), repeat(10, 31), true), repeat(11, 30), true), repeat(12, 31), true), repeat(1, 7), true);\nvar M28 = range(1, 29);\nvar M29 = range(1, 30);\nvar M30 = range(1, 31);\nvar M31 = range(1, 32);\nvar MDAY366MASK = __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], M31, true), M29, true), M31, true), M30, true), M31, true), M30, true), M31, true), M31, true), M30, true), M31, true), M30, true), M31, true), M31.slice(0, 7), true);\nvar MDAY365MASK = __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], M31, true), M28, true), M31, true), M30, true), M31, true), M30, true), M31, true), M31, true), M30, true), M31, true), M30, true), M31, true), M31.slice(0, 7), true);\nvar NM28 = range(-28, 0);\nvar NM29 = range(-29, 0);\nvar NM30 = range(-30, 0);\nvar NM31 = range(-31, 0);\nvar NMDAY366MASK = __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], NM31, true), NM29, true), NM31, true), NM30, true), NM31, true), NM30, true), NM31, true), NM31, true), NM30, true), NM31, true), NM30, true), NM31, true), NM31.slice(0, 7), true);\nvar NMDAY365MASK = __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], NM31, true), NM28, true), NM31, true), NM30, true), NM31, true), NM30, true), NM31, true), NM31, true), NM30, true), NM31, true), NM30, true), NM31, true), NM31.slice(0, 7), true);\nvar M366RANGE = [0, 31, 60, 91, 121, 152, 182, 213, 244, 274, 305, 335, 366];\nvar M365RANGE = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365];\nvar WDAYMASK = (function () {\n    var wdaymask = [];\n    for (var i = 0; i < 55; i++)\n        wdaymask = wdaymask.concat(range(7));\n    return wdaymask;\n})();\nexport { WDAYMASK, M365MASK, M365RANGE, M366MASK, M366RANGE, MDAY365MASK, MDAY366MASK, NMDAY365MASK, NMDAY366MASK, };\n//# sourceMappingURL=masks.js.map","import { notEmpty, repeat, range, isPresent } from '../helpers';\nimport { Frequency } from '../types';\nimport { rebuildYear } from './yearinfo';\nimport { rebuildMonth } from './monthinfo';\nimport { easter } from './easter';\nimport { Time } from '../datetime';\nimport { datetime, sort, toOrdinal } from '../dateutil';\n// =============================================================================\n// Iterinfo\n// =============================================================================\nvar Iterinfo = /** @class */ (function () {\n    // eslint-disable-next-line no-empty-function\n    function Iterinfo(options) {\n        this.options = options;\n    }\n    Iterinfo.prototype.rebuild = function (year, month) {\n        var options = this.options;\n        if (year !== this.lastyear) {\n            this.yearinfo = rebuildYear(year, options);\n        }\n        if (notEmpty(options.bynweekday) &&\n            (month !== this.lastmonth || year !== this.lastyear)) {\n            var _a = this.yearinfo, yearlen = _a.yearlen, mrange = _a.mrange, wdaymask = _a.wdaymask;\n            this.monthinfo = rebuildMonth(year, month, yearlen, mrange, wdaymask, options);\n        }\n        if (isPresent(options.byeaster)) {\n            this.eastermask = easter(year, options.byeaster);\n        }\n    };\n    Object.defineProperty(Iterinfo.prototype, \"lastyear\", {\n        get: function () {\n            return this.monthinfo ? this.monthinfo.lastyear : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Iterinfo.prototype, \"lastmonth\", {\n        get: function () {\n            return this.monthinfo ? this.monthinfo.lastmonth : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Iterinfo.prototype, \"yearlen\", {\n        get: function () {\n            return this.yearinfo.yearlen;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Iterinfo.prototype, \"yearordinal\", {\n        get: function () {\n            return this.yearinfo.yearordinal;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Iterinfo.prototype, \"mrange\", {\n        get: function () {\n            return this.yearinfo.mrange;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Iterinfo.prototype, \"wdaymask\", {\n        get: function () {\n            return this.yearinfo.wdaymask;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Iterinfo.prototype, \"mmask\", {\n        get: function () {\n            return this.yearinfo.mmask;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Iterinfo.prototype, \"wnomask\", {\n        get: function () {\n            return this.yearinfo.wnomask;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Iterinfo.prototype, \"nwdaymask\", {\n        get: function () {\n            return this.monthinfo ? this.monthinfo.nwdaymask : [];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Iterinfo.prototype, \"nextyearlen\", {\n        get: function () {\n            return this.yearinfo.nextyearlen;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Iterinfo.prototype, \"mdaymask\", {\n        get: function () {\n            return this.yearinfo.mdaymask;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Iterinfo.prototype, \"nmdaymask\", {\n        get: function () {\n            return this.yearinfo.nmdaymask;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Iterinfo.prototype.ydayset = function () {\n        return [range(this.yearlen), 0, this.yearlen];\n    };\n    Iterinfo.prototype.mdayset = function (_, month) {\n        var start = this.mrange[month - 1];\n        var end = this.mrange[month];\n        var set = repeat(null, this.yearlen);\n        for (var i = start; i < end; i++)\n            set[i] = i;\n        return [set, start, end];\n    };\n    Iterinfo.prototype.wdayset = function (year, month, day) {\n        // We need to handle cross-year weeks here.\n        var set = repeat(null, this.yearlen + 7);\n        var i = toOrdinal(datetime(year, month, day)) - this.yearordinal;\n        var start = i;\n        for (var j = 0; j < 7; j++) {\n            set[i] = i;\n            ++i;\n            if (this.wdaymask[i] === this.options.wkst)\n                break;\n        }\n        return [set, start, i];\n    };\n    Iterinfo.prototype.ddayset = function (year, month, day) {\n        var set = repeat(null, this.yearlen);\n        var i = toOrdinal(datetime(year, month, day)) - this.yearordinal;\n        set[i] = i;\n        return [set, i, i + 1];\n    };\n    Iterinfo.prototype.htimeset = function (hour, _, second, millisecond) {\n        var _this = this;\n        var set = [];\n        this.options.byminute.forEach(function (minute) {\n            set = set.concat(_this.mtimeset(hour, minute, second, millisecond));\n        });\n        sort(set);\n        return set;\n    };\n    Iterinfo.prototype.mtimeset = function (hour, minute, _, millisecond) {\n        var set = this.options.bysecond.map(function (second) { return new Time(hour, minute, second, millisecond); });\n        sort(set);\n        return set;\n    };\n    Iterinfo.prototype.stimeset = function (hour, minute, second, millisecond) {\n        return [new Time(hour, minute, second, millisecond)];\n    };\n    Iterinfo.prototype.getdayset = function (freq) {\n        switch (freq) {\n            case Frequency.YEARLY:\n                return this.ydayset.bind(this);\n            case Frequency.MONTHLY:\n                return this.mdayset.bind(this);\n            case Frequency.WEEKLY:\n                return this.wdayset.bind(this);\n            case Frequency.DAILY:\n                return this.ddayset.bind(this);\n            default:\n                return this.ddayset.bind(this);\n        }\n    };\n    Iterinfo.prototype.gettimeset = function (freq) {\n        switch (freq) {\n            case Frequency.HOURLY:\n                return this.htimeset.bind(this);\n            case Frequency.MINUTELY:\n                return this.mtimeset.bind(this);\n            case Frequency.SECONDLY:\n                return this.stimeset.bind(this);\n        }\n    };\n    return Iterinfo;\n}());\nexport default Iterinfo;\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { datetime, getWeekday, isLeapYear, toOrdinal } from '../dateutil';\nimport { empty, repeat, pymod, includes } from '../helpers';\nimport { M365MASK, MDAY365MASK, NMDAY365MASK, WDAYMASK, M365RANGE, M366MASK, MDAY366MASK, NMDAY366MASK, M366RANGE, } from '../masks';\nexport function rebuildYear(year, options) {\n    var firstyday = datetime(year, 1, 1);\n    var yearlen = isLeapYear(year) ? 366 : 365;\n    var nextyearlen = isLeapYear(year + 1) ? 366 : 365;\n    var yearordinal = toOrdinal(firstyday);\n    var yearweekday = getWeekday(firstyday);\n    var result = __assign(__assign({ yearlen: yearlen, nextyearlen: nextyearlen, yearordinal: yearordinal, yearweekday: yearweekday }, baseYearMasks(year)), { wnomask: null });\n    if (empty(options.byweekno)) {\n        return result;\n    }\n    result.wnomask = repeat(0, yearlen + 7);\n    var firstwkst;\n    var wyearlen;\n    var no1wkst = (firstwkst = pymod(7 - yearweekday + options.wkst, 7));\n    if (no1wkst >= 4) {\n        no1wkst = 0;\n        // Number of days in the year, plus the days we got\n        // from last year.\n        wyearlen = result.yearlen + pymod(yearweekday - options.wkst, 7);\n    }\n    else {\n        // Number of days in the year, minus the days we\n        // left in last year.\n        wyearlen = yearlen - no1wkst;\n    }\n    var div = Math.floor(wyearlen / 7);\n    var mod = pymod(wyearlen, 7);\n    var numweeks = Math.floor(div + mod / 4);\n    for (var j = 0; j < options.byweekno.length; j++) {\n        var n = options.byweekno[j];\n        if (n < 0) {\n            n += numweeks + 1;\n        }\n        if (!(n > 0 && n <= numweeks)) {\n            continue;\n        }\n        var i = void 0;\n        if (n > 1) {\n            i = no1wkst + (n - 1) * 7;\n            if (no1wkst !== firstwkst) {\n                i -= 7 - firstwkst;\n            }\n        }\n        else {\n            i = no1wkst;\n        }\n        for (var k = 0; k < 7; k++) {\n            result.wnomask[i] = 1;\n            i++;\n            if (result.wdaymask[i] === options.wkst)\n                break;\n        }\n    }\n    if (includes(options.byweekno, 1)) {\n        // Check week number 1 of next year as well\n        // orig-TODO : Check -numweeks for next year.\n        var i = no1wkst + numweeks * 7;\n        if (no1wkst !== firstwkst)\n            i -= 7 - firstwkst;\n        if (i < yearlen) {\n            // If week starts in next year, we\n            // don't care about it.\n            for (var j = 0; j < 7; j++) {\n                result.wnomask[i] = 1;\n                i += 1;\n                if (result.wdaymask[i] === options.wkst)\n                    break;\n            }\n        }\n    }\n    if (no1wkst) {\n        // Check last week number of last year as\n        // well. If no1wkst is 0, either the year\n        // started on week start, or week number 1\n        // got days from last year, so there are no\n        // days from last year's last week number in\n        // this year.\n        var lnumweeks = void 0;\n        if (!includes(options.byweekno, -1)) {\n            var lyearweekday = getWeekday(datetime(year - 1, 1, 1));\n            var lno1wkst = pymod(7 - lyearweekday.valueOf() + options.wkst, 7);\n            var lyearlen = isLeapYear(year - 1) ? 366 : 365;\n            var weekst = void 0;\n            if (lno1wkst >= 4) {\n                lno1wkst = 0;\n                weekst = lyearlen + pymod(lyearweekday - options.wkst, 7);\n            }\n            else {\n                weekst = yearlen - no1wkst;\n            }\n            lnumweeks = Math.floor(52 + pymod(weekst, 7) / 4);\n        }\n        else {\n            lnumweeks = -1;\n        }\n        if (includes(options.byweekno, lnumweeks)) {\n            for (var i = 0; i < no1wkst; i++)\n                result.wnomask[i] = 1;\n        }\n    }\n    return result;\n}\nfunction baseYearMasks(year) {\n    var yearlen = isLeapYear(year) ? 366 : 365;\n    var firstyday = datetime(year, 1, 1);\n    var wday = getWeekday(firstyday);\n    if (yearlen === 365) {\n        return {\n            mmask: M365MASK,\n            mdaymask: MDAY365MASK,\n            nmdaymask: NMDAY365MASK,\n            wdaymask: WDAYMASK.slice(wday),\n            mrange: M365RANGE,\n        };\n    }\n    return {\n        mmask: M366MASK,\n        mdaymask: MDAY366MASK,\n        nmdaymask: NMDAY366MASK,\n        wdaymask: WDAYMASK.slice(wday),\n        mrange: M366RANGE,\n    };\n}\n//# sourceMappingURL=yearinfo.js.map","import { RRule } from '../rrule';\nimport { empty, repeat, pymod } from '../helpers';\nexport function rebuildMonth(year, month, yearlen, mrange, wdaymask, options) {\n    var result = {\n        lastyear: year,\n        lastmonth: month,\n        nwdaymask: [],\n    };\n    var ranges = [];\n    if (options.freq === RRule.YEARLY) {\n        if (empty(options.bymonth)) {\n            ranges = [[0, yearlen]];\n        }\n        else {\n            for (var j = 0; j < options.bymonth.length; j++) {\n                month = options.bymonth[j];\n                ranges.push(mrange.slice(month - 1, month + 1));\n            }\n        }\n    }\n    else if (options.freq === RRule.MONTHLY) {\n        ranges = [mrange.slice(month - 1, month + 1)];\n    }\n    if (empty(ranges)) {\n        return result;\n    }\n    // Weekly frequency won't get here, so we may not\n    // care about cross-year weekly periods.\n    result.nwdaymask = repeat(0, yearlen);\n    for (var j = 0; j < ranges.length; j++) {\n        var rang = ranges[j];\n        var first = rang[0];\n        var last = rang[1] - 1;\n        for (var k = 0; k < options.bynweekday.length; k++) {\n            var i = void 0;\n            var _a = options.bynweekday[k], wday = _a[0], n = _a[1];\n            if (n < 0) {\n                i = last + (n + 1) * 7;\n                i -= pymod(wdaymask[i] - wday, 7);\n            }\n            else {\n                i = first + (n - 1) * 7;\n                i += pymod(7 - wdaymask[i] + wday, 7);\n            }\n            if (first <= i && i <= last)\n                result.nwdaymask[i] = 1;\n        }\n    }\n    return result;\n}\n//# sourceMappingURL=monthinfo.js.map","export function easter(y, offset) {\n    if (offset === void 0) { offset = 0; }\n    var a = y % 19;\n    var b = Math.floor(y / 100);\n    var c = y % 100;\n    var d = Math.floor(b / 4);\n    var e = b % 4;\n    var f = Math.floor((b + 8) / 25);\n    var g = Math.floor((b - f + 1) / 3);\n    var h = Math.floor(19 * a + b - d - g + 15) % 30;\n    var i = Math.floor(c / 4);\n    var k = c % 4;\n    var l = Math.floor(32 + 2 * e + 2 * i - h - k) % 7;\n    var m = Math.floor((a + 11 * h + 22 * l) / 451);\n    var month = Math.floor((h + l - 7 * m + 114) / 31);\n    var day = ((h + l - 7 * m + 114) % 31) + 1;\n    var date = Date.UTC(y, month - 1, day + offset);\n    var yearStart = Date.UTC(y, 0, 1);\n    return [Math.ceil((date - yearStart) / (1000 * 60 * 60 * 24))];\n}\n//# sourceMappingURL=easter.js.map","import { combine, fromOrdinal, sort } from '../dateutil';\nimport { pymod, isPresent, includes } from '../helpers';\nexport function buildPoslist(bysetpos, timeset, start, end, ii, dayset) {\n    var poslist = [];\n    for (var j = 0; j < bysetpos.length; j++) {\n        var daypos = void 0;\n        var timepos = void 0;\n        var pos = bysetpos[j];\n        if (pos < 0) {\n            daypos = Math.floor(pos / timeset.length);\n            timepos = pymod(pos, timeset.length);\n        }\n        else {\n            daypos = Math.floor((pos - 1) / timeset.length);\n            timepos = pymod(pos - 1, timeset.length);\n        }\n        var tmp = [];\n        for (var k = start; k < end; k++) {\n            var val = dayset[k];\n            if (!isPresent(val))\n                continue;\n            tmp.push(val);\n        }\n        var i = void 0;\n        if (daypos < 0) {\n            i = tmp.slice(daypos)[0];\n        }\n        else {\n            i = tmp[daypos];\n        }\n        var time = timeset[timepos];\n        var date = fromOrdinal(ii.yearordinal + i);\n        var res = combine(date, time);\n        // XXX: can this ever be in the array?\n        // - compare the actual date instead?\n        if (!includes(poslist, res))\n            poslist.push(res);\n    }\n    sort(poslist);\n    return poslist;\n}\n//# sourceMappingURL=poslist.js.map","import { freqIsDailyOrGreater } from '../types';\nimport { combine, fromOrdinal, MAXYEAR } from '../dateutil';\nimport Iterinfo from '../iterinfo/index';\nimport { RRule } from '../rrule';\nimport { buildTimeset } from '../parseoptions';\nimport { notEmpty, includes, isPresent } from '../helpers';\nimport { DateWithZone } from '../datewithzone';\nimport { buildPoslist } from './poslist';\nimport { DateTime } from '../datetime';\nexport function iter(iterResult, options) {\n    var dtstart = options.dtstart, freq = options.freq, interval = options.interval, until = options.until, bysetpos = options.bysetpos;\n    var count = options.count;\n    if (count === 0 || interval === 0) {\n        return emitResult(iterResult);\n    }\n    var counterDate = DateTime.fromDate(dtstart);\n    var ii = new Iterinfo(options);\n    ii.rebuild(counterDate.year, counterDate.month);\n    var timeset = makeTimeset(ii, counterDate, options);\n    for (;;) {\n        var _a = ii.getdayset(freq)(counterDate.year, counterDate.month, counterDate.day), dayset = _a[0], start = _a[1], end = _a[2];\n        var filtered = removeFilteredDays(dayset, start, end, ii, options);\n        if (notEmpty(bysetpos)) {\n            var poslist = buildPoslist(bysetpos, timeset, start, end, ii, dayset);\n            for (var j = 0; j < poslist.length; j++) {\n                var res = poslist[j];\n                if (until && res > until) {\n                    return emitResult(iterResult);\n                }\n                if (res >= dtstart) {\n                    var rezonedDate = rezoneIfNeeded(res, options);\n                    if (!iterResult.accept(rezonedDate)) {\n                        return emitResult(iterResult);\n                    }\n                    if (count) {\n                        --count;\n                        if (!count) {\n                            return emitResult(iterResult);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            for (var j = start; j < end; j++) {\n                var currentDay = dayset[j];\n                if (!isPresent(currentDay)) {\n                    continue;\n                }\n                var date = fromOrdinal(ii.yearordinal + currentDay);\n                for (var k = 0; k < timeset.length; k++) {\n                    var time = timeset[k];\n                    var res = combine(date, time);\n                    if (until && res > until) {\n                        return emitResult(iterResult);\n                    }\n                    if (res >= dtstart) {\n                        var rezonedDate = rezoneIfNeeded(res, options);\n                        if (!iterResult.accept(rezonedDate)) {\n                            return emitResult(iterResult);\n                        }\n                        if (count) {\n                            --count;\n                            if (!count) {\n                                return emitResult(iterResult);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        if (options.interval === 0) {\n            return emitResult(iterResult);\n        }\n        // Handle frequency and interval\n        counterDate.add(options, filtered);\n        if (counterDate.year > MAXYEAR) {\n            return emitResult(iterResult);\n        }\n        if (!freqIsDailyOrGreater(freq)) {\n            timeset = ii.gettimeset(freq)(counterDate.hour, counterDate.minute, counterDate.second, 0);\n        }\n        ii.rebuild(counterDate.year, counterDate.month);\n    }\n}\nfunction isFiltered(ii, currentDay, options) {\n    var bymonth = options.bymonth, byweekno = options.byweekno, byweekday = options.byweekday, byeaster = options.byeaster, bymonthday = options.bymonthday, bynmonthday = options.bynmonthday, byyearday = options.byyearday;\n    return ((notEmpty(bymonth) && !includes(bymonth, ii.mmask[currentDay])) ||\n        (notEmpty(byweekno) && !ii.wnomask[currentDay]) ||\n        (notEmpty(byweekday) && !includes(byweekday, ii.wdaymask[currentDay])) ||\n        (notEmpty(ii.nwdaymask) && !ii.nwdaymask[currentDay]) ||\n        (byeaster !== null && !includes(ii.eastermask, currentDay)) ||\n        ((notEmpty(bymonthday) || notEmpty(bynmonthday)) &&\n            !includes(bymonthday, ii.mdaymask[currentDay]) &&\n            !includes(bynmonthday, ii.nmdaymask[currentDay])) ||\n        (notEmpty(byyearday) &&\n            ((currentDay < ii.yearlen &&\n                !includes(byyearday, currentDay + 1) &&\n                !includes(byyearday, -ii.yearlen + currentDay)) ||\n                (currentDay >= ii.yearlen &&\n                    !includes(byyearday, currentDay + 1 - ii.yearlen) &&\n                    !includes(byyearday, -ii.nextyearlen + currentDay - ii.yearlen)))));\n}\nfunction rezoneIfNeeded(date, options) {\n    return new DateWithZone(date, options.tzid).rezonedDate();\n}\nfunction emitResult(iterResult) {\n    return iterResult.getValue();\n}\nfunction removeFilteredDays(dayset, start, end, ii, options) {\n    var filtered = false;\n    for (var dayCounter = start; dayCounter < end; dayCounter++) {\n        var currentDay = dayset[dayCounter];\n        filtered = isFiltered(ii, currentDay, options);\n        if (filtered)\n            dayset[currentDay] = null;\n    }\n    return filtered;\n}\nfunction makeTimeset(ii, counterDate, options) {\n    var freq = options.freq, byhour = options.byhour, byminute = options.byminute, bysecond = options.bysecond;\n    if (freqIsDailyOrGreater(freq)) {\n        return buildTimeset(options);\n    }\n    if ((freq >= RRule.HOURLY &&\n        notEmpty(byhour) &&\n        !includes(byhour, counterDate.hour)) ||\n        (freq >= RRule.MINUTELY &&\n            notEmpty(byminute) &&\n            !includes(byminute, counterDate.minute)) ||\n        (freq >= RRule.SECONDLY &&\n            notEmpty(bysecond) &&\n            !includes(bysecond, counterDate.second))) {\n        return [];\n    }\n    return ii.gettimeset(freq)(counterDate.hour, counterDate.minute, counterDate.second, counterDate.millisecond);\n}\n//# sourceMappingURL=index.js.map","import { isValidDate } from './dateutil';\nimport IterResult from './iterresult';\nimport CallbackIterResult from './callbackiterresult';\nimport { fromText, parseText, toText, isFullyConvertible } from './nlp/index';\nimport { Frequency, } from './types';\nimport { parseOptions, initializeOptions } from './parseoptions';\nimport { parseString } from './parsestring';\nimport { optionsToString } from './optionstostring';\nimport { Cache } from './cache';\nimport { Weekday } from './weekday';\nimport { iter } from './iter/index';\n// =============================================================================\n// RRule\n// =============================================================================\nexport var Days = {\n    MO: new Weekday(0),\n    TU: new Weekday(1),\n    WE: new Weekday(2),\n    TH: new Weekday(3),\n    FR: new Weekday(4),\n    SA: new Weekday(5),\n    SU: new Weekday(6),\n};\nexport var DEFAULT_OPTIONS = {\n    freq: Frequency.YEARLY,\n    dtstart: null,\n    interval: 1,\n    wkst: Days.MO,\n    count: null,\n    until: null,\n    tzid: null,\n    bysetpos: null,\n    bymonth: null,\n    bymonthday: null,\n    bynmonthday: null,\n    byyearday: null,\n    byweekno: null,\n    byweekday: null,\n    bynweekday: null,\n    byhour: null,\n    byminute: null,\n    bysecond: null,\n    byeaster: null,\n};\nexport var defaultKeys = Object.keys(DEFAULT_OPTIONS);\n/**\n *\n * @param {Options?} options - see <http://labix.org/python-dateutil/#head-cf004ee9a75592797e076752b2a889c10f445418>\n * - The only required option is `freq`, one of RRule.YEARLY, RRule.MONTHLY, ...\n * @constructor\n */\nvar RRule = /** @class */ (function () {\n    function RRule(options, noCache) {\n        if (options === void 0) { options = {}; }\n        if (noCache === void 0) { noCache = false; }\n        // RFC string\n        this._cache = noCache ? null : new Cache();\n        // used by toString()\n        this.origOptions = initializeOptions(options);\n        var parsedOptions = parseOptions(options).parsedOptions;\n        this.options = parsedOptions;\n    }\n    RRule.parseText = function (text, language) {\n        return parseText(text, language);\n    };\n    RRule.fromText = function (text, language) {\n        return fromText(text, language);\n    };\n    RRule.fromString = function (str) {\n        return new RRule(RRule.parseString(str) || undefined);\n    };\n    RRule.prototype._iter = function (iterResult) {\n        return iter(iterResult, this.options);\n    };\n    RRule.prototype._cacheGet = function (what, args) {\n        if (!this._cache)\n            return false;\n        return this._cache._cacheGet(what, args);\n    };\n    RRule.prototype._cacheAdd = function (what, value, args) {\n        if (!this._cache)\n            return;\n        return this._cache._cacheAdd(what, value, args);\n    };\n    /**\n     * @param {Function} iterator - optional function that will be called\n     * on each date that is added. It can return false\n     * to stop the iteration.\n     * @return Array containing all recurrences.\n     */\n    RRule.prototype.all = function (iterator) {\n        if (iterator) {\n            return this._iter(new CallbackIterResult('all', {}, iterator));\n        }\n        var result = this._cacheGet('all');\n        if (result === false) {\n            result = this._iter(new IterResult('all', {}));\n            this._cacheAdd('all', result);\n        }\n        return result;\n    };\n    /**\n     * Returns all the occurrences of the rrule between after and before.\n     * The inc keyword defines what happens if after and/or before are\n     * themselves occurrences. With inc == True, they will be included in the\n     * list, if they are found in the recurrence set.\n     *\n     * @return Array\n     */\n    RRule.prototype.between = function (after, before, inc, iterator) {\n        if (inc === void 0) { inc = false; }\n        if (!isValidDate(after) || !isValidDate(before)) {\n            throw new Error('Invalid date passed in to RRule.between');\n        }\n        var args = {\n            before: before,\n            after: after,\n            inc: inc,\n        };\n        if (iterator) {\n            return this._iter(new CallbackIterResult('between', args, iterator));\n        }\n        var result = this._cacheGet('between', args);\n        if (result === false) {\n            result = this._iter(new IterResult('between', args));\n            this._cacheAdd('between', result, args);\n        }\n        return result;\n    };\n    /**\n     * Returns the last recurrence before the given datetime instance.\n     * The inc keyword defines what happens if dt is an occurrence.\n     * With inc == True, if dt itself is an occurrence, it will be returned.\n     *\n     * @return Date or null\n     */\n    RRule.prototype.before = function (dt, inc) {\n        if (inc === void 0) { inc = false; }\n        if (!isValidDate(dt)) {\n            throw new Error('Invalid date passed in to RRule.before');\n        }\n        var args = { dt: dt, inc: inc };\n        var result = this._cacheGet('before', args);\n        if (result === false) {\n            result = this._iter(new IterResult('before', args));\n            this._cacheAdd('before', result, args);\n        }\n        return result;\n    };\n    /**\n     * Returns the first recurrence after the given datetime instance.\n     * The inc keyword defines what happens if dt is an occurrence.\n     * With inc == True, if dt itself is an occurrence, it will be returned.\n     *\n     * @return Date or null\n     */\n    RRule.prototype.after = function (dt, inc) {\n        if (inc === void 0) { inc = false; }\n        if (!isValidDate(dt)) {\n            throw new Error('Invalid date passed in to RRule.after');\n        }\n        var args = { dt: dt, inc: inc };\n        var result = this._cacheGet('after', args);\n        if (result === false) {\n            result = this._iter(new IterResult('after', args));\n            this._cacheAdd('after', result, args);\n        }\n        return result;\n    };\n    /**\n     * Returns the number of recurrences in this set. It will have go trough\n     * the whole recurrence, if this hasn't been done before.\n     */\n    RRule.prototype.count = function () {\n        return this.all().length;\n    };\n    /**\n     * Converts the rrule into its string representation\n     *\n     * @see <http://www.ietf.org/rfc/rfc2445.txt>\n     * @return String\n     */\n    RRule.prototype.toString = function () {\n        return optionsToString(this.origOptions);\n    };\n    /**\n     * Will convert all rules described in nlp:ToText\n     * to text.\n     */\n    RRule.prototype.toText = function (gettext, language, dateFormatter) {\n        return toText(this, gettext, language, dateFormatter);\n    };\n    RRule.prototype.isFullyConvertibleToText = function () {\n        return isFullyConvertible(this);\n    };\n    /**\n     * @return a RRule instance with the same freq and options\n     * as this one (cache is not cloned)\n     */\n    RRule.prototype.clone = function () {\n        return new RRule(this.origOptions);\n    };\n    // RRule class 'constants'\n    RRule.FREQUENCIES = [\n        'YEARLY',\n        'MONTHLY',\n        'WEEKLY',\n        'DAILY',\n        'HOURLY',\n        'MINUTELY',\n        'SECONDLY',\n    ];\n    RRule.YEARLY = Frequency.YEARLY;\n    RRule.MONTHLY = Frequency.MONTHLY;\n    RRule.WEEKLY = Frequency.WEEKLY;\n    RRule.DAILY = Frequency.DAILY;\n    RRule.HOURLY = Frequency.HOURLY;\n    RRule.MINUTELY = Frequency.MINUTELY;\n    RRule.SECONDLY = Frequency.SECONDLY;\n    RRule.MO = Days.MO;\n    RRule.TU = Days.TU;\n    RRule.WE = Days.WE;\n    RRule.TH = Days.TH;\n    RRule.FR = Days.FR;\n    RRule.SA = Days.SA;\n    RRule.SU = Days.SU;\n    RRule.parseString = parseString;\n    RRule.optionsToString = optionsToString;\n    return RRule;\n}());\nexport { RRule };\n//# sourceMappingURL=rrule.js.map","import { __assign } from \"tslib\";\nimport { RRule } from './rrule';\nimport { RRuleSet } from './rruleset';\nimport { untilStringToDate } from './dateutil';\nimport { includes, split } from './helpers';\nimport { parseString, parseDtstart } from './parsestring';\n/**\n * RRuleStr\n * To parse a set of rrule strings\n */\nvar DEFAULT_OPTIONS = {\n    dtstart: null,\n    cache: false,\n    unfold: false,\n    forceset: false,\n    compatible: false,\n    tzid: null,\n};\nexport function parseInput(s, options) {\n    var rrulevals = [];\n    var rdatevals = [];\n    var exrulevals = [];\n    var exdatevals = [];\n    var parsedDtstart = parseDtstart(s);\n    var dtstart = parsedDtstart.dtstart;\n    var tzid = parsedDtstart.tzid;\n    var lines = splitIntoLines(s, options.unfold);\n    lines.forEach(function (line) {\n        var _a;\n        if (!line)\n            return;\n        var _b = breakDownLine(line), name = _b.name, parms = _b.parms, value = _b.value;\n        switch (name.toUpperCase()) {\n            case 'RRULE':\n                if (parms.length) {\n                    throw new Error(\"unsupported RRULE parm: \".concat(parms.join(',')));\n                }\n                rrulevals.push(parseString(line));\n                break;\n            case 'RDATE':\n                var _c = (_a = /RDATE(?:;TZID=([^:=]+))?/i.exec(line)) !== null && _a !== void 0 ? _a : [], rdateTzid = _c[1];\n                if (rdateTzid && !tzid) {\n                    tzid = rdateTzid;\n                }\n                rdatevals = rdatevals.concat(parseRDate(value, parms));\n                break;\n            case 'EXRULE':\n                if (parms.length) {\n                    throw new Error(\"unsupported EXRULE parm: \".concat(parms.join(',')));\n                }\n                exrulevals.push(parseString(value));\n                break;\n            case 'EXDATE':\n                exdatevals = exdatevals.concat(parseRDate(value, parms));\n                break;\n            case 'DTSTART':\n                break;\n            default:\n                throw new Error('unsupported property: ' + name);\n        }\n    });\n    return {\n        dtstart: dtstart,\n        tzid: tzid,\n        rrulevals: rrulevals,\n        rdatevals: rdatevals,\n        exrulevals: exrulevals,\n        exdatevals: exdatevals,\n    };\n}\nfunction buildRule(s, options) {\n    var _a = parseInput(s, options), rrulevals = _a.rrulevals, rdatevals = _a.rdatevals, exrulevals = _a.exrulevals, exdatevals = _a.exdatevals, dtstart = _a.dtstart, tzid = _a.tzid;\n    var noCache = options.cache === false;\n    if (options.compatible) {\n        options.forceset = true;\n        options.unfold = true;\n    }\n    if (options.forceset ||\n        rrulevals.length > 1 ||\n        rdatevals.length ||\n        exrulevals.length ||\n        exdatevals.length) {\n        var rset_1 = new RRuleSet(noCache);\n        rset_1.dtstart(dtstart);\n        rset_1.tzid(tzid || undefined);\n        rrulevals.forEach(function (val) {\n            rset_1.rrule(new RRule(groomRruleOptions(val, dtstart, tzid), noCache));\n        });\n        rdatevals.forEach(function (date) {\n            rset_1.rdate(date);\n        });\n        exrulevals.forEach(function (val) {\n            rset_1.exrule(new RRule(groomRruleOptions(val, dtstart, tzid), noCache));\n        });\n        exdatevals.forEach(function (date) {\n            rset_1.exdate(date);\n        });\n        if (options.compatible && options.dtstart)\n            rset_1.rdate(dtstart);\n        return rset_1;\n    }\n    var val = rrulevals[0] || {};\n    return new RRule(groomRruleOptions(val, val.dtstart || options.dtstart || dtstart, val.tzid || options.tzid || tzid), noCache);\n}\nexport function rrulestr(s, options) {\n    if (options === void 0) { options = {}; }\n    return buildRule(s, initializeOptions(options));\n}\nfunction groomRruleOptions(val, dtstart, tzid) {\n    return __assign(__assign({}, val), { dtstart: dtstart, tzid: tzid });\n}\nfunction initializeOptions(options) {\n    var invalid = [];\n    var keys = Object.keys(options);\n    var defaultKeys = Object.keys(DEFAULT_OPTIONS);\n    keys.forEach(function (key) {\n        if (!includes(defaultKeys, key))\n            invalid.push(key);\n    });\n    if (invalid.length) {\n        throw new Error('Invalid options: ' + invalid.join(', '));\n    }\n    return __assign(__assign({}, DEFAULT_OPTIONS), options);\n}\nfunction extractName(line) {\n    if (line.indexOf(':') === -1) {\n        return {\n            name: 'RRULE',\n            value: line,\n        };\n    }\n    var _a = split(line, ':', 1), name = _a[0], value = _a[1];\n    return {\n        name: name,\n        value: value,\n    };\n}\nfunction breakDownLine(line) {\n    var _a = extractName(line), name = _a.name, value = _a.value;\n    var parms = name.split(';');\n    if (!parms)\n        throw new Error('empty property name');\n    return {\n        name: parms[0].toUpperCase(),\n        parms: parms.slice(1),\n        value: value,\n    };\n}\nfunction splitIntoLines(s, unfold) {\n    if (unfold === void 0) { unfold = false; }\n    s = s && s.trim();\n    if (!s)\n        throw new Error('Invalid empty string');\n    // More info about 'unfold' option\n    // Go head to http://www.ietf.org/rfc/rfc2445.txt\n    if (!unfold) {\n        return s.split(/\\s/);\n    }\n    var lines = s.split('\\n');\n    var i = 0;\n    while (i < lines.length) {\n        // TODO\n        var line = (lines[i] = lines[i].replace(/\\s+$/g, ''));\n        if (!line) {\n            lines.splice(i, 1);\n        }\n        else if (i > 0 && line[0] === ' ') {\n            lines[i - 1] += line.slice(1);\n            lines.splice(i, 1);\n        }\n        else {\n            i += 1;\n        }\n    }\n    return lines;\n}\nfunction validateDateParm(parms) {\n    parms.forEach(function (parm) {\n        if (!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(parm)) {\n            throw new Error('unsupported RDATE/EXDATE parm: ' + parm);\n        }\n    });\n}\nfunction parseRDate(rdateval, parms) {\n    validateDateParm(parms);\n    return rdateval.split(',').map(function (datestr) { return untilStringToDate(datestr); });\n}\n//# sourceMappingURL=rrulestr.js.map","import { __extends } from \"tslib\";\nimport { RRule } from './rrule';\nimport { sort, timeToUntilString } from './dateutil';\nimport { includes } from './helpers';\nimport { iterSet } from './iterset';\nimport { rrulestr } from './rrulestr';\nimport { optionsToString } from './optionstostring';\nfunction createGetterSetter(fieldName) {\n    var _this = this;\n    return function (field) {\n        if (field !== undefined) {\n            _this[\"_\".concat(fieldName)] = field;\n        }\n        if (_this[\"_\".concat(fieldName)] !== undefined) {\n            return _this[\"_\".concat(fieldName)];\n        }\n        for (var i = 0; i < _this._rrule.length; i++) {\n            var field_1 = _this._rrule[i].origOptions[fieldName];\n            if (field_1) {\n                return field_1;\n            }\n        }\n    };\n}\nvar RRuleSet = /** @class */ (function (_super) {\n    __extends(RRuleSet, _super);\n    /**\n     *\n     * @param {Boolean?} noCache\n     * The same stratagy as RRule on cache, default to false\n     * @constructor\n     */\n    function RRuleSet(noCache) {\n        if (noCache === void 0) { noCache = false; }\n        var _this = _super.call(this, {}, noCache) || this;\n        _this.dtstart = createGetterSetter.apply(_this, ['dtstart']);\n        _this.tzid = createGetterSetter.apply(_this, ['tzid']);\n        _this._rrule = [];\n        _this._rdate = [];\n        _this._exrule = [];\n        _this._exdate = [];\n        return _this;\n    }\n    RRuleSet.prototype._iter = function (iterResult) {\n        return iterSet(iterResult, this._rrule, this._exrule, this._rdate, this._exdate, this.tzid());\n    };\n    /**\n     * Adds an RRule to the set\n     *\n     * @param {RRule}\n     */\n    RRuleSet.prototype.rrule = function (rrule) {\n        _addRule(rrule, this._rrule);\n    };\n    /**\n     * Adds an EXRULE to the set\n     *\n     * @param {RRule}\n     */\n    RRuleSet.prototype.exrule = function (rrule) {\n        _addRule(rrule, this._exrule);\n    };\n    /**\n     * Adds an RDate to the set\n     *\n     * @param {Date}\n     */\n    RRuleSet.prototype.rdate = function (date) {\n        _addDate(date, this._rdate);\n    };\n    /**\n     * Adds an EXDATE to the set\n     *\n     * @param {Date}\n     */\n    RRuleSet.prototype.exdate = function (date) {\n        _addDate(date, this._exdate);\n    };\n    /**\n     * Get list of included rrules in this recurrence set.\n     *\n     * @return List of rrules\n     */\n    RRuleSet.prototype.rrules = function () {\n        return this._rrule.map(function (e) { return rrulestr(e.toString()); });\n    };\n    /**\n     * Get list of excluded rrules in this recurrence set.\n     *\n     * @return List of exrules\n     */\n    RRuleSet.prototype.exrules = function () {\n        return this._exrule.map(function (e) { return rrulestr(e.toString()); });\n    };\n    /**\n     * Get list of included datetimes in this recurrence set.\n     *\n     * @return List of rdates\n     */\n    RRuleSet.prototype.rdates = function () {\n        return this._rdate.map(function (e) { return new Date(e.getTime()); });\n    };\n    /**\n     * Get list of included datetimes in this recurrence set.\n     *\n     * @return List of exdates\n     */\n    RRuleSet.prototype.exdates = function () {\n        return this._exdate.map(function (e) { return new Date(e.getTime()); });\n    };\n    RRuleSet.prototype.valueOf = function () {\n        var result = [];\n        if (!this._rrule.length && this._dtstart) {\n            result = result.concat(optionsToString({ dtstart: this._dtstart }));\n        }\n        this._rrule.forEach(function (rrule) {\n            result = result.concat(rrule.toString().split('\\n'));\n        });\n        this._exrule.forEach(function (exrule) {\n            result = result.concat(exrule\n                .toString()\n                .split('\\n')\n                .map(function (line) { return line.replace(/^RRULE:/, 'EXRULE:'); })\n                .filter(function (line) { return !/^DTSTART/.test(line); }));\n        });\n        if (this._rdate.length) {\n            result.push(rdatesToString('RDATE', this._rdate, this.tzid()));\n        }\n        if (this._exdate.length) {\n            result.push(rdatesToString('EXDATE', this._exdate, this.tzid()));\n        }\n        return result;\n    };\n    /**\n     * to generate recurrence field such as:\n     * DTSTART:19970902T010000Z\n     * RRULE:FREQ=YEARLY;COUNT=2;BYDAY=TU\n     * RRULE:FREQ=YEARLY;COUNT=1;BYDAY=TH\n     */\n    RRuleSet.prototype.toString = function () {\n        return this.valueOf().join('\\n');\n    };\n    /**\n     * Create a new RRuleSet Object completely base on current instance\n     */\n    RRuleSet.prototype.clone = function () {\n        var rrs = new RRuleSet(!!this._cache);\n        this._rrule.forEach(function (rule) { return rrs.rrule(rule.clone()); });\n        this._exrule.forEach(function (rule) { return rrs.exrule(rule.clone()); });\n        this._rdate.forEach(function (date) { return rrs.rdate(new Date(date.getTime())); });\n        this._exdate.forEach(function (date) { return rrs.exdate(new Date(date.getTime())); });\n        return rrs;\n    };\n    return RRuleSet;\n}(RRule));\nexport { RRuleSet };\nfunction _addRule(rrule, collection) {\n    if (!(rrule instanceof RRule)) {\n        throw new TypeError(String(rrule) + ' is not RRule instance');\n    }\n    if (!includes(collection.map(String), String(rrule))) {\n        collection.push(rrule);\n    }\n}\nfunction _addDate(date, collection) {\n    if (!(date instanceof Date)) {\n        throw new TypeError(String(date) + ' is not Date instance');\n    }\n    if (!includes(collection.map(Number), Number(date))) {\n        collection.push(date);\n        sort(collection);\n    }\n}\nfunction rdatesToString(param, rdates, tzid) {\n    var isUTC = !tzid || tzid.toUpperCase() === 'UTC';\n    var header = isUTC ? \"\".concat(param, \":\") : \"\".concat(param, \";TZID=\").concat(tzid, \":\");\n    var dateString = rdates\n        .map(function (rdate) { return timeToUntilString(rdate.valueOf(), isUTC); })\n        .join(',');\n    return \"\".concat(header).concat(dateString);\n}\n//# sourceMappingURL=rruleset.js.map","import { DateWithZone } from './datewithzone';\nimport { iter } from './iter';\nimport { sort } from './dateutil';\nexport function iterSet(iterResult, _rrule, _exrule, _rdate, _exdate, tzid) {\n    var _exdateHash = {};\n    var _accept = iterResult.accept;\n    function evalExdate(after, before) {\n        _exrule.forEach(function (rrule) {\n            rrule.between(after, before, true).forEach(function (date) {\n                _exdateHash[Number(date)] = true;\n            });\n        });\n    }\n    _exdate.forEach(function (date) {\n        var zonedDate = new DateWithZone(date, tzid).rezonedDate();\n        _exdateHash[Number(zonedDate)] = true;\n    });\n    iterResult.accept = function (date) {\n        var dt = Number(date);\n        if (isNaN(dt))\n            return _accept.call(this, date);\n        if (!_exdateHash[dt]) {\n            evalExdate(new Date(dt - 1), new Date(dt + 1));\n            if (!_exdateHash[dt]) {\n                _exdateHash[dt] = true;\n                return _accept.call(this, date);\n            }\n        }\n        return true;\n    };\n    if (iterResult.method === 'between') {\n        evalExdate(iterResult.args.after, iterResult.args.before);\n        iterResult.accept = function (date) {\n            var dt = Number(date);\n            if (!_exdateHash[dt]) {\n                _exdateHash[dt] = true;\n                return _accept.call(this, date);\n            }\n            return true;\n        };\n    }\n    for (var i = 0; i < _rdate.length; i++) {\n        var zonedDate = new DateWithZone(_rdate[i], tzid).rezonedDate();\n        if (!iterResult.accept(new Date(zonedDate.getTime())))\n            break;\n    }\n    _rrule.forEach(function (rrule) {\n        iter(iterResult, rrule.options);\n    });\n    var res = iterResult._result;\n    sort(res);\n    switch (iterResult.method) {\n        case 'all':\n        case 'between':\n            return res;\n        case 'before':\n            return ((res.length && res[res.length - 1]) || null);\n        case 'after':\n        default:\n            return ((res.length && res[0]) || null);\n    }\n}\n//# sourceMappingURL=iterset.js.map","interface IViewPosition{\r\n\ttop: number;\r\n\tleft: number;\r\n}\r\n\r\ninterface IViewBox extends IViewPosition{\r\n\twidth: number;\r\n\theight: number;\r\n\tbottom: number;\r\n\tright: number;\r\n}\r\n\r\nexport class Tooltip {\r\n\tprivate _root: HTMLElement;\r\n\tprivate _tooltipNode: HTMLElement | null;\r\n\tprivate _scheduler: any;\r\n\r\n\tconstructor(scheduler: any){\r\n\t\tthis._scheduler = scheduler;\r\n\t}\r\n\r\n\tgetNode() : HTMLElement {\r\n\t\tconst scheduler = this._scheduler;\r\n\t\tif (!this._tooltipNode){\r\n\t\t\tthis._tooltipNode = document.createElement(\"div\");\r\n\t\t\tthis._tooltipNode.className = \"dhtmlXTooltip scheduler_tooltip tooltip\";\r\n\r\n\t\t\tscheduler._waiAria.tooltipAttr(this._tooltipNode);\r\n\t\t}\r\n\t\tif(scheduler.config.rtl){\r\n\t\t\tthis._tooltipNode.classList.add(\"dhtmlXTooltip_rtl\");\r\n\t\t} else{\r\n\t\t\tthis._tooltipNode.classList.remove(\"dhtmlXTooltip_rtl\");\r\n\t\t}\r\n\t\treturn this._tooltipNode;\r\n\t}\r\n\r\n\tsetViewport(node: HTMLElement):Tooltip{\r\n\t\tthis._root = node;\r\n\t\treturn this;\r\n\t}\r\n\r\n\tshow(left: number, top: number): Tooltip;\r\n\tshow(event: MouseEvent): Tooltip;\r\n\tshow(left: number | MouseEvent, top?: number): Tooltip {\r\n\t\tconst scheduler = this._scheduler;\r\n\t\tconst domHelpers = scheduler.$domHelpers;\r\n\t\tconst container = document.body;\r\n\t\tconst node = this.getNode();\r\n\r\n\t\tif(!domHelpers.isChildOf(node, container)){\r\n\t\t\tthis.hide();\r\n\t\t\tcontainer.appendChild(node);\r\n\t\t}\r\n\r\n\t\tif (this._isLikeMouseEvent(left)) {\r\n\t\t\tconst position = this._calculateTooltipPosition(left as MouseEvent);\r\n\t\t\ttop = position.top;\r\n\t\t\tleft = position.left;\r\n\t\t}\r\n\r\n\t\tnode.style.top = top + \"px\";\r\n\t\tnode.style.left = left + \"px\";\r\n\r\n\t\tscheduler._waiAria.tooltipVisibleAttr(node);\r\n\t\treturn this;\r\n\t}\r\n\thide() : Tooltip{\r\n\t\tconst scheduler = this._scheduler;\r\n\t\tconst node = this.getNode();\r\n\t\tif(node && node.parentNode){\r\n\t\t\tnode.parentNode.removeChild(node);\r\n\t\t}\r\n\t\tscheduler._waiAria.tooltipHiddenAttr(node);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tsetContent(html: string) : Tooltip{\r\n\t\tconst node = this.getNode();\r\n\t\tnode.innerHTML = html;\r\n\t\treturn this;\r\n\t}\r\n\r\n\t// it is for salesforce, because it proxies event to it own events\r\n\tprivate _isLikeMouseEvent(event: any): boolean {\r\n\t\tif (!event || typeof event !== \"object\") {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn \"clientX\" in event && \"clientY\" in event;\r\n\t}\r\n\r\n\tprivate _getViewPort() : HTMLElement {\r\n\t\treturn this._root || document.body;\r\n\t}\r\n\r\n\r\n\tprivate _calculateTooltipPosition(event: MouseEvent): IViewPosition{\r\n\t\tconst scheduler = this._scheduler;\r\n\t\tconst domHelpers = scheduler.$domHelpers;\r\n\t\t// top/left coordinates inside the viewport by mouse position\r\n\t\tconst viewport =  this._getViewPortSize();\r\n\t\tconst tooltipNode = this.getNode();\r\n\t\tconst tooltip: IViewBox = {\r\n\t\t\ttop:0,\r\n\t\t\tleft: 0,\r\n\t\t\twidth: tooltipNode.offsetWidth,\r\n\t\t\theight: tooltipNode.offsetHeight,\r\n\t\t\tbottom: 0,\r\n\t\t\tright: 0\r\n\t\t};\r\n\r\n\t\tconst offsetX = scheduler.config.tooltip_offset_x;\r\n\t\tconst offsetY = scheduler.config.tooltip_offset_y;\r\n\r\n\t\tconst container = document.body;\r\n\t\tconst mouse = domHelpers.getRelativeEventPosition(event, container);\r\n\t\tconst containerPos = domHelpers.getNodePosition(container);\r\n\t\tmouse.y += containerPos.y; // to fix margin collapsing\r\n\r\n\t\ttooltip.top = mouse.y;\r\n\t\ttooltip.left = mouse.x;\r\n\t\ttooltip.top += offsetY;\r\n\t\ttooltip.left += offsetX;\r\n\t\ttooltip.bottom = tooltip.top + tooltip.height;\r\n\t\ttooltip.right = tooltip.left + tooltip.width;\r\n\r\n\t\tconst scrollTop = window.scrollY + container.scrollTop; // to fix margin collapsing\r\n\t\t// edge cases when the tooltip element can be partially hidden by edges of the viewport\r\n\t\tif(tooltip.top < viewport.top - scrollTop){\r\n\t\t\ttooltip.top = viewport.top;\r\n\t\t\ttooltip.bottom = tooltip.top + tooltip.height;\r\n\t\t}else if(tooltip.bottom > viewport.bottom){\r\n\t\t\ttooltip.bottom = viewport.bottom;\r\n\t\t\ttooltip.top = tooltip.bottom - tooltip.height;\r\n\t\t}\r\n\r\n\t\tif(tooltip.left < viewport.left){\r\n\t\t\ttooltip.left = viewport.left;\r\n\t\t\ttooltip.right = viewport.left + tooltip.width;\r\n\t\t}else if(tooltip.right > viewport.right){\r\n\t\t\ttooltip.right = viewport.right;\r\n\t\t\ttooltip.left = tooltip.right - tooltip.width;\r\n\t\t}\r\n\r\n\t\tif(mouse.x >= tooltip.left && mouse.x <= tooltip.right) {\r\n\t\t\ttooltip.left = mouse.x - tooltip.width - offsetX;\r\n\t\t\ttooltip.right = tooltip.left + tooltip.width;\r\n\t\t}\r\n\r\n\t\tif(mouse.y >= tooltip.top && mouse.y <= tooltip.bottom) {\r\n\t\t\ttooltip.top = mouse.y - tooltip.height - offsetY;\r\n\t\t\ttooltip.bottom = tooltip.top + tooltip.height;\r\n\t\t}\r\n\r\n\t\treturn tooltip;\r\n\t}\r\n\r\n\tprivate _getViewPortSize() : IViewBox {\r\n\t\tconst scheduler = this._scheduler;\r\n\t\tconst domHelpers = scheduler.$domHelpers;\r\n\t\tconst container = this._getViewPort();\r\n\t\tlet viewport = container;\r\n\t\tlet scrollTop = window.scrollY + document.body.scrollTop;\r\n\t\tlet scrollLeft = window.scrollX + document.body.scrollLeft;\r\n\t\tlet pos;\r\n\t\t// support for the initial tooltip mode where the tooltip element was attached to the data area of scheduler\r\n\t\tif(container === scheduler.$event_data){\r\n\t\t\tviewport = scheduler.$event;\r\n\t\t\tscrollTop = 0;\r\n\t\t\tscrollLeft = 0;\r\n\t\t\tpos = domHelpers.getNodePosition(scheduler.$event);\r\n\t\t}else{\r\n\t\t\tpos = domHelpers.getNodePosition(viewport);\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tleft:pos.x + scrollLeft,\r\n\t\t\ttop: pos.y + scrollTop,\r\n\t\t\twidth: pos.width,\r\n\t\t\theight: pos.height,\r\n\t\t\tbottom: pos.y + pos.height + scrollTop,\r\n\t\t\tright: pos.x + pos.width + scrollLeft\r\n\t\t};\r\n\t}\r\n}\r\n","import * as utils from \"../../core/utils/utils\";\r\nimport { Tooltip } from \"./tooltip\";\r\n\r\ninterface ITrackerTarget {\r\n\tselector: string;\r\n\tonmouseenter: (event: MouseEvent, node: HTMLElement) => void;\r\n\tonmousemove: (event: MouseEvent, node: HTMLElement) => void;\r\n\tonmouseleave: (event: MouseEvent, node: HTMLElement) => void;\r\n\tglobal: boolean;\r\n}\r\n\r\ninterface ITooltipConfig {\r\n\tselector: string;\r\n\thtml: (event: MouseEvent, node: HTMLElement) => string;\r\n\tglobal: boolean;\r\n}\r\n\r\nexport class TooltipManager{\r\n\ttooltip: Tooltip;\r\n\tprotected _domEvents: any;\r\n\tprivate _listeners: object = {};\r\n\tprivate _scheduler: any;\r\n\tprivate delayShow: any;\r\n\tprivate delayHide: any;\r\n\r\n\tconstructor(scheduler: any) {\r\n\t\tthis.tooltip = new Tooltip(scheduler);\r\n\t\tthis._scheduler = scheduler;\r\n\t\tthis._domEvents = scheduler._createDomEventScope();\r\n\t\tthis._initDelayedFunctions();\r\n\t}\r\n\r\n\tdestructor(): void{\r\n\t\tthis.tooltip.hide();\r\n\t\tthis._domEvents.detachAll();\r\n\t}\r\n\thideTooltip(): void{\r\n\t\tthis.delayHide();\r\n\t}\r\n\tattach(config: ITrackerTarget): void {\r\n\t\tlet root = document.body;\r\n\t\tconst scheduler = this._scheduler;\r\n\t\tconst domHelpers = scheduler.$domHelpers;\r\n\t\tif(!config.global){\r\n\t\t\troot = scheduler.$root;\r\n\t\t}\r\n\r\n\t\tlet watchableTarget = null;\r\n\t\tconst handler = (event) => {\r\n\t\t\tconst eventTarget = domHelpers.getTargetNode(event);\r\n\t\t\tconst targetNode = domHelpers.closest(eventTarget, config.selector);\r\n\t\t\tif(domHelpers.isChildOf(eventTarget, this.tooltip.getNode())){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst doOnMouseEnter = () => {\r\n\t\t\t\twatchableTarget = targetNode;\r\n\t\t\t\tconfig.onmouseenter(event, targetNode);\r\n\t\t\t};\r\n\r\n\t\t\tif(watchableTarget){\r\n\t\t\t\tif(targetNode && targetNode === watchableTarget){\r\n\t\t\t\t\tconfig.onmousemove(event, targetNode);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconfig.onmouseleave(event, watchableTarget);\r\n\t\t\t\t\twatchableTarget = null;\r\n\r\n\t\t\t\t\tif(targetNode && targetNode !== watchableTarget){\r\n\t\t\t\t\t\tdoOnMouseEnter();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(targetNode){\r\n\t\t\t\t\tdoOnMouseEnter();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.detach(config.selector);\r\n\t\tthis._domEvents.attach(root, \"mousemove\", handler);\r\n\t\tthis._listeners[config.selector] = {\r\n\t\t\tnode: root,\r\n\t\t\thandler\r\n\t\t};\r\n\t}\r\n\r\n\tdetach(selector: string): void {\r\n\t\tconst listener = this._listeners[selector];\r\n\t\tif(listener){\r\n\t\t\tthis._domEvents.detach(listener.node, \"mousemove\", listener.handler);\r\n\t\t}\r\n\t}\r\n\r\n\ttooltipFor(config: ITooltipConfig): void {\r\n\t\tconst cloneDomEvent = (event: MouseEvent) => {\r\n\t\t\tlet clone = event;\r\n\t\t\t// making events survive timeout in ie\r\n\t\t\t// tslint:disable-next-line no-string-literal\r\n\t\t\tif(document[\"createEventObject\"] && !document.createEvent){\r\n\t\t\t\t// tslint:disable-next-line no-string-literal\r\n\t\t\t\tclone = document[\"createEventObject\"](event);\r\n\t\t\t}\r\n\t\t\treturn clone;\r\n\t\t};\r\n\t\tthis._initDelayedFunctions();\r\n\t\tthis.attach({\r\n\t\t\tselector: config.selector,\r\n\t\t\tglobal: config.global,\r\n\t\t\tonmouseenter:(event: MouseEvent, node: HTMLElement) => {\r\n\t\t\t\tconst html = config.html(event, node);\r\n\t\t\t\tif(html){\r\n\t\t\t\t\tthis.delayShow(cloneDomEvent(event), html);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonmousemove:(event: MouseEvent, node: HTMLElement) => {\r\n\t\t\t\tconst html = config.html(event, node);\r\n\t\t\t\tif(html){\r\n\t\t\t\t\tthis.delayShow(cloneDomEvent(event), html);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.delayShow.$cancelTimeout();\r\n\t\t\t\t\tthis.delayHide();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonmouseleave:() => {\r\n\t\t\t\tthis.delayShow.$cancelTimeout();\r\n\t\t\t\tthis.delayHide();\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tprivate _initDelayedFunctions(){\r\n\t\tconst scheduler = this._scheduler;\r\n\t\t// reset delayed functions in order to apply current values of tooltip_timeout\r\n\t\tif(this.delayShow){\r\n\t\t\tthis.delayShow.$cancelTimeout();\r\n\t\t}\r\n\t\tif(this.delayHide){\r\n\t\t\tthis.delayHide.$cancelTimeout();\r\n\t\t}\r\n\t\tthis.tooltip.hide();\r\n\t\t\r\n\t\tthis.delayShow = (utils as any).default.delay((event: MouseEvent, html: string) => {\r\n\t\t\tif(scheduler.callEvent(\"onBeforeTooltip\", [event]) === false) {\r\n\t\t\t\tthis.tooltip.hide();\r\n\t\t\t} else {\r\n\t\t\t\tthis.tooltip.setContent(html);\r\n\t\t\t\tthis.tooltip.show(event);\r\n\t\t\t}\r\n\t\t}, scheduler.config.tooltip_timeout || 1);\r\n\r\n\t\tthis.delayHide = (utils as any).default.delay(() => {\r\n\t\t\tthis.delayShow.$cancelTimeout();\r\n\t\t\tthis.tooltip.hide();\r\n\t\t}, scheduler.config.tooltip_hide_timeout || 1);\r\n\t}\r\n\r\n}","import active_links from \"./active_links\";\r\nimport agenda_legacy from \"./agenda_legacy_view\";\r\nimport agenda_view from \"./agenda\";\r\nimport all_timed from \"./all_timed\";\r\nimport collision from \"./collision\";\r\nimport container_autoresize from \"./container_autoresize\";\r\nimport cookie from \"./cookie\";\r\nimport daytimeline_restricted from \"./restricted_extensions/daytimeline\";\r\nimport drag_between_restricted from \"./restricted_extensions/drag_between\";\r\nimport editors from \"./editors\";\r\nimport expand from \"./expand\";\r\nimport grid_view from \"./restricted_extensions/grid_view\";\r\nimport html_templates from \"./html_templates\";\r\nimport key_nav from \"./key_nav\";\r\nimport layer from \"./layer\";\r\nimport limit from \"./limit\";\r\nimport map_view from \"./map_view\";\r\nimport minical from \"./minical\";\r\nimport monthheight from \"./monthheight\";\r\nimport multisection_restricted from \"./restricted_extensions/multisection\";\r\nimport multiselect from \"./multiselect\";\r\nimport multisource from \"./multisource\";\r\nimport mvc from \"./mvc\";\r\nimport outerdrag from \"./outerdrag\";\r\nimport pdf from \"./pdf\";\r\nimport quick_info from \"./quick_info\";\r\nimport readonly from \"./readonly\";\r\nimport recurring from \"./recurring\";\r\nimport recurring_legacy from \"./recurring_legacy\";\r\nimport serialize from \"./serialize\";\r\nimport timeline_restricted from \"./restricted_extensions/timeline\";\r\nimport tooltip from \"./tooltip\";\r\nimport treetimeline_restricted from \"./restricted_extensions/treetimeline\";\r\nimport units_restricted from \"./restricted_extensions/units\";\r\nimport url from \"./url\";\r\nimport week_agenda_restricted from \"./restricted_extensions/week_agenda\";\r\nimport wp from \"./wp\";\r\nimport year_view from \"./year_view\";\r\nimport export_api from \"./export_api\";\r\n\r\nexport default {\r\n\tactive_links,\r\n\tagenda_legacy,\r\n\tagenda_view,\r\n\tall_timed,\r\n\tcollision,\r\n\tcontainer_autoresize,\r\n\tcookie,\r\n\tdaytimeline: daytimeline_restricted,\r\n\tdrag_between: drag_between_restricted,\r\n\teditors,\r\n\texpand,\r\n\texport_api,\r\n\tgrid_view,\r\n\thtml_templates,\r\n\tkey_nav,\r\n\tlayer,\r\n\tlimit,\r\n\tmap_view,\r\n\tminical,\r\n\tmonthheight,\r\n\tmultisection: multisection_restricted,\r\n\tmultiselect,\r\n\tmultisource,\r\n\tmvc,\r\n\touterdrag,\r\n\tpdf,\r\n\tquick_info,\r\n\treadonly,\r\n\trecurring,\r\n\trecurring_legacy,\r\n\tserialize,\r\n\ttimeline: timeline_restricted,\r\n\ttooltip,\r\n\ttreetimeline: treetimeline_restricted,\r\n\tunits: units_restricted,\r\n\turl,\r\n\tweek_agenda: week_agenda_restricted,\r\n\twp,\r\n\tyear_view\r\n};","export default function(scheduler){\r\n\r\nscheduler.config.active_link_view = \"day\";\r\nscheduler._active_link_click = function(e){\r\n\tvar start = e.target;\r\n\tvar to = start.getAttribute(\"data-link-date\");\r\n\tvar s_d = scheduler.date.str_to_date(scheduler.config.api_date, false, true);\r\n\tif (to) {\r\n\t\tscheduler.setCurrentView(s_d(to), scheduler.config.active_link_view);\r\n\t\tif (e && e.preventDefault)\r\n\t\t\te.preventDefault();\r\n\t\treturn false;\r\n\t}\r\n};\r\nscheduler.attachEvent(\"onTemplatesReady\", function() {\r\n\tvar do_wrapper = function(key, fullname){\r\n\t\tfullname = fullname || (key+\"_scale_date\");\r\n\r\n\t\tif(!scheduler.templates['_active_links_old_'+ fullname]){\r\n\t\t\tscheduler.templates['_active_links_old_'+ fullname] = scheduler.templates[fullname];\r\n\t\t}\r\n\t\tvar week_x = scheduler.templates['_active_links_old_'+ fullname];\r\n\t\tvar d_s = scheduler.date.date_to_str(scheduler.config.api_date);\r\n\t\tscheduler.templates[fullname] = function(date) {\r\n\t\t\treturn \"<a data-link-date='\" + d_s(date) + \"' href='#'>\" + week_x(date) + \"</a>\";\r\n\t\t};\r\n\t};\r\n\r\n\tdo_wrapper(\"week\");\r\n\tdo_wrapper(\"\", \"month_day\");\r\n\tif (this.matrix){\r\n\t\tfor (var key in this.matrix)\r\n\t\t\tdo_wrapper(key);\r\n\t}\r\n\r\n\tthis._detachDomEvent(this._obj, \"click\", scheduler._active_link_click);\r\n\tscheduler.event(this._obj, \"click\", scheduler._active_link_click);\r\n});\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.date.add_agenda_legacy = function(date){\r\n\treturn scheduler.date.add(date, 1, \"year\");\r\n};\r\n\r\nscheduler.templates.agenda_legacy_time = function(start,end,ev){\r\n\tif (ev._timed)\r\n\t\treturn this.day_date(ev.start_date, ev.end_date, ev)+\" \"+this.event_date(start);\r\n\telse\r\n\t\treturn scheduler.templates.day_date(start)+\" &ndash; \"+scheduler.templates.day_date(end);\r\n};\r\nscheduler.templates.agenda_legacy_text = function(start,end,event){\r\n\treturn event.text;\r\n};\r\nscheduler.templates.agenda_legacy_date = function(){ return \"\"; };\r\n\r\nscheduler.date.agenda_legacy_start=function(){ return scheduler.date.date_part(scheduler._currentDate()); };\r\n\r\nscheduler.attachEvent(\"onTemplatesReady\",function() {\r\n\tvar old_dblclick_dhx_cal_data = scheduler.dblclick_dhx_cal_data;\r\n\tscheduler.dblclick_dhx_cal_data = function() {\r\n\t\tif (this._mode == \"agenda_legacy\") {\r\n\t\t\tif (!this.config.readonly && this.config.dblclick_create)\r\n\t\t\t\tthis.addEventNow();\r\n\t\t} else {\r\n\t\t\tif (old_dblclick_dhx_cal_data)\r\n\t\t\t\treturn old_dblclick_dhx_cal_data.apply(this, arguments);\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tvar old = scheduler.render_data;\r\n\tscheduler.render_data=function(evs){\r\n\t\tif (this._mode == \"agenda_legacy\")\r\n\t\t\tfill_agenda_tab();\r\n\t\telse\r\n\t\t\treturn old.apply(this,arguments);\r\n\t};\r\n\r\n\tvar old_render_view_data = scheduler.render_view_data;\r\n\tscheduler.render_view_data = function(){\r\n\t\tif(this._mode == \"agenda_legacy\") {\r\n\t\t\tscheduler._agendaScrollTop = scheduler._els[\"dhx_cal_data\"][0].childNodes[0].scrollTop;\r\n\t\t\tscheduler._els[\"dhx_cal_data\"][0].childNodes[0].scrollTop = 0;\r\n\t\t}\r\n\t\treturn old_render_view_data.apply(this,arguments);\r\n\t};\r\n\r\n\r\n\r\n\tfunction set_full_view(mode){\r\n\t\tif (mode){\r\n\t\t\tvar l = scheduler.locale.labels;\r\n\r\n\t\t\tvar rowAttr = scheduler._waiAria.agendaHeadAttrString();\r\n\t\t\tvar dateHeader = scheduler._waiAria.agendaHeadDateString(l.date);\r\n\t\t\tvar descriptionHeader = scheduler._waiAria.agendaHeadDescriptionString(l.description);\r\n\r\n\t\t\tscheduler._els[\"dhx_cal_header\"][0].innerHTML=\"<div \"+rowAttr+\" class='dhx_agenda_line dhx_agenda_line_header'>\" +\r\n\t\t\t\t\"<div \"+dateHeader+\">\"+l.date+\"</div>\" +\r\n\t\t\t\t\"<span class = 'description_header' style='padding-left:25px' \"+descriptionHeader+\">\"+l.description+\"</span>\" +\r\n\t\t\t\t\"</div>\";\r\n\t\t\tscheduler._table_view=true;\r\n\t\t\tscheduler.set_sizes();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction fill_agenda_tab(){\r\n\t\t//select events for which data need to be printed\r\n\r\n\t\tvar events = scheduler.get_visible_events();\r\n\t\tevents.sort(function(a,b){ return a.start_date>b.start_date?1:-1;});\r\n\r\n\t\tvar tableAttr = scheduler._waiAria.agendaDataAttrString();\r\n\t\tvar agendaEventAttrString;\r\n\t\t//generate html for the view\r\n\t\tvar html=\"<div class='dhx_agenda_area' \"+tableAttr+\">\";\r\n\t\tfor (var i=0; i<events.length; i++){\r\n\t\t\tvar ev = events[i];\r\n\t\t\tvar bg_color = (ev.color?(\"--dhx-scheduler-event-background:\"+ev.color+\";\"):\"\");\r\n\t\t\tvar color = (ev.textColor?(\"--dhx-scheduler-event-color:\"+ev.textColor+\";\"):\"\");\r\n\t\t\tvar ev_class = scheduler.templates.event_class(ev.start_date, ev.end_date, ev);\r\n\r\n\t\t\tagendaEventAttrString = scheduler._waiAria.agendaEventAttrString(ev);\r\n\t\t\tvar agendaDetailsButtonAttr = scheduler._waiAria.agendaDetailsBtnString();\r\n\r\n\t\t\thtml+=\"<div \"+agendaEventAttrString+\" class='dhx_agenda_line\"+(ev_class?' '+ev_class:'')+\r\n\t\t\t\t\t\"' event_id='\"+ev.id+\"' \"+scheduler.config.event_attribute+\"='\"+ev.id+\"' style='\"+color+\"\"+bg_color+\"\"+\r\n\t\t\t\t\t(ev._text_style||\"\")+\"'><div class='dhx_agenda_event_time'>\"+\r\n\t\t\t\t\t(scheduler.config.rtl ? scheduler.templates.agenda_time(ev.end_date,ev.start_date, ev):scheduler.templates.agenda_time(ev.start_date, ev.end_date,ev))+\r\n\t\t\t\t\t\"</div>\";\r\n\t\t\thtml+=`<div ${agendaDetailsButtonAttr} class='dhx_event_icon icon_details'><svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<path d=\"M15.4444 16.4H4.55556V7.6H15.4444V16.4ZM13.1111 2V3.6H6.88889V2H5.33333V3.6H4.55556C3.69222 3.6 3 4.312 3 5.2V16.4C3 16.8243 3.16389 17.2313 3.45561 17.5314C3.74733 17.8314 4.143 18 4.55556 18H15.4444C15.857 18 16.2527 17.8314 16.5444 17.5314C16.8361 17.2313 17 16.8243 17 16.4V5.2C17 4.312 16.3 3.6 15.4444 3.6H14.6667V2H13.1111ZM13.8889 10.8H10V14.8H13.8889V10.8Z\" fill=\"#A1A4A6\"/>\r\n\t\t\t</svg></div>`;\r\n\t\t\thtml+=\"<span>\"+scheduler.templates.agenda_text(ev.start_date, ev.end_date, ev)+\"</span></div>\";\r\n\t\t}\r\n\t\thtml+=\"<div class='dhx_v_border'></div></div>\";\r\n\r\n\t\t//render html\r\n\t\tscheduler._els[\"dhx_cal_data\"][0].innerHTML = html;\r\n\t\tscheduler._els[\"dhx_cal_data\"][0].childNodes[0].scrollTop = scheduler._agendaScrollTop||0;\r\n\r\n\t\t// setting up dhx_v_border size\r\n\t\tvar agenda_area = scheduler._els[\"dhx_cal_data\"][0].childNodes[0];\r\n\t\tvar v_border = agenda_area.childNodes[agenda_area.childNodes.length-1];\r\n\t\tv_border.style.height = (agenda_area.offsetHeight < scheduler._els[\"dhx_cal_data\"][0].offsetHeight) ? \"100%\" : (agenda_area.offsetHeight+\"px\");\r\n\r\n\t\tvar t=scheduler._els[\"dhx_cal_data\"][0].firstChild.childNodes;\r\n\r\n\t\tvar dateElement = scheduler._getNavDateElement();\r\n\t\tif(dateElement){\r\n\t\t\tdateElement.innerHTML=scheduler.templates.agenda_date(scheduler._min_date, scheduler._max_date, scheduler._mode);\r\n\t\t}\r\n\r\n\t\tscheduler._rendered=[];\r\n\t\tfor (var i=0; i < t.length-1; i++)\r\n\t\t\tscheduler._rendered[i]=t[i];\r\n\r\n\t}\r\n\r\n\tscheduler.agenda_legacy_view=function(mode){\r\n\t\tscheduler._min_date = scheduler.config.agenda_start||scheduler.date.agenda_legacy_start(scheduler._date);\r\n\t\tscheduler._max_date = scheduler.config.agenda_end||scheduler.date.add_agenda_legacy(scheduler._min_date, 1);\r\n\r\n\t\tset_full_view(mode);\r\n\t\tif (mode){\r\n\t\t\tscheduler._cols = null;\r\n\t\t\tscheduler._colsS = null;\r\n\t\t\tscheduler._table_view = true;\r\n\t\t\t//agenda tab activated\r\n\t\t\tfill_agenda_tab();\r\n\t\t} else {\r\n\t\t\tscheduler._table_view = false;\r\n\t\t\t//agenda tab de-activated\r\n\t\t}\r\n\t};\r\n});\r\n\r\n\r\n}","export default function(scheduler){\r\n\r\n\tscheduler.date.add_agenda = function(date, inc){\r\n\t\treturn scheduler.date.add(date, 1*inc, \"month\");\r\n\t};\r\n\t\r\n\tscheduler.templates.agenda_time = function(start,end,ev){\r\n\t\tif (ev._timed){\r\n\t\t\treturn `${this.event_date(start)} - ${this.event_date(end)}`;\r\n\t\t}else{\r\n\t\t\treturn scheduler.locale.labels.full_day;\r\n\t\t}\r\n\t};\r\n\tscheduler.templates.agenda_text = function(start,end,ev){\r\n\t\treturn ev.text;\r\n\t};\r\n\r\n\tconst dayDateToStr = scheduler.date.date_to_str(\"%F %j\");\r\n\tconst dayDowToStr = scheduler.date.date_to_str(\"%l\");\r\n\r\n\tscheduler.templates.agenda_day = function(date){ \r\n\t\treturn `<div class=\"dhx_agenda_day_date\">${dayDateToStr(date)}</div>\r\n\t\t<div class=\"dhx_agenda_day_dow\">${dayDowToStr(date)}</div>`;\r\n\t};\r\n\tscheduler.templates.agenda_date = function(start, end){ \r\n\t\treturn scheduler.templates.month_date(scheduler.getState().date); \r\n\t};\r\n\t\r\n\tscheduler.date.agenda_start=function(date){\r\n\t\treturn scheduler.date.month_start(new Date(date));\r\n\t};\r\n\r\n\tlet scrollTop = 0;\r\n\t\r\n\tscheduler.attachEvent(\"onTemplatesReady\",function() {\r\n\t\tvar old_dblclick_dhx_cal_data = scheduler.dblclick_dhx_cal_data;\r\n\t\tscheduler.dblclick_dhx_cal_data = function() {\r\n\t\t\tif (this._mode == \"agenda\") {\r\n\t\t\t\tif (!this.config.readonly && this.config.dblclick_create)\r\n\t\t\t\t\tthis.addEventNow();\r\n\t\t\t} else {\r\n\t\t\t\tif (old_dblclick_dhx_cal_data)\r\n\t\t\t\t\treturn old_dblclick_dhx_cal_data.apply(this, arguments);\r\n\t\t\t}\r\n\t\t};\r\n\t\r\n\t\r\n\t\tvar old = scheduler.render_data;\r\n\t\tscheduler.render_data=function(evs){\r\n\t\t\tif (this._mode == \"agenda\")\r\n\t\t\t\tfill_agenda_tab();\r\n\t\t\telse\r\n\t\t\t\treturn old.apply(this,arguments);\r\n\t\t};\r\n\t\r\n\t\tvar old_render_view_data = scheduler.render_view_data;\r\n\t\tscheduler.render_view_data = function(){\r\n\t\t\tif(this._mode == \"agenda\") {\r\n\t\t\t\tscrollTop = scheduler._els[\"dhx_cal_data\"][0].scrollTop;\r\n\t\t\t\tscheduler._els[\"dhx_cal_data\"][0].scrollTop = 0;\r\n\t\t\t}\r\n\t\t\treturn old_render_view_data.apply(this,arguments);\r\n\t\t};\r\n\r\n\t\tfunction fill_agenda_tab(){\r\n\t\t\tconst events = scheduler.get_visible_events();\r\n\t\t\tevents.sort(function(a,b){ return a.start_date>b.start_date?1:-1;});\r\n\r\n\t\t\tconst eventsInDays = {};\r\n\t\t\tlet currDate = scheduler.getState().min_date;\r\n\t\t\tconst maxDate = scheduler.getState().max_date;\r\n\t\t\twhile(currDate.valueOf() < maxDate.valueOf()){\r\n\t\t\t\teventsInDays[currDate.valueOf()] = [];\r\n\t\t\t\tcurrDate = scheduler.date.add(currDate, 1, \"day\");\r\n\t\t\t}\r\n\r\n\t\t\tlet anyEvents = false;\r\n\r\n\t\t\tevents.forEach((ev) => {\r\n\t\t\t\tlet eventStart = scheduler.date.day_start(new Date(ev.start_date)); \r\n\t\t\t\twhile (eventStart.valueOf() < ev.end_date.valueOf()) {\r\n\t\t\t\t\tif (eventsInDays[eventStart.valueOf()]) {\r\n\t\t\t\t\t\teventsInDays[eventStart.valueOf()].push(ev);\r\n\t\t\t\t\t\tanyEvents = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\teventStart = scheduler.date.day_start(scheduler.date.add(eventStart, 1, \"day\"));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif(!anyEvents){\r\n\t\t\t\tscheduler._els[\"dhx_cal_data\"][0].innerHTML = renderEmptyView();\r\n\t\t\t}else{\r\n\t\t\t\tlet html = \"\";\r\n\t\t\t\tfor(let day in eventsInDays){\r\n\t\t\t\t\thtml += renderDay(new Date(day*1), eventsInDays[day]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscheduler._els[\"dhx_cal_data\"][0].innerHTML = html;\r\n\t\t\t}\r\n\r\n\t\t\tscheduler._els[\"dhx_cal_data\"][0].scrollTop = scrollTop;\r\n\t\t\t\r\n\t\t\tlet t = scheduler._els[\"dhx_cal_data\"][0].querySelectorAll(\".dhx_cal_agenda_event_line\");\r\n\t\t\tscheduler._rendered = [];\r\n\t\t\tfor (var i = 0; i < t.length - 1; i++) {\r\n\t\t\t\tscheduler._rendered[i] = t[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\r\n\r\n\t\tfunction renderEmptyView(){\r\n\t\t\treturn `<div class=\"dhx_cal_agenda_no_events\">${scheduler.locale.labels.agenda_tab}</div>`;\r\n\t\t}\r\n\r\n\t\tfunction renderDay(day, events) {\r\n\t\t\tif(!events.length){\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t\tlet html = `\r\n<div class=\"dhx_cal_agenda_day\">\r\n\t<div class=\"dhx_cal_agenda_day_header\">${scheduler.templates.agenda_day(day)}</div>\r\n\t<div class=\"dhx_cal_agenda_day_events\">\r\n`;\r\n\r\n\t\t\tevents.forEach((calendarEvent) => {\r\n\t\t\t\thtml += renderOneEvent(day, calendarEvent);\r\n\t\t\t});\r\n\r\n\t\t\thtml += `</div></div>`;\r\n\t\t\treturn html;\r\n\t\t}\r\n\r\n\t\tfunction renderOneEvent(day, calendarEvent){\r\n\t\t\tconst dates = scheduler.templates.agenda_time(calendarEvent.start_date, calendarEvent.end_date, calendarEvent);\r\n\t\t\tconst selectedId = scheduler.getState().select_id;\r\n\t\t\tconst cls = scheduler.templates.event_class(calendarEvent.start_date, calendarEvent.end_date, calendarEvent);\r\n\t\t\tconst description = scheduler.templates.agenda_text(calendarEvent.start_date, calendarEvent.end_date, calendarEvent);\r\n\r\n\t\t\tlet style = \"\";\r\n\t\t\tif(calendarEvent.color || calendarEvent.textColor){\r\n\t\t\t\tconst bg = (calendarEvent.color ? (\"--dhx-scheduler-event-background:\" + calendarEvent.color + \";\") : \"\");\r\n\t\t\t\tconst color = (calendarEvent.textColor ? (\"--dhx-scheduler-event-color:\" + calendarEvent.textColor + \";\") : \"\");\r\n\t\t\t\tstyle = ` style=\"${bg}${color}\" `;\r\n\t\t\t}\r\n\r\n\t\t\treturn `<div class=\"dhx_cal_agenda_event_line ${cls||\"\"} ${calendarEvent.id == selectedId ? \"dhx_cal_agenda_event_line_selected\" : \"\"}\" ${style} ${scheduler.config.event_attribute}=\"${calendarEvent.id}\">\r\n\t<div class=\"dhx_cal_agenda_event_line_marker\"></div>\r\n\t<div class=\"dhx_cal_agenda_event_line_time\">${dates}</div>\r\n\t<div class=\"dhx_cal_agenda_event_line_text\">${description}</div>\r\n</div>`;\r\n\t\t}\r\n\t\r\n\t\tscheduler.agenda_view=function(mode){\r\n\t\t\tif (mode){\r\n\t\t\t\tscheduler._min_date = scheduler.config.agenda_start || scheduler.date.agenda_start(scheduler._date);\r\n\t\t\t\tscheduler._max_date = scheduler.config.agenda_end || scheduler.date.add_agenda(scheduler._min_date, 1);\r\n\t\t\t\tscheduler._cols = null;\r\n\t\t\t\tscheduler._colsS = null;\r\n\t\t\t\tscheduler._table_view = true;\r\n\r\n\t\t\t\tconst dateHeader = scheduler._getNavDateElement();\r\n\t\t\t\tdateHeader.innerHTML = scheduler.templates.agenda_date(scheduler._date);\r\n\t\t\t\t//agenda tab activated\r\n\t\t\t\tfill_agenda_tab();\r\n\t\t\t} else {\r\n\t\t\t\tscheduler._table_view = false;\r\n\t\t\t\t//agenda tab de-activated\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n\r\n\t// scheduler.attachEvent(\"onEventSelected\", function(id){\r\n\t// \tconst oldSelected = scheduler.$container.querySelectorAll(\".dhx_cal_agenda_event_line_selected\");\r\n\t// \toldSelected.forEach((el) => {\r\n\t// \t\tel.classList.remove(\"dhx_cal_agenda_event_line_selected\");\r\n\t// \t});\r\n\r\n\t// \tconst selected = scheduler.$container.querySelector(`[${scheduler.config.event_attribute}=\"${id}\"]`);\r\n\t// \tif(selected){\r\n\t// \t\tselected.classList.add(\"dhx_cal_agenda_event_line_selected\");\r\n\t// \t}\r\n\t// });\r\n\t\r\n\t\r\n}","export default function(scheduler){\r\n\r\n\tscheduler.config.all_timed = \"short\";\r\n\tscheduler.config.all_timed_month = false;\r\n\r\n\tvar is_event_short = function (ev) {\r\n\t\tif(!((ev.end_date - ev.start_date)/(1000*60*60) >= 24)){\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t// short event shouldn't disappear to multiday area during dnd-resize\r\n\t\tif(scheduler._drag_mode == \"resize\" && scheduler._drag_id == ev.id){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn \tfalse;\r\n\t};\r\n\r\n\t// copy of usual events and recurring instances;\r\n\t// regular copy causes problems with recurrings which have series event as a prototype\r\n\tscheduler._safe_copy = function(event){\r\n\t\tvar proto = null,\r\n\t\t\tcopy = scheduler._copy_event(event);\r\n\t\tif(event.event_pid){\r\n\t\t\tproto = scheduler.getEvent(event.event_pid);\r\n\t\t}\r\n\r\n\t\tif (proto && proto.isPrototypeOf(event)) {\r\n\t\t\tdelete copy.event_length;\r\n\t\t\tdelete copy.event_pid;\r\n\t\t\tdelete copy.rec_pattern;\r\n\t\t\tdelete copy.rec_type;\r\n\t\t}\r\n\r\n\t\treturn copy;\r\n\t};\r\n\r\n\tvar old_prerender_events_line = scheduler._pre_render_events_line;\r\n\tvar old_prerender_events_table = scheduler._pre_render_events_table;\r\n\r\n\tvar prerender_events = function (evs, hold) {\r\n\t\tif (!this._table_view) {\r\n\t\t\treturn old_prerender_events_line.call(this, evs, hold);\r\n\t\t}\r\n\r\n\t\treturn old_prerender_events_table.call(this, evs, hold);\r\n\t};\r\n\r\n\tscheduler._pre_render_events_line = scheduler._pre_render_events_table = function(evs, hold){\r\n\t\tif (!this.config.all_timed ||\r\n\t\t\t(this._table_view && this._mode != \"month\") ||\r\n\t\t\t(this._mode == \"month\" && !this.config.all_timed_month))\r\n\t\t\treturn prerender_events.call(this, evs, hold);\r\n\r\n\t\tfor (var i=0; i < evs.length; i++) {\r\n\t\t\tvar ev=evs[i];\r\n\r\n\t\t\tif (ev._timed)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tif (this.config.all_timed == \"short\") {\r\n\t\t\t\tif (!is_event_short(ev)) {\r\n\t\t\t\t\tif (this._mode != \"month\") {\r\n\t\t\t\t\t\tevs.splice(i--, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar ce = this._safe_copy(ev); // current event (event for one specific day) is copy of original with modified dates\r\n\t\t\tif(!ev._virtual){\r\n\t\t\t\tce._first_chunk = true;\r\n\t\t\t}else{\r\n\t\t\t\tce._first_chunk = false;\r\n\t\t\t}\r\n\t\t\tce._drag_resize = false;\r\n\t\t\tce._virtual = true;\r\n\t\t\tce.start_date = new Date(ce.start_date); // as lame copy doesn't copy date objects\r\n\r\n\t\t\tif (!isOvernightEvent(ev)) {\r\n\t\t\t\tce.end_date = new Date(ev.end_date);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tce.end_date = getNextDay(ce.start_date);\r\n\t\t\t\tif (this.config.last_hour != 24) { // if specific last_hour was set (e.g. 20)\r\n\t\t\t\t\tce.end_date = setDateTime(ce.start_date, this.config.last_hour);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar event_changed = false;\r\n\t\t\tif (ce.start_date < this._max_date && ce.end_date > this._min_date && ce.start_date < ce.end_date) {\r\n\t\t\t\tevs[i] = ce; // adding another event in collection\r\n\t\t\t\tevent_changed = true;\r\n\t\t\t}\r\n\t\t//\tif (ce.start_date > ce.end_date) {\r\n\t\t//\t\tevs.splice(i--,1);\r\n\t\t//\t}\r\n\r\n\t\t\tvar re = this._safe_copy(ev); // remaining event, copy of original with modified start_date (making range more narrow)\r\n\t\t\tre._virtual = true;\r\n\t\t\tre.end_date = new Date(re.end_date);\r\n\t\t\tif (re.start_date < this._min_date)\r\n\t\t\t\tre.start_date = setDateTime(this._min_date, this.config.first_hour);// as we are starting only with whole hours\r\n\t\t\telse\r\n\t\t\t\tre.start_date = setDateTime(getNextDay(ev.start_date), this.config.first_hour);\r\n\r\n\t\t\tif (re.start_date < this._max_date && re.start_date < re.end_date) {\r\n\t\t\t\tif (event_changed){\r\n\t\t\t\t\tevs.splice(i+1,0,re);//insert part\r\n\t\t\t\t}else {\r\n\t\t\t\t\tevs[i--] = re;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tre._last_chunk = false;\r\n\t\t\t}else{\r\n\t\t\t\tce._last_chunk = true;\r\n\t\t\t\tce._drag_resize = true;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t// in case of all_timed pre_render is not applied to the original event\r\n\t\t// so we need to force redraw in case of dnd\r\n\t\tvar redraw = (this._drag_mode == 'move')?false:hold;\r\n\t\treturn prerender_events.call(this, evs, redraw);\r\n\r\n\r\n\t\tfunction isOvernightEvent(ev){\r\n\t\t\tvar next_day = getNextDay(ev.start_date);\r\n\t\t\treturn (+ev.end_date > +next_day);\r\n\t\t}\r\n\t\tfunction getNextDay(date){\r\n\t\t\tvar next_day = scheduler.date.add(date, 1, \"day\");\r\n\t\t\tnext_day = scheduler.date.date_part(next_day);\r\n\t\t\treturn next_day;\r\n\t\t}\r\n\t\tfunction setDateTime(date, hours){\r\n\t\t\tvar val = scheduler.date.date_part(new Date(date));\r\n\t\t\tval.setHours(hours);\r\n\t\t\treturn val;\r\n\t\t}\r\n\t};\r\n\tvar old_get_visible_events = scheduler.get_visible_events;\r\n\tscheduler.get_visible_events = function(only_timed){\r\n\t\tif (!(this.config.all_timed && this.config.multi_day))\r\n\t\t\treturn old_get_visible_events.call(this, only_timed);\r\n\t\treturn old_get_visible_events.call(this, false); // only timed = false\r\n\t};\r\n\tscheduler.attachEvent(\"onBeforeViewChange\", function (old_mode, old_date, mode, date) {\r\n\t\tscheduler._allow_dnd = (mode == \"day\" || mode == \"week\" || scheduler.getView(mode));\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler._is_main_area_event = function(ev){\r\n\t\treturn !!(ev._timed || this.config.all_timed === true || (this.config.all_timed == \"short\" && is_event_short(ev)) );\r\n\t};\r\n\r\n\tvar oldUpdate = scheduler.updateEvent;\r\n\tscheduler.updateEvent = function(id){\r\n\t\t// full redraw(update_render=true) messes events order while dnd.\r\n\t\t// individual redraw(update_render=false) of multiday event, which happens on select/unselect, expands event to full width of the cell and can be fixes only with full redraw.\r\n\t\t// so for now full redraw is always enabled for not-dnd updates\r\n\t\tvar ev = scheduler.getEvent(id);\r\n\t\tvar fullRedrawNeeded;\r\n\t\tvar initial;\r\n\t\tif(ev) {\r\n\t\t\tfullRedrawNeeded = (scheduler.config.all_timed && !(scheduler.isOneDayEvent(scheduler._events[id]) || scheduler.getState().drag_id));\r\n\t\t\tif (fullRedrawNeeded) {\r\n\t\t\t\tinitial = scheduler.config.update_render;\r\n\t\t\t\tscheduler.config.update_render = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\toldUpdate.apply(scheduler, arguments);\r\n\r\n\t\tif(ev) {\r\n\t\t\tif (fullRedrawNeeded) {\r\n\t\t\t\tscheduler.config.update_render = initial;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n}","export default function(scheduler){\r\n\r\nvar temp_section;\r\nvar before;\r\n\r\nscheduler.config.collision_limit = 1;\r\n\r\nfunction _setTempSection(event_id) { // for custom views (matrix, timeline, units)\r\n\tvar checked_mode = scheduler._get_section_view();\r\n\tif(checked_mode && event_id){\r\n\t\ttemp_section = scheduler.getEvent(event_id)[scheduler._get_section_property()];\r\n\t}\r\n}\r\n\r\nscheduler.attachEvent(\"onBeforeDrag\",function(id){\r\n\t_setTempSection(id);\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onBeforeLightbox\",function(id){\r\n\tvar ev = scheduler.getEvent(id);\r\n\tbefore = [ev.start_date, ev.end_date];\r\n\t_setTempSection(id);\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onEventChanged\",function(id){\r\n\tif (!id || !scheduler.getEvent(id)) return true;\r\n\tvar ev = scheduler.getEvent(id);\r\n\tif (!scheduler.checkCollision(ev)){\r\n\t\tif (!before) return false;\r\n\t\tev.start_date = before[0];\r\n\t\tev.end_date = before[1];\r\n\t\tev._timed=this.isOneDayEvent(ev);\r\n\t}\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onBeforeEventChanged\",function(ev,e,is_new){\r\n\treturn scheduler.checkCollision(ev);\r\n});\r\nscheduler.attachEvent(\"onEventAdded\",function(id,ev) {\r\n\tvar result = scheduler.checkCollision(ev);\r\n\tif (!result)\r\n\t\tscheduler.deleteEvent(id);\r\n});\r\nscheduler.attachEvent(\"onEventSave\",function(id, edited_ev, is_new){\r\n\tedited_ev = scheduler._lame_clone(edited_ev);\r\n\tedited_ev.id = id;\r\n\r\n\t//lightbox may not have 'time' section\r\n\tif(!(edited_ev.start_date && edited_ev.end_date)){\r\n\t\tvar ev = scheduler.getEvent(id);\r\n\t\tedited_ev.start_date = new Date(ev.start_date);\r\n\t\tedited_ev.end_date = new Date(ev.end_date);\r\n\t}\r\n\r\n\tif(edited_ev.rec_type){\r\n\t\tscheduler._roll_back_dates(edited_ev);\r\n\t}\r\n\treturn scheduler.checkCollision(edited_ev); // in case user creates event on one date but then edited it another\r\n});\r\n\r\nscheduler._check_sections_collision = function(first, second){\r\n\tvar map_to = scheduler._get_section_property();\r\n\tif (first[map_to] == second[map_to] && first.id != second.id)\r\n\t\treturn true;\r\n\treturn false;\r\n};\r\n\r\nscheduler.checkCollision = function(ev) {\r\n\tvar evs = [];\r\n\tvar collision_limit = scheduler.config.collision_limit;\r\n\r\n\tif (ev.rec_type) {\r\n\t\tvar evs_dates = scheduler.getRecDates(ev);\r\n\t\tfor(var k=0; k<evs_dates.length; k++) {\r\n\t\t\tvar tevs = scheduler.getEvents(evs_dates[k].start_date, evs_dates[k].end_date);\r\n\t\t\tfor(var j=0; j<tevs.length; j++) {\r\n\t\t\t\tif ((tevs[j].event_pid || tevs[j].id) != ev.id )\r\n\t\t\t\t\tevs.push(tevs[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tevs = scheduler.getEvents(ev.start_date, ev.end_date);\r\n\t\tfor (var i=0; i<evs.length; i++) {\r\n\t\t\tvar concurrent = evs[i];\r\n\r\n\t\t\tif (concurrent.id == ev.id || (concurrent.event_length && [concurrent.event_pid, concurrent.event_length].join(\"#\") == ev.id)) {\r\n\t\t\t\tevs.splice(i,1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar checked_mode = scheduler._get_section_view();\r\n\tvar map_to = scheduler._get_section_property();\r\n\r\n\tvar single = true;\r\n\tif (checked_mode) { // custom view\r\n\t\tvar count = 0;\r\n\r\n\t\tfor (var i = 0; i < evs.length; i++){\r\n\t\t\tif (evs[i].id != ev.id && this._check_sections_collision(evs[i], ev))\r\n\t\t\t\tcount++;\r\n\t\t}\r\n\r\n\t\tif (count >= collision_limit) {\r\n\r\n\t\t\tsingle = false;\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tif ( evs.length >= collision_limit )\r\n\t\t\tsingle = false;\r\n\t}\r\n\tif (!single) {\r\n\t\tvar res = !scheduler.callEvent(\"onEventCollision\",[ev,evs]);\r\n\t\tif (!res) {\r\n\t\t\tev[map_to] = temp_section||ev[map_to]; // from _setTempSection for custom views\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\treturn single;\r\n\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\n\tscheduler.config.container_autoresize = true;\r\n\tscheduler.config.month_day_min_height = 90;\r\n\tscheduler.config.min_grid_size = 25;\r\n\tscheduler.config.min_map_size = 400;\r\n\r\n\tvar old_pre_render_event = scheduler._pre_render_events;\r\n\r\n\t//need for temporary disabling without modifying public config\r\n\tvar active = true;\r\n\tvar total_height = 0;\r\n\tvar multiday_height = 0;\r\n\r\n\tscheduler._pre_render_events = function(evs, hold) {\r\n\t\tif (!(scheduler.config.container_autoresize && active)) {\r\n\t\t\treturn old_pre_render_event.apply(this, arguments);\r\n\t\t}\r\n\r\n\t\tvar hb = this.xy.bar_height;\r\n\t\tvar h_old = this._colsS.heights;\r\n\t\tvar h = this._colsS.heights = [0, 0, 0, 0, 0, 0, 0];\r\n\t\tvar data = this._els[\"dhx_cal_data\"][0];\r\n\r\n\t\tif (!this._table_view)\r\n\t\t\tevs = this._pre_render_events_line(evs, hold); //ignore long events for now\r\n\t\telse\r\n\t\t\tevs = this._pre_render_events_table(evs, hold);\r\n\r\n\t\tif (this._table_view) {\r\n\t\t\tif (hold){\r\n\t\t\t\tthis._colsS.heights = h_old;\r\n\t\t\t} else {\r\n\t\t\t\tvar evl = data.firstChild;\r\n\t\t\t\tconst rows = evl.querySelectorAll(\".dhx_cal_month_row\");\r\n\t\t\t\tif (rows) {\r\n\t\t\t\t\tfor (var i = 0; i < rows.length; i++) {\r\n\t\t\t\t\t\th[i]++;\r\n\r\n\t\t\t\t\t\tif ((h[i]) * hb > this._colsS.height - this.xy.month_head_height) { // 22 - height of cell's header\r\n\t\t\t\t\t\t\t//we have overflow, update heights\r\n\t\t\t\t\t\t\tvar cells = rows[i].querySelectorAll(\".dhx_cal_month_cell\");\r\n\r\n\t\t\t\t\t\t\tvar cHeight = this._colsS.height - this.xy.month_head_height;\r\n\t\t\t\t\t\t\tif(this.config.max_month_events*1 !== this.config.max_month_events || h[i] <= this.config.max_month_events){\r\n\t\t\t\t\t\t\t\tcHeight = h[i] * hb;\r\n\t\t\t\t\t\t\t}else if( (this.config.max_month_events + 1) * hb > this._colsS.height - this.xy.month_head_height){\r\n\t\t\t\t\t\t\t\tcHeight = (this.config.max_month_events + 1) * hb;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\trows[i].style.height = (cHeight + this.xy.month_head_height) + \"px\";\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\tfor (var j = 0; j < cells.length; j++) {\r\n\t\t\t\t\t\t\t\tcells[j].childNodes[1].style.height = cHeight + \"px\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\th[i] = (h[i - 1] || 0) + cells[0].offsetHeight;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\th[i] = (h[i - 1] || 0) + rows[i].querySelectorAll(\".dhx_cal_month_cell\")[0].offsetHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\th.unshift(0);\r\n\t\t\t\t\tif (evl.parentNode.offsetHeight < evl.parentNode.scrollHeight && !evl._h_fix) {\r\n\t\t\t\t\t\t//we have v-scroll, decrease last day cell\r\n\r\n\t\t\t\t\t\t// NO CHECK SHOULD BE MADE ON VERTICAL SCROLL\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!evs.length && this._els[\"dhx_multi_day\"][0].style.visibility == \"visible\")\r\n\t\t\t\t\t\th[0] = -1;\r\n\t\t\t\t\tif (evs.length || h[0] == -1) {\r\n\t\t\t\t\t\t//shift days to have space for multiday events\r\n\t\t\t\t\t\t//var childs = evl.parentNode.childNodes;\r\n\t\t\t\t\t\tvar dh = ((h[0] + 1) * hb + 1); // +1 so multiday events would have 2px from top and 2px from bottom by default\r\n\t\t\t\t\t\tif(multiday_height != dh + 1) {\r\n\t\t\t\t\t\t\tthis._obj.style.height = (total_height - multiday_height + dh - 1) + \"px\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdh += \"px\";\r\n\t\t\t\t\t\tconst navHeight = this._els[\"dhx_cal_navline\"][0].offsetHeight;\r\n\t\t\t\t\t\tconst headerHeight =  this._els[\"dhx_cal_header\"][0].offsetHeight;\r\n\t\t\t\t\t\tdata.style.height = (this._obj.offsetHeight - navHeight - headerHeight - (this.xy.margin_top || 0)) + 'px';\r\n\t\t\t\t\t\tvar last = this._els[\"dhx_multi_day\"][0];\r\n\t\t\t\t\t\tlast.style.height = dh;\r\n\t\t\t\t\t\tlast.style.visibility = (h[0] == -1 ? \"hidden\" : \"visible\");\r\n\t\t\t\t\t\tlast = this._els[\"dhx_multi_day\"][1];\r\n\t\t\t\t\t\tlast.style.height = dh;\r\n\t\t\t\t\t\tlast.style.visibility = (h[0] == -1 ? \"hidden\" : \"visible\");\r\n\t\t\t\t\t\tif(last.style.visibility == \"hidden\"){\r\n\t\t\t\t\t\t\tlast.style.display = \"none\";\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tlast.style.display = \"\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlast.className = h[0] ? \"dhx_multi_day_icon\" : \"dhx_multi_day_icon_small\";\r\n\t\t\t\t\t\tthis._dy_shift = (h[0] + 1) * hb;\r\n\t\t\t\t\t\th[0] = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn evs;\r\n\t};\r\n\r\n\tvar checked_divs = [\"dhx_cal_navline\", \"dhx_cal_header\", \"dhx_multi_day\", \"dhx_cal_data\"];\r\n\tvar updateContainterHeight = function(is_repaint) {\r\n\t\ttotal_height = 0;\r\n\t\tfor (var i = 0; i < checked_divs.length; i++) {\r\n\r\n\t\t\tvar className = checked_divs[i];\r\n\t\t\tvar checked_div = (scheduler._els[className]) ? scheduler._els[className][0] : null;\r\n\t\t\tvar height = 0;\r\n\t\t\tswitch (className) {\r\n\t\t\t\tcase \"dhx_cal_navline\":\r\n\t\t\t\tcase \"dhx_cal_header\":\r\n\t\t\t\t\theight = checked_div.offsetHeight;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"dhx_multi_day\":\r\n\t\t\t\t\theight = (checked_div) ? checked_div.offsetHeight - 1 : 0;\r\n\t\t\t\t\tmultiday_height = height;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"dhx_cal_data\":\r\n\t\t\t\t\tvar mode = scheduler.getState().mode;\r\n\r\n\t\t\t\t\tif(checked_div.childNodes[1] && mode != \"month\") {\r\n\t\t\t\t\t\tlet maxHeight = 0;\r\n\t\t\t\t\t\tfor(let i = 0; i < checked_div.childNodes.length; i++){\r\n\t\t\t\t\t\t\tif(checked_div.childNodes[i].offsetHeight > maxHeight){\r\n\t\t\t\t\t\t\t\tmaxHeight = checked_div.childNodes[i].offsetHeight;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\theight = maxHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\theight = Math.max(checked_div.offsetHeight - 1, checked_div.scrollHeight);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (mode == \"month\") {\r\n\t\t\t\t\t\tif (scheduler.config.month_day_min_height && !is_repaint) {\r\n\t\t\t\t\t\t\tvar rows_length = checked_div.querySelectorAll(\".dhx_cal_month_row\").length;\r\n\t\t\t\t\t\t\theight = rows_length * scheduler.config.month_day_min_height;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (is_repaint) {\r\n\t\t\t\t\t\t\tchecked_div.style.height = height + \"px\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (mode == \"year\"){\r\n\t\t\t\t\t\theight = 190 * scheduler.config.year_y;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(mode == \"agenda\"){\r\n\t\t\t\t\t\theight = 0;\r\n\t\t\t\t\t\tif(checked_div.childNodes && checked_div.childNodes.length){\r\n\t\t\t\t\t\t\tfor(var j = 0; j < checked_div.childNodes.length; j++){\r\n\t\t\t\t\t\t\t\theight += checked_div.childNodes[j].offsetHeight;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(height + 2 < scheduler.config.min_grid_size){\r\n\t\t\t\t\t\t\theight = scheduler.config.min_grid_size;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\theight += 2;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (mode == \"week_agenda\"){\r\n\t\t\t\t\t\tvar min_height = scheduler.xy.week_agenda_scale_height + scheduler.config.min_grid_size,\r\n\t\t\t\t\t\t\tcur_height;\r\n\r\n\t\t\t\t\t\tvar column;\r\n\t\t\t\t\t\tfor(var k = 0; k < checked_div.childNodes.length; k++){\r\n\t\t\t\t\t\t\tcolumn = checked_div.childNodes[k];\r\n\t\t\t\t\t\t\tfor(var j = 0; j < column.childNodes.length; j++) {\r\n\t\t\t\t\t\t\t\tvar innerHeight = 0,\r\n\t\t\t\t\t\t\t\t\teventsContainer = column.childNodes[j].childNodes[1];\r\n\r\n\t\t\t\t\t\t\t\tfor(var g =0; g < eventsContainer.childNodes.length; g++){\r\n\t\t\t\t\t\t\t\t\tinnerHeight += eventsContainer.childNodes[g].offsetHeight;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tcur_height = innerHeight + scheduler.xy.week_agenda_scale_height;\r\n\t\t\t\t\t\t\t\tcur_height = (k == 1 && (j == 2 || j == 3)) ? cur_height * 2 : cur_height; // for last two cells;\r\n\r\n\t\t\t\t\t\t\t\tif (cur_height > min_height) {\r\n\t\t\t\t\t\t\t\t\tmin_height = cur_height;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\theight = min_height * 3;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(mode == \"map\") {\r\n\t\t\t\t\t\theight = 0;\r\n\t\t\t\t\t\tvar evs = checked_div.querySelectorAll(\".dhx_map_line\");\r\n\r\n\t\t\t\t\t\tfor (var j = 0; j < evs.length; j++) {\r\n\t\t\t\t\t\t\theight += evs[j].offsetHeight;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (height + 2 < scheduler.config.min_map_size) {\r\n\t\t\t\t\t\t\theight = scheduler.config.min_map_size;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\theight += 2;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(scheduler._gridView) {\r\n\t\t\t\t\t\theight = 0;\r\n\r\n\t\t\t\t\t\tif (checked_div.childNodes[1].childNodes[0].childNodes && checked_div.childNodes[1].childNodes[0].childNodes.length) {\r\n\t\t\t\t\t\t\tvar evs = checked_div.childNodes[1].childNodes[0].childNodes[0].childNodes;\r\n\r\n\t\t\t\t\t\t\tfor (var j = 0; j < evs.length; j++) {\r\n\t\t\t\t\t\t\t\theight += evs[j].offsetHeight;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\theight += 2;\r\n\r\n\t\t\t\t\t\t\tif(height < scheduler.config.min_grid_size){\r\n\t\t\t\t\t\t\t\theight = scheduler.config.min_grid_size;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\theight = scheduler.config.min_grid_size;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (scheduler.matrix && scheduler.matrix[mode]) {\r\n\t\t\t\t\t\tif (is_repaint) {\r\n\t\t\t\t\t\t\theight += 0;\r\n\t\t\t\t\t\t\tchecked_div.style.height = height + \"px\";\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\theight = 0;\r\n\t\t\t\t\t\t\tvar cfg = scheduler.matrix[mode];\r\n\t\t\t\t\t\t\tvar rows = cfg.y_unit;\r\n\t\t\t\t\t\t\tfor(var r=0; r < rows.length; r++){\r\n\t\t\t\t\t\t\t\theight += cfg.getSectionHeight(rows[r].key);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// Check and add extra height to avoid events hiding by the horizontal scrollbar\r\n\t\t\t\t\t\t\tif(scheduler.$container.clientWidth != scheduler.$container.scrollWidth){\r\n\t\t\t\t\t\t\t\theight += getScrollSize();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\theight -= 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (mode == \"day\" || mode == \"week\" || (scheduler._props && scheduler._props[mode])) {\r\n\t\t\t\t\t\theight += 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\theight += 1;\r\n\t\t\ttotal_height += height;\r\n\t\t}\r\n\t\tscheduler._obj.style.height = (total_height) + \"px\";\r\n\r\n\t\tif (!is_repaint)\r\n\t\t\tscheduler.updateView();\r\n\t};\r\n\r\n\tfunction callUpdate(){\r\n\t\tactive = false;\r\n\t\tscheduler.callEvent(\"onAfterSchedulerResize\", []);\r\n\t\tactive = true;\r\n\t}\r\n\r\n\tvar conditionalUpdateContainerHeight = function() {\r\n\t\tif(!(scheduler.config.container_autoresize && active))\r\n\t\t\treturn true;\r\n\r\n\t\tvar mode = scheduler.getState().mode;\r\n\r\n\t\tif(!mode) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tvar asyncRepaint = window.requestAnimationFrame || window.setTimeout;\r\n\t\tvar scrollTop = document.documentElement.scrollTop;\r\n\r\n\t\tasyncRepaint(function() {\r\n\t\t\tif(scheduler.$destroyed || !scheduler.$initialized){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tupdateContainterHeight();\r\n\t\t});\r\n\r\n\t\tif ( (scheduler.matrix && scheduler.matrix[mode]) || mode == \"month\") {\r\n\t\t\tasyncRepaint(function() {\r\n\t\t\t\tif(scheduler.$destroyed || !scheduler.$initialized){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tupdateContainterHeight(true);\r\n\t\t\t\tdocument.documentElement.scrollTop = scrollTop;\r\n\t\t\t\tcallUpdate();\r\n\t\t\t}, 1);\r\n\t\t}else{\r\n\t\t\tcallUpdate();\r\n\t\t}\r\n\t};\r\n\r\n\tscheduler.attachEvent(\"onBeforeViewChange\", function(){\r\n\t\tvar autosizeEnabled = scheduler.config.container_autoresize;\r\n\t\tif(!scheduler.xy.$original_scroll_width){\r\n\t\t\tscheduler.xy.$original_scroll_width = scheduler.xy.scroll_width;\r\n\t\t}\r\n\r\n\t\tscheduler.xy.scroll_width = autosizeEnabled ? 0 : scheduler.xy.$original_scroll_width;\r\n\r\n\t\tif(scheduler.matrix){\r\n\t\t\tfor(var i in scheduler.matrix){\r\n\t\t\t\tvar timeline = scheduler.matrix[i];\r\n\t\t\t\tif(!timeline.$original_section_autoheight){\r\n\t\t\t\t\ttimeline.$original_section_autoheight = timeline.section_autoheight;\r\n\t\t\t\t}\r\n\t\t\t\tif(autosizeEnabled){\r\n\t\t\t\t\ttimeline.section_autoheight = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\ttimeline.section_autoheight = timeline.$original_section_autoheight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onViewChange\", conditionalUpdateContainerHeight);\r\n\tscheduler.attachEvent(\"onXLE\", conditionalUpdateContainerHeight);\r\n\tscheduler.attachEvent(\"onEventChanged\", conditionalUpdateContainerHeight);\r\n\tscheduler.attachEvent(\"onEventCreated\", conditionalUpdateContainerHeight);\r\n\tscheduler.attachEvent(\"onEventAdded\", conditionalUpdateContainerHeight);\r\n\tscheduler.attachEvent(\"onEventDeleted\", conditionalUpdateContainerHeight);\r\n\tscheduler.attachEvent(\"onAfterSchedulerResize\", conditionalUpdateContainerHeight);\r\n\tscheduler.attachEvent(\"onClearAll\", conditionalUpdateContainerHeight);\r\n\r\n\t//disable container autoresize when expanded\r\n\tscheduler.attachEvent(\"onBeforeExpand\", function(){\r\n\t\tactive = false;\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onBeforeCollapse\", function(){\r\n\t\tactive = true;\r\n\t\treturn true;\r\n\t});\r\n\t// helper function\r\n\tfunction getScrollSize() {\r\n\t\tvar div = document.createElement(\"div\");\r\n\t\tdiv.style.cssText = \"visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;\";\r\n\r\n\t\tdocument.body.appendChild(div);\r\n\t\tvar size = div.offsetWidth - div.clientWidth;\r\n\t\tdocument.body.removeChild(div);\r\n\t\treturn size;\r\n\t}\r\n\r\n\r\n}","export default function(scheduler){\r\n\tfunction setCookie(name,cookie_param,value) {\r\n\t\tvar str = name + \"=\" + value +  (cookie_param?(\"; \"+cookie_param):\"\");\r\n\t\tdocument.cookie = str;\r\n\t}\r\n\tfunction getCookie(name) {\r\n\t\tvar search = name + \"=\";\r\n\t\tif (document.cookie.length > 0) {\r\n\t\t\tvar offset = document.cookie.indexOf(search);\r\n\t\t\tif (offset != -1) {\r\n\t\t\t\toffset += search.length;\r\n\t\t\t\tvar end = document.cookie.indexOf(\";\", offset);\r\n\t\t\t\tif (end == -1)\r\n\t\t\t\t\tend = document.cookie.length;\r\n\t\t\t\treturn document.cookie.substring(offset, end);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn \"\";\r\n\t}\r\n\r\n\tfunction getCookieName(scheduler) {\r\n\t\treturn (scheduler._obj.id || \"scheduler\") + \"_settings\";\r\n\t}\r\n\r\n\tvar first = true;\r\n\tscheduler.attachEvent(\"onBeforeViewChange\",function(oldMode,oldDate,mode,date){\r\n\t\t// if Url plugin is enabled - explicit url values should have more priority than cookies\r\n\t\tif (first && scheduler._get_url_nav){\r\n\t\t\tvar urlNavigationPlugin = scheduler._get_url_nav();\r\n\t\t\tif(urlNavigationPlugin.date || urlNavigationPlugin.mode || urlNavigationPlugin.event){\r\n\t\t\t\tfirst = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar cookie = getCookieName(scheduler);\r\n\r\n\t\tif (first){\r\n\t\t\tfirst = false;\r\n\t\t\tvar schedulerCookie = getCookie(cookie);\r\n\t\t\tif (schedulerCookie){\r\n\r\n\t\t\t\tif(!scheduler._min_date){\r\n\t\t\t\t\t//otherwise scheduler will have incorrect date until timeout\r\n\t\t\t\t\t//it can cause js error with 'onMouseMove' handler of key_nav.js\r\n\t\t\t\t\tscheduler._min_date = date;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tschedulerCookie = unescape(schedulerCookie).split(\"@\");\r\n\t\t\t\tschedulerCookie[0] = this._helpers.parseDate(schedulerCookie[0]);\r\n\t\t\t\tvar view = this.isViewExists(schedulerCookie[1]) ? schedulerCookie[1] : mode,\r\n\t\t\t\t\tdate = !isNaN(+schedulerCookie[0]) ? schedulerCookie[0] : date;\r\n\r\n\t\t\t\twindow.setTimeout(function(){\r\n\t\t\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tscheduler.setCurrentView(date,view);\r\n\t\t\t\t},1);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onViewChange\", function (newMode , newDate){\r\n\t\tvar cookie = getCookieName(scheduler);\r\n\t\tvar text = escape(this._helpers.formatDate(newDate)+\"@\"+(newMode));\r\n\t\tsetCookie(cookie,\"expires=Sun, 31 Jan 9999 22:00:00 GMT\",text);\r\n\t});\r\n\r\n\t// As we are blocking first render above there could be a problem in case of dynamic loading and rendering of visible data in general ('from'/'to' won't be defined)\r\n\tvar old_load = scheduler._load;\r\n\tscheduler._load = function() {\r\n\t\tvar args = arguments;\r\n\r\n\t\tif (!scheduler._date) {\r\n\t\t\tvar that = this;\r\n\t\t\twindow.setTimeout(function() {\r\n\t\t\t\told_load.apply(that, args);\r\n\t\t\t},1);\r\n\t\t} else {\r\n\t\t\told_load.apply(this, args);\r\n\t\t}\r\n\t};\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Day Timeline\", scheduler.assert);\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Drag Between\", scheduler.assert);\r\n}","export default function(scheduler){\r\n/* global dhtmlXCombo */\r\nscheduler.form_blocks['combo']={\r\n\trender:function(sns) {\r\n\t\tif (!sns.cached_options)\r\n\t\t\tsns.cached_options = {};\r\n\t\tvar res = '';\r\n\t\tres += \"<div class='\"+sns.type+\"' ></div>\";\r\n\t\treturn res;\r\n\t},\r\n\tset_value:function(node,value,ev,config){\r\n\t\t(function(){\r\n\t\t\tresetCombo();\r\n\t\t\tvar id = scheduler.attachEvent(\"onAfterLightbox\",function(){\r\n\t\t\t\t// otherwise destructor will never be called after form reset(e.g. in readonly event mode)\r\n\t\t\t\tresetCombo();\r\n\t\t\t\tscheduler.detachEvent(id);\r\n\t\t\t});\r\n\t\t\tfunction resetCombo(){\r\n\t\t\t\tif(node._combo && node._combo.DOMParent) {\r\n\t\t\t\t\tvar combo = node._combo;\r\n\t\t\t\t\tif(combo.unload){\r\n\t\t\t\t\t\tcombo.unload();\r\n\t\t\t\t\t}else if(combo.destructor){\r\n\t\t\t\t\t\tcombo.destructor();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// dhtmlxCombo 4.1.0 bug\r\n\t\t\t\t\tcombo.DOMParent = combo.DOMelem = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})();\r\n\t\twindow.dhx_globalImgPath = config.image_path||'/';\r\n\t\tnode._combo = new dhtmlXCombo(node, config.name, node.offsetWidth-8);\r\n\t\tif (config.onchange)\r\n\t\t\tnode._combo.attachEvent(\"onChange\", config.onchange);\r\n\r\n\t\tif (config.options_height)\r\n\t\t\tnode._combo.setOptionHeight(config.options_height);\r\n\t\tvar combo = node._combo;\r\n\t\tcombo.enableFilteringMode(config.filtering, config.script_path||null, !!config.cache);\r\n\r\n\t\tif (!config.script_path) { // script-side filtration is used\r\n\t\t\tvar all_options = [];\r\n\t\t\tfor (var i = 0; i < config.options.length; i++) {\r\n\t\t\t\tvar option = config.options[i];\r\n\t\t\t\tvar single_option = [\r\n\t\t\t\t\toption.key,\r\n\t\t\t\t\toption.label,\r\n\t\t\t\t\toption.css\r\n\t\t\t\t];\r\n\t\t\t\tall_options.push(single_option);\r\n\t\t\t}\r\n\t\t\tcombo.addOption(all_options);\r\n\t\t\tif (ev[config.map_to]) {\r\n\t\t\t\tvar index = combo.getIndexByValue(ev[config.map_to]);\r\n\t\t\t\tcombo.selectOption(index);\r\n\t\t\t}\r\n\t\t} else { // server-side filtration is used\r\n\t\t\tvar selected_id = ev[config.map_to];\r\n\t\t\tif (selected_id) {\r\n\t\t\t\tif (config.cached_options[selected_id]) {\r\n\t\t\t\t\tcombo.addOption(selected_id, config.cached_options[selected_id]);\r\n\t\t\t\t\tcombo.disable(1);\r\n\t\t\t\t\tcombo.selectOption(0);\r\n\t\t\t\t\tcombo.disable(0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tscheduler.ajax.get(config.script_path+\"?id=\"+selected_id+\"&uid=\"+scheduler.uid(), function(result){\r\n\t\t\t\t\t\tvar responseText = result.xmlDoc.responseText;\r\n\t\t\t\t\t\tvar label;\r\n\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\tvar res = JSON.parse(responseText);\r\n\t\t\t\t\t\t\tlabel = res.options[0].text;\r\n\t\t\t\t\t\t}catch(e){\r\n\t\t\t\t\t\t\tvar option = scheduler.ajax.xpath(\"//option\", result.xmlDoc)[0];\r\n\t\t\t\t\t\t\tlabel = option.childNodes[0].nodeValue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconfig.cached_options[selected_id] = label;\r\n\t\t\t\t\t\tcombo.addOption(selected_id, label);\r\n\t\t\t\t\t\tcombo.disable(1);\r\n\t\t\t\t\t\tcombo.selectOption(0);\r\n\t\t\t\t\t\tcombo.disable(0);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcombo.setComboValue(\"\");\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tget_value:function(node,ev,config) {\r\n\t\tvar selected_id = node._combo.getSelectedValue(); // value = key\r\n\t\tif (config.script_path) {\r\n\t\t\tconfig.cached_options[selected_id] = node._combo.getSelectedText();\r\n\t\t}\r\n\t\treturn selected_id;\r\n\t},\r\n\tfocus:function(node){\r\n\t}\r\n};\r\n\r\nscheduler.form_blocks['radio']={\r\n\trender:function(sns) {\r\n\t\tvar res = '';\r\n\t\tres += `<div class='dhx_cal_ltext dhx_cal_radio ${sns.vertical ? \"dhx_cal_radio_vertical\": \"\"}' style='max-height:${sns.height}px;'>`;\r\n\t\tfor (var i=0; i<sns.options.length; i++) {\r\n\t\t\tvar id = scheduler.uid();\r\n\t\t\tres += \"<label class='dhx_cal_radio_item' for='\"+id+\"'><input id='\"+id+\"' type='radio' name='\"+sns.name+\"' value='\"+sns.options[i].key+\"'><span>\"+\" \"+sns.options[i].label+\"</span></label>\";\r\n\t\t}\r\n\t\tres += \"</div>\";\r\n\r\n\t\treturn res;\r\n\t},\r\n\tset_value:function(node,value,ev,config){\r\n\t\tvar radiobuttons = node.getElementsByTagName('input');\r\n\t\tfor (var i = 0; i < radiobuttons.length; i++) {\r\n\t\t\tradiobuttons[i].checked = false;\r\n\t\t\tvar checked_value = ev[config.map_to]||value;\r\n\t\t\tif (radiobuttons[i].value == checked_value) {\r\n\t\t\t\tradiobuttons[i].checked = true;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tget_value:function(node,ev,config){\r\n\t\tvar radiobuttons = node.getElementsByTagName('input');\r\n\t\tfor(var i=0; i<radiobuttons.length; i++) {\r\n\t\t\tif(radiobuttons[i].checked) {\r\n\t\t\t\treturn radiobuttons[i].value;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tfocus:function(node){\r\n\t}\r\n};\r\n\r\nscheduler.form_blocks['checkbox']={\r\n\trender:function(sns) {\r\n\t\tif (scheduler.config.wide_form)\r\n\t\t\treturn '<div class=\"dhx_cal_wide_checkbox\"></div>';\r\n\t\telse\r\n\t\t\treturn '';\r\n\t},\r\n\tset_value:function(node,value,ev,config){\r\n\t\tnode=scheduler._lightbox.querySelector(`#${config.id}`);\r\n\t\tvar id = scheduler.uid();\r\n\t\tvar isChecked = (typeof config.checked_value != \"undefined\") ? value == config.checked_value : !!value;\r\n\t\tnode.className += \" dhx_cal_checkbox\";\r\n\t\tvar check_html = \"<input id='\"+id+\"' type='checkbox' value='true' name='\"+config.name+\"'\"+((isChecked)?\"checked='true'\":'')+\"'>\";\r\n\t\tvar label_html = \"<label for='\"+id+\"'>\"+(scheduler.locale.labels[\"section_\"+config.name]||config.name)+\"</label>\";\r\n\t\tif (scheduler.config.wide_form){\r\n\t\t\tnode.innerHTML = label_html;\r\n\t\t\tnode.nextSibling.innerHTML=check_html;\r\n\t\t} else\r\n\t\t\tnode.innerHTML=check_html+label_html;\r\n\r\n\t\tif (config.handler) {\r\n\t\t\tvar checkbox = node.getElementsByTagName('input')[0];\r\n\t\t\tif(checkbox.$_eventAttached){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tcheckbox.$_eventAttached = true;\r\n\t\t\tscheduler.event(checkbox, \"click\", config.handler);\r\n\t\t\t//checkbox.onclick = config.handler;\r\n\t\t}\r\n\t},\r\n\tget_value:function(node,ev,config){\r\n\t\tnode=scheduler._lightbox.querySelector(`#${config.id}`);\r\n\t\tvar checkbox = node.getElementsByTagName('input')[0]; // moved to the header\r\n\t\tif (!checkbox)\r\n\t\t\tcheckbox = node.nextSibling.getElementsByTagName('input')[0];\r\n\t\treturn (checkbox.checked)?(config.checked_value||true):(config.unchecked_value||false);\r\n\t},\r\n\tfocus:function(node){\r\n\t}\r\n};\r\n\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.ext.fullscreen = {\r\n\ttoggleIcon: null\r\n};\r\n\r\nscheduler.expand = function() {\r\n\tif(!scheduler.callEvent(\"onBeforeExpand\", []))\r\n\t\treturn;\r\n\tvar t = scheduler._obj;\r\n\tdo {\r\n\t\tt._position = t.style.position || \"\";\r\n\t\tt.style.position = \"static\";\r\n\t} while ((t = t.parentNode) && t.style);\r\n\tt = scheduler._obj;\r\n\tt.style.position = \"absolute\";\r\n\tt._width = t.style.width;\r\n\tt._height = t.style.height;\r\n\tt.style.width = t.style.height = \"100%\";\r\n\tt.style.top = t.style.left = \"0px\";\r\n\r\n\tvar top = document.body;\r\n\ttop.scrollTop = 0;\r\n\r\n\ttop = top.parentNode;\r\n\tif (top)\r\n\t\ttop.scrollTop = 0;\r\n\tdocument.body._overflow = document.body.style.overflow || \"\";\r\n\tdocument.body.style.overflow = \"hidden\";\r\n\tscheduler._maximize();\r\n\tscheduler.callEvent(\"onExpand\", []);\r\n};\r\nscheduler.collapse = function() {\r\n\tif(!scheduler.callEvent(\"onBeforeCollapse\", []))\r\n\t\treturn;\r\n\tvar t = scheduler._obj;\r\n\tdo {\r\n\t\tt.style.position = t._position;\r\n\t} while ((t = t.parentNode) && t.style);\r\n\tt = scheduler._obj;\r\n\tt.style.width = t._width;\r\n\tt.style.height = t._height;\r\n\tdocument.body.style.overflow = document.body._overflow;\r\n\tscheduler._maximize();\r\n\tscheduler.callEvent(\"onCollapse\", []);\r\n};\r\nscheduler.attachEvent(\"onTemplatesReady\", function() {\r\n\tvar t = document.createElement(\"div\");\r\n\tt.className = \"dhx_expand_icon\";\r\n\tscheduler.ext.fullscreen.toggleIcon = t;\r\n\tt.innerHTML = `<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t<g>\r\n\t<line x1=\"0.5\" y1=\"5\" x2=\"0.5\" y2=\"3.0598e-08\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t<line y1=\"0.5\" x2=\"5\" y2=\"0.5\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t<line x1=\"0.5\" y1=\"11\" x2=\"0.5\" y2=\"16\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t<line y1=\"15.5\" x2=\"5\" y2=\"15.5\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t<line x1=\"11\" y1=\"0.5\" x2=\"16\" y2=\"0.5\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t<line x1=\"15.5\" y1=\"2.18557e-08\" x2=\"15.5\" y2=\"5\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t<line x1=\"11\" y1=\"15.5\" x2=\"16\" y2=\"15.5\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t<line x1=\"15.5\" y1=\"16\" x2=\"15.5\" y2=\"11\" stroke=\"var(--dhx-scheduler-base-colors-icons)\"/>\r\n\t</g>\r\n\t</svg>\r\n\t`;\r\n\tscheduler._obj.appendChild(t);\r\n\tscheduler.event(t, \"click\",  function() {\r\n\t\tif (!scheduler.expanded)\r\n\t\t\tscheduler.expand(); else\r\n\t\t\tscheduler.collapse();\r\n\t});\r\n});\r\nscheduler._maximize = function() {\r\n\tthis.expanded = !this.expanded;\r\n\tif(this.expanded){\r\n\t\tthis.ext.fullscreen.toggleIcon.classList.add(\"dhx_expand_icon--expanded\");\r\n\t\t\r\n\t}else{\r\n\t\tthis.ext.fullscreen.toggleIcon.classList.remove(\"dhx_expand_icon--expanded\");\r\n\t}\r\n\t\r\n\t//scheduler.ext.fullscreen.toggleIcon.style.backgroundPosition = \"0 \" + (this.expanded ? \"0\" : \"18\") + \"px\";\r\n\r\n\tvar directions = ['left', 'top'];\r\n\tfor (var i = 0; i < directions.length; i++) {\r\n\t\t//var margin = scheduler.xy['margin_' + directions[i]];\r\n\t\tvar prev_margin = scheduler['_prev_margin_' + directions[i]];\r\n\t\tif (scheduler.xy['margin_' + directions[i]]) {\r\n\t\t\tscheduler['_prev_margin_' + directions[i]] = scheduler.xy['margin_' + directions[i]];\r\n\t\t\tscheduler.xy['margin_' + directions[i]] = 0;\r\n\t\t} else {\r\n\t\t\tif (prev_margin) {\r\n\t\t\t\tscheduler.xy['margin_' + directions[i]] = scheduler['_prev_margin_' + directions[i]];\r\n\t\t\t\tdelete scheduler['_prev_margin_' + directions[i]];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tscheduler.setCurrentView();\r\n};\r\n\r\n\r\n}\r\n","export default function(scheduler){\r\n\r\n\r\n(function(){\r\n\r\nfunction defaults(obj, std){\r\n\tfor (var key in std)\r\n\t\tif (!obj[key])\r\n\t\t\tobj[key] = std[key];\r\n\treturn obj;\r\n}\r\n\r\nfunction getElementSizes(element, scheduler) {\r\n\tvar sizes = {};\r\n\telement = scheduler._els[element];\r\n\tif (element && element[0]) {\r\n\t\tsizes.x = element[0].scrollWidth;\r\n\t\tsizes.y = element[0].scrollHeight;\r\n\t} else {\r\n\t\tsizes.x = 0;\r\n\t\tsizes.y = 0;\r\n\t}\r\n\treturn sizes;\r\n}\r\n\r\n//compatibility for new versions of scheduler\r\nif(!window.dhtmlxAjax){\r\n\twindow.dhtmlxAjax = {\r\n\t\tpost: function(url, data, callback){\r\n\t\t\treturn window.dhx4.ajax.post(url, data, callback);\r\n\t\t},\r\n\t\tget: function(url, callback){\r\n\t\t\treturn window.ajax.get(url, callback);\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction add_export_methods(scheduler){\r\n\r\n\tscheduler.exportToPDF = function(config){\r\n\t\tconfig = defaults((config || {}), {\r\n\t\t\tname:\"calendar.pdf\",\r\n\t\t\tformat:\"A4\",\r\n\t\t\torientation:\"landscape\",\r\n\t\t\tdpi:96,\r\n\t\t\tzoom:1,\r\n\t\t\trtl: scheduler.config.rtl\r\n\t\t});\r\n\t\tconfig.html = this._export_html(config);\r\n\t\tconfig.mode = this.getState().mode;\r\n\t\tthis._send_to_export(config, \"pdf\");\r\n\t};\r\n\r\n\tscheduler.exportToPNG = function(config){\r\n\t\tconfig = defaults((config || {}), {\r\n\t\t\tname:\"calendar.png\",\r\n\t\t\tformat:\"A4\",\r\n\t\t\torientation:\"landscape\",\r\n\t\t\tdpi:96,\r\n\t\t\tzoom:1,\r\n\t\t\trtl: scheduler.config.rtl\r\n\t\t});\r\n\t\tconfig.html = this._export_html(config);\r\n\t\tconfig.mode = this.getState().mode;\r\n\t\tthis._send_to_export(config, \"png\");\r\n\t};\r\n\r\n\tscheduler.exportToICal = function(config){\r\n\t\tconfig = defaults((config || {}), {\r\n\t\t\tname:\"calendar.ical\",\r\n\t\t\tdata:this._serialize_plain(null, config)\r\n\t\t});\r\n\t\tthis._send_to_export(config, \"ical\");\r\n\t};\r\n\r\n\tscheduler.exportToExcel = function(config){\r\n\t\tconfig = defaults((config || {}), {\r\n\t\t\tname:\"calendar.xlsx\",\r\n\t\t\ttitle:\"Events\",\r\n\t\t\tdata:this._serialize_plain( this.templates.xml_format, config),\r\n\t\t\tcolumns:this._serialize_columns()\r\n\t\t});\r\n\t\tthis._send_to_export(config, \"excel\");\r\n\t};\r\n\r\n\tscheduler._ajax_to_export = function(data, type, callback){\r\n\t\tdelete data.callback;\r\n\t\tvar url = data.server || \"https://export.dhtmlx.com/scheduler\";\r\n\r\n\t\twindow.dhtmlxAjax.post(url,\r\n\t\t\t\"type=\"+type+\"&store=1&data=\"+encodeURIComponent(JSON.stringify(data)),\r\n\t\t\tfunction(loader){\r\n\t\t\t\tvar fail = loader.xmlDoc.status > 400;\r\n\t\t\t\tvar info = null;\r\n\r\n\t\t\t\tif (!fail){\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\tinfo = JSON.parse(loader.xmlDoc.responseText);\r\n\t\t\t\t\t}catch(e){}\r\n\t\t\t\t}\r\n\t\t\t\tcallback(info);\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\tscheduler._plain_export_copy = function(source, format){\r\n\t\tvar target = {};\r\n\t\tfor (var key in source)\r\n\t\t\ttarget[key] = source[key];\r\n\r\n\t\ttarget.start_date = format(target.start_date);\r\n\t\ttarget.end_date = format(target.end_date);\r\n\t\ttarget.$text = this.templates.event_text(source.start_date, source.end_date, source);\r\n\r\n\t\treturn target;\r\n\t};\r\n\r\n\tscheduler._serialize_plain = function(format, config){\r\n\t\tformat = format || scheduler.date.date_to_str(\"%Y%m%dT%H%i%s\", true);\r\n\r\n\t\tvar events;\r\n\t\tif (config && config.start && config.end)\r\n\t\t\tevents = scheduler.getEvents(config.start, config.end);\r\n\t\telse\r\n\t\t\tevents = scheduler.getEvents();\r\n\r\n\t\tvar data = [];\r\n\t\tfor (var i = 0; i< events.length; i++)\r\n\t\t\tdata[i] = this._plain_export_copy(events[i], format);\r\n\r\n\t\treturn data;\r\n\t};\r\n\r\n\tscheduler._serialize_columns = function(){\r\n\t\treturn [\r\n\t\t\t{ id:\"start_date\", header:\"Start Date\", width:30 },\r\n\t\t\t{ id:\"end_date\", header:\"End Date\", width:30 },\r\n\t\t\t{ id:\"$text\", header:\"Text\", width:100 }\r\n\t\t];\r\n\t};\r\n\r\n\tscheduler._send_to_export = function(data, type){\r\n\t\tif(!data.version){\r\n\t\t\tdata.version = scheduler.version;\r\n\t\t}\r\n\r\n\t\tif(!data.skin){\r\n\t\t\tdata.skin = scheduler.skin;\r\n\t\t}\r\n\r\n\t\tif (data.callback)\r\n\t\t\t\treturn scheduler._ajax_to_export(data, type, data.callback);\r\n\r\n\t\tvar form = this._create_hidden_form();\r\n\r\n\t\tform.firstChild.action = data.server || \"https://export.dhtmlx.com/scheduler\";\r\n\t\tform.firstChild.childNodes[0].value = JSON.stringify(data);\r\n\t\tform.firstChild.childNodes[1].value = type;\r\n\t\tform.firstChild.submit();\r\n\t};\r\n\r\n\tscheduler._create_hidden_form = function(){\r\n\t\tif (!this._hidden_export_form){\r\n\t\t\tvar t = this._hidden_export_form = document.createElement(\"div\");\r\n\t\t\tt.style.display = \"none\";\r\n\t\t\tt.innerHTML = \"<form method='POST' target='_blank'><input type='text' name='data'><input type='hidden' name='type' value=''></form>\";\r\n\t\t\tdocument.body.appendChild(t);\r\n\t\t}\r\n\t\treturn this._hidden_export_form;\r\n\t};\r\n\r\n\tscheduler._get_export_size = function(format, orientation, zoom, dpi, header, footer, scales) {\r\n\r\n\t\tdpi = parseInt(dpi)/25.4 || 4;\r\n\r\n\t\tvar sizes = {\r\n\t\t\t\"A5\":{ x:148, y:210 },\r\n\t\t\t\"A4\":{ x:210, y:297 },\r\n\t\t\t\"A3\":{ x:297, y:420 },\r\n\t\t\t\"A2\":{ x:420, y:594 },\r\n\t\t\t\"A1\":{ x:594, y:841 },\r\n\t\t\t\"A0\":{ x:841, y:1189 }\r\n\t\t};\r\n\r\n\t\tvar dataX = getElementSizes(\"dhx_cal_data\", this).x;\r\n\t\tvar dataY = getElementSizes(\"dhx_cal_data\", this).y;\r\n\t\tvar headY = getElementSizes(\"dhx_cal_header\", this).y;\r\n\t\tvar multY = getElementSizes(\"dhx_multi_day\", this).y;\r\n\r\n\t\tvar cSize = {\r\n\t\t\ty: dataY + headY + multY\r\n\t\t};\r\n\r\n\t\tif (format === \"full\") {\r\n\t\t\tcSize.x = dataX;\r\n\t\t} else {\r\n\t\t\tcSize.x = Math.floor( (orientation === \"landscape\" ? sizes[format].y : sizes[format].x) * dpi );\r\n\t\t}\r\n\r\n\t\tif (scales) {\r\n\t\t\tcSize.x *= (parseFloat(scales.x) || 1);\r\n\t\t\tcSize.y *= (parseFloat(scales.y) || 1);\r\n\t\t}\r\n\r\n\t\treturn cSize;\r\n\t};\r\n\r\n\tfunction getTimeline() {\r\n\t\tvar mode = scheduler.getState().mode;\r\n\t\tif (scheduler.matrix && scheduler.matrix[mode]) {\r\n\t\t\treturn scheduler.matrix[mode];\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tfunction getInitialSizes() {\r\n\t\tvar smartRendering = undefined,\r\n\t\t\tscrollable = undefined;\r\n\r\n\t\tvar timeline = getTimeline();\r\n\t\tif (timeline) {\r\n\t\t\tscrollable = timeline.scrollable;\r\n\t\t\tsmartRendering = timeline.smart_rendering;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tnav_height: scheduler.xy.nav_height,\r\n\t\t\tscroll_width: scheduler.xy.scroll_width,\r\n\t\t\tstyle_width: scheduler._obj.style.width,\r\n\t\t\tstyle_height: scheduler._obj.style.height,\r\n\t\t\ttimeline_scrollable: scrollable,\r\n\t\t\ttimeline_smart_rendering: smartRendering\r\n\t\t};\r\n\t}\r\n\r\n\tfunction setExportSizes(size, initialSizes) {\r\n\t\tscheduler._obj.style.width  = size.x + \"px\";\r\n\t\tscheduler._obj.style.height = size.y + \"px\";\r\n\r\n\t\tscheduler.xy.nav_height = 0;\r\n\t\tscheduler.xy.scroll_width = 0;\r\n\r\n\t\tvar timeline = getTimeline();\r\n\t\tif (initialSizes.timeline_scrollable || initialSizes.timeline_smart_rendering) {\r\n\r\n\t\t\ttimeline.scrollable = false;\r\n\t\t\ttimeline.smart_rendering = false;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setInitialSizes(initialSizes) {\r\n\t\tscheduler.xy.scroll_width = initialSizes.scroll_width;\r\n\t\tscheduler.xy.nav_height = initialSizes.nav_height;\r\n\t\tscheduler._obj.style.width  = initialSizes.style_width;\r\n\t\tscheduler._obj.style.height = initialSizes.style_height;\r\n\r\n\t\tvar timeline = getTimeline();\r\n\t\tif (initialSizes.timeline_scrollable || initialSizes.timeline_smart_rendering) {\r\n\t\t\ttimeline.scrollable = initialSizes.timeline_scrollable;\r\n\t\t\ttimeline.smart_rendering = initialSizes.timeline_smart_rendering;\r\n\t\t}\r\n\t}\r\n\r\n\tscheduler._export_html = function (obj) {\r\n\t\tvar initialSizes = getInitialSizes();\r\n\t\tvar size = scheduler._get_export_size(obj.format, obj.orientation, obj.zoom, obj.dpi, obj.header, obj.footer, obj.scales);\r\n\r\n\t\tvar html = \"\";\r\n\t\ttry {\r\n\t\t\tsetExportSizes(size, initialSizes);\r\n\t\t\tscheduler.setCurrentView();\r\n\t\t\thtml = scheduler._obj.innerHTML;\r\n\t\t} catch (e) {\r\n\r\n\t\t\t// eslint-disable-next-line no-console\r\n\t\t\tconsole.error(e);\r\n\t\t} finally {\r\n\t\t\tsetInitialSizes(initialSizes);\r\n\t\t\tscheduler.setCurrentView();\r\n\t\t}\r\n\r\n\t\treturn html;\r\n\t};\r\n\r\n}\r\n\r\nadd_export_methods(scheduler);\r\n\r\n\r\n})();\r\n\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Grid\", scheduler.assert);\r\n}","export default function(scheduler){\r\n\r\nscheduler.attachEvent(\"onTemplatesReady\",function(){\r\n\tvar els = document.body.getElementsByTagName(\"DIV\");\r\n\tfor (var i=0; i < els.length; i++) {\r\n\t\tvar cs = els[i].className||\"\";\r\n\t\tcs = cs.split(\":\");\r\n\t\tif (cs.length == 2 && cs[0] == \"template\"){\r\n\t\t\tvar code = \"return \\\"\"+(els[i].innerHTML||\"\").replace(/\\\\/g, \"\\\\\\\\\").replace(/\"/g,\"\\\\\\\"\").replace(/[\\n\\r]+/g,\"\")+\"\\\";\";\r\n\t\t\tcode = unescape(code).replace(/\\{event\\.([a-z]+)\\}/g,function(all,mask){\r\n\t\t\t\treturn '\"+ev.'+mask+'+\"';\r\n\t\t\t});\r\n\t\t\tscheduler.templates[cs[1]]=Function(\"start\",\"end\",\"ev\",code);\r\n\t\t\tels[i].style.display='none';\r\n\t\t}\r\n\t}\r\n});\r\n\r\n}","import keyboard_shortcuts from \"./keyboard_navigation/common/keyboard_shortcuts\";\r\nimport eventhandler from \"./keyboard_navigation/common/eventhandler\";\r\nimport trap_modal_focus from \"./keyboard_navigation/common/trap_modal_focus\";\r\nimport marker from \"./keyboard_navigation/marker\";\r\nimport scheduler_node from \"./keyboard_navigation/elements/scheduler_node\";\r\nimport nav_node from \"./keyboard_navigation/elements/nav_node\";\r\nimport header_cell from \"./keyboard_navigation/elements/header_cell\";\r\nimport event from \"./keyboard_navigation/elements/event\";\r\nimport time_slot from \"./keyboard_navigation/elements/time_slot\";\r\nimport minical_button from \"./keyboard_navigation/elements/minical_button\";\r\nimport minical_cell from \"./keyboard_navigation/elements/minical_cell\";\r\nimport data_area from \"./keyboard_navigation/elements/data_area\";\r\nimport modals from \"./keyboard_navigation/modals\";\r\nimport core from \"./keyboard_navigation/core\";\r\nimport key_nav_legacy from \"./keyboard_navigation/key_nav_legacy\";\r\n\r\n\r\nimport scheduler_handlers from \"./keyboard_navigation/scheduler_handlers\";\r\nimport minical_handlers from \"./keyboard_navigation/minical_handlers\";\r\n\r\nexport default function(scheduler){\r\n\t\tscheduler.config.key_nav = true;\r\n\t\tscheduler.config.key_nav_step = 30;\r\n\t\tscheduler.addShortcut = function(shortcut, handler, scope){\r\n\t\t\tvar scopeObject = getScope(scope);\r\n\t\t\tif(scopeObject){\r\n\t\t\t\tscopeObject.prototype.bind(shortcut, handler);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tscheduler.getShortcutHandler = function(shortcut, scope){\r\n\t\t\tvar scopeObject = getScope(scope);\r\n\t\t\tif(scopeObject){\r\n\t\t\t\tvar commands = scheduler.$keyboardNavigation.shortcuts.parse(shortcut);\r\n\t\t\t\tif(commands.length){\r\n\t\t\t\t\treturn scopeObject.prototype.findHandler(commands[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tscheduler.removeShortcut = function(shortcut, scope){\r\n\t\t\tvar scopeObject = getScope(scope);\r\n\t\t\tif(scopeObject){\r\n\t\t\t\tscopeObject.prototype.unbind(shortcut);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tscheduler.focus = function(){\r\n\t\t\tif(!scheduler.config.key_nav){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar disp = scheduler.$keyboardNavigation.dispatcher;\r\n\t\t\tdisp.enable();\r\n\t\t\tvar activeNode = disp.getActiveNode();\r\n\t\t\tif(!activeNode || activeNode instanceof scheduler.$keyboardNavigation.MinicalButton || activeNode instanceof scheduler.$keyboardNavigation.MinicalCell){\r\n\t\t\t\tdisp.setDefaultNode();\r\n\t\t\t}else{\r\n\t\t\t\tdisp.focusNode(disp.getActiveNode());\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction getScope(mode){\r\n\t\t\tvar scopes = {\r\n\t\t\t\t\"minicalButton\":scheduler.$keyboardNavigation.MinicalButton,\r\n\t\t\t\t\"minicalDate\":scheduler.$keyboardNavigation.MinicalCell,\r\n\t\t\t\t\"scheduler\":scheduler.$keyboardNavigation.SchedulerNode,\r\n\t\t\t\t\"dataArea\": scheduler.$keyboardNavigation.DataArea,\r\n\t\t\t\t\"timeSlot\": scheduler.$keyboardNavigation.TimeSlot,\r\n\t\t\t\t\"event\": scheduler.$keyboardNavigation.Event\r\n\t\t\t};\r\n\r\n\t\t\tvar searchMap = {};\r\n\t\t\tfor(var i in scopes)\r\n\t\t\t\tsearchMap[i.toLowerCase()] = scopes[i];\r\n\r\n\t\t\tmode = (mode + \"\").toLowerCase();\r\n\r\n\t\t\treturn searchMap[mode] || scopes.scheduler;\r\n\t\t}\r\n\r\n\t\tscheduler.$keyboardNavigation = {};\r\n\r\n\t\tscheduler._compose = function(){\r\n\t\t\tvar parts = Array.prototype.slice.call(arguments, 0);\r\n\t\t\tvar res = {};\r\n\t\t\tfor(var i = 0; i < parts.length; i++){\r\n\t\t\t\tvar obj = parts[i];\r\n\t\t\t\tif(typeof obj == \"function\"){\r\n\t\t\t\t\tobj = new obj();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor(var p in obj){\r\n\t\t\t\t\tres[p] = obj[p];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t};\r\n\r\n\t\tkeyboard_shortcuts(scheduler);\r\n\t\teventhandler(scheduler);\r\n\t\ttrap_modal_focus(scheduler);\r\n\t\tmarker(scheduler);\r\n\t\tscheduler_node(scheduler);\r\n\t\tnav_node(scheduler);\r\n\t\theader_cell(scheduler);\r\n\t\tevent(scheduler);\r\n\t\ttime_slot(scheduler);\r\n\t\tminical_button(scheduler);\r\n\t\tminical_cell(scheduler);\r\n\t\tdata_area(scheduler);\r\n\t\tmodals(scheduler);\r\n\t\tcore(scheduler);\r\n\t\tkey_nav_legacy(scheduler);\r\n\r\n\t\t(function(){\r\n\t\t\tscheduler_handlers(scheduler);\r\n\t\t\tminical_handlers(scheduler);\r\n\r\n\t\t\tvar dispatcher = scheduler.$keyboardNavigation.dispatcher;\r\n\r\n\t\t\tscheduler.$keyboardNavigation.attachSchedulerHandlers();\r\n\r\n\t\t\tif(scheduler.renderCalendar){\r\n\t\t\t\t// if minical ext loaded before key nav ext - patch it now\r\n\t\t\t\tscheduler.$keyboardNavigation.patchMinicalendar();\r\n\t\t\t}else{\r\n\t\t\t\t// otherwise - wait until everything is loaded and try again\r\n\t\t\t\tvar attachOnce = scheduler.attachEvent(\"onSchedulerReady\", function(){\r\n\t\t\t\t\tscheduler.detachEvent(attachOnce);\r\n\t\t\t\t\tscheduler.$keyboardNavigation.patchMinicalendar();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\tfunction isSchedulerSelected(){\r\n\t\t\t\tif(!scheduler.config.key_nav) return;\r\n\r\n\t\t\t\tvar enable;\r\n\t\t\t\tvar focusElement = document.activeElement;\r\n\t\t\t\t// halt key nav when focus is outside scheduler or in quick info popup\r\n\t\t\t\tif(!focusElement || scheduler.utils.dom.locateCss(focusElement, \"dhx_cal_quick_info\", false)){\r\n\t\t\t\t\tenable = false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tenable = scheduler.$keyboardNavigation.isChildOf(focusElement, scheduler.$container) || scheduler.$keyboardNavigation.isMinical(focusElement);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn enable;\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t\tfunction changeState(enable){\r\n\t\t\t\tif(enable && !dispatcher.isEnabled()){\r\n\t\t\t\t\tdispatcher.enable();\r\n\t\t\t\t}else if(!enable && dispatcher.isEnabled()){\r\n\t\t\t\t\tdispatcher.disable();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst intervalId = setInterval(function(){\r\n\t\t\t\tif(!scheduler.$container || !scheduler.$keyboardNavigation.isChildOf(scheduler.$container, document.body)){\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar enable = isSchedulerSelected();\r\n\r\n\t\t\t\tif(enable){\r\n\t\t\t\t\tchangeState(enable);\r\n\t\t\t\t}else if(!enable && dispatcher.isEnabled()){\r\n\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// doublecheck in case checking is done in handler before focus element is repainted\r\n\t\t\t\t\t\tif(scheduler.config.key_nav){\r\n\t\t\t\t\t\t\tchangeState(isSchedulerSelected());\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tscheduler.$container.removeAttribute(\"tabindex\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}, 100);\r\n\t\t\t\t}\r\n\t\t\t}, 500);\r\n\t\t\tscheduler.attachEvent(\"onDestroy\", function(){\r\n\t\t\t\tclearInterval(intervalId);\r\n\t\t\t});\r\n\t\t})();\r\n\t}\r\n\r\n\r\n","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.shortcuts = {\r\n\tcreateCommand: function(){\r\n\t\treturn {\r\n\t\t\tmodifiers:{\r\n\t\t\t\t\"shift\": false,\r\n\t\t\t\t\"alt\": false,\r\n\t\t\t\t\"ctrl\": false,\r\n\t\t\t\t\"meta\": false\r\n\t\t\t},\r\n\t\t\tkeyCode: null\r\n\t\t};\r\n\t},\r\n\tparse: function(shortcut){\r\n\t\tvar commands = [];\r\n\r\n\t\tvar expr = this.getExpressions(this.trim(shortcut));\r\n\t\tfor(var i = 0; i < expr.length; i++){\r\n\t\t\tvar words = this.getWords(expr[i]);\r\n\r\n\t\t\tvar command = this.createCommand();\r\n\r\n\t\t\tfor(var j = 0; j < words.length; j++){\r\n\t\t\t\tif(this.commandKeys[words[j]]){\r\n\t\t\t\t\tcommand.modifiers[words[j]] = true;\r\n\t\t\t\t}else if(this.specialKeys[words[j]]){\r\n\t\t\t\t\tcommand.keyCode = this.specialKeys[words[j]];\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcommand.keyCode = words[j].charCodeAt(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tcommands.push(command);\r\n\t\t}\r\n\t\treturn commands;\r\n\t},\r\n\r\n\tgetCommandFromEvent: function(domEvent){\r\n\t\tvar command = this.createCommand();\r\n\t\tcommand.modifiers.shift = !!domEvent.shiftKey;\r\n\t\tcommand.modifiers.alt = !!domEvent.altKey;\r\n\t\tcommand.modifiers.ctrl = !!domEvent.ctrlKey;\r\n\t\tcommand.modifiers.meta = !!domEvent.metaKey;\r\n\t\tcommand.keyCode = domEvent.which || domEvent.keyCode;\r\n\r\n\t\tif(command.keyCode >= 96 && command.keyCode <= 105){\r\n\t\t\t// numpad keys 96-105 -> 48-57\r\n\t\t\tcommand.keyCode -= 48;//convert numpad  number code to regular number code\r\n\t\t}\r\n\r\n\t\tvar printableKey = String.fromCharCode(command.keyCode );\r\n\t\tif(printableKey){\r\n\t\t\tcommand.keyCode = printableKey.toLowerCase().charCodeAt(0);\r\n\t\t}\r\n\t\treturn command;\r\n\t},\r\n\r\n\tgetHashFromEvent: function(domEvent){\r\n\t\treturn this.getHash(this.getCommandFromEvent(domEvent));\r\n\t},\r\n\r\n\tgetHash: function(command){\r\n\t\tvar parts = [];\r\n\t\tfor(var i in command.modifiers){\r\n\t\t\tif(command.modifiers[i]){\r\n\t\t\t\tparts.push(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\tparts.push(command.keyCode);\r\n\r\n\t\treturn parts.join(this.junctionChar);\r\n\t},\r\n\r\n\tgetExpressions: function(shortcut){\r\n\t\treturn shortcut.split(this.junctionChar);\r\n\t},\r\n\tgetWords: function(term){\r\n\t\treturn term.split(this.combinationChar);\r\n\t},\r\n\ttrim: function(shortcut){\r\n\t\treturn shortcut.replace(/\\s/g, \"\");\r\n\t},\r\n\tjunctionChar:\",\",\r\n\tcombinationChar:\"+\",\r\n\tcommandKeys:{\r\n\t\t\"shift\": 16,\r\n\t\t\"alt\": 18,\r\n\t\t\"ctrl\": 17,\r\n\t\t\"meta\": true\r\n\t},\r\n\tspecialKeys:{\r\n\t\t\"backspace\": 8,\r\n\t\t\"tab\": 9,\r\n\t\t\"enter\": 13,\r\n\t\t\"esc\": 27,\r\n\t\t\"space\": 32,\r\n\t\t\"up\": 38,\r\n\t\t\"down\": 40,\r\n\t\t\"left\": 37,\r\n\t\t\"right\": 39,\r\n\t\t\"home\": 36,\r\n\t\t\"end\": 35,\r\n\t\t\"pageup\": 33,\r\n\t\t\"pagedown\": 34,\r\n\t\t\"delete\": 46,\r\n\t\t\"insert\": 45,\r\n\t\t\"plus\":107,\r\n\t\t\"f1\": 112,\r\n\t\t\"f2\": 113,\r\n\t\t\"f3\": 114,\r\n\t\t\"f4\": 115,\r\n\t\t\"f5\": 116,\r\n\t\t\"f6\": 117,\r\n\t\t\"f7\": 118,\r\n\t\t\"f8\": 119,\r\n\t\t\"f9\": 120,\r\n\t\t\"f10\": 121,\r\n\t\t\"f11\": 122,\r\n\t\t\"f12\": 123\r\n\t}\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.EventHandler = {\r\n\t_handlers: null,\r\n\tfindHandler: function(command){\r\n\t\tif(!this._handlers) this._handlers = {};\r\n\t\tvar shortcuts = scheduler.$keyboardNavigation.shortcuts;\r\n\t\tvar hash = shortcuts.getHash(command);\r\n\r\n\t\treturn this._handlers[hash];\r\n\t},\r\n\r\n\tdoAction: function(command, e){\r\n\t\tvar handler = this.findHandler(command);\r\n\t\tif(handler){\r\n\t\t\thandler.call(this, e);\r\n\r\n\t\t\tif (e.preventDefault) e.preventDefault();\r\n\t\t\telse e.returnValue = false;\r\n\r\n\t\t}\r\n\t},\r\n\tbind: function(shortcut, handler){\r\n\t\tif(!this._handlers) this._handlers = {};\r\n\r\n\t\tvar shortcuts = scheduler.$keyboardNavigation.shortcuts;\r\n\r\n\t\tvar commands = shortcuts.parse(shortcut);\r\n\t\tfor(var i = 0; i < commands.length; i++){\r\n\t\t\tthis._handlers[shortcuts.getHash(commands[i])] = handler;\r\n\t\t}\r\n\t},\r\n\tunbind: function(shortcut){\r\n\t\tvar shortcuts = scheduler.$keyboardNavigation.shortcuts;\r\n\r\n\t\tvar commands = shortcuts.parse(shortcut);\r\n\t\tfor(var i = 0; i < commands.length; i++){\r\n\t\t\tif(this._handlers[shortcuts.getHash(commands[i])]){\r\n\t\t\t\tdelete this._handlers[shortcuts.getHash(commands[i])];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tbindAll: function(map){\r\n\t\tfor(var i in map){\r\n\t\t\tthis.bind(i, map[i]);\r\n\t\t}\r\n\t},\r\n\tinitKeys: function(){\r\n\t\tif(!this._handlers)\r\n\t\t\tthis._handlers = {};\r\n\t\tif(this.keys){\r\n\t\t\tthis.bindAll(this.keys);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\n(function(){\r\n\tscheduler.$keyboardNavigation.getFocusableNodes = scheduler._getFocusableNodes;\r\n\r\n\tscheduler.$keyboardNavigation.trapFocus = function trapFocus(root, e){\r\n\t\tif(e.keyCode != 9) return false;\r\n\r\n\t\tvar focusable = scheduler.$keyboardNavigation.getFocusableNodes(root);\r\n\t\tvar currentFocus = document.activeElement;\r\n\t\tvar currentIndex = -1;\r\n\t\tfor(var i = 0; i < focusable.length; i++){\r\n\t\t\tif(focusable[i] == currentFocus){\r\n\t\t\t\tcurrentIndex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar nextIndex, nextItem;\r\n\t\tif(e.shiftKey){\r\n\r\n\t\t\t// back tab\r\n\t\t\t// go to the last element if we focused on the first\r\n\t\t\tnextIndex = (currentIndex <= 0) ? (focusable.length - 1) : (currentIndex - 1);\r\n\r\n\t\t\tnextItem = focusable[nextIndex];\r\n\t\t\tif(nextItem){\r\n\t\t\t\tnextItem.focus();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t}else{\r\n\t\t\t// forward tab\r\n\t\t\t// forward tab from last element should go back to the first element\r\n\t\t\tnextIndex = (currentIndex >= focusable.length - 1) ? 0 : (currentIndex + 1);\r\n\t\t\tnextItem = focusable[nextIndex];\r\n\t\t\tif(nextItem){\r\n\t\t\t\tnextItem.focus();\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n})();\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.marker = {\r\n\tclear: function(){\r\n\t\tvar divs = scheduler.$container.querySelectorAll(\".dhx_focus_slot\");\r\n\t\tfor(var i = 0; i < divs.length; i++){\r\n\t\t\tdivs[i].parentNode.removeChild(divs[i]);\r\n\t\t}\r\n\t},\r\n\tcreateElement: function(){\r\n\t\tvar element = document.createElement(\"div\");\r\n\t\telement.setAttribute(\"tabindex\", -1);\r\n\t\telement.className = \"dhx_focus_slot\";\r\n\t\treturn element;\r\n\t},\r\n\r\n\trenderMultiple: function(start, end, method){\r\n\t\tvar divs = [];\r\n\t\tvar currentStart = new Date(start);\r\n\t\tvar currentEnd = new Date(Math.min(end.valueOf(), scheduler.date.add(scheduler.date.day_start(new Date(start)), 1, \"day\").valueOf()));\r\n\t\twhile(currentStart.valueOf() < end.valueOf()){\r\n\r\n\t\t\tdivs = divs.concat(method.call(this, currentStart, new Date(Math.min(currentEnd.valueOf(), end.valueOf()))));\r\n\t\t\tcurrentStart = scheduler.date.day_start(scheduler.date.add(currentStart, 1, \"day\"));\r\n\r\n\t\t\tcurrentEnd = scheduler.date.day_start(scheduler.date.add(currentStart, 1, \"day\"));\r\n\t\t\tcurrentEnd = new Date(Math.min(currentEnd.valueOf(), end.valueOf()));\r\n\t\t}\r\n\r\n\t\treturn divs;\r\n\t},\r\n\r\n\r\n\trender: function(start, end, section){\r\n\t\tthis.clear();\r\n\t\tvar divs = [];\r\n\r\n\t\tvar modes = scheduler.$keyboardNavigation.TimeSlot.prototype._modes;\r\n\t\tvar view = scheduler.$keyboardNavigation.TimeSlot.prototype._getMode();\r\n\t\tswitch (view){\r\n\t\t\tcase modes.units:\r\n\t\t\t\tdivs = this.renderVerticalMarker(start, end, section);\r\n\t\t\t\tbreak;\r\n\t\t\tcase modes.timeline:\r\n\t\t\t\tdivs = this.renderTimelineMarker(start, end, section);\r\n\t\t\t\tbreak;\r\n\t\t\tcase modes.year:\r\n\t\t\t\tdivs = divs.concat(this.renderMultiple(start, end, this.renderYearMarker));\r\n\t\t\t\tbreak;\r\n\t\t\tcase modes.month:\r\n\t\t\t\tdivs = this.renderMonthMarker(start, end);\r\n\t\t\t\tbreak;\r\n\t\t\tcase modes.weekAgenda:\r\n\t\t\t\tdivs = divs.concat(this.renderMultiple(start, end, this.renderWeekAgendaMarker));\r\n\t\t\t\tbreak;\r\n\t\t\tcase modes.list:\r\n\t\t\t\tdivs = this.renderAgendaMarker(start, end);\r\n\t\t\t\tbreak;\r\n\t\t\tcase modes.dayColumns:\r\n\t\t\t\tdivs = divs.concat(this.renderMultiple(start, end, this.renderVerticalMarker));\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tthis.addWaiAriaLabel(divs, start, end, section);\r\n\t\tthis.addDataAttributes(divs, start, end, section);\r\n\r\n\t\tfor(var i = divs.length - 1; i >= 0; i--){\r\n\t\t\tif(divs[i].offsetWidth){\r\n\t\t\t\treturn divs[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\taddDataAttributes: function(divs, start, end, section){\r\n\t\tvar dateToStr = scheduler.date.date_to_str(scheduler.config.api_date);\r\n\r\n\t\tvar from = dateToStr(start),\r\n\t\t\tto = dateToStr(end);\r\n\r\n\t\tfor(var i = 0; i < divs.length; i++){\r\n\t\t\tdivs[i].setAttribute(\"data-start-date\", from);\r\n\t\t\tdivs[i].setAttribute(\"data-end-date\", to);\r\n\t\t\tif(section){\r\n\t\t\t\tdivs[i].setAttribute(\"data-section\", section);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\taddWaiAriaLabel: function(divs, start, end, section){\r\n\t\tvar label = \"\";\r\n\t\tvar state = scheduler.getState();\r\n\t\tvar mode = state.mode;\r\n\r\n\t\tvar dateTimeLabel = false;\r\n\r\n\t\tlabel += scheduler.templates.day_date(start);\r\n\r\n\t\tif((scheduler.date.day_start(new Date(start)).valueOf() != start.valueOf())){\r\n\t\t\tlabel += \" \" + scheduler.templates.hour_scale(start);\r\n\t\t\tdateTimeLabel = true;\r\n\t\t}\r\n\r\n\t\tif((scheduler.date.day_start(new Date(start)).valueOf() != scheduler.date.day_start(new Date(end)).valueOf())){\r\n\r\n\t\t\tlabel += \" - \" + scheduler.templates.day_date(end);\r\n\t\t\tif(dateTimeLabel || (scheduler.date.day_start(new Date(end)).valueOf() != end.valueOf())){\r\n\t\t\t\tlabel += \" \" + scheduler.templates.hour_scale(end);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(section){\r\n\t\t\tif(scheduler.matrix && scheduler.matrix[mode]){\r\n\t\t\t\tconst timeline = scheduler.matrix[mode];\r\n\t\t\t\tconst sectionObject = timeline.y_unit[timeline.order[section]];\r\n\t\t\t\tlabel += \", \" + scheduler.templates[mode + \"_scale_label\"](sectionObject.key, sectionObject.label, sectionObject);\r\n\t\t\t}else if(scheduler._props && scheduler._props[mode]){\r\n\t\t\t\tconst units = scheduler._props[mode];\r\n\t\t\t\tconst sectionObject = units.options[units.order[section]];\r\n\r\n\t\t\t\tlabel += \", \" + scheduler.templates[mode + \"_scale_text\"](sectionObject.key, sectionObject.label, sectionObject);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tfor(var i = 0; i < divs.length; i++){\r\n\t\t\tscheduler._waiAria.setAttributes(divs[i], {\r\n\t\t\t\t\"aria-label\": label,\r\n\t\t\t\t\"aria-live\": \"polite\"\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\trenderWeekAgendaMarker: function(start_date, end_date){\r\n\t\tvar divs = scheduler.$container.querySelectorAll(\".dhx_wa_day_cont .dhx_wa_scale_bar\");\r\n\r\n\t\tvar currDate = scheduler.date.week_start(new Date(scheduler.getState().min_date));\r\n\r\n\t\tvar index = -1;\r\n\t\tvar markerDate = scheduler.date.day_start(new Date(start_date));\r\n\t\tfor(var i = 0; i < divs.length; i++){\r\n\t\t\tindex++;\r\n\t\t\tif(scheduler.date.day_start(new Date(currDate)).valueOf() == markerDate.valueOf()){\r\n\t\t\t\tbreak;\r\n\t\t\t}else{\r\n\t\t\t\tcurrDate = scheduler.date.add(currDate, 1, \"day\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(index != -1) return this._wrapDiv(divs[index]);\r\n\t\treturn [];\r\n\t},\r\n\r\n\t_wrapDiv: function(cell){\r\n\t\tvar marker = this.createElement();\r\n\t\tmarker.style.top = cell.offsetTop + \"px\";\r\n\t\tmarker.style.left = cell.offsetLeft + \"px\";\r\n\t\tmarker.style.width = cell.offsetWidth + \"px\";\r\n\t\tmarker.style.height = cell.offsetHeight + \"px\";\r\n\t\tcell.appendChild(marker);\r\n\t\treturn [marker];\r\n\t},\r\n\trenderYearMarker: function(start_date, end_date){\r\n\t\tvar cell = scheduler._get_year_cell(start_date);\r\n\t\tcell.style.position = \"relative\";\r\n\t\tvar marker = this.createElement();\r\n\t\tmarker.style.top = \"0px\";\r\n\t\tmarker.style.left = \"0px\";\r\n\t\tmarker.style.width = \"100%\";\r\n\t\tmarker.style.height = \"100%\";\r\n\t\tcell.appendChild(marker);\r\n\t\treturn [marker];\r\n\t},\r\n\r\n\trenderAgendaMarker: function(start_date, end_date){\r\n\t\tvar block = this.createElement();\r\n\t\tblock.style.height = \"1px\";\r\n\t\tblock.style.width = \"100%\";\r\n\t\tblock.style.opacity = 1;\r\n\t\tblock.style.top = \"0px\";\r\n\t\tblock.style.left = \"0px\";\r\n\t\tscheduler.$container.querySelector(\".dhx_cal_data\").appendChild(block);\r\n\t\treturn [block];\r\n\t},\r\n\r\n\trenderTimelineMarker: function(start_date, end_date, section){\r\n\t\tvar view_opts = scheduler._lame_copy({}, scheduler.matrix[scheduler._mode]);\r\n\t\tvar areas = view_opts._scales;\r\n\t\t//timespans must always use actual position, not rounded\r\n\t\tview_opts.round_position = false;\r\n\t\tvar blocks = [];\r\n\r\n\t\tvar min_date = start_date ? new Date(start_date) : scheduler._min_date;\r\n\t\tvar max_date = end_date ? new Date(end_date) : scheduler._max_date;\r\n\r\n\t\tif(min_date.valueOf() < scheduler._min_date.valueOf())\r\n\t\t\tmin_date = new Date(scheduler._min_date);\r\n\t\tif(max_date.valueOf() > scheduler._max_date.valueOf())\r\n\t\t\tmax_date = new Date(scheduler._max_date);\r\n\r\n\t\tif(!view_opts._trace_x) return blocks;\r\n\r\n\t\tfor(var i = 0; i < view_opts._trace_x.length; i++){\r\n\t\t\tif(scheduler._is_column_visible(view_opts._trace_x[i]))\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\tif(i == view_opts._trace_x.length)\r\n\t\t\treturn blocks;\r\n\r\n\t\tvar area = areas[section];\r\n\r\n\t\tif (!(min_date < end_date && max_date > start_date))\r\n\t\t\treturn blocks;\r\n\r\n\t\tvar block = this.createElement();\r\n\r\n\t\tlet start_pos;\r\n\t\tlet end_pos;\r\n\r\n\t\tfunction set_date_part(source, target) {\r\n\t\t\t// reset to start of the month in order to prevent month change when target is on 31th day, and source month has only 30 days\r\n\t\t\ttarget.setDate(1);\r\n\r\n\t\t\ttarget.setFullYear(source.getFullYear());\r\n\t\t\ttarget.setMonth(source.getMonth());\r\n\t\t\ttarget.setDate(source.getDate());\r\n\t\t}\r\n\r\n\t\tif(!scheduler.getView().days){\r\n\t\t\tstart_pos = scheduler._timeline_getX({start_date: start_date}, false, view_opts);\r\n\t\t\tend_pos = scheduler._timeline_getX({start_date: end_date}, false, view_opts);\r\n\t\t}else{\r\n\t\t\t// daytimeline\r\n\t\t\tconst tempStart = new Date(start_date);\r\n\t\t\tset_date_part(scheduler._min_date, tempStart);\r\n\t\t\tconst tempEnd = new Date(end_date);\r\n\t\t\tset_date_part(scheduler._min_date, tempEnd);\r\n\t\t\tstart_pos = scheduler._timeline_getX({start_date: tempStart}, false, view_opts);\r\n\t\t\tend_pos = scheduler._timeline_getX({start_date: tempEnd}, false, view_opts);\r\n\t\t}\r\n\r\n\t\tvar height = ((view_opts._section_height[section]-1) || (view_opts.dy - 1));\r\n\r\n\t\tvar top = 0;\r\n\t\tif (scheduler._isRender('cell')){\r\n\t\t\ttop = area.offsetTop;\r\n\t\t\tstart_pos += view_opts.dx;\r\n\t\t\tend_pos += view_opts.dx;\r\n\t\t\tarea = scheduler.$container.querySelector(\".dhx_cal_data\");\r\n\t\t}else{\r\n\r\n\t\t}\r\n\t\tvar width = Math.max(1, end_pos - start_pos - 1);\r\n\t\tlet direction = \"left\";\r\n\t\tif(scheduler.config.rtl){\r\n\t\t\tdirection = \"right\";\r\n\t\t}\r\n\t\tblock.style.cssText = `height:${height}px; ${direction}:${start_pos}px; width:${width}px; top:${top}px;`;\r\n\r\n\t\tif(area){\r\n\t\t\tarea.appendChild(block);\r\n\t\t\tblocks.push(block);\r\n\t\t}\r\n\r\n\t\treturn blocks;\r\n\t},\r\n\r\n\trenderMonthCell: function(date){\r\n\t\tvar cells = scheduler.$container.querySelectorAll(\".dhx_month_head\");\r\n\r\n\t\tvar divs = [];\r\n\t\tfor(var i = 0; i < cells.length; i++){\r\n\t\t\tdivs.push(cells[i].parentNode);\r\n\t\t}\r\n\r\n\t\tvar firstDate = scheduler.date.week_start(new Date(scheduler.getState().min_date));\r\n\r\n\t\tvar index = -1;\r\n\t\tvar weekNumber = 0;\r\n\t\tvar dayIndex = -1;\r\n\t\tvar currDate = firstDate;\r\n\t\tvar markerDate = scheduler.date.day_start(new Date(date));\r\n\t\tfor(var i = 0; i < divs.length; i++){\r\n\t\t\tindex++;\r\n\r\n\t\t\tif(dayIndex == 6){\r\n\t\t\t\tweekNumber++;\r\n\t\t\t\tdayIndex = 0;\r\n\t\t\t}else{\r\n\t\t\t\tdayIndex++;\r\n\t\t\t}\r\n\r\n\t\t\tif(scheduler.date.day_start(new Date(currDate)).valueOf() == markerDate.valueOf()){\r\n\t\t\t\tbreak;\r\n\t\t\t}else{\r\n\t\t\t\tcurrDate = scheduler.date.add(currDate, 1, \"day\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(index == -1){\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tvar left = scheduler._colsS[dayIndex];\r\n\t\tvar top = scheduler._colsS.heights[weekNumber];\r\n\r\n\t\tvar div = this.createElement();\r\n\t\tdiv.style.top = top + \"px\";\r\n\t\tdiv.style.left = left + \"px\";\r\n\t\tdiv.style.width = scheduler._cols[dayIndex] + \"px\";\r\n\t\tdiv.style.height = ((scheduler._colsS.heights[weekNumber + 1] - top) || scheduler._colsS.height) + \"px\" ;\r\n\r\n\r\n\t\tvar container = scheduler.$container.querySelector(\".dhx_cal_data\");\r\n\r\n\t\tvar datatable = container.querySelector(\".dhx_cal_month_table\");\r\n\t\tif(datatable.nextSibling){\r\n\t\t\tcontainer.insertBefore(div, datatable.nextSibling);\r\n\t\t}else{\r\n\t\t\tcontainer.appendChild(div);\r\n\t\t}\r\n\t\treturn div;\r\n\t},\r\n\trenderMonthMarker: function(start_date, end_date){\r\n\t\tvar res = [];\r\n\t\tvar currentDate = start_date;\r\n\t\twhile(currentDate.valueOf() < end_date.valueOf()){\r\n\t\t\tres.push(this.renderMonthCell(currentDate));\r\n\t\t\tcurrentDate = scheduler.date.add(currentDate, 1, \"day\");\r\n\t\t}\r\n\t\treturn res;\r\n\t},\r\n\r\n\trenderVerticalMarker: function(start_date, end_date, section){\r\n\t\tvar index = scheduler.locate_holder_day(start_date);\r\n\r\n\t\tvar divs = [];\r\n\t\tvar area = null;\r\n\r\n\t\tvar c = scheduler.config;\r\n\t\tif(scheduler._ignores[index]) return divs;\r\n\r\n\t\tif (scheduler._props && scheduler._props[scheduler._mode] && section) {\r\n\t\t\tvar view = scheduler._props[scheduler._mode];\r\n\t\t\tindex = view.order[section];\r\n\r\n\t\t\tvar inner_index = view.order[section];\r\n\t\t\tif(!(view.days > 1)){\r\n\t\t\t\tindex = inner_index;\r\n\t\t\t\tif (view.size && (index > view.position+view.size)) {\r\n\t\t\t\t\tindex = 0;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\t//var units_l = view.size || view.options.length;\r\n\r\n\t\t\t\tindex = scheduler.locate_holder_day(start_date) + inner_index;\r\n\t\t\t\t//index = index*units_l + inner_index;\r\n\t\t\t}\r\n\t\t}\r\n\t\tarea = scheduler.locate_holder(index);\r\n\t\tif(!area || area.querySelector(\".dhx_scale_hour\")){\r\n\t\t\t// hour scale instead of date column\r\n\t\t\treturn document.createElement(\"div\");\r\n\t\t}\r\n\r\n\t\tvar start = Math.max((start_date.getHours()*60 + start_date.getMinutes()), c.first_hour*60);\r\n\r\n\r\n\t\tvar end = Math.min((end_date.getHours()*60 + end_date.getMinutes()), c.last_hour*60);\r\n\t\tif(!end && (scheduler.date.day_start(new Date(end_date)).valueOf() > scheduler.date.day_start(new Date(start_date)).valueOf())){\r\n\t\t\tend = c.last_hour*60;\r\n\t\t}\r\n\r\n\t\tif (end <= start) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tvar block = this.createElement();\r\n\r\n\t\t// +1 for working with section which really takes up whole height (as % would be == 0)\r\n\t\tvar all_hours_height = scheduler.config.hour_size_px*c.last_hour + 1;\r\n\t\tvar hour_ms = 60*60*1000;\r\n\t\tblock.style.top = (Math.round((start*60*1000-scheduler.config.first_hour*hour_ms)*scheduler.config.hour_size_px/hour_ms) % all_hours_height) + \"px\";\r\n\t\tblock.style.lineHeight = block.style.height = Math.max((Math.round(((end-start)*60*1000)*scheduler.config.hour_size_px/hour_ms)) % all_hours_height, 1)+\"px\";\r\n\t\tblock.style.width = \"100%\";\r\n\t\tarea.appendChild(block);\r\n\t\tdivs.push(block);\r\n\t\treturn divs[0];\r\n\r\n\t}\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.SchedulerNode = function(){};\r\n\r\nscheduler.$keyboardNavigation.SchedulerNode.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.EventHandler,\r\n\t{\r\n\t\tgetDefaultNode: function(){\r\n\t\t\tvar node = new scheduler.$keyboardNavigation.TimeSlot();\r\n\r\n\t\t\tif(!node.isValid()){\r\n\t\t\t\tnode = node.fallback();\r\n\t\t\t}\r\n\t\t\treturn node;\r\n\t\t},\r\n\r\n\t\t_modes:{\r\n\t\t\tmonth: \"month\",\r\n\t\t\tyear: \"year\",\r\n\t\t\tdayColumns: \"dayColumns\",\r\n\t\t\ttimeline:\"timeline\",\r\n\t\t\tunits:\"units\",\r\n\t\t\tweekAgenda: \"weekAgenda\",\r\n\t\t\tlist: \"list\"\r\n\t\t},\r\n\t\tgetMode: function(){\r\n\t\t\tvar state = scheduler.getState();\r\n\r\n\t\t\tvar mode = state.mode;\r\n\t\t\tif((scheduler.matrix && scheduler.matrix[mode])){\r\n\t\t\t\treturn this._modes.timeline;\r\n\t\t\t} else if((scheduler._props && scheduler._props[mode])){\r\n\t\t\t\treturn this._modes.units;\r\n\t\t\t}else if(mode == \"month\"){\r\n\t\t\t\treturn this._modes.month;\r\n\t\t\t}else if(mode == \"year\"){\r\n\t\t\t\treturn this._modes.year;\r\n\t\t\t}else if(mode == \"week_agenda\"){\r\n\t\t\t\treturn this._modes.weekAgenda;\r\n\t\t\t}else if(mode == \"map\" || mode == \"agenda\" || (scheduler._grid && scheduler[\"grid_\" + mode])){\r\n\t\t\t\treturn this._modes.list;\r\n\t\t\t}else{\r\n\t\t\t\treturn this._modes.dayColumns;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\tscheduler.focus();\r\n\t\t},\r\n\r\n\t\tblur: function(){\r\n\r\n\t\t},\r\n\r\n\t\tdisable: function(){\r\n\t\t\tscheduler.$container.setAttribute(\"tabindex\", \"0\");\r\n\t\t},\r\n\t\tenable: function(){\r\n\t\t\tif(scheduler.$container)\r\n\t\t\t\tscheduler.$container.removeAttribute(\"tabindex\");\r\n\t\t},\r\n\t\tisEnabled: function(){\r\n\t\t\treturn scheduler.$container.hasAttribute(\"tabindex\");\r\n\t\t},\r\n\r\n\r\n\t\t_compareEvents: function(a, b){\r\n\t\t\tif (a.start_date.valueOf() == b.start_date.valueOf())\r\n\t\t\t\treturn a.id > b.id ? 1 : -1;\r\n\t\t\treturn a.start_date.valueOf() > b.start_date.valueOf() ? 1 : -1;\r\n\t\t},\r\n\r\n\t\t_pickEvent: function(from, to, startId, reverse){\r\n\t\t\tvar range = scheduler.getState();\r\n\t\t\tfrom = new Date(Math.max(range.min_date.valueOf(), from.valueOf()));\r\n\t\t\tto = new Date(Math.min(range.max_date.valueOf(), to.valueOf()));\r\n\r\n\t\t\tvar evs = scheduler.getEvents(from, to);\r\n\t\t\tevs.sort(this._compareEvents);\r\n\t\t\tif(reverse){\r\n\t\t\t\tevs = evs.reverse();\r\n\t\t\t}\r\n\r\n\t\t\tvar trim = !!startId;\r\n\t\t\tfor(var i =0; i < evs.length && trim; i++){\r\n\t\t\t\tif(evs[i].id == startId){\r\n\t\t\t\t\ttrim = false;\r\n\t\t\t\t}\r\n\t\t\t\tevs.splice(i, 1);\r\n\t\t\t\ti--;\r\n\t\t\t}\r\n\r\n\t\t\tfor(var i = 0; i < evs.length; i++){\r\n\t\t\t\tvar eventElement = new scheduler.$keyboardNavigation.Event(evs[i].id);\r\n\t\t\t\tif(eventElement.getNode())\r\n\t\t\t\t\treturn evs[i];\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\tnextEventHandler: function(id){\r\n\t\t\tvar activeNode = scheduler.$keyboardNavigation.dispatcher.activeNode;\r\n\r\n\t\t\tvar startId = id || (activeNode && activeNode.eventId);\r\n\r\n\t\t\tvar nextEvent = null;\r\n\t\t\tif(startId && scheduler.getEvent(startId)){\r\n\t\t\t\tvar currEvent = scheduler.getEvent(startId);\r\n\r\n\t\t\t\tnextEvent = scheduler.$keyboardNavigation.SchedulerNode.prototype._pickEvent(\r\n\t\t\t\t\tcurrEvent.start_date,\r\n\t\t\t\t\tscheduler.date.add(currEvent.start_date, 1, \"year\"),\r\n\t\t\t\t\tcurrEvent.id,\r\n\t\t\t\t\tfalse\r\n\t\t\t\t);\r\n\r\n\t\t\t}\r\n\t\t\tif(!nextEvent && !id){\r\n\t\t\t\tvar visibleDates = scheduler.getState();\r\n\r\n\t\t\t\tnextEvent = scheduler.$keyboardNavigation.SchedulerNode.prototype._pickEvent(\r\n\t\t\t\t\tvisibleDates.min_date,\r\n\t\t\t\t\tscheduler.date.add(visibleDates.min_date, 1, \"year\"),\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\tfalse\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tif(nextEvent){\r\n\r\n\t\t\t\tvar nextEv = new scheduler.$keyboardNavigation.Event(nextEvent.id);\r\n\t\t\t\tif(!nextEv.isValid()){// not visible event\r\n\t\t\t\t\tthis.nextEventHandler(nextEvent.id);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(activeNode){activeNode.blur();}\r\n\t\t\t\t\tscheduler.$keyboardNavigation.dispatcher.setActiveNode(nextEv);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tprevEventHandler: function(id){\r\n\t\t\tvar activeNode = scheduler.$keyboardNavigation.dispatcher.activeNode;\r\n\r\n\t\t\tvar startId = id || (activeNode && activeNode.eventId);\r\n\r\n\t\t\tvar nextEvent = null;\r\n\t\t\tif(startId && scheduler.getEvent(startId)){\r\n\t\t\t\tvar currEvent = scheduler.getEvent(startId);\r\n\r\n\t\t\t\tnextEvent = scheduler.$keyboardNavigation.SchedulerNode.prototype._pickEvent(\r\n\t\t\t\t\tscheduler.date.add(currEvent.end_date, -1, \"year\"),\r\n\t\t\t\t\tcurrEvent.end_date,\r\n\t\t\t\t\tcurrEvent.id,\r\n\t\t\t\t\ttrue\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif(!nextEvent && !id){\r\n\t\t\t\tvar visibleDates = scheduler.getState();\r\n\r\n\t\t\t\tnextEvent = scheduler.$keyboardNavigation.SchedulerNode.prototype._pickEvent(\r\n\t\t\t\t\tscheduler.date.add(visibleDates.max_date, -1, \"year\"),\r\n\t\t\t\t\tvisibleDates.max_date,\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\ttrue\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tif(nextEvent){\r\n\t\t\t\tvar nextEv = new scheduler.$keyboardNavigation.Event(nextEvent.id);\r\n\t\t\t\tif(!nextEv.isValid()){// not visible event\r\n\t\t\t\t\tthis.prevEventHandler(nextEvent.id);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(activeNode){activeNode.blur();}\r\n\t\t\t\t\tscheduler.$keyboardNavigation.dispatcher.setActiveNode(nextEv);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tkeys: {\r\n\r\n\t\t\t\"alt+1, alt+2, alt+3, alt+4, alt+5, alt+6, alt+7, alt+8, alt+9\": function(e){\r\n\t\t\t\tvar tabs = scheduler.$keyboardNavigation.HeaderCell.prototype.getNodes(\".dhx_cal_navline .dhx_cal_tab\");\r\n\t\t\t\tvar key = e.key;\r\n\t\t\t\tif(key === undefined){\r\n\t\t\t\t\tkey = e.keyCode - 48;\r\n\t\t\t\t}\r\n\t\t\t\tif(tabs[key*1 - 1]){\r\n\t\t\t\t\ttabs[key*1 - 1].click();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t\"ctrl+left,meta+left\": function(e){\r\n\t\t\t\tscheduler._click.dhx_cal_prev_button();\r\n\t\t\t},\r\n\t\t\t\"ctrl+right,meta+right\": function(e){\r\n\t\t\t\tscheduler._click.dhx_cal_next_button();\r\n\t\t\t},\r\n\t\t\t\"ctrl+up,meta+up\":function(e){\r\n\t\t\t\tvar dataArea = scheduler.$container.querySelector(\".dhx_cal_data\");\r\n\t\t\t\tdataArea.scrollTop -= 20;\r\n\t\t\t},\r\n\t\t\t\"ctrl+down,meta+down\": function(e){\r\n\t\t\t\tvar dataArea = scheduler.$container.querySelector(\".dhx_cal_data\");\r\n\t\t\t\tdataArea.scrollTop += 20;\r\n\t\t\t},\r\n\r\n\r\n\t\t\t\"e\": function(){\r\n\t\t\t\tthis.nextEventHandler();\r\n\t\t\t},\r\n\r\n\t\t\t\"home\": function(){\r\n\t\t\t\tscheduler.setCurrentView(new Date());\r\n\t\t\t},\r\n\r\n\t\t\t\"shift+e\": function(){\r\n\t\t\t\tthis.prevEventHandler();\r\n\t\t\t},\r\n\r\n\t\t\t\"ctrl+enter,meta+enter\": function(){\r\n\t\t\t\tscheduler.addEventNow({start_date: new Date(scheduler.getState().date)});\r\n\t\t\t},\r\n\r\n\t\t\t\"ctrl+c,meta+c\": function(e){\r\n\t\t\t\tscheduler._key_nav_copy_paste(e);\r\n\t\t\t},\r\n\t\t\t\"ctrl+v,meta+v\": function(e){\r\n\t\t\t\tscheduler._key_nav_copy_paste(e);\r\n\t\t\t},\r\n\t\t\t\"ctrl+x,meta+x\": function(e){\r\n\t\t\t\tscheduler._key_nav_copy_paste(e);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n);\r\n\r\nscheduler.$keyboardNavigation.SchedulerNode.prototype.bindAll(scheduler.$keyboardNavigation.SchedulerNode.prototype.keys);\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.KeyNavNode = function(){};\r\n\r\nscheduler.$keyboardNavigation.KeyNavNode.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.EventHandler,\r\n\t{\r\n\t\tisValid: function(){\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tfallback: function(){\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\tmoveTo: function (element) {\r\n\t\t\tscheduler.$keyboardNavigation.dispatcher.setActiveNode(element);\r\n\t\t},\r\n\r\n\t\tcompareTo: function(b){\r\n\t\t\t// good enough comparison of two random objects\r\n\t\t\tif(!b) return false;\r\n\t\t\tfor(var i in this){\r\n\t\t\t\tif(!!this[i] != !!b[i]) return false;\r\n\r\n\t\t\t\tvar canStringifyThis = !!(this[i] && this[i].toString);\r\n\t\t\t\tvar canStringifyThat = !!(b[i] && b[i].toString);\r\n\t\t\t\tif(canStringifyThat != canStringifyThis) return false;\r\n\t\t\t\tif(!(canStringifyThat && canStringifyThis)) {\r\n\t\t\t\t\tif(b[i] != this[i]) return false;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(b[i].toString() != this[i].toString())\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\tgetNode: function(){},\r\n\t\tfocus: function(){\r\n\t\t\tvar node = this.getNode();\r\n\t\t\tif(node){\r\n\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\r\n\t\t\t\t//node.className += \" scheduler_focused\";\r\n\t\t\t\tif(node.focus) node.focus();\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tblur: function(){\r\n\t\t\tvar node = this.getNode();\r\n\t\t\tif(node){\r\n\t\t\t\tnode.setAttribute(\"tabindex\", \"-1\");\r\n\t\t\t\t//node.className = (node.className || \"\").replace(/ ?scheduler_focused/g, \"\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n);\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.HeaderCell = function(index){\r\n\tthis.index = index || 0;\r\n};\r\n\r\nscheduler.$keyboardNavigation.HeaderCell.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.KeyNavNode,\r\n\t{\r\n\t\tgetNode: function(index){\r\n\t\t\tindex = index || this.index || 0;\r\n\t\t\tvar nodes = this.getNodes();\r\n\t\t\tif(nodes[index]) return nodes[index];\r\n\t\t},\r\n\r\n\t\tgetNodes: function(selector){\r\n\t\t\tselector = selector || [\r\n\t\t\t\t\t\".dhx_cal_navline .dhx_cal_prev_button\",\r\n\t\t\t\t\t\".dhx_cal_navline .dhx_cal_next_button\",\r\n\t\t\t\t\t\".dhx_cal_navline .dhx_cal_today_button\",\r\n\t\t\t\t\t\".dhx_cal_navline .dhx_cal_tab\"\r\n\t\t\t\t].join(\", \");\r\n\r\n\t\t\tvar nodes = Array.prototype.slice.call(scheduler.$container.querySelectorAll(selector));\r\n\t\t\tnodes.sort(function(a, b){\r\n\t\t\t\treturn a.offsetLeft - b.offsetLeft;\r\n\t\t\t});\r\n\t\t\treturn nodes;\r\n\t\t},\r\n\r\n\t\t_handlers:null,\r\n\r\n\t\tisValid: function(){\r\n\t\t\treturn !!this.getNode(this.index);\r\n\t\t},\r\n\t\tfallback:function(){\r\n\t\t\tvar defaultCell = this.getNode(0);\r\n\t\t\tif(!defaultCell){\r\n\t\t\t\tdefaultCell = new scheduler.$keyboardNavigation.TimeSlot();\r\n\t\t\t}\r\n\t\t\treturn defaultCell;\r\n\t\t},\r\n\r\n\t\tkeys: {\r\n\t\t\t\"left\": function(){\r\n\t\t\t\tvar newIndex = this.index - 1;\r\n\t\t\t\tif(newIndex < 0){\r\n\t\t\t\t\tnewIndex = this.getNodes().length - 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.HeaderCell(newIndex));\r\n\r\n\t\t\t},\r\n\t\t\t\"right\": function () {\r\n\t\t\t\tvar newIndex = this.index + 1;\r\n\t\t\t\tif(newIndex >= this.getNodes().length){\r\n\t\t\t\t\tnewIndex = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.HeaderCell(newIndex));\r\n\t\t\t},\r\n\t\t\t\"down\": function () {\r\n\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t},\r\n\r\n\t\t\t\"enter\": function(){\r\n\t\t\t\tvar node = this.getNode();\r\n\t\t\t\tif(node){\r\n\t\t\t\t\tnode.click();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nscheduler.$keyboardNavigation.HeaderCell.prototype.bindAll(scheduler.$keyboardNavigation.HeaderCell.prototype.keys);\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.Event = function(id){\r\n\tthis.eventId = null;\r\n\tif(scheduler.getEvent(id)){\r\n\t\tvar ev = scheduler.getEvent(id);\r\n\t\tthis.start = new Date(ev.start_date);\r\n\t\tthis.end = new Date(ev.end_date);\r\n\r\n\t\tthis.section = this._getSection(ev);\r\n\t\tthis.eventId = id;\r\n\t}\r\n};\r\n\r\nscheduler.$keyboardNavigation.Event.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.KeyNavNode,\r\n\t{\r\n\t\t_getNodes: function(){\r\n\t\t\treturn Array.prototype.slice.call(scheduler.$container.querySelectorAll(\"[\"+scheduler.config.event_attribute+\"]\"));\r\n\t\t},\r\n\r\n\t\t_modes: scheduler.$keyboardNavigation.SchedulerNode.prototype._modes,\r\n\r\n\t\tgetMode: scheduler.$keyboardNavigation.SchedulerNode.prototype.getMode,\r\n\r\n\t\t_handlers: null,\r\n\t\tisValid: function(){\r\n\t\t\treturn !!(scheduler.getEvent(this.eventId) && this.getNode());\r\n\t\t},\r\n\t\tfallback: function(){\r\n\t\t\tvar eventNode = this._getNodes()[0];\r\n\t\t\tvar defaultElement = null;\r\n\t\t\tif(!eventNode || !(scheduler._locate_event(eventNode))){\r\n\t\t\t\tdefaultElement = new scheduler.$keyboardNavigation.TimeSlot();\r\n\t\t\t}else{\r\n\t\t\t\tvar id = scheduler._locate_event(eventNode);\r\n\t\t\t\tdefaultElement = new scheduler.$keyboardNavigation.Event(id);\r\n\t\t\t}\r\n\r\n\t\t\treturn defaultElement;\r\n\t\t},\r\n\r\n\t\tisScrolledIntoView: function (el) {\r\n\t\t\tvar eventBox = el.getBoundingClientRect();\r\n\t\t\tvar viewPort = scheduler.$container.querySelector(\".dhx_cal_data\").getBoundingClientRect();\r\n\t\t\t\r\n\t\t\tif(eventBox.bottom < viewPort.top || eventBox.top > viewPort.bottom){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\tgetNode: function(){\r\n\r\n\t\t\tvar idSelector = \"[\"+scheduler.config.event_attribute+\"='\"+this.eventId+\"']\";\r\n\r\n\t\t\tvar inlineEditor = scheduler.$keyboardNavigation.dispatcher.getInlineEditor(this.eventId);\r\n\t\t\tif(inlineEditor){// is inline editor visible\r\n\t\t\t\treturn inlineEditor;\r\n\t\t\t}else{\r\n\t\t\t\tif(scheduler.isMultisectionEvent && scheduler.isMultisectionEvent(scheduler.getEvent(this.eventId))){\r\n\t\t\t\t\tvar nodes = scheduler.$container.querySelectorAll(idSelector);\r\n\t\t\t\t\tfor(var i = 0; i < nodes.length; i++){\r\n\t\t\t\t\t\tif(this.isScrolledIntoView(nodes[i])){\r\n\t\t\t\t\t\t\treturn nodes[i];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn nodes[0];\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn scheduler.$container.querySelector(idSelector);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\tvar event = scheduler.getEvent(this.eventId);\r\n\r\n\t\t\tvar calendar = scheduler.getState();\r\n\t\t\tif(event.start_date.valueOf() > calendar.max_date.valueOf() || event.end_date.valueOf() <= calendar.min_date.valueOf()){\r\n\t\t\t\tscheduler.setCurrentView(event.start_date);\r\n\t\t\t}\r\n\r\n\t\t\tvar node = this.getNode();\r\n\t\t\tif (this.isScrolledIntoView(node)) {\r\n\t\t\t\tscheduler.$keyboardNavigation.dispatcher.keepScrollPosition((function(){\r\n\t\t\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this);\r\n\t\t\t\t}).bind(this));\r\n\t\t\t} else {\r\n\t\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tblur: function(){\r\n\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this);\r\n\t\t},\r\n\r\n\r\n\t\t_getSection: function(ev){\r\n\t\t\tvar section = null;\r\n\t\t\tvar mode = scheduler.getState().mode;\r\n\t\t\tif(scheduler.matrix && scheduler.matrix[mode]){\r\n\t\t\t\tvar timeline = scheduler.matrix[scheduler.getState().mode];\r\n\t\t\t\tsection = ev[timeline.y_property];\r\n\t\t\t}else if(scheduler._props && scheduler._props[mode]){\r\n\t\t\t\tvar unit = scheduler._props[mode];\r\n\t\t\t\tsection = ev[unit.map_to];\r\n\t\t\t}\r\n\t\t\treturn section;\r\n\t\t},\r\n\t\t_moveToSlot: function(dir){\r\n\t\t\tvar ev = scheduler.getEvent(this.eventId);\r\n\t\t\tif(ev){\r\n\t\t\t\tvar section =this._getSection(ev);\r\n\t\t\t\tvar slot = new scheduler.$keyboardNavigation.TimeSlot(ev.start_date, null, section);\r\n\t\t\t\tthis.moveTo(slot.nextSlot(slot, dir));\r\n\t\t\t}else{\r\n\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tkeys: {\r\n\t\t\t\"left\": function(){\r\n\t\t\t\tthis._moveToSlot(\"left\");\r\n\t\t\t},\r\n\r\n\t\t\t\"right\": function () {\r\n\t\t\t\tthis._moveToSlot(\"right\");\r\n\t\t\t},\r\n\t\t\t\"down\": function () {\r\n\t\t\t\tif(this.getMode() == this._modes.list){\r\n\t\t\t\t\tscheduler.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler();\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis._moveToSlot(\"down\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t\"space\": function(){\r\n\t\t\t\tvar node = this.getNode();\r\n\t\t\t\tif(node && node.click){\r\n\t\t\t\t\tnode.click();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t\"up\": function () {\r\n\t\t\t\tif(this.getMode() == this._modes.list){\r\n\t\t\t\t\tscheduler.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler();\r\n\t\t\t\t}else {\r\n\t\t\t\t\tthis._moveToSlot(\"up\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t\"delete\": function(){\r\n\t\t\t\tif(scheduler.getEvent(this.eventId)) {\r\n\t\t\t\t\tscheduler._click.buttons[\"delete\"](this.eventId);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// open lightbox\r\n\t\t\t\"enter\": function () {\r\n\t\t\t\tif(scheduler.getEvent(this.eventId)) {\r\n\t\t\t\t\tscheduler.showLightbox(this.eventId);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\nscheduler.$keyboardNavigation.Event.prototype.bindAll(scheduler.$keyboardNavigation.Event.prototype.keys);\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.TimeSlot = function(from, to, section, movingDate){\r\n\tvar state = scheduler.getState();\r\n\tvar timeline = scheduler.matrix && scheduler.matrix[state.mode];\r\n\r\n\tif(!from){\r\n\t\tfrom = this.getDefaultDate();\r\n\t}\r\n\r\n\tif(!to){\r\n\r\n\t\tif(timeline){\r\n\t\t\tto = scheduler.date.add(from, timeline.x_step, timeline.x_unit);\r\n\t\t}else{\r\n\t\t\tto = scheduler.date.add(from, scheduler.config.key_nav_step, \"minute\");\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tthis.section = section || this._getDefaultSection();\r\n\tthis.start_date = new Date(from);\r\n\tthis.end_date = new Date(to);\r\n\tthis.movingDate = movingDate || null;\r\n};\r\n\r\nscheduler.$keyboardNavigation.TimeSlot.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.KeyNavNode,\r\n\t{\r\n\t\t_handlers:null,\r\n\r\n\t\tgetDefaultDate: function(){\r\n\t\t\tvar from;\r\n\t\t\tvar state = scheduler.getState();\r\n\t\t\tvar visibleTime = new Date(state.date);\r\n\t\t\tvisibleTime.setSeconds(0);\r\n\t\t\tvisibleTime.setMilliseconds(0);\r\n\r\n\t\t\tvar nowTime = new Date();\r\n\t\t\tnowTime.setSeconds(0);\r\n\t\t\tnowTime.setMilliseconds(0);\r\n\r\n\t\t\tvar timeline = scheduler.matrix && scheduler.matrix[state.mode];\r\n\t\t\tvar showNowTime = false;\r\n\t\t\tif(visibleTime.valueOf() === nowTime.valueOf()){\r\n\t\t\t\tshowNowTime = true;\r\n\t\t\t}\r\n\r\n\t\t\tif(timeline){\r\n\t\t\t\tif(showNowTime){\r\n\t\t\t\t\tif(timeline.x_unit === \"day\"){\r\n\t\t\t\t\t\tnowTime.setHours(0);\r\n\t\t\t\t\t\tnowTime.setMinutes(0);\r\n\t\t\t\t\t}else if(timeline.x_unit === \"hour\"){\r\n\t\t\t\t\t\tnowTime.setMinutes(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfrom = nowTime;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tfrom = scheduler.date[timeline.name + \"_start\"](new Date(state.date));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfrom = this.findVisibleColumn(from);\r\n\t\t\t}else{\r\n\t\t\t\tfrom = new Date(scheduler.getState().min_date);\r\n\t\t\t\tif(showNowTime){\r\n\t\t\t\t\tfrom = nowTime;\r\n\t\t\t\t}\r\n\t\t\t\tfrom = this.findVisibleColumn(from);\r\n\t\t\t\tif(!showNowTime){\r\n\t\t\t\t\tfrom.setHours(scheduler.config.first_hour);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(!scheduler._table_view){\r\n\t\t\t\t\tvar dataContainer = scheduler.$container.querySelector(\".dhx_cal_data\");\r\n\t\t\t\t\tif(dataContainer.scrollTop){\r\n\t\t\t\t\t\tfrom.setHours(scheduler.config.first_hour + Math.ceil(dataContainer.scrollTop / scheduler.config.hour_size_px));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn from;\r\n\t\t},\r\n\r\n\t\tclone: function(timeslot){\r\n\t\t\treturn new scheduler.$keyboardNavigation.TimeSlot(timeslot.start_date, timeslot.end_date, timeslot.section, timeslot.movingDate);\r\n\t\t},\r\n\t\t_getMultisectionView: function(){\r\n\t\t\tvar state = scheduler.getState();\r\n\t\t\tvar view;\r\n\t\t\tif(scheduler._props && scheduler._props[state.mode]) {\r\n\t\t\t\tview = scheduler._props[state.mode];\r\n\t\t\t}else if(scheduler.matrix && scheduler.matrix[state.mode]){\r\n\t\t\t\tview = scheduler.matrix[state.mode];\r\n\t\t\t}\r\n\t\t\treturn view;\r\n\t\t},\r\n\r\n\t\t_getDefaultSection: function(){\r\n\t\t\tvar section = null;\r\n\t\t\tvar view = this._getMultisectionView();\r\n\t\t\tif(view && !section){\r\n\t\t\t\tsection = this._getNextSection();\r\n\t\t\t}\r\n\t\t\treturn section;\r\n\t\t},\r\n\r\n\t\t_getNextSection: function(sectionId, dir){\r\n\t\t\tvar view = this._getMultisectionView();\r\n\t\t\tvar currentIndex = view.order[sectionId];\r\n\t\t\tvar nextIndex = currentIndex;\r\n\t\t\tif(currentIndex !== undefined){\r\n\t\t\t\tnextIndex =  currentIndex + dir;\r\n\t\t\t}else{\r\n\t\t\t\tnextIndex = (view.size && view.position) ? view.position : 0;\r\n\t\t\t}\r\n\r\n\t\t\tif(nextIndex < 0){\r\n\t\t\t\tnextIndex = 0;\r\n\t\t\t}\r\n\t\t\tvar options = view.options || view.y_unit;\r\n\r\n\t\t\tif(nextIndex >= options.length){\r\n\t\t\t\tnextIndex = options.length - 1;\r\n\t\t\t}\r\n\t\t\t//nextIndex = nextIndex < 0 ? nextIndex = (view.options || view.y_unit).length -1 : nextIndex;\r\n\r\n\t\t\tif(options[nextIndex]){\r\n\t\t\t\treturn options[nextIndex].key;\r\n\t\t\t}else{\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\tisValid: function(){\r\n\t\t\tvar state = scheduler.getState();\r\n\t\t\tvar isInRange = !(this.start_date.valueOf() < state.min_date.valueOf() || this.start_date.valueOf() >= state.max_date.valueOf());\r\n\r\n\t\t\tif(!isInRange) return false;\r\n\r\n\r\n\t\t\tif(!this.isVisible(this.start_date, this.end_date)) return false;\r\n\r\n\t\t\tvar view = this._getMultisectionView();\r\n\r\n\t\t\tif(view){\r\n\t\t\t\treturn (view.order[this.section] !== undefined);\r\n\t\t\t}else{\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tfallback:function(){\r\n\r\n\t\t\tvar defaultSlot = new scheduler.$keyboardNavigation.TimeSlot();\r\n\t\t\tif(!defaultSlot.isValid()){\r\n\t\t\t\treturn new scheduler.$keyboardNavigation.DataArea();\r\n\t\t\t}else{\r\n\t\t\t\treturn defaultSlot;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tgetNodes: function(){\r\n\t\t\treturn Array.prototype.slice.call(scheduler.$container.querySelectorAll(\".dhx_focus_slot\"));\r\n\t\t},\r\n\t\tgetNode: function(){\r\n\t\t\treturn this.getNodes()[0];\r\n\t\t},\r\n\r\n\t\tfocus: function(){\r\n\t\t\tif(this.section && scheduler.getView() && scheduler.getView().smart_rendering && scheduler.getView().scrollTo && !scheduler.$container.querySelector(`[data-section-id=\"${this.section}\"]`)){\r\n\t\t\t\tscheduler.getView().scrollTo({section: this.section});\r\n\t\t\t}\r\n\t\t\tscheduler.$keyboardNavigation.marker.render(this.start_date, this.end_date, this.section);\r\n\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this);\r\n\t\t\tscheduler.$keyboardNavigation._pasteDate = this.start_date;\r\n\t\t\tscheduler.$keyboardNavigation._pasteSection = this.section;\r\n\r\n\t\t},\r\n\t\tblur: function(){\r\n\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this);\r\n\t\t\tscheduler.$keyboardNavigation.marker.clear();\r\n\t\t},\r\n\r\n\t\t_modes: scheduler.$keyboardNavigation.SchedulerNode.prototype._modes,\r\n\r\n\t\t_getMode: scheduler.$keyboardNavigation.SchedulerNode.prototype.getMode,\r\n\r\n\t\taddMonthDate: function(date, dir, extend){\r\n\t\t\tvar res;\r\n\t\t\tswitch (dir){\r\n\t\t\t\tcase \"up\":\r\n\t\t\t\t\tres = scheduler.date.add(date, -1, \"week\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"down\":\r\n\t\t\t\t\tres = scheduler.date.add(date, 1, \"week\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\tres = scheduler.date.day_start(scheduler.date.add(date, -1, \"day\"));\r\n\t\t\t\t\tres = this.findVisibleColumn(res, -1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\tres = scheduler.date.day_start(scheduler.date.add(date, 1, \"day\"));\r\n\t\t\t\t\tres = this.findVisibleColumn(res, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tres = scheduler.date.day_start(new Date(date));\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tvar state = scheduler.getState();\r\n\t\t\tif(date.valueOf() < state.min_date.valueOf() || (!extend && date.valueOf() >= state.max_date.valueOf())){\r\n\t\t\t\tres = new Date(state.min_date);\r\n\t\t\t}\r\n\r\n\t\t\treturn res;\r\n\t\t},\r\n\r\n\t\tnextMonthSlot: function(slot, dir, extend){\r\n\r\n\t\t\tvar start, end;\r\n\t\t\tstart = this.addMonthDate(slot.start_date, dir, extend);\r\n\r\n\t\t\tstart.setHours(scheduler.config.first_hour);\r\n\t\t\tend = new Date(start);\r\n\t\t\tend.setHours(scheduler.config.last_hour);\r\n\t\t\treturn {start_date: start, end_date: end};\r\n\t\t},\r\n\r\n\t\t_alignTimeSlot: function(date, minDate, unit, step){\r\n\t\t\tvar currentDate = new Date(minDate);\r\n\t\t\twhile(currentDate.valueOf() < date.valueOf()){\r\n\t\t\t\tcurrentDate = scheduler.date.add(currentDate, step, unit);\r\n\t\t\t}\r\n\r\n\t\t\tif(currentDate.valueOf() > date.valueOf()){\r\n\t\t\t\tcurrentDate = scheduler.date.add(currentDate, -step, unit);\r\n\t\t\t}\r\n\r\n\t\t\treturn currentDate;\r\n\t\t},\r\n\r\n\t\tnextTimelineSlot: function(slot, dir, extend){\r\n\t\t\tvar state = scheduler.getState();\r\n\t\t\tvar view = scheduler.matrix[state.mode];\r\n\r\n\t\t\tvar startDate  = this._alignTimeSlot(slot.start_date, scheduler.date[view.name + \"_start\"](new Date(slot.start_date)), view.x_unit, view.x_step);\r\n\t\t\tvar endDate = this._alignTimeSlot(slot.end_date, scheduler.date[view.name + \"_start\"](new Date(slot.end_date)), view.x_unit, view.x_step);\r\n\r\n\t\t\tif(endDate.valueOf() <= startDate.valueOf()){\r\n\t\t\t\tendDate = scheduler.date.add(startDate, view.x_step, view.x_unit);\r\n\t\t\t}\r\n\t\t\tvar newPos = this.clone(slot);\r\n\t\t\tnewPos.start_date = startDate;\r\n\t\t\tnewPos.end_date = endDate;\r\n\t\t\tnewPos.section = slot.section || this._getNextSection();\r\n\r\n\r\n\t\t\tswitch (dir){\r\n\t\t\t\tcase \"up\":\r\n\t\t\t\t\tnewPos.section = this._getNextSection(slot.section, -1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"down\":\r\n\t\t\t\t\tnewPos.section = this._getNextSection(slot.section, +1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\tnewPos.start_date = this.findVisibleColumn(scheduler.date.add(newPos.start_date, -view.x_step, view.x_unit), -1);\r\n\t\t\t\t\tnewPos.end_date = scheduler.date.add(newPos.start_date, view.x_step, view.x_unit);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\tnewPos.start_date = this.findVisibleColumn(scheduler.date.add(newPos.start_date, view.x_step, view.x_unit), 1);\r\n\t\t\t\t\tnewPos.end_date = scheduler.date.add(newPos.start_date, view.x_step, view.x_unit);\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif(newPos.start_date.valueOf() < state.min_date.valueOf() || newPos.start_date.valueOf() >= state.max_date.valueOf()){\r\n\t\t\t\tif(extend && newPos.start_date.valueOf() >= state.max_date.valueOf()){\r\n\t\t\t\t\tnewPos.start_date = new Date(state.max_date);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnewPos.start_date = scheduler.date[state.mode + \"_start\"](scheduler.date.add(state.date, dir == \"left\" ? -1 : 1, state.mode));\r\n\t\t\t\t\tnewPos.end_date = scheduler.date.add(newPos.start_date, view.x_step, view.x_unit);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn newPos;\r\n\t\t},\r\n\r\n\t\tnextUnitsSlot: function(slot, dir, extend){\r\n\t\t\tvar newPos = this.clone(slot);\r\n\t\t\tnewPos.section = slot.section || this._getNextSection();\r\n\r\n\t\t\tvar section = slot.section || this._getNextSection();\r\n\t\t\tvar state = scheduler.getState();\r\n\t\t\tvar view = scheduler._props[state.mode];\r\n\t\t\tswitch (dir){\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\tsection = this._getNextSection(slot.section, -1);\r\n\t\t\t\t\tvar optionsCount = view.size ? (view.size - 1) : view.options.length;\r\n\r\n\t\t\t\t\tif(view.days > 1 && (view.order[section] == optionsCount - 1)){\r\n\t\t\t\t\t\tif(scheduler.date.add(slot.start_date, -1, \"day\").valueOf() >= state.min_date.valueOf()){\r\n\t\t\t\t\t\t\tnewPos = this.nextDaySlot(slot, dir, extend);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\tsection = this._getNextSection(slot.section, 1);\r\n\t\t\t\t\tif(view.days > 1 && !view.order[section]){\r\n\t\t\t\t\t\tif(scheduler.date.add(slot.start_date, 1, \"day\").valueOf() < state.max_date.valueOf()){\r\n\t\t\t\t\t\t\tnewPos = this.nextDaySlot(slot, dir, extend);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tnewPos = this.nextDaySlot(slot, dir, extend);\r\n\t\t\t\t\tsection = slot.section;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tnewPos.section = section;\r\n\t\t\treturn newPos;\r\n\t\t},\r\n\r\n\t\t_moveDate: function(oldDate, dir){\r\n\t\t\tvar newDate = this.findVisibleColumn(scheduler.date.add(oldDate, dir, \"day\"), dir);\r\n\t\t\tnewDate.setHours(oldDate.getHours());\r\n\t\t\tnewDate.setMinutes(oldDate.getMinutes());\r\n\t\t\treturn newDate;\r\n\t\t},\r\n\r\n\t\tisBeforeLastHour: function(date, isStartDate){\r\n\t\t\tvar minutes = date.getMinutes(),\r\n\t\t\t\thours = date.getHours(),\r\n\t\t\t\tlast_hour = scheduler.config.last_hour;\r\n\t\t\treturn (hours < last_hour || (!isStartDate && ((last_hour == 24 || hours == last_hour) && !minutes)));\r\n\t\t},\r\n\t\tisAfterFirstHour: function(date, isStartDate){\r\n\t\t\tvar minutes = date.getMinutes(),\r\n\t\t\t\thours = date.getHours(),\r\n\t\t\t\tfirst_hour = scheduler.config.first_hour,\r\n\t\t\t\tlast_hour = scheduler.config.last_hour;\r\n\t\t\treturn (hours >= first_hour || (!isStartDate && (!minutes && ((!hours &&  last_hour == 24) || (hours == last_hour)))));\r\n\t\t},\r\n\t\tisInVisibleDayTime: function(date, isStartDate){\r\n\t\t\treturn (this.isBeforeLastHour(date, isStartDate) && this.isAfterFirstHour(date, isStartDate));\r\n\t\t},\r\n\r\n\t\tnextDaySlot: function(slot, dir, extend){\r\n\t\t\tvar start, end;\r\n\r\n\t\t\tvar key_nav_step = scheduler.config.key_nav_step;\r\n\r\n\t\t\tvar date = this._alignTimeSlot(slot.start_date, scheduler.date.day_start(new Date(slot.start_date)), \"minute\", key_nav_step);\r\n\r\n\r\n\t\t\tvar oldStart = slot.start_date;\r\n\r\n\t\t\tswitch (dir){\r\n\t\t\t\tcase \"up\":\r\n\t\t\t\t\tstart = scheduler.date.add(date, -key_nav_step, \"minute\");\r\n\r\n\t\t\t\t\tif(!this.isInVisibleDayTime(start, true)){\r\n\t\t\t\t\t\tif (!extend || this.isInVisibleDayTime(oldStart, true)) {\r\n\r\n\t\t\t\t\t\t\tvar toNextDay = true;\r\n\t\t\t\t\t\t\tif(extend && scheduler.date.date_part(new Date(start)).valueOf() != scheduler.date.date_part(new Date(oldStart)).valueOf())\r\n\t\t\t\t\t\t\t\ttoNextDay = false;\r\n\t\t\t\t\t\t\tif(toNextDay)\r\n\t\t\t\t\t\t\t\tstart = this.findVisibleColumn(scheduler.date.add(slot.start_date, -1, \"day\"), -1);\r\n\r\n\t\t\t\t\t\t\tstart.setHours(scheduler.config.last_hour);\r\n\t\t\t\t\t\t\tstart.setMinutes(0);\r\n\t\t\t\t\t\t\tstart = scheduler.date.add(start, -key_nav_step, \"minute\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tend = scheduler.date.add(start, key_nav_step, \"minute\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"down\":\r\n\t\t\t\t\tstart = scheduler.date.add(date, key_nav_step, \"minute\");\r\n\r\n\t\t\t\t\tvar testEnd = extend ? start : scheduler.date.add(start, key_nav_step, \"minute\");\r\n\t\t\t\t\tif(!this.isInVisibleDayTime(testEnd, false)){\r\n\t\t\t\t\t\tif(!extend || this.isInVisibleDayTime(oldStart, false)) {\r\n\t\t\t\t\t\t\tif (!extend) {\r\n\t\t\t\t\t\t\t\tstart = this.findVisibleColumn(scheduler.date.add(slot.start_date, 1, \"day\"), 1);\r\n\t\t\t\t\t\t\t\tstart.setHours(scheduler.config.first_hour);\r\n\t\t\t\t\t\t\t\tstart.setMinutes(0);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar toNextDay = true;\r\n\t\t\t\t\t\t\t\tif (scheduler.date.date_part(new Date(oldStart)).valueOf() == oldStart.valueOf()) {\r\n\t\t\t\t\t\t\t\t\ttoNextDay = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (toNextDay) {\r\n\t\t\t\t\t\t\t\t\tstart = this.findVisibleColumn(scheduler.date.add(slot.start_date, 1, \"day\"), 1);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tstart.setHours(scheduler.config.first_hour);\r\n\t\t\t\t\t\t\t\tstart.setMinutes(0);\r\n\t\t\t\t\t\t\t\tstart = scheduler.date.add(start, key_nav_step, \"minute\");\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tend = scheduler.date.add(start, key_nav_step, \"minute\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\tstart = this._moveDate(slot.start_date, -1);\r\n\t\t\t\t\tend = this._moveDate(slot.end_date, -1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\tstart = this._moveDate(slot.start_date, 1);\r\n\t\t\t\t\tend = this._moveDate(slot.end_date, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tstart = date;\r\n\t\t\t\t\tend = scheduler.date.add(start, key_nav_step, \"minute\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn {start_date: start, end_date: end};\r\n\t\t},\r\n\t\tnextWeekAgendaSlot: function(slot, dir){\r\n\t\t\tvar start, end;\r\n\t\t\tvar state = scheduler.getState();\r\n\r\n\t\t\tswitch (dir){\r\n\t\t\t\tcase \"down\":\r\n\t\t\t\tcase \"left\":\r\n\t\t\t\t\tstart = scheduler.date.day_start(scheduler.date.add(slot.start_date, -1, \"day\"));\r\n\t\t\t\t\tstart = this.findVisibleColumn(start, -1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"up\":\r\n\t\t\t\tcase \"right\":\r\n\t\t\t\t\tstart = scheduler.date.day_start(scheduler.date.add(slot.start_date, 1, \"day\"));\r\n\t\t\t\t\tstart = this.findVisibleColumn(start, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tstart = scheduler.date.day_start(slot.start_date);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif(slot.start_date.valueOf() < state.min_date.valueOf() || slot.start_date.valueOf() >= state.max_date.valueOf()){\r\n\t\t\t\tstart = new Date(state.min_date);\r\n\r\n\t\t\t}\r\n\t\t\tend = new Date(start);\r\n\t\t\tend.setHours(scheduler.config.last_hour);\r\n\t\t\treturn {start_date: start, end_date: end};\r\n\t\t},\r\n\t\tnextAgendaSlot: function(slot, dir){\r\n\t\t\treturn {start_date: slot.start_date, end_date: slot.end_date};\r\n\t\t},\r\n\r\n\r\n\t\tisDateVisible: function(date){\r\n\t\t\tif(!scheduler._ignores_detected)\r\n\t\t\t\treturn true;\r\n\r\n\t\t\tvar timeline = scheduler.matrix && scheduler.matrix[scheduler.getState().mode];\r\n\r\n\t\t\tvar index;\r\n\t\t\tif(timeline){\r\n\t\t\t\tindex = scheduler._get_date_index(timeline, date);\r\n\t\t\t}else{\r\n\t\t\t\tindex = scheduler.locate_holder_day(date);\r\n\t\t\t}\r\n\r\n\t\t\treturn !scheduler._ignores[index];\r\n\t\t},\r\n\r\n\t\tfindVisibleColumn: function(start, dir){\r\n\t\t\tvar date = start;\r\n\t\t\tdir = dir || 1;\r\n\t\t\tvar range = scheduler.getState();\r\n\r\n\t\t\twhile(!this.isDateVisible(date) && ((dir > 0 && date.valueOf() <= range.max_date.valueOf()) || (dir < 0 && date.valueOf() >= range.min_date.valueOf()))){\r\n\t\t\t\tdate = this.nextDateColumn(date, dir);\r\n\t\t\t}\r\n\r\n\t\t\treturn date;\r\n\t\t},\r\n\r\n\t\tnextDateColumn: function(start, dir){\r\n\t\t\tdir = dir || 1;\r\n\t\t\tvar timeline = scheduler.matrix && scheduler.matrix[scheduler.getState().mode];\r\n\r\n\t\t\tvar date;\r\n\t\t\tif(timeline){\r\n\t\t\t\tdate = scheduler.date.add(start, dir * timeline.x_step, timeline.x_unit);\r\n\t\t\t}else{\r\n\t\t\t\tdate = scheduler.date.day_start(scheduler.date.add(start, dir, \"day\"));\r\n\t\t\t}\r\n\r\n\t\t\treturn date;\r\n\t\t},\r\n\r\n\t\tisVisible:function(from, to){\r\n\t\t\tif(!scheduler._ignores_detected)\r\n\t\t\t\treturn true;\r\n\r\n\t\t\tvar current = new Date(from);\r\n\r\n\t\t\twhile(current.valueOf() < to.valueOf()){\r\n\t\t\t\tif(this.isDateVisible(current)) return true;\r\n\t\t\t\tcurrent = this.nextDateColumn(current);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t},\r\n\r\n\t\tnextSlot: function(slot, dir, view, extend){\r\n\t\t\tvar next;\r\n\t\t\tview = view || this._getMode();\r\n\r\n\t\t\tvar tempSlot = scheduler.$keyboardNavigation.TimeSlot.prototype.clone(slot);\r\n\r\n\t\t\tswitch (view){\r\n\t\t\t\tcase this._modes.units:\r\n\t\t\t\t\tnext = this.nextUnitsSlot(tempSlot, dir, extend);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.timeline:\r\n\t\t\t\t\tnext = this.nextTimelineSlot(tempSlot, dir, extend);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.year:\r\n\t\t\t\t\tnext = this.nextMonthSlot(tempSlot, dir, extend);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.month:\r\n\t\t\t\t\tnext = this.nextMonthSlot(tempSlot, dir, extend);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.weekAgenda:\r\n\t\t\t\t\tnext = this.nextWeekAgendaSlot(tempSlot, dir, extend);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.list:\r\n\t\t\t\t\tnext = this.nextAgendaSlot(tempSlot, dir, extend);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.dayColumns:\r\n\t\t\t\t\tnext = this.nextDaySlot(tempSlot, dir, extend);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif(next.start_date.valueOf() >= next.end_date.valueOf()){\r\n\t\t\t\tnext = this.nextSlot(next, dir, view);\r\n\t\t\t}\r\n\r\n\t\t\treturn scheduler.$keyboardNavigation.TimeSlot.prototype.clone(next);\r\n\r\n\t\t},\r\n\r\n\t\textendSlot: function(slot, dir){\r\n\t\t\tvar view = this._getMode();\r\n\t\t\tvar next;\r\n\t\t\tswitch (view){\r\n\t\t\t\tcase this._modes.units:\r\n\t\t\t\t\tif(dir == \"left\" || dir == \"right\"){\r\n\t\t\t\t\t\tnext = this.nextUnitsSlot(slot, dir);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tnext = this.extendUnitsSlot(slot, dir);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.timeline:\r\n\t\t\t\t\tif(dir == \"down\" || dir == \"up\"){\r\n\t\t\t\t\t\tnext = this.nextTimelineSlot(slot, dir);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tnext = this.extendTimelineSlot(slot, dir);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.year:\r\n\t\t\t\t\tnext = this.extendMonthSlot(slot, dir);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.month:\r\n\t\t\t\t\tnext = this.extendMonthSlot(slot, dir);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.dayColumns:\r\n\t\t\t\t\tnext = this.extendDaySlot(slot, dir);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase this._modes.weekAgenda:\r\n\t\t\t\t\tnext = this.extendWeekAgendaSlot(slot, dir);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tnext = slot;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tvar range = scheduler.getState();\r\n\t\t\tif(next.start_date.valueOf() < range.min_date.valueOf()){\r\n\t\t\t\tnext.start_date = this.findVisibleColumn(range.min_date);\r\n\t\t\t\tnext.start_date.setHours(scheduler.config.first_hour);\r\n\t\t\t}\r\n\r\n\t\t\tif(next.end_date.valueOf() > range.max_date.valueOf()){\r\n\t\t\t//\tnext.end_date =  new Date(slot.end_date);\r\n\t\t\t\tnext.end_date = this.findVisibleColumn(range.max_date, -1);\r\n\t\t\t}\r\n\r\n\r\n\t\t\treturn scheduler.$keyboardNavigation.TimeSlot.prototype.clone(next);\r\n\t\t},\r\n\r\n\t\textendTimelineSlot: function(slot, direction){\r\n\t\t\treturn this.extendGenericSlot({\r\n\t\t\t\t\"left\":\"start_date\",\r\n\t\t\t\t\"right\":\"end_date\"\r\n\t\t\t\t},\r\n\t\t\t\tslot,\r\n\t\t\t\tdirection,\r\n\t\t\t\t\"timeline\"\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\textendWeekAgendaSlot: function(slot, direction){\r\n\t\t\treturn this.extendGenericSlot({\r\n\t\t\t\t\t\"left\":\"start_date\",\r\n\t\t\t\t\t\"right\":\"end_date\"\r\n\t\t\t\t},\r\n\t\t\t\tslot,\r\n\t\t\t\tdirection,\r\n\t\t\t\t\"weekAgenda\"\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\textendGenericSlot: function(allowedDirections, slot, direction, type){\r\n\t\t\tvar next;\r\n\t\t\tvar moveDate = slot.movingDate;\r\n\r\n\t\t\tif(!moveDate){\r\n\t\t\t\tmoveDate = allowedDirections[direction];\r\n\t\t\t}\r\n\r\n\t\t\tif(!moveDate || !allowedDirections[direction]){\r\n\t\t\t\treturn slot;\r\n\t\t\t}\r\n\r\n\t\t\tif(direction){\r\n\t\t\t\tnext = this.nextSlot({start_date: slot[moveDate], section: slot.section}, direction, type, true);\r\n\r\n\t\t\t\tif(next.start_date.valueOf() == slot.start_date.valueOf()){\r\n\t\t\t\t\tnext = this.nextSlot({start_date: next.start_date, section:next.section}, direction, type, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnext.movingDate = moveDate;\r\n\t\t\t}else{\r\n\t\t\t\treturn scheduler.$keyboardNavigation.TimeSlot.prototype.clone(slot);\r\n\t\t\t}\r\n\r\n\t\t\tvar newDates = this.extendSlotDates(slot, next, next.movingDate);\r\n\r\n\t\t\tif(newDates.end_date.valueOf() <= newDates.start_date.valueOf()){\r\n\t\t\t\tnext.movingDate = next.movingDate == \"end_date\" ? \"start_date\" : \"end_date\";\r\n\t\t\t}\r\n\t\t\tnewDates = this.extendSlotDates(slot, next, next.movingDate);\r\n\r\n\t\t\tnext.start_date = newDates.start_date;\r\n\t\t\tnext.end_date = newDates.end_date;\r\n\t\t\treturn next;\r\n\t\t},\r\n\r\n\t\textendSlotDates: function(oldSlot, newSlot, dateDirection){\r\n\t\t\tvar res = {start_date:null, end_date:null};\r\n\r\n\t\t\tif(dateDirection == \"start_date\"){\r\n\t\t\t\tres.start_date = newSlot.start_date;\r\n\t\t\t\tres.end_date = oldSlot.end_date;\r\n\t\t\t}else{\r\n\t\t\t\tres.start_date = oldSlot.start_date;\r\n\t\t\t\tres.end_date = newSlot.start_date;\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\r\n\t\t},\r\n\r\n\t\textendMonthSlot: function(slot, direction){\r\n\t\t\tvar slot = this.extendGenericSlot({\r\n\t\t\t\t\t\"up\":\"start_date\",\r\n\t\t\t\t\t\"down\":\"end_date\",\r\n\t\t\t\t\t\"left\":\"start_date\",\r\n\t\t\t\t\t\"right\":\"end_date\"\r\n\t\t\t\t},\r\n\t\t\t\tslot,\r\n\t\t\t\tdirection,\r\n\t\t\t\t\"month\"\r\n\t\t\t);\r\n\r\n\t\t\tslot.start_date.setHours(scheduler.config.first_hour);\r\n\t\t\tslot.end_date = scheduler.date.add(slot.end_date, -1, \"day\");\r\n\t\t\tslot.end_date.setHours(scheduler.config.last_hour);\r\n\t\t\treturn slot;\r\n\t\t},\r\n\r\n\t\textendUnitsSlot: function(slot, direction){\r\n\t\t\tvar next;\r\n\r\n\t\t\tswitch (direction){\r\n\t\t\t\tcase \"down\":\r\n\t\t\t\tcase \"up\":\r\n\t\t\t\t\tnext = this.extendDaySlot(slot, direction);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tnext = slot;\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tnext.section = slot.section;\r\n\t\t\treturn next;\r\n\t\t},\r\n\t\textendDaySlot: function(slot, direction){\r\n\t\t\treturn this.extendGenericSlot({\r\n\t\t\t\t\t\"up\":\"start_date\",\r\n\t\t\t\t\t\"down\":\"end_date\",\r\n\t\t\t\t\t\"left\":\"start_date\",\r\n\t\t\t\t\t\"right\":\"end_date\"\r\n\t\t\t\t},\r\n\t\t\t\tslot,\r\n\t\t\t\tdirection,\r\n\t\t\t\t\"dayColumns\"\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\tscrollSlot: function(dir){\r\n\t\t\tvar state = scheduler.getState();\r\n\r\n\t\t\tvar slot = this.nextSlot(this, dir);\r\n\t\t\tif(slot.start_date.valueOf() < state.min_date.valueOf() || slot.start_date.valueOf() >= state.max_date.valueOf()){\r\n\t\t\t\tscheduler.setCurrentView(new Date(slot.start_date));\r\n\t\t\t}\r\n\r\n\t\t\tthis.moveTo(slot);\r\n\t\t},\r\n\r\n\t\tkeys: {\r\n\t\t\t\"left\": function(){\r\n\t\t\t\tthis.scrollSlot(\"left\");\r\n\t\t\t},\r\n\t\t\t\"right\": function () {\r\n\t\t\t\tthis.scrollSlot(\"right\");\r\n\t\t\t},\r\n\t\t\t\"down\": function () {\r\n\r\n\t\t\t\tvar mode =  this._getMode();\r\n\t\t\t\tif(mode == this._modes.list){\r\n\t\t\t\t\tscheduler.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.scrollSlot(\"down\");\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t\"up\": function () {\r\n\t\t\t\tvar mode =  this._getMode();\r\n\t\t\t\tif(mode == this._modes.list){\r\n\t\t\t\t\tscheduler.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler();\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.scrollSlot(\"up\");\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\t\"shift+down\":function(){\r\n\t\t\t\tthis.moveTo(this.extendSlot(this, \"down\"));\r\n\t\t\t},\r\n\t\t\t\"shift+up\":function(){\r\n\t\t\t\tthis.moveTo(this.extendSlot(this, \"up\"));\r\n\t\t\t},\r\n\t\t\t\"shift+right\":function(){\r\n\t\t\t\tthis.moveTo(this.extendSlot(this, \"right\"));\r\n\t\t\t},\r\n\t\t\t\"shift+left\":function(){\r\n\t\t\t\tthis.moveTo(this.extendSlot(this, \"left\"));\r\n\t\t\t},\r\n\r\n\r\n\t\t\t\"enter\": function(){\r\n\t\t\t\tvar obj = {start_date: new Date(this.start_date), end_date: new Date(this.end_date)};\r\n\r\n\t\t\t\tvar mode = scheduler.getState().mode;\r\n\t\t\t\tif(scheduler.matrix && scheduler.matrix[mode]){\r\n\r\n\t\t\t\t\tvar timeline = scheduler.matrix[scheduler.getState().mode];\r\n\t\t\t\t\tobj[timeline.y_property] = this.section;\r\n\t\t\t\t}else if(scheduler._props && scheduler._props[mode]){\r\n\t\t\t\t\tvar unit = scheduler._props[mode];\r\n\t\t\t\t\tobj[unit.map_to] = this.section;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tscheduler.addEventNow(obj);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nscheduler.$keyboardNavigation.TimeSlot.prototype.bindAll(scheduler.$keyboardNavigation.TimeSlot.prototype.keys);\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.MinicalButton = function(div, index){\r\n\tthis.container = div;\r\n\tthis.index = index || 0;\r\n};\r\n\r\nscheduler.$keyboardNavigation.MinicalButton.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.KeyNavNode,\r\n\t{\r\n\r\n\t\tisValid: function(){\r\n\t\t\tvar container = this.container;\r\n\t\t\treturn !!container.offsetWidth;// valid if container is visible\r\n\t\t},\r\n\r\n\t\tfallback: function(){\r\n\t\t\tvar defaultSlot = new scheduler.$keyboardNavigation.TimeSlot();\r\n\t\t\tif(defaultSlot.isValid()){\r\n\t\t\t\treturn defaultSlot;\r\n\t\t\t}else{\r\n\t\t\t\treturn new scheduler.$keyboardNavigation.DataArea();\r\n\t\t\t}\r\n\t\t},\r\n\t\tfocus: function(){\r\n\t\t\tscheduler.$keyboardNavigation.dispatcher.globalNode.disable();\r\n\t\t\tthis.container.removeAttribute(\"tabindex\");\r\n\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this);\r\n\r\n\t\t},\r\n\t\tblur: function(){\r\n\t\t\tthis.container.setAttribute(\"tabindex\", \"0\");\r\n\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this);\r\n\t\t},\r\n\t\tgetNode: function(){\r\n\t\t\tif(!this.index){\r\n\t\t\t\treturn this.container.querySelector(\".dhx_cal_prev_button\");\r\n\t\t\t}else{\r\n\t\t\t\treturn this.container.querySelector(\".dhx_cal_next_button\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tkeys: {\r\n\t\t\t\"right\": function(e){\r\n\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.MinicalButton(this.container, this.index ? 0 : 1));\r\n\t\t\t},\r\n\t\t\t\"left\": function(e){\r\n\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.MinicalButton(this.container, this.index ? 0 : 1));\r\n\t\t\t},\r\n\t\t\t\"down\": function(){\r\n\t\t\t\tvar next = new scheduler.$keyboardNavigation.MinicalCell(this.container, 0, 0);\r\n\t\t\t\tif(next && !next.isValid()){\r\n\t\t\t\t\tnext = next.fallback();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.moveTo(next);\r\n\t\t\t},\r\n\t\t\t\"enter\": function(e){\r\n\t\t\t\tthis.getNode().click();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nscheduler.$keyboardNavigation.MinicalButton.prototype.bindAll(scheduler.$keyboardNavigation.MinicalButton.prototype.keys);\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.MinicalCell = function(div, row, col){\r\n\tthis.container = div;\r\n\tthis.row = row || 0;\r\n\tthis.col = col || 0;\r\n};\r\n\r\nscheduler.$keyboardNavigation.MinicalCell.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.KeyNavNode,\r\n\t{\r\n\r\n\t\tisValid: function(){\r\n\t\t\tvar grid = this._getGrid();\r\n\t\t\treturn !!(grid[this.row] && grid[this.row][this.col]);\r\n\t\t},\r\n\t\tfallback: function(){\r\n\t\t\tvar row = this.row;\r\n\t\t\tvar col = this.col;\r\n\t\t\tvar grid = this._getGrid();\r\n\t\t\tif(!grid[row]){\r\n\t\t\t\trow = 0;\r\n\t\t\t}\r\n\t\t\tvar dir = true;\r\n\t\t\tif(row > grid.length / 2){\r\n\t\t\t\tdir = false;\r\n\t\t\t}\r\n\r\n\t\t\tif(!grid[row]){\r\n\t\t\t\tvar defaultSlot = new scheduler.$keyboardNavigation.TimeSlot();\r\n\t\t\t\tif(defaultSlot.isValid()){\r\n\t\t\t\t\treturn defaultSlot;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn new scheduler.$keyboardNavigation.DataArea();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(dir){\r\n\t\t\t\tfor(var c = col; grid[row] && c < grid[row].length; c++){\r\n\t\t\t\t\tif(!grid[row][c] && c == grid[row].length - 1){\r\n\t\t\t\t\t\trow++;\r\n\t\t\t\t\t\tcol = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(grid[row][c]){\r\n\t\t\t\t\t\treturn new scheduler.$keyboardNavigation.MinicalCell(this.container, row, c);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tfor(var c = col; grid[row] && c < grid[row].length; c--){\r\n\t\t\t\t\tif(!grid[row][c] && !c){\r\n\t\t\t\t\t\trow--;\r\n\t\t\t\t\t\tcol = grid[row].length - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(grid[row][c]){\r\n\t\t\t\t\t\treturn new scheduler.$keyboardNavigation.MinicalCell(this.container, row, c);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn new scheduler.$keyboardNavigation.MinicalButton(this.container, 0);\r\n\t\t},\r\n\t\tfocus: function(){\r\n\t\t\tscheduler.$keyboardNavigation.dispatcher.globalNode.disable();\r\n\r\n\t\t\tthis.container.removeAttribute(\"tabindex\");\r\n\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this);\r\n\t\t},\r\n\t\tblur: function(){\r\n\t\t\tthis.container.setAttribute(\"tabindex\", \"0\");\r\n\t\t\tscheduler.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this);\r\n\t\t},\r\n\t\t_getNode: function(row, col){\r\n\t\t\treturn this.container.querySelector(\".dhx_year_body tr:nth-child(\"+(row + 1) + \") td:nth-child(\"+(col + 1)+\")\");\r\n\t\t},\r\n\t\tgetNode: function(){\r\n\t\t\treturn this._getNode(this.row, this.col);\r\n\t\t},\r\n\r\n\t\t_getGrid: function(){\r\n\t\t\tvar rows = this.container.querySelectorAll(\".dhx_year_body tr\");\r\n\t\t\tvar grid = [];\r\n\t\t\tfor(var i = 0; i < rows.length; i++){\r\n\t\t\t\tgrid[i] = [];\r\n\t\t\t\tvar row = rows[i];\r\n\t\t\t\tvar cells = row.querySelectorAll(\"td\");\r\n\t\t\t\tfor(var c = 0; c < cells.length; c++){\r\n\t\t\t\t\tvar cell = cells[c];\r\n\t\t\t\t\tvar enabled = true;\r\n\t\t\t\t\tvar css = scheduler._getClassName(cell);\r\n\t\t\t\t\tif(css.indexOf(\"dhx_after\") > -1 || css.indexOf(\"dhx_before\") > -1 || css.indexOf(\"dhx_scale_ignore\") > -1){\r\n\t\t\t\t\t\tenabled = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgrid[i][c] = enabled;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn grid;\r\n\t\t},\r\n\r\n\r\n\t\tkeys: {\r\n\t\t\t\"right\": function(e){\r\n\t\t\t\tvar grid = this._getGrid();\r\n\t\t\t\tvar newRow = this.row;\r\n\t\t\t\tvar newCol = this.col + 1;\r\n\t\t\t\tif(!grid[newRow] || !grid[newRow][newCol]){\r\n\t\t\t\t\tif(grid[newRow + 1]){\r\n\t\t\t\t\t\tnewRow = newRow + 1;\r\n\t\t\t\t\t\tnewCol = 0;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tnewCol = this.col;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar next = new scheduler.$keyboardNavigation.MinicalCell(this.container, newRow, newCol);\r\n\t\t\t\tif(!next.isValid()){\r\n\t\t\t\t\tnext = next.fallback();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.moveTo(next);\r\n\t\t\t},\r\n\t\t\t\"left\": function(e){\r\n\t\t\t\tvar grid = this._getGrid();\r\n\t\t\t\tvar newRow = this.row;\r\n\t\t\t\tvar newCol = this.col - 1;\r\n\t\t\t\tif(!grid[newRow] || !grid[newRow][newCol]){\r\n\t\t\t\t\tif(grid[newRow - 1]){\r\n\t\t\t\t\t\tnewRow = newRow - 1;\r\n\t\t\t\t\t\tnewCol = grid[newRow].length - 1;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tnewCol = this.col;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar next = new scheduler.$keyboardNavigation.MinicalCell(this.container, newRow, newCol);\r\n\t\t\t\tif(!next.isValid()){\r\n\t\t\t\t\tnext = next.fallback();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.moveTo(next);\r\n\t\t\t},\r\n\t\t\t\"down\": function(){\r\n\t\t\t\tvar grid = this._getGrid();\r\n\t\t\t\tvar newRow = this.row + 1;\r\n\t\t\t\tvar newCol = this.col;\r\n\r\n\t\t\t\tif(!grid[newRow] || !grid[newRow][newCol]){\r\n\t\t\t\t\tnewRow = this.row;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar next = new scheduler.$keyboardNavigation.MinicalCell(this.container, newRow, newCol);\r\n\t\t\t\tif(!next.isValid()){\r\n\t\t\t\t\tnext = next.fallback();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.moveTo(next);\r\n\t\t\t},\r\n\t\t\t\"up\": function(){\r\n\t\t\t\tvar grid = this._getGrid();\r\n\t\t\t\tvar newRow = this.row - 1;\r\n\t\t\t\tvar newCol = this.col;\r\n\r\n\t\t\t\tif(!grid[newRow] || !grid[newRow][newCol]){\r\n\t\t\t\t\tvar index = 0;\r\n\t\t\t\t\tif(this.col > grid[this.row].length / 2){\r\n\t\t\t\t\t\tindex = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.MinicalButton(this.container, index));\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar next = new scheduler.$keyboardNavigation.MinicalCell(this.container, newRow, newCol);\r\n\t\t\t\t\tif(!next.isValid()){\r\n\t\t\t\t\t\tnext = next.fallback();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.moveTo(next);\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t\"enter\": function(e){\r\n\t\t\t\tthis.getNode().querySelector(\".dhx_month_head\").click();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nscheduler.$keyboardNavigation.MinicalCell.prototype.bindAll(scheduler.$keyboardNavigation.MinicalCell.prototype.keys);\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.DataArea = function(index){\r\n\tthis.index = index || 0;\r\n};\r\n\r\nscheduler.$keyboardNavigation.DataArea.prototype = scheduler._compose(\r\n\tscheduler.$keyboardNavigation.KeyNavNode,\r\n\t{\r\n\t\tgetNode: function(index){\r\n\t\t\treturn scheduler.$container.querySelector(\".dhx_cal_data\");\r\n\t\t},\r\n\r\n\t\t_handlers:null,\r\n\r\n\t\tisValid: function(){\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\tfallback:function(){\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tkeys: {\r\n\t\t\t\"up,down,right,left\":function(){\r\n\t\t\t\tthis.moveTo(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n);\r\n\r\nscheduler.$keyboardNavigation.DataArea.prototype.bindAll(scheduler.$keyboardNavigation.DataArea.prototype.keys);\r\n\r\n}","export default function(scheduler){\r\n\r\n\r\n\r\n(function(){\r\n\tvar modalsStack = [];\r\n\r\n\tfunction isModal(){\r\n\t\treturn !!(modalsStack.length);\r\n\t}\r\n\r\n\tfunction isChildOf(child, parent){\r\n\t\twhile(child && child != parent){\r\n\t\t\tchild = child.parentNode;\r\n\t\t}\r\n\r\n\t\treturn !!(child == parent);\r\n\t}\r\n\r\n\tfunction afterPopup(box){\r\n\t\tsetTimeout(function(){\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif(!isModal() && !(isChildOf(document.activeElement, scheduler.$container))) {\r\n\t\t\t\tscheduler.focus();\r\n\t\t\t}\r\n\t\t}, 1);\r\n\t}\r\n\tfunction startModal(box){\r\n\t\tscheduler.eventRemove(box, \"keydown\", trapFocus);\r\n\t\tscheduler.event(box, \"keydown\", trapFocus);\r\n\t\tmodalsStack.push(box);\r\n\t\t//scheduler.$keyboardNavigation.dispatcher.disable();\r\n\t}\r\n\r\n\tfunction endModal(){\r\n\t\tvar box = modalsStack.pop();\r\n\t\tif(box) {\r\n\t\t\tscheduler.eventRemove(box, \"keydown\", trapFocus);\r\n\t\t}\r\n\t\tafterPopup(box);\r\n\r\n\t}\r\n\r\n\tfunction isTopModal(box){\r\n\t//\tif(dhtmlx._modalsStack.length){\r\n\t//\t\treturn box == dhtmlx._modalsStack[dhtmlx._modalsStack.length - 1];\r\n\t//\t}else{\r\n\t\t\treturn box == modalsStack[modalsStack.length - 1];\r\n\t//\t}\r\n\r\n\t}\r\n\r\n\tfunction trapFocus(event){\r\n\t\tvar event = event || window.event;\r\n\t\tvar target = event.currentTarget;\r\n\t\tif(!isTopModal(target)) return;\r\n\r\n\t\tscheduler.$keyboardNavigation.trapFocus(target, event);\r\n\t}\r\n\r\n\tfunction traceLightbox(){\r\n\t\tstartModal(scheduler.getLightbox());\r\n\t}\r\n\r\n\tscheduler.attachEvent(\"onLightbox\", traceLightbox);\r\n\tscheduler.attachEvent(\"onAfterLightbox\", endModal);\r\n\r\n\tscheduler.attachEvent(\"onAfterQuickInfo\", function(){afterPopup();});\r\n\r\n\tif(!scheduler._keyNavMessagePopup) {\r\n\t\tscheduler._keyNavMessagePopup = true;\r\n\r\n\t\tvar focusElement = null;\r\n\t\tvar backupFocus = null;\r\n\t\tconst modalsStack = [];\r\n\t\tscheduler.attachEvent(\"onMessagePopup\", function(box){\r\n\t\t\tfocusElement = document.activeElement;\r\n\t\t\tbackupFocus = focusElement;\r\n\r\n\t\t\twhile(backupFocus && scheduler._getClassName(backupFocus).indexOf(\"dhx_cal_data\") < 0){\r\n\t\t\t\tbackupFocus = backupFocus.parentNode;\r\n\t\t\t}\r\n\t\t\tif(backupFocus){\r\n\t\t\t\tbackupFocus = backupFocus.parentNode;\r\n\t\t\t}\r\n\r\n\t\t\tscheduler.eventRemove(box, \"keydown\", trapFocus);\r\n\t\t\tscheduler.event(box, \"keydown\", trapFocus);\r\n\t\t\tmodalsStack.push(box);\r\n\t\t});\r\n\r\n\r\n\t\tscheduler.attachEvent(\"onAfterMessagePopup\", function () {\r\n\t\t\tvar box = modalsStack.pop();\r\n\t\t\tif(box) {\r\n\t\t\t\tscheduler.eventRemove(box, \"keydown\", trapFocus);\r\n\t\t\t}\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tvar currentTarget = document.activeElement;\r\n\t\t\t\twhile(currentTarget && scheduler._getClassName(currentTarget).indexOf(\"dhx_cal_light\") < 0){\r\n\t\t\t\t\tcurrentTarget = currentTarget.parentNode;\r\n\t\t\t\t}\r\n\t\t\t\tif(currentTarget)\r\n\t\t\t\t\treturn;\r\n\r\n\r\n\t\t\t\tif(focusElement && focusElement.parentNode){\r\n\t\t\t\t\tfocusElement.focus();\r\n\r\n\t\t\t\t}else if(backupFocus && backupFocus.parentNode){\r\n\t\t\t\t\tbackupFocus.focus();\r\n\t\t\t\t}\r\n\t\t\t\tfocusElement = null;\r\n\t\t\t\tbackupFocus = null;\r\n\r\n\t\t\t}, 1);\r\n\t\t});\r\n\t}\r\n\r\n\tscheduler.$keyboardNavigation.isModal = isModal;\r\n\r\n\r\n})();\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.dispatcher = {\r\n\tisActive: false,\r\n\tactiveNode: null,\r\n\tglobalNode: new scheduler.$keyboardNavigation.SchedulerNode(),\r\n\r\n\tkeepScrollPosition: function (callback) {\r\n\t\tvar top, left;\r\n\r\n\t\tvar scrollable = scheduler.$container.querySelector(\".dhx_timeline_scrollable_data\");\r\n\t\tif(!scrollable){\r\n\t\t\tscrollable = scheduler.$container.querySelector(\".dhx_cal_data\");\r\n\t\t}\r\n\r\n\t\tif(scrollable){\r\n\t\t\ttop = scrollable.scrollTop;\r\n\t\t\tleft = scrollable.scrollLeft;\r\n\t\t}\r\n\r\n\t\tcallback();\r\n\r\n\t\tif(scrollable){\r\n\t\t\tscrollable.scrollTop = top;\r\n\t\t\tscrollable.scrollLeft = left;\r\n\t\t}\r\n\t},\r\n\tenable: function(){\r\n\t\tif(!scheduler.$container){\r\n\t\t\t// do nothing if not initialized\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.isActive = true;\r\n\t\tvar self = this;\r\n\t\tthis.keepScrollPosition(function () {\r\n\t\t\tself.globalNode.enable();\r\n\t\t\tself.setActiveNode(self.getActiveNode());\r\n\t\t});\r\n\t},\r\n\r\n\tdisable: function(){\r\n\t\tthis.isActive = false;\r\n\t\tthis.globalNode.disable();\r\n\t},\r\n\r\n\tisEnabled: function(){\r\n\t\treturn !!this.isActive;\r\n\t},\r\n\r\n\tgetDefaultNode: function(){\r\n\t\treturn this.globalNode.getDefaultNode();\r\n\t},\r\n\r\n\tsetDefaultNode: function() {\r\n\t\tthis.setActiveNode(this.getDefaultNode());\r\n\t},\r\n\r\n\tgetActiveNode: function(){\r\n\t\tvar node = this.activeNode;\r\n\t\tif(node && !node.isValid()){\r\n\t\t\tnode = node.fallback();\r\n\t\t}\r\n\t\treturn node;\r\n\t},\r\n\r\n\tfocusGlobalNode: function(){\r\n\t\tthis.blurNode(this.globalNode);\r\n\t\tthis.focusNode(this.globalNode);\r\n\t},\r\n\r\n\tsetActiveNode: function(el){\r\n\t\tif(!el || !el.isValid())\r\n\t\t\treturn;\r\n\r\n\t\tif(this.activeNode){\r\n\t\t\tif(this.activeNode.compareTo(el)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(this.isEnabled()){\r\n\t\t\tthis.blurNode(this.activeNode);\r\n\t\t\tthis.activeNode = el;\r\n\t\t\tthis.focusNode(this.activeNode);\r\n\t\t}\r\n\t},\r\n\r\n\tfocusNode: function(el){\r\n\t\tif(el && el.focus){\r\n\t\t\tel.focus();\r\n\t\t\tif(el.getNode && document.activeElement != el.getNode()){\r\n\t\t\t\tthis.setActiveNode(new scheduler.$keyboardNavigation.DataArea());\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tblurNode: function(el){\r\n\t\tif(el && el.blur){\r\n\t\t\tel.blur();\r\n\t\t}\r\n\t},\r\n\r\n\tgetInlineEditor: function(id){\r\n\t\tvar editor = scheduler.$container.querySelector(\".dhx_cal_editor[\"+scheduler.config.event_attribute+\"='\"+id+\"'] textarea\");\r\n\t\tif(editor && editor.offsetWidth){\r\n\t\t\t// if exists and visible\r\n\t\t\treturn editor;\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\r\n\tkeyDownHandler: function (e) {\r\n\r\n\t\tif(e.defaultPrevented){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar activeElement = this.getActiveNode();\r\n\r\n\t\tif(scheduler.$keyboardNavigation.isModal() &&\r\n\t\t\t!(activeElement && activeElement.container && scheduler.utils.dom.locateCss({target:activeElement.container}, \"dhx_minical_popup\", false)))\r\n\t\t\treturn;\r\n\r\n\t\tif(scheduler.getState().editor_id && this.getInlineEditor(scheduler.getState().editor_id))\r\n\t\t\treturn;\r\n\r\n\t\tif (!this.isEnabled())\r\n\t\t\treturn;\r\n\r\n\t\te = e || window.event;\r\n\r\n\t\tvar schedulerNode = this.globalNode;\r\n\r\n\t\tvar command = scheduler.$keyboardNavigation.shortcuts.getCommandFromEvent(e);\r\n\r\n\t\tif(!activeElement){\r\n\t\t\tthis.setDefaultNode();\r\n\t\t}else if(activeElement.findHandler(command)){\r\n\t\t\tactiveElement.doAction(command, e);\r\n\t\t}else if(schedulerNode.findHandler(command)){\r\n\t\t\tschedulerNode.doAction(command, e);\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t_timeout: null,\r\n\tdelay: function(callback, delay){\r\n\r\n\t\tclearTimeout(this._timeout);\r\n\t\tthis._timeout = setTimeout(callback, delay || 1);\r\n\r\n\t}\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\n//Initial idea and implementation by Steve MC\r\nscheduler._temp_key_scope = function (){\r\n\r\n\tscheduler.config.key_nav = true;\r\n\r\n\tscheduler.$keyboardNavigation._pasteDate = null; // used for copy and paste operations\r\n\tscheduler.$keyboardNavigation._pasteSection = null; // used for copy and paste operations\r\n\tvar isCopy = null;\r\n\r\n\tvar pos = {};\r\n\r\n\tif(!document.body){\r\n\t\tscheduler.event(window, \"load\", function(){\r\n\t\t\tscheduler.event(document.body, \"mousemove\", trackMousePosition);\r\n\t\t});\r\n\t}else{\r\n\t\tscheduler.event(document.body, \"mousemove\", trackMousePosition);\r\n\t}\r\n\r\n\tfunction trackMousePosition(event){\r\n\t\tevent = event || window.event;\r\n\t\tpos.x = event.clientX;\r\n\t\tpos.y = event.clientY;\r\n\t}\r\n\tfunction currentTarget(){\r\n\r\n\t\tvar mousePointer = false;\r\n\t\tvar keyNavPointer = false;\r\n\r\n\t\tvar target = document.elementFromPoint(pos.x, pos.y);\r\n\t\twhile(target && target != scheduler._obj){\r\n\t\t\ttarget = target.parentNode;\r\n\t\t}\r\n\t\tmousePointer = !!(target == scheduler._obj);\r\n\r\n\t\tkeyNavPointer = scheduler.$keyboardNavigation.dispatcher.isEnabled();\r\n\r\n\t\treturn mousePointer || keyNavPointer;\r\n\t}\r\n\r\n\tscheduler.attachEvent(\"onMouseMove\", function(id,e){\r\n\t\tvar state = scheduler.getState();\r\n\r\n\t\t// make sure scheduler is fully initialized before calling scheduler.getActionData\r\n\t\tif(!(state.mode && state.min_date)){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar position = scheduler.getActionData(e);\r\n\t\tscheduler.$keyboardNavigation._pasteDate = position.date;\r\n\t\tscheduler.$keyboardNavigation._pasteSection = position.section;\r\n\t});\r\n\r\n\tfunction clear_event_after(ev){\r\n\t\tdelete ev.rec_type; delete ev.rec_pattern;\r\n\t\tdelete ev.event_pid; delete ev.event_length;\r\n\t}\r\n\r\n\tfunction copyEvent(ev){\r\n\t\treturn scheduler._lame_copy({}, ev);\r\n\t}\r\n\r\n\tscheduler._make_pasted_event = function(ev){\r\n\t\tvar date = scheduler.$keyboardNavigation._pasteDate;\r\n\t\tvar section = scheduler.$keyboardNavigation._pasteSection;\r\n\r\n\t\tvar event_duration = ev.end_date-ev.start_date;\r\n\r\n\t\tvar copy = copyEvent(ev);\r\n\t\tclear_event_after(copy);\r\n\t\tcopy.start_date = new Date(date);\r\n\t\tcopy.end_date = new Date(copy.start_date.valueOf() + event_duration);\r\n\r\n\t\tif(section){\r\n\t\t\tvar property = scheduler._get_section_property();\r\n\r\n\t\t\tif(scheduler.config.multisection)\r\n\t\t\t\tcopy[property] = ev[property]; // save initial set of resources for multisection view\r\n\t\t\telse\r\n\t\t\t\tcopy[property] = section;\r\n\t\t}\r\n\t\treturn copy;\r\n\t};\r\n\tscheduler._do_paste = function(is_copy, modified_ev, original_ev){\r\n\t\tif(scheduler.callEvent(\"onBeforeEventPasted\", [is_copy, modified_ev, original_ev]) === false){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tscheduler.addEvent(modified_ev);\r\n\t\tscheduler.callEvent(\"onEventPasted\", [is_copy, modified_ev, original_ev]);\r\n\t};\r\n\r\n\tscheduler._is_key_nav_active = function(){\r\n\t\tif(this._is_initialized() && !this._is_lightbox_open() && this.config.key_nav){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tfunction getSelectedEvent(){\r\n\t\tvar node = scheduler.$keyboardNavigation.dispatcher.getActiveNode();\r\n\t\tif(node && node.eventId) return node.eventId;\r\n\t\treturn scheduler._select_id;\r\n\t}\r\n\r\n\tscheduler.event(document, \"keydown\", function(e){\r\n\t\t// compatibility fix - scheduler focus on ctrl+v on mouse hover\r\n\t\tif(((e.ctrlKey || e.metaKey) && e.keyCode == 86) && scheduler._buffer_event && !scheduler.$keyboardNavigation.dispatcher.isEnabled()) {\r\n\t\t\tscheduler.$keyboardNavigation.dispatcher.isActive = currentTarget();\r\n\t\t}\r\n\t});\r\n\r\n\tscheduler._key_nav_copy_paste = function(e){\r\n\t\tif(!scheduler._is_key_nav_active()) return true;\r\n\r\n\t\tif (e.keyCode == 37 || e.keyCode == 39) { // Left, Right arrows\r\n\t\t\te.cancelBubble = true;\r\n\r\n\t\t\tvar next = scheduler.date.add(scheduler._date,(e.keyCode == 37 ? -1 : 1 ),scheduler._mode);\r\n\t\t\tscheduler.setCurrentView(next);\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tvar select_id = getSelectedEvent();\r\n\t\tif ((e.ctrlKey || e.metaKey) && e.keyCode == 67) {  // CTRL+C\r\n\t\t\tif (select_id) {\r\n\t\t\t\tscheduler._buffer_event = copyEvent(scheduler.getEvent(select_id));\r\n\t\t\t\tisCopy = true;\r\n\t\t\t\tscheduler.callEvent(\"onEventCopied\", [scheduler.getEvent(select_id)]);\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif ((e.ctrlKey || e.metaKey) && e.keyCode == 88) { // CTRL+X\r\n\t\t\tif (select_id) {\r\n\t\t\t\tisCopy = false;\r\n\t\t\t\tvar ev = scheduler._buffer_event = copyEvent(scheduler.getEvent(select_id));\r\n\r\n\t\t\t\tscheduler.updateEvent(ev.id);\r\n\t\t\t\tscheduler.callEvent(\"onEventCut\", [ev]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ((e.ctrlKey || e.metaKey) && e.keyCode == 86 && currentTarget(e)) {  // CTRL+V\r\n\t\t\tvar ev = scheduler._buffer_event ? scheduler.getEvent(scheduler._buffer_event.id) : scheduler._buffer_event;\r\n\t\t\tev = ev || scheduler._buffer_event;\r\n\r\n\t\t\tif (ev) {\r\n\t\t\t\tvar new_ev = scheduler._make_pasted_event(ev);\r\n\t\t\t\tif (isCopy) {\r\n\t\t\t\t\tnew_ev.id = scheduler.uid();\r\n\t\t\t\t\tscheduler._do_paste(isCopy, new_ev, ev);\r\n\t\t\t\t}\r\n\t\t\t\telse { // cut operation\r\n\t\t\t\t\tvar res = scheduler.callEvent(\"onBeforeEventChanged\",[new_ev, e, false, ev]);\r\n\t\t\t\t\tif (res) {\r\n\t\t\t\t\t\tscheduler._do_paste(isCopy, new_ev, ev);\r\n\t\t\t\t\t\tisCopy = true; // switch to copy after first paste operation\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\t};\r\n};\r\nscheduler._temp_key_scope();\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation._minicalendars = [];\r\n\r\nscheduler.$keyboardNavigation.isMinical = function(node){\r\n\tvar minicalendars = scheduler.$keyboardNavigation._minicalendars;\r\n\tfor(var i = 0; i < minicalendars.length; i++){\r\n\t\tif(this.isChildOf(node, minicalendars[i]))\r\n\t\t\treturn true;\r\n\t}\r\n\treturn false;\r\n};\r\n\r\nscheduler.$keyboardNavigation.isChildOf = function(child, parent){\r\n\twhile(child && child !== parent){\r\n\t\tchild = child.parentNode;\r\n\t}\r\n\r\n\treturn !!(child === parent);\r\n};\r\n\r\nscheduler.$keyboardNavigation.patchMinicalendar = function(){\r\n\tvar dispatcher = scheduler.$keyboardNavigation.dispatcher;\r\n\r\n\tfunction focusMinical(e){\r\n\t\tvar target = e.target;\r\n\r\n\t\tdispatcher.enable();\r\n\t\tdispatcher.setActiveNode(new scheduler.$keyboardNavigation.MinicalButton(target, 0));\r\n\t}\r\n\r\n\tfunction minicalClick(e){\r\n\t\tvar target = e.target || e.srcElement;\r\n\r\n\t\tvar prev = scheduler.utils.dom.locateCss(e, \"dhx_cal_prev_button\", false);\r\n\t\tvar next = scheduler.utils.dom.locateCss(e, \"dhx_cal_next_button\", false);\r\n\t\tvar cell = scheduler.utils.dom.locateCss(e, \"dhx_year_body\", false);\r\n\r\n\t\tvar rowIndex = 0;\r\n\t\tvar cellIndex = 0;\r\n\t\tif(cell){\r\n\t\t\tvar tr;\r\n\t\t\tvar td;\r\n\t\t\tvar current = target;\r\n\t\t\twhile(current && current.tagName.toLowerCase() != \"td\"){\r\n\t\t\t\tcurrent = current.parentNode;\r\n\t\t\t}\r\n\t\t\tif(current){\r\n\t\t\t\ttd = current;\r\n\t\t\t\ttr = td.parentNode;\r\n\t\t\t}\r\n\r\n\t\t\tif(tr && td){\r\n\t\t\t\tvar rows = tr.parentNode.querySelectorAll(\"tr\");\r\n\t\t\t\tfor(var i = 0; i < rows.length; i++){\r\n\t\t\t\t\tif(rows[i] == tr){\r\n\t\t\t\t\t\trowIndex = i;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tvar cells = tr.querySelectorAll(\"td\");\r\n\t\t\t\tfor(var i = 0; i < cells.length; i++){\r\n\t\t\t\t\tif(cells[i] == td){\r\n\t\t\t\t\t\tcellIndex = i;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar root = e.currentTarget;\r\n\t\tdispatcher.delay(function(){\r\n\t\t\tif(prev || next || cell){\r\n\r\n\t\t\t\tvar element;\r\n\t\t\t\tif(prev){\r\n\t\t\t\t\telement = new scheduler.$keyboardNavigation.MinicalButton(root, 0);\r\n\t\t\t\t\tdispatcher.setActiveNode(new scheduler.$keyboardNavigation.MinicalButton(root, 0));\r\n\t\t\t\t}else if(next){\r\n\t\t\t\t\telement = new scheduler.$keyboardNavigation.MinicalButton(root, 1);\r\n\t\t\t\t}else if(cell){\r\n\t\t\t\t\telement = new scheduler.$keyboardNavigation.MinicalCell(root, rowIndex, cellIndex);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(element){\r\n\r\n\t\t\t\t\tdispatcher.enable();\r\n\t\t\t\t\tif(element.isValid()){\r\n\t\t\t\t\t\tdispatcher.activeNode = null;\r\n\t\t\t\t\t\tdispatcher.setActiveNode(element);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tif(scheduler.renderCalendar){\r\n\t\tvar renderMinical = scheduler.renderCalendar;\r\n\t\tscheduler.renderCalendar = function(){\r\n\t\t\tvar cal = renderMinical.apply(this, arguments);\r\n\t\t\tvar minicalendars = scheduler.$keyboardNavigation._minicalendars;\r\n\r\n\t\t\tscheduler.eventRemove(cal, \"click\", minicalClick);\r\n\t\t\tscheduler.event(cal, \"click\", minicalClick);\r\n\r\n\t\t\tscheduler.eventRemove(cal, \"focus\", focusMinical);\r\n\t\t\tscheduler.event(cal, \"focus\", focusMinical);\r\n\r\n\t\t\tvar added = false;\r\n\t\t\tfor(var i = 0; i < minicalendars.length; i++){\r\n\t\t\t\tif(minicalendars[i] == cal){\r\n\t\t\t\t\tadded = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!added)\r\n\t\t\t\tminicalendars.push(cal);\r\n\r\n\t\t\tif(dispatcher.isEnabled()){\r\n\t\t\t\tvar node = dispatcher.getActiveNode();\r\n\t\t\t\tif(node && node.container == cal){\r\n\t\t\t\t\tdispatcher.focusNode(node);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcal.setAttribute(\"tabindex\", \"0\");\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tcal.setAttribute(\"tabindex\", \"0\");\r\n\t\t\t}\r\n\t\t\treturn cal;\r\n\t\t};\r\n\t}\r\n\r\n\tif(scheduler.destroyCalendar){\r\n\t\tvar destroyMinical = scheduler.destroyCalendar;\r\n\t\tscheduler.destroyCalendar = function(cal, force){\r\n\t\t\tcal = cal || (scheduler._def_count ? scheduler._def_count.firstChild : null);\r\n\t\t\tvar res = destroyMinical.apply(this, arguments);\r\n\r\n\t\t\tif(!cal || !cal.parentNode){\r\n\t\t\t\tvar minicalendars = scheduler.$keyboardNavigation._minicalendars;\r\n\t\t\t\tfor(var i = 0; i < minicalendars.length; i++){\r\n\t\t\t\t\tif(minicalendars[i] == cal){\r\n\t\t\t\t\t\tscheduler.eventRemove(minicalendars[i], \"focus\", focusMinical);\r\n\t\t\t\t\t\tminicalendars.splice(i, 1);\r\n\t\t\t\t\t\ti--;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn res;\r\n\t\t};\r\n\t}\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.$keyboardNavigation.attachSchedulerHandlers = function(){\r\n\tvar dispatcher = scheduler.$keyboardNavigation.dispatcher;\r\n\r\n\tvar keyDownHandler = function(e){\r\n\t\tif(!scheduler.config.key_nav) return;\r\n\r\n\t\treturn dispatcher.keyDownHandler(e);\r\n\t};\r\n\r\n\tvar focusHandler = function () {\r\n\t\tdispatcher.keepScrollPosition(function () {\r\n\t\t\tdispatcher.focusGlobalNode();\r\n\t\t});\r\n\t};\r\n\r\n\tvar waitCall;\r\n\tscheduler.attachEvent(\"onDataRender\", function(){\r\n\t\tif(!scheduler.config.key_nav) return;\r\n\t\tif(!(dispatcher.isEnabled() && !scheduler.getState().editor_id)) return;\r\n\r\n\t\tclearTimeout(waitCall);\r\n\t\twaitCall = setTimeout(function(){\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif(!dispatcher.isEnabled())\r\n\t\t\t\tdispatcher.enable();\r\n\t\t\treFocusActiveNode();\r\n\t\t});\r\n\t});\r\n\r\n\tvar reFocusActiveNode = function(){\r\n\t\tif(!dispatcher.isEnabled())\r\n\t\t\treturn;\r\n\r\n\t\tvar activeNode = dispatcher.getActiveNode();\r\n\t\tif(!activeNode)\r\n\t\t\treturn;\r\n\r\n\t\tif(!activeNode.isValid()){\r\n\t\t\tactiveNode = activeNode.fallback();\r\n\t\t}\r\n\r\n\t\tif(!activeNode || activeNode instanceof scheduler.$keyboardNavigation.MinicalButton || activeNode instanceof scheduler.$keyboardNavigation.MinicalCell)\r\n\t\t\treturn;\r\n\r\n\t\tdispatcher.keepScrollPosition(function () {\r\n\t\t\tactiveNode.focus(true);\r\n\t\t});\r\n\t};\r\n\r\n\tscheduler.attachEvent(\"onSchedulerReady\", function(){\r\n\t\tvar container = scheduler.$container;\r\n\t\tscheduler.eventRemove(document, \"keydown\", keyDownHandler);\r\n\t\tscheduler.eventRemove(container, \"mousedown\", mousedownHandler);\r\n\t\tscheduler.eventRemove(container, \"focus\", focusHandler);\r\n\r\n\r\n\t\tif(scheduler.config.key_nav){\r\n\r\n\t\t\tscheduler.event(document, \"keydown\", keyDownHandler);\r\n\t\t\tscheduler.event(container, \"mousedown\", mousedownHandler);\r\n\t\t\tscheduler.event(container, \"focus\", focusHandler);\r\n\r\n\t\t\tcontainer.setAttribute(\"tabindex\", \"0\");\r\n\r\n\t\t}else{\r\n\t\t\tcontainer.removeAttribute(\"tabindex\");\r\n\t\t}\r\n\t});\r\n\r\n\tfunction mousedownHandler(e){\r\n\t\tif(!scheduler.config.key_nav) return true;\r\n\r\n\t\tconst view = scheduler.getView();\r\n\t\tlet dataAreaClick = false;\r\n\t\tif (scheduler.getState().mode === \"month\") {\r\n\t\t\tdataAreaClick = scheduler.$keyboardNavigation.isChildOf(e.target || e.srcElement, scheduler.$container.querySelector(\".dhx_cal_month_table\"));\r\n\t\t} else if (view && view.layout === \"timeline\") {\r\n\t\t\tdataAreaClick = scheduler.$keyboardNavigation.isChildOf(e.target || e.srcElement, scheduler.$container.querySelector(\".dhx_timeline_data_col\"));\r\n\t\t} else {\r\n\t\t\tconst listOfScales = scheduler.$container.querySelectorAll(\".dhx_scale_holder\");\r\n\t\t\tconst arrOfScales = Array.from(listOfScales);\r\n\t\t\tdataAreaClick = arrOfScales.some(scale => scale === e.target.parentNode);\r\n\t\t}\r\n\r\n\t\tvar pos = scheduler.getActionData(e);\r\n\r\n\t\tvar focusNode;\r\n\t\tif(scheduler._locate_event(e.target || e.srcElement)){\r\n\t\t\tfocusNode = new scheduler.$keyboardNavigation.Event(scheduler._locate_event(e.target || e.srcElement));\r\n\t\t}else if(dataAreaClick){\r\n\t\t\tfocusNode = new scheduler.$keyboardNavigation.TimeSlot();\r\n\t\t\tif(pos.date && dataAreaClick){\r\n\t\t\t\tfocusNode = focusNode.nextSlot(new scheduler.$keyboardNavigation.TimeSlot(pos.date, null, pos.section));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(focusNode) {\r\n\t\t\tif (!dispatcher.isEnabled()) {\r\n\t\t\t\tdispatcher.activeNode = focusNode;\r\n\r\n\t\t\t} else {\r\n\t\t\t\tif (pos.date && dataAreaClick) {\r\n\t\t\t\t\tdispatcher.delay(function () {\r\n\t\t\t\t\t\tdispatcher.setActiveNode(focusNode);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction focusEvent(evNode){\r\n\t\tif(!scheduler.config.key_nav) return;\r\n\t\tif(!dispatcher.isEnabled()) return;\r\n\r\n\r\n\t\tvar prevState = evNode;\r\n\t\tvar focusNode = new scheduler.$keyboardNavigation.Event(prevState.eventId);\r\n\t\tif(!focusNode.isValid()){\r\n\t\t\tvar lastStart = focusNode.start || prevState.start;\r\n\t\t\tvar lastEnd = focusNode.end || prevState.end;\r\n\t\t\tvar lastSection = focusNode.section || prevState.section;\r\n\r\n\t\t\tfocusNode = new scheduler.$keyboardNavigation.TimeSlot(lastStart, lastEnd, lastSection);\r\n\t\t\tif(!focusNode.isValid()){\r\n\t\t\t\tfocusNode = new scheduler.$keyboardNavigation.TimeSlot();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdispatcher.setActiveNode(focusNode);\r\n\t\tvar node = dispatcher.getActiveNode();\r\n\t\tif(node && node.getNode && document.activeElement != node.getNode()){\r\n\t\t\tdispatcher.focusNode(dispatcher.getActiveNode());\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tvar updateEvent = scheduler.updateEvent;\r\n\tscheduler.updateEvent = function(id){\r\n\t\tvar res = updateEvent.apply(this, arguments);\r\n\t\tif(scheduler.config.key_nav && dispatcher.isEnabled()){\r\n\t\t\tif(scheduler.getState().select_id == id){\r\n\t\t\t\tvar element = new scheduler.$keyboardNavigation.Event(id);\r\n\r\n\t\t\t\tif(!scheduler.getState().lightbox_id){\r\n\t\t\t\t\tfocusEvent(element);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;\r\n\t};\r\n\r\n\tscheduler.attachEvent(\"onEventDeleted\", function(id) {\r\n\t\tif(!scheduler.config.key_nav) return true;\r\n\t\tif(dispatcher.isEnabled()){\r\n\t\t\tvar activeNode = dispatcher.getActiveNode();\r\n\t\t\tif(activeNode.eventId == id){\r\n\t\t\t\tdispatcher.setActiveNode(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onClearAll\", function(){\r\n\t\tif(!scheduler.config.key_nav) return true;\r\n\t\tif(dispatcher.isEnabled()){\r\n\t\t\tif(dispatcher.getActiveNode() instanceof scheduler.$keyboardNavigation.Event){\r\n\t\t\t\tdispatcher.setActiveNode(new scheduler.$keyboardNavigation.TimeSlot());\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.attachEvent(\"onTemplatesReady\",function(){\r\n\r\n\tthis.layers.sort(function(a, b){\r\n\t\treturn a.zIndex - b.zIndex;\r\n\t});\r\n\r\n\tscheduler._dp_init=function(dp){\r\n\t\tdp._methods=[\"_set_event_text_style\",\"\",\"changeEventId\",\"deleteEvent\"];\r\n\r\n\t\tthis.attachEvent(\"onEventAdded\",function(id){\r\n\t\t\tif (!this._loading && this.validId(id) && this.getEvent(id) && this.getEvent(id).layer == dp.layer)\r\n\t\t\t\tdp.setUpdated(id,true,\"inserted\");\r\n\t\t});\r\n\t\tthis.attachEvent(\"onBeforeEventDelete\",function(id){\r\n\t\t\tif(this.getEvent(id) && this.getEvent(id).layer == dp.layer) {\r\n\t\t\t\tif (!this.validId(id)) return;\r\n\t\t\t\tvar z=dp.getState(id);\r\n\r\n\t\t\t\tif (z==\"inserted\" || this._new_event) {  dp.setUpdated(id,false);\t\treturn true; }\r\n\t\t\t\tif (z==\"deleted\")  return false;\r\n\t\t\t\tif (z==\"true_deleted\")  return true;\r\n\r\n\t\t\t\tdp.setUpdated(id,true,\"deleted\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\telse return true;\r\n\t\t});\r\n\t\tthis.attachEvent(\"onEventChanged\",function(id){\r\n\t\t\tif (!this._loading && this.validId(id) && this.getEvent(id) && this.getEvent(id).layer == dp.layer)\r\n\t\t\t\tdp.setUpdated(id,true,\"updated\");\r\n\t\t});\r\n\r\n\t\tdp._getRowData=function(id,pref){\r\n\t\t\tvar ev=this.obj.getEvent(id);\r\n\t\t\tvar data = {};\r\n\r\n\t\t\tfor (var a in ev){\r\n\t\t\t\tif (a.indexOf(\"_\")===0) continue;\r\n\t\t\t\tif (ev[a] && ev[a].getUTCFullYear) //not very good, but will work\r\n\t\t\t\t\tdata[a] = this.obj._helpers.formatDate(ev[a]);\r\n\t\t\t\telse\r\n\t\t\t\t\tdata[a] = ev[a];\r\n\t\t\t}\r\n\t\t\treturn data;\r\n\t\t};\r\n\t\tdp._clearUpdateFlag=function(){};\r\n\r\n\t\tdp.attachEvent(\"insertCallback\", scheduler._update_callback);\r\n\t\tdp.attachEvent(\"updateCallback\", scheduler._update_callback);\r\n\t\tdp.attachEvent(\"deleteCallback\", function(upd, id) {\r\n\t\t\tthis.obj.setUserData(id, this.action_param, \"true_deleted\");\r\n\t\t\tthis.obj.deleteEvent(id);\r\n\t\t});\r\n\t};\r\n\r\n\t(function() {\r\n        var _cloneObj = function(obj){\r\n            if(obj === null || typeof(obj) != 'object')\r\n                return obj;\r\n            var temp = new obj.constructor();\r\n            for(var key in obj)\r\n                temp[key] = _cloneObj(obj[key]);\r\n            return temp;\r\n        };\r\n\r\n\t\tscheduler._dataprocessors = [];\r\n\t\tscheduler._layers_zindex = {};\r\n\t\tfor(var i=0; i<scheduler.layers.length; i++) {\r\n\t\t\tscheduler.config['lightbox_'+scheduler.layers[i].name] = { };\r\n            scheduler.config['lightbox_'+scheduler.layers[i].name].sections = _cloneObj(scheduler.config.lightbox.sections);\r\n\t\t\tscheduler._layers_zindex[scheduler.layers[i].name] = scheduler.config.initial_layer_zindex||5 + i*3;\r\n\t\t\tif(scheduler.layers[i].url) {\r\n\t\t\t\tvar dp = scheduler.createDataProcessor({\r\n\t\t\t\t\turl: scheduler.layers[i].url\r\n\t\t\t\t});\r\n\t\t\t\tdp.layer = scheduler.layers[i].name;\r\n\t\t\t\tscheduler._dataprocessors.push(dp);\r\n\t\t\t\tscheduler._dataprocessors[i].init(scheduler);\r\n\t\t\t}\r\n\t\t\tif(scheduler.layers[i].isDefault)\r\n\t\t\t\tscheduler.defaultLayer = scheduler.layers[i].name;\r\n\t\t}\r\n\t})();\r\n\r\n\r\n\tscheduler.showLayer = function(tlayer) {\r\n\t\tthis.toggleLayer(tlayer, true);\r\n\t};\r\n\r\n\tscheduler.hideLayer = function(tlayer) {\r\n\t\tthis.toggleLayer(tlayer, false);\r\n\t};\r\n\r\n\tscheduler.toggleLayer = function(tlayer, visible) { // visible is optional\r\n\t\tvar layer = this.getLayer(tlayer);\r\n\r\n\t\tif(typeof visible != 'undefined')\r\n\t\t\tlayer.visible = !!visible;\r\n\t\telse\r\n\t\t\tlayer.visible = !layer.visible;\r\n\r\n\t\tthis.setCurrentView(this._date, this._mode);\r\n\t};\r\n\r\n\tscheduler.getLayer = function(tlayer) { // either string with layer name or event with layer property\r\n\t\tvar layer,\r\n\t\t\tlayer_name;\r\n\t\tif(typeof tlayer == 'string')\r\n\t\t\tlayer_name = tlayer;\r\n\t\tif(typeof tlayer == 'object')\r\n\t\t\tlayer_name = tlayer.layer;\r\n\t\tfor (var i=0; i<scheduler.layers.length; i++) {\r\n\t\t\tif(scheduler.layers[i].name == layer_name)\r\n\t\t\t\tlayer = scheduler.layers[i];\r\n\t\t}\r\n\t\treturn layer;\r\n\t};\r\n\r\n\tscheduler.attachEvent(\"onBeforeLightbox\", function (event_id){\r\n\t\tvar ev = this.getEvent(event_id);\r\n        this.config.lightbox.sections = this.config['lightbox_'+ev.layer].sections;\r\n        scheduler.resetLightbox();\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onClick\", function (event_id, native_event_object){\r\n\t\tvar ev = scheduler.getEvent(event_id);\r\n        return !scheduler.getLayer(ev.layer).noMenu;\r\n\t});\r\n\r\n\tscheduler.attachEvent('onEventCollision', function(ev, evs) {\r\n\t\tvar layer = this.getLayer(ev);\r\n\t\tif(!layer.checkCollision)\r\n\t\t\treturn false;\r\n\t\tvar count = 0;\r\n\t\tfor(var i = 0; i<evs.length; i++) {\r\n\t\t\tif(evs[i].layer == layer.name && evs[i].id != ev.id)\r\n\t\t\t\tcount++;\r\n\t\t}\r\n\t\treturn (count >= scheduler.config.collision_limit);\r\n\t});\r\n\r\n\tscheduler.addEvent=function(start_date,end_date,text,id,extra_data){\r\n\t\tvar ev=start_date;\r\n\t\tif (arguments.length!=1){\r\n\t\t\tev=extra_data||{};\r\n\t\t\tev.start_date=start_date;\r\n\t\t\tev.end_date=end_date;\r\n\t\t\tev.text=text;\r\n\t\t\tev.id=id;\r\n\t\t\tev.layer = this.defaultLayer;\r\n\t\t}\r\n\t\tev.id = ev.id||scheduler.uid();\r\n\t\tev.text = ev.text||\"\";\r\n\r\n\r\n\t\tif (typeof ev.start_date == \"string\")  ev.start_date=this.templates.api_date(ev.start_date);\r\n\t\tif (typeof ev.end_date == \"string\")  ev.end_date=this.templates.api_date(ev.end_date);\r\n\t\tev._timed=this.isOneDayEvent(ev);\r\n\r\n\t\tvar is_new=!this._events[ev.id];\r\n\t\tthis._events[ev.id]=ev;\r\n\t\tthis.event_updated(ev);\r\n\t\tif (!this._loading)\r\n\t\t\tthis.callEvent(is_new?\"onEventAdded\":\"onEventChanged\",[ev.id,ev]);\r\n\t};\r\n\r\n\tthis._evs_layer = {};\r\n\tfor (var i = 0; i < this.layers.length; i++) { // array in object for each layer\r\n\t\tthis._evs_layer[this.layers[i].name] = [];\r\n\t}\r\n\r\n\tscheduler.addEventNow=function(start,end,e){\r\n\t\tvar base = {};\r\n\t\tif (typeof start == \"object\"){\r\n\t\t\tbase = start;\r\n\t\t\tstart = null;\r\n\t\t}\r\n\r\n\t\tvar d = (this.config.event_duration||this.config.time_step)*60000;\r\n\t\tif (!start) start = Math.round((scheduler._currentDate()).valueOf()/d)*d;\r\n\t\tvar start_date = new Date(start);\r\n\t\tif (!end){\r\n\t\t\tvar start_hour = this.config.first_hour;\r\n\t\t\tif (start_hour > start_date.getHours()){\r\n\t\t\t\tstart_date.setHours(start_hour);\r\n\t\t\t\tstart = start_date.valueOf();\r\n\t\t\t}\r\n\t\t\tend = start+d;\r\n\t\t}\r\n\r\n\r\n\t\tbase.start_date = base.start_date||start_date;\r\n\t\tbase.end_date =  base.end_date||new Date(end);\r\n\t\tbase.text = base.text||this.locale.labels.new_event;\r\n\t\tbase.id = this._drag_id = this.uid();\r\n\t\tbase.layer = this.defaultLayer;\r\n\t\tthis._drag_mode=\"new-size\";\r\n\r\n\t\tthis._loading=true;\r\n\t\tthis.addEvent(base);\r\n\t\tthis.callEvent(\"onEventCreated\",[this._drag_id,e]);\r\n\t\tthis._loading=false;\r\n\r\n\t\tthis._drag_event={}; //dummy , to trigger correct event updating logic\r\n\t\tthis._on_mouse_up(e);\r\n\t};\r\n\r\n\tscheduler._t_render_view_data = function(events) { // helper\r\n\t\tif (this.config.multi_day && !this._table_view) {\r\n\t\t\tvar tvs = [];\r\n\t\t\tvar tvd = [];\r\n\t\t\tfor (var k = 0; k < events.length; k++) {\r\n\t\t\t\tif (events[k]._timed)\r\n\t\t\t\t\ttvs.push(events[k]);\r\n\t\t\t\telse\r\n\t\t\t\t\ttvd.push(events[k]);\r\n\t\t\t}\r\n\t\t\tthis._table_view = true;\r\n\t\t\tthis.render_data(tvd);\r\n\t\t\tthis._table_view = false;\r\n\t\t\tthis.render_data(tvs);\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.render_data(events);\r\n\t};\r\n\r\n\tscheduler.render_view_data = function(){\r\n\t\tif (this._not_render) {\r\n\t\t\tthis._render_wait = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._render_wait = false;\r\n\r\n\t\tthis.clear_view();\r\n\r\n\t\tthis._evs_layer = {};\r\n\t\tfor (var i = 0; i < this.layers.length; i++) { // array in object for each layer\r\n\t\t\tthis._evs_layer[this.layers[i].name] = [];\r\n\t\t}\r\n\r\n\t\tvar evs = this.get_visible_events();\r\n\t\tfor (var i = 0; i < evs.length; i++) { // filling layer arrays with events\r\n\t\t\tif(this._evs_layer[evs[i].layer])\r\n\t\t\t\tthis._evs_layer[evs[i].layer].push(evs[i]);\r\n\t\t}\r\n\r\n\t\tif(this._mode == 'month') { // old logic is used\r\n\t\t\tvar tevs = [];\r\n\t\t\tfor (var i = 0; i < this.layers.length; i++) {\r\n\t\t\t\tif (this.layers[i].visible)\r\n\t\t\t\t\ttevs = tevs.concat(this._evs_layer[this.layers[i].name]);\r\n\t\t\t}\r\n\t\t\tthis._t_render_view_data(tevs);\r\n\t\t}\r\n\t\telse { // week, day; should use new logic\r\n\t\t\tfor (var i = 0; i < this.layers.length; i++) {\r\n\t\t\t\tif (this.layers[i].visible) {\r\n\t\t\t\t\tvar evs_layer = this._evs_layer[this.layers[i].name];\r\n\t\t\t\t\tthis._t_render_view_data(evs_layer);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tscheduler._render_v_bar=function(ev,x,y,w,h,style,contentA,contentB,bottom){\r\n\t\tvar id = ev.id;\r\n\r\n\t\tif(contentA.indexOf('<div class=') == -1)\r\n\t\t\tcontentA = (scheduler.templates['event_header_'+ev.layer])?scheduler.templates['event_header_'+ev.layer](ev.start_date,ev.end_date,ev):contentA;\r\n\t\tif(contentB.indexOf('<div class=') == -1)\r\n\t\tcontentB = (scheduler.templates['event_text_'+ev.layer])?scheduler.templates['event_text_'+ev.layer](ev.start_date,ev.end_date,ev):contentB;\r\n\r\n\t\tvar d=document.createElement(\"div\");\r\n\t\tvar cs = \"dhx_cal_event\";\r\n\t\tvar cse = (scheduler.templates['event_class_'+ev.layer])?scheduler.templates['event_class_'+ev.layer](ev.start_date,ev.end_date,ev):scheduler.templates.event_class(ev.start_date,ev.end_date,ev);\r\n\t\tif (cse) cs=cs+\" \"+cse;\r\n\r\n\t\tvar borderBox = scheduler._border_box_events();\r\n\r\n\t\tvar borderBoxWidth = w - 2;\r\n\t\tvar boxWidth = borderBox ? borderBoxWidth : (w-4),\r\n\t\theaderWidth = borderBox ? borderBoxWidth : (w-6),\r\n\t\tbodyWidth = borderBox ? borderBoxWidth : (w-14),\r\n\t\tfooterWidth = borderBox ? (borderBoxWidth - 2) : (w-8);\r\n\r\n\t\tvar bodyHeight = borderBox ? (h - this.xy.event_header_height) : (h-30 + 1);\r\n\r\n\t\tvar html='<div event_id=\"'+id+'\" '+scheduler.config.event_attribute+'=\"'+id+'\" class=\"'+cs+'\" style=\"position:absolute; top:'+y+'px; left:'+x+'px; width:'+boxWidth+'px; height:'+h+'px;'+(style||\"\")+'\">';\r\n\t\thtml+='<div class=\"dhx_header\" style=\" width:'+headerWidth+'px;\" >&nbsp;</div>';\r\n\t\thtml+='<div class=\"dhx_title\">'+contentA+'</div>';\r\n\t\thtml+='<div class=\"dhx_body\" style=\" width:'+bodyWidth+'px; height:'+bodyHeight+'px;\">'+contentB+'</div>';\r\n\t\thtml+='<div class=\"dhx_footer\" style=\" width:'+footerWidth+'px;'+(bottom?' margin-top:-1px;':'')+'\" ></div></div>';\r\n\r\n\t\td.innerHTML=html;\r\n\t\td.style.zIndex = 100;\r\n\t\treturn d.firstChild;\r\n\t};\r\n\r\n\tscheduler.render_event_bar=function(ev){\r\n\t\tvar parent=this._els[\"dhx_cal_data\"][0];\r\n\r\n\t\tvar x=this._colsS[ev._sday];\r\n\t\tvar x2=this._colsS[ev._eday];\r\n\t\tif (x2==x) x2=this._colsS[ev._eday+1];\r\n\t\tvar hb = this.xy.bar_height;\r\n\r\n\t\tvar y=this._colsS.heights[ev._sweek]+(this._colsS.height?(this.xy.month_scale_height+2):2)+ev._sorder*hb;\r\n\r\n\t\tvar d=document.createElement(\"div\");\r\n\t\tvar cs = ev._timed?\"dhx_cal_event_clear\":\"dhx_cal_event_line\";\r\n\t\tvar cse = (scheduler.templates['event_class_'+ev.layer])?scheduler.templates['event_class_'+ev.layer](ev.start_date,ev.end_date,ev):scheduler.templates.event_class(ev.start_date,ev.end_date,ev);\r\n\t\tif (cse) cs=cs+\" \"+cse;\r\n\r\n\t\tvar html='<div event_id=\"'+ev.id+'\" '+this.config.event_attribute+'=\"'+ev.id+'\" class=\"'+cs+'\" style=\"position:absolute; top:'+y+'px; left:'+x+'px; width:'+(x2-x-15)+'px;'+(ev._text_style||\"\")+'\">';\r\n\r\n\t\tif (ev._timed)\r\n\t\t\thtml+=(scheduler.templates['event_bar_date_'+ev.layer])?scheduler.templates['event_bar_date_'+ev.layer](ev.start_date,ev.end_date,ev):scheduler.templates.event_bar_date(ev.start_date,ev.end_date,ev);\r\n\t\thtml+=( (scheduler.templates['event_bar_text_'+ev.layer])?scheduler.templates['event_bar_text_'+ev.layer](ev.start_date,ev.end_date,ev):scheduler.templates.event_bar_text(ev.start_date,ev.end_date,ev) + '</div>)');\r\n\t\thtml+='</div>';\r\n\r\n\t\td.innerHTML=html;\r\n\r\n\t\tthis._rendered.push(d.firstChild);\r\n\t\tparent.appendChild(d.firstChild);\r\n\t};\r\n\r\n\tscheduler.render_event=function(ev){\r\n\t\tvar menu = scheduler.xy.menu_width;\r\n\t\tif(scheduler.getLayer(ev.layer).noMenu)\r\n\t\t\tmenu = 0;\r\n\r\n\t\tif (ev._sday<0) return; //can occur in case of recurring event during time shift\r\n\t\tvar parent=scheduler.locate_holder(ev._sday);\r\n\t\tif (!parent) return; //attempt to render non-visible event\r\n\t\tvar sm = ev.start_date.getHours()*60+ev.start_date.getMinutes();\r\n\t\tvar em = (ev.end_date.getHours()*60+ev.end_date.getMinutes())||(scheduler.config.last_hour*60);\r\n\r\n\t\tvar top = (Math.round((sm*60*1000-this.config.first_hour*60*60*1000)*this.config.hour_size_px/(60*60*1000)))%(this.config.hour_size_px*24)+1; //42px/hour\r\n\t\tvar height = Math.max(scheduler.xy.min_event_height,(em-sm)*this.config.hour_size_px/60)+1; //42px/hour\r\n\t\t\r\n\t\tvar width=Math.floor((parent.clientWidth-menu)/ev._count);\r\n\t\tvar left=ev._sorder*width+1;\r\n\t\tif (!ev._inner) width=width*(ev._count-ev._sorder);\r\n\r\n\r\n\r\n\t\tvar d=this._render_v_bar(ev.id,menu+left,top,width,height,ev._text_style,scheduler.templates.event_header(ev.start_date,ev.end_date,ev),scheduler.templates.event_text(ev.start_date,ev.end_date,ev));\r\n\r\n\t\tthis._rendered.push(d);\r\n\t\tparent.appendChild(d);\r\n\r\n\t\tleft=left+parseInt(parent.style.left,10)+menu;\r\n\r\n\t\ttop+=this._dy_shift; //corrupt top, to include possible multi-day shift\r\n\t\td.style.zIndex = this._layers_zindex[ev.layer];\r\n\r\n\t\tif (this._edit_id==ev.id){\r\n\t\t\td.style.zIndex = parseInt(d.style.zIndex)+1; //fix overlapping issue\r\n\t\t\tvar new_zIndex = d.style.zIndex;\r\n\t\t\twidth=Math.max(width-4,scheduler.xy.editor_width);\r\n\t\t\tvar d=document.createElement(\"div\");\r\n\t\t\td.setAttribute(\"event_id\",ev.id); // for backward compatibility\r\n\t\t\td.setAttribute(this.config.event_attribute,ev.id);\r\n\t\t\tthis.set_xy(d,width,height-20,left,top+14);\r\n\t\t\td.className=\"dhx_cal_editor\";\r\n\t\t\td.style.zIndex = new_zIndex;\r\n\t\t\tvar d2=document.createElement(\"div\");\r\n\t\t\tthis.set_xy(d2,width-6,height-26);\r\n\t\t\td2.style.cssText+=\";margin:2px 2px 2px 2px;overflow:hidden;\";\r\n\r\n\r\n\t\t\td2.style.zIndex = new_zIndex;\r\n\t\t\td.appendChild(d2);\r\n\t\t\tthis._els[\"dhx_cal_data\"][0].appendChild(d);\r\n\t\t\tthis._rendered.push(d);\r\n\r\n\t\t\td2.innerHTML=\"<textarea class='dhx_cal_editor'>\"+ev.text+\"</textarea>\";\r\n\r\n\t\t\tthis._editor=d2.firstChild;\r\n\t\t\tthis._editor.addEventListener(\"keypress\", function(e){\r\n\t\t\t\tif (e.shiftKey) return true;\r\n\t\t\t\tvar code= e.keyCode;\r\n\t\t\t\tif (code==scheduler.keys.edit_save) scheduler.editStop(true);\r\n\t\t\t\tif (code==scheduler.keys.edit_cancel) scheduler.editStop(false);\r\n\t\t\t});\r\n\t\t\tthis._editor.addEventListener(\"selectstart\", function(e){ e.cancelBubble=true; return true; });\r\n\t\t\td2.firstChild.focus();\r\n\t\t\t//IE and opera can add x-scroll during focusing\r\n\t\t\tthis._els[\"dhx_cal_data\"][0].scrollLeft=0;\r\n\t\t\td2.firstChild.select();\r\n\t\t}\r\n\t\tif (this._select_id==ev.id){\r\n\t\t\td.style.zIndex = parseInt(d.style.zIndex)+1; //fix overlapping issue\r\n\t\t\tvar icons=this.config[\"icons_\"+((this._edit_id==ev.id)?\"edit\":\"select\")];\r\n\t\t\tvar icons_str=\"\";\r\n\t\t\tfor (var i=0; i<icons.length; i++)\r\n\t\t\t\ticons_str+=\"<div class='dhx_menu_icon \"+icons[i]+\"' title='\"+this.locale.labels[icons[i]]+\"'></div>\";\r\n\t\t\tvar obj = this._render_v_bar(ev.id,left-menu+1,top,menu,icons.length*20+26,\"\",\"<div class='dhx_menu_head'></div>\",icons_str,true);\r\n\t\t\tobj.style.left=left-menu+1;\r\n\t\t\tobj.style.zIndex = d.style.zIndex;\r\n\t\t\tthis._els[\"dhx_cal_data\"][0].appendChild(obj);\r\n\t\t\tthis._rendered.push(obj);\r\n\t\t}\r\n\r\n\t};\r\n\r\n    scheduler.filter_agenda = function(id, event) {\r\n        var layer = scheduler.getLayer(event.layer);\r\n        return (layer && layer.visible);\r\n    };\r\n});\r\n\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.config.limit_start = null;\r\nscheduler.config.limit_end   = null;\r\nscheduler.config.limit_view  = false;\r\nscheduler.config.check_limits = true;\r\n\r\nscheduler._temp_limit_scope = function(){\r\n\tvar before = null;\r\n\tvar dhx_time_block = \"dhx_time_block\";\r\n\r\n\tscheduler.attachEvent(\"onBeforeViewChange\",function(om,od,nm,nd){\r\n\r\n\t\tfunction isBlocked(date, mode){\r\n\t\t\tvar limit_start = scheduler.config.limit_start,\r\n\t\t\t\tlimit_end = scheduler.config.limit_end,\r\n\t\t\t\tdate_end =  scheduler.date.add(date,1,mode);\r\n\r\n\t\t\treturn (date.valueOf() > limit_end.valueOf() || date_end <= limit_start.valueOf());\r\n\t\t}\r\n\r\n\t\tif (scheduler.config.limit_view){\r\n\t\t\tnd = nd||od; nm = nm||om;\r\n\t\t\tif (isBlocked(nd, nm) && !(od.valueOf() == nd.valueOf())){\r\n\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar resetDate = !isBlocked(od, nm) ? od : scheduler.config.limit_start;\r\n\r\n\t\t\t\t\tscheduler.setCurrentView(!isBlocked(resetDate, nm) ? resetDate : null, nm);\r\n\t\t\t\t},1);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onMouseDown\", function(classname) {\r\n\t\treturn !(classname == dhx_time_block);\r\n\t});\r\n\tscheduler.attachEvent(\"onBeforeDrag\",function(id){\r\n\t\tif (!id) return true;\r\n\t\treturn scheduler.checkLimitViolation(scheduler.getEvent(id));\r\n\t});\r\n\tscheduler.attachEvent(\"onClick\", function (event_id, native_event_object){\r\n\t\treturn scheduler.checkLimitViolation(scheduler.getEvent(event_id));\r\n    });\r\n\tscheduler.attachEvent(\"onBeforeLightbox\",function(id){\r\n\r\n\t\tvar ev = scheduler.getEvent(id);\r\n\t\tbefore = [ev.start_date, ev.end_date];\r\n\t\treturn scheduler.checkLimitViolation(ev);\r\n\t});\r\n\tscheduler.attachEvent(\"onEventSave\", function(id, data, is_new_event) {\r\n\r\n\t\t//lightbox may not have 'time' section\r\n\t\tif(!(data.start_date && data.end_date)){\r\n\t\t\tvar ev = scheduler.getEvent(id);\r\n\t\t\tdata.start_date = new Date(ev.start_date);\r\n\t\t\tdata.end_date = new Date(ev.end_date);\r\n\t\t}\r\n\r\n\t\tif(data.rec_type){\r\n\t\t\t//_roll_back_dates modifies start_date of recurring event, need to check limits after modification\r\n\t\t\t// use a copy to keep original event unchanged\r\n\t\t\tvar data_copy = scheduler._lame_clone(data);\r\n\t\t\tscheduler._roll_back_dates(data_copy);\r\n\t\t\treturn scheduler.checkLimitViolation(data_copy);\r\n\t\t}\r\n\t\treturn scheduler.checkLimitViolation(data);\r\n\t});\r\n\tscheduler.attachEvent(\"onEventAdded\",function(id){\r\n\t\tif (!id) return true;\r\n\t\tvar ev = scheduler.getEvent(id);\r\n\t\tif (!scheduler.checkLimitViolation(ev) && scheduler.config.limit_start && scheduler.config.limit_end) {\r\n\t\t\t//if newly created event is outside of limited time - crop it, leaving only allowed time\r\n\t\t\tif (ev.start_date < scheduler.config.limit_start) {\r\n\t\t\t\tev.start_date = new Date(scheduler.config.limit_start);\r\n\t\t\t}\r\n\t\t\tif (ev.start_date.valueOf() >= scheduler.config.limit_end.valueOf()) {\r\n\t\t\t\tev.start_date = this.date.add(scheduler.config.limit_end, -1, \"day\");\r\n\t\t\t}\r\n\t\t\tif (ev.end_date < scheduler.config.limit_start) {\r\n\t\t\t\tev.end_date = new Date(scheduler.config.limit_start);\r\n\t\t\t}\r\n\t\t\tif (ev.end_date.valueOf() >= scheduler.config.limit_end.valueOf()) {\r\n\t\t\t\tev.end_date = this.date.add(scheduler.config.limit_end, -1, \"day\");\r\n\t\t\t}\r\n\t\t\tif (ev.start_date.valueOf() >= ev.end_date.valueOf()) {\r\n\t\t\t\tev.end_date = this.date.add(ev.start_date, (this.config.event_duration||this.config.time_step), \"minute\");\r\n\t\t\t}\r\n\t\t\tev._timed=this.isOneDayEvent(ev);\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onEventChanged\",function(id){\r\n\t\tif (!id) return true;\r\n\t\tvar ev = scheduler.getEvent(id);\r\n\t\tif (!scheduler.checkLimitViolation(ev)){\r\n\t\t\tif (!before) return false;\r\n\t\t\tev.start_date = before[0];\r\n\t\t\tev.end_date = before[1];\r\n\t\t\tev._timed=this.isOneDayEvent(ev);\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onBeforeEventChanged\",function(ev, native_object, is_new){\r\n\t\treturn scheduler.checkLimitViolation(ev);\r\n\t});\r\n\tscheduler.attachEvent(\"onBeforeEventCreated\", function(ev) { // native event\r\n\t\tvar start_date = scheduler.getActionData(ev).date;\r\n\t\tvar event = {\r\n\t\t\t_timed: true,\r\n\t\t\tstart_date: start_date,\r\n\t\t\tend_date: scheduler.date.add(start_date, scheduler.config.time_step, \"minute\")\r\n\t\t};\r\n\t\treturn scheduler.checkLimitViolation(event);\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onViewChange\", function(){\r\n\t\tscheduler._mark_now();\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onAfterSchedulerResize\", function(){\r\n\t\twindow.setTimeout(function(){ \r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tscheduler._mark_now(); \r\n\t\t}, 1);\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onTemplatesReady\", function() {\r\n\t\tscheduler._mark_now_timer = window.setInterval(function() {\r\n\t\t\tif(!scheduler._is_initialized())\r\n\t\t\t\treturn;\r\n\t\t\tscheduler._mark_now();\r\n\t\t}, 60000);\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onDestroy\", function(){\r\n\t\tclearInterval(scheduler._mark_now_timer);\r\n\t});\r\n\r\n};\r\nscheduler._temp_limit_scope();\r\n\r\n\r\n}","import  { GoogleMapAdapter } from \"./gMapAdapter\";\r\nimport { OpenStreetMapAdapter } from \"./osmMapAdapter\";\r\nimport { MapboxAdapter } from \"./mapboxAdapter\";\r\nimport { IMapAdapter, ICalendarEvent, IMapSettings } from \"./types\";\r\n\r\ndeclare let google: any;\r\n\r\nexport default function(scheduler: any){\r\n\t\r\nlet mapAdapter: IMapAdapter | null = null;\r\nlet eventHandlerIds: number[] = [];\r\nconst adapters: { [name:string]: IMapAdapter } = {\r\n\tgoogleMap: new GoogleMapAdapter(scheduler),\r\n\topenStreetMaps: new OpenStreetMapAdapter(scheduler),\r\n\tmapbox: new MapboxAdapter(scheduler)\r\n}\r\n\r\nif(!scheduler.ext){\r\n\tscheduler.ext = {};\r\n}\r\nscheduler.ext.mapView = {\r\n\tcreateAdapter: function():IMapAdapter{\r\n\t\treturn adapters[scheduler.config.map_view_provider];\r\n\t},\r\n\tcreateMarker: function(config){\r\n\t\treturn new google.maps.Marker(config);\r\n\t},\r\n\tcurrentAdapter: null,\r\n\tadapters\r\n};\r\nscheduler._latLngUpdate  = false;  // flag for updating events which don't have event.lat and event.lng\r\nscheduler._eventLocationChanged = false;  // flag for checking if the location of the event is changed\r\nscheduler.config.map_view_provider = \"googleMap\";\r\nscheduler.config.map_settings = {\r\n\tinitial_position: {\r\n\t   lat: 48.724,\r\n\t   lng: 8.215\r\n\t},\r\n\terror_position: {\r\n\t   lat: 15,\r\n\t   lng: 15\r\n\t},\r\n\tinitial_zoom: 1,\r\n\tzoom_after_resolve: 15,\r\n\tinfo_window_max_width: 300,\r\n\tresolve_user_location: true,\r\n\tresolve_event_location: true,\r\n\tview_provider: \"googleMap\"\r\n}\r\nif (scheduler.config.map_initial_position) {\r\n\tscheduler.config.map_settings.initial_position = {\r\n\t\tlat: scheduler.config.map_initial_position.lat(),\r\n\t\tlng: scheduler.config.map_initial_position.lng(), \r\n\t};\r\n}\r\n\r\nif (scheduler.config.map_error_position) {\r\n\tscheduler.config.map_settings.error_position = {\r\n\t\tlat: scheduler.config.map_error_position.lat(),\r\n\t\tlng: scheduler.config.map_error_position.lng(), \r\n\t};\r\n}\r\n\r\nscheduler.xy.map_date_width = 188; // date column width\r\nscheduler.xy.map_icon_width = 25; // event details icon width\r\nscheduler.xy.map_description_width = 400; // description column width\r\nscheduler.date.add_map = function(date, inc, mode) {\r\n\treturn (new Date(date.valueOf()));\r\n};\r\nscheduler.templates.map_date = function(dd, ed, mode) {\r\n\treturn '';\r\n};\r\nscheduler.templates.map_time = function(start, end, ev) {\r\n\tif (scheduler.config.rtl && !ev._timed) {\r\n\t\treturn scheduler.templates.day_date(end) + \" &ndash; \" + scheduler.templates.day_date(start);\r\n\t} else if (ev._timed) {\r\n\t\treturn this.day_date(ev.start_date, ev.end_date, ev) + \" \" + this.event_date(start);\r\n\t} else {\r\n\t\treturn scheduler.templates.day_date(start) + \" &ndash; \" + scheduler.templates.day_date(end);\r\n\t}\r\n};\r\nscheduler.templates.map_text = function(start, end, ev) {\r\n\treturn ev.text;\r\n};\r\nscheduler.templates.map_info_content = function(event){\r\n    return `<div><b>Event's text:</b> ${event.text}\r\n\t\t\t\t<div><b>Location:</b> ${event.event_location}</div>\r\n\t\t\t\t<div><b>Starts:</b> ${scheduler.templates.tooltip_date_format(event.start_date)}</div>\r\n\t\t\t\t<div><b>Ends:</b> ${scheduler.templates.tooltip_date_format(event.end_date)}</div>\r\n\t\t\t</div>`;\r\n};\r\nscheduler.date.map_start = function(d) {\r\n\treturn d;\r\n};\r\n\r\nfunction setupMapView(scheduler) {\r\n\t// Initialization logic, possibly including creation of a new mapAdapter\r\n\tmapAdapter = scheduler.ext.mapView.createAdapter();\r\n\tattachSchedulerEvents();\r\n}\r\nasync function addEventWithLocation(event: ICalendarEvent, mapAdapter: IMapAdapter){\r\n\tlet coordinates = await mapAdapter.resolveAddress(event.event_location);\r\n\tevent.lat = coordinates.lat;\r\n\tevent.lng = coordinates.lng;\r\n\tmapAdapter.removeEventMarker(String(event.id));\r\n\tmapAdapter.addEventMarker(event);\r\n\treturn event;\r\n}\r\nfunction setUserLocation(options: IMapSettings, adapter: IMapAdapter): void{\r\n\tif (options.resolve_user_location) {\r\n\t\tif (navigator.geolocation) {\r\n\t\t\tnavigator.geolocation.getCurrentPosition(function(position) {\r\n\t\t\t\tadapter.setView(position.coords.latitude, position.coords.longitude, options.zoom_after_resolve ||  options.initial_zoom);\r\n\t\t\t});\r\n\t\t}\r\n\t} else {\r\n\t\tadapter.setView(options.initial_position.lat, options.initial_position.lng, options.initial_zoom);\r\n\t}\r\n}\r\nscheduler.dblclick_dhx_map_area = function(e) {\r\n\tlet eventNode = e.target.closest(`[${scheduler.config.event_attribute}]`);\r\n\tif (eventNode){\r\n\t\tlet eventId = eventNode.getAttribute(`${scheduler.config.event_attribute}`);\r\n\t\tscheduler.showLightbox(eventId);\r\n\t}\r\n\tif (!this.config.readonly && this.config.dblclick_create && !eventNode) {\r\n\t\tthis.addEventNow({\r\n\t\t\tstart_date:  scheduler.config.map_start,\r\n\t\t\tend_date: scheduler.date.add( scheduler.config.map_start, scheduler.config.time_step, \"minute\"),\r\n\t\t});\r\n\t}\t\r\n};\r\n\r\nfunction attachSchedulerEvents() { \r\n  eventHandlerIds.push(\r\n\tscheduler.attachEvent(\"onEventSave\",function(id,ev,is_new){\r\n\t\tlet unmodifiedEvent = scheduler.getEvent(id);\r\n\t\tif (unmodifiedEvent && unmodifiedEvent.event_location != ev.event_location) {\r\n\t\t\tscheduler._eventLocationChanged = true;\r\n\t\t}\r\n\t\treturn true;\r\n\t}),\r\n    scheduler.attachEvent(\"onEventChanged\", (id, event) => {\r\n\t\tconst {start_date, end_date} = event;\r\n\t\tconst {min_date, max_date} = scheduler.getState();\r\n\t\tif(start_date.valueOf() < max_date.valueOf() && end_date.valueOf() > min_date.valueOf()){\r\n\t\t\tif (mapAdapter) {\r\n\t\t\t\tif (scheduler.config.map_settings.resolve_event_location && event.event_location && !scheduler._latLngUpdate ) {\r\n\t\t\t\t \taddEventWithLocation(event, mapAdapter);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmapAdapter.updateEventMarker(event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tscheduler._latLngUpdate  = false;\r\n\t\treturn true;\r\n    }),\r\n\tscheduler.attachEvent(\"onEventIdChange\", function(old_id,new_id){\r\n\t\tlet newIdEvent = scheduler.getEvent(new_id);\r\n\t\tmapAdapter?.removeEventMarker(old_id);\r\n\t\tmapAdapter?.addEventMarker(newIdEvent);\r\n\t}),\r\n    scheduler.attachEvent(\"onEventAdded\", (id, event) => {\r\n\t\tconst {start_date, end_date} = event;\r\n\t\tconst {min_date, max_date} = scheduler.getState();\r\n\t\tif(start_date.valueOf() < max_date.valueOf() && end_date.valueOf() > min_date.valueOf()){\r\n      \t\tif (mapAdapter) {\r\n\t\t\t\tif (scheduler.config.map_settings.resolve_event_location && event.event_location && scheduler._eventLocationChanged) {\r\n\t\t\t\t\taddEventWithLocation(event, mapAdapter);\r\n\t\t\t\t\tscheduler._eventLocationChanged = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmapAdapter.addEventMarker(event);\r\n\t\t\t\t\tmapAdapter.onEventClick(event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }),\r\n    scheduler.attachEvent(\"onClick\", function (id, e){\r\n\t\tconst event = scheduler.getEvent(id);\r\n\t\tif (mapAdapter && event) mapAdapter.onEventClick(event);\r\n\t\treturn false;\r\n    }),\r\n    scheduler.attachEvent(\"onBeforeEventDelete\", (id, event) => {\r\n\t\tif (mapAdapter) {\r\n\t\t\tmapAdapter.removeEventMarker(id);\r\n\t\t}\r\n\t\treturn true;\r\n    })\r\n  );\r\n}\r\nfunction detachSchedulerEvents() {\r\n\teventHandlerIds.forEach(id => scheduler.detachEvent(id));\r\n\teventHandlerIds = [];\r\n}\r\n\r\nscheduler.attachEvent(\"onSchedulerReady\", function() {\r\n\r\n\tif(scheduler.config.map_initial_zoom !== undefined){\r\n\t\tscheduler.config.map_settings.initial_zoom = scheduler.config.map_initial_zoom;\r\n\t}\r\n\tif(scheduler.config.map_zoom_after_resolve  !== undefined){\r\n\t\tscheduler.config.map_settings.zoom_after_resolve = scheduler.config.map_zoom_after_resolve;\r\n\t}\r\n\tif(scheduler.config.map_infowindow_max_width !== undefined){\r\n\t\tscheduler.config.map_settings.info_window_max_width = scheduler.config.map_infowindow_max_width;\r\n\t}\r\n\tif(scheduler.config.map_resolve_user_location !== undefined){\r\n\t\tscheduler.config.map_settings.resolve_user_location = scheduler.config.map_resolve_user_location;\r\n\t}\r\n\tif(scheduler.config.map_view_provider !== undefined){\r\n\t\tscheduler.config.map_settings.view_provider = scheduler.config.map_view_provider;\r\n\t}\r\n\tif(scheduler.config.map_type !== undefined){\r\n\t\tscheduler.config.map_settings.type = scheduler.config.map_type;\r\n\t}\r\n\tif(scheduler.config.map_resolve_event_location !== undefined){\r\n\t\tscheduler.config.map_settings.resolve_event_location = scheduler.config.map_resolve_event_location;\r\n\t}\r\n\tscheduler.ext.mapView.currentAdapter = scheduler.config.map_view_provider;\r\n\r\n\tlet map = document.createElement('div');\r\n\tmap.className = 'mapContainer';\r\n\tmap.id = 'mapContainer';\r\n\tmap.style.display = \"none\";\r\n\tmap.style.zIndex = \"1\";\r\n\tscheduler._obj.appendChild(map);\r\n\r\n\tconst old = scheduler.render_data;\r\n\tscheduler.render_data = function(evs, hold) {\r\n\t\tif (this._mode == \"map\") {\r\n\t\t\tfill_map_tab();\r\n\t\t\tlet events = scheduler.get_visible_events();\r\n\t\t\tif (mapAdapter) {\r\n\t\t\t\tmapAdapter.clearEventMarkers();\r\n\t\t\t\tevents.forEach((event) => mapAdapter?.addEventMarker(event));\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\treturn old.apply(this, arguments);\r\n\t};\r\n\r\n\tscheduler.map_view = function(mode) {\r\n\t\tscheduler._els.dhx_cal_data[0].style.width = (scheduler.xy.map_date_width + scheduler.xy.map_description_width + 1) + 'px';\r\n\t\tscheduler._min_date = scheduler.config.map_start || (scheduler._currentDate());\r\n\t\tscheduler._max_date = scheduler.config.map_end || scheduler.date.add(scheduler._currentDate(), 1, \"year\");\r\n\t\tscheduler._table_view = true;\r\n\t\tset_full_view(mode);\r\n\t\tlet mapContainer = document.getElementById('mapContainer');\r\n\t\t_setMapSize('mapContainer');\r\n\r\n\t\t// creating the new logic\r\n\t\tif (mode && mapContainer) {\r\n\t\t\tmap.style.display = 'block';\r\n\t\t\tfill_map_tab();\r\n\t\t\t// case to display several maps and has the opportunity to switch between them\r\n\t\t\tif (scheduler.config.map_view_provider == scheduler.ext.mapView.currentAdapter) {\r\n\t\t\t\tmapAdapter?.destroy(mapContainer);\r\n\t\t\t\tsetupMapView(scheduler);\r\n\t\t\t\tmapAdapter?.initialize(mapContainer, scheduler.config.map_settings);\r\n\t\t\t} else {\r\n\t\t\t\tmapAdapter?.destroy(mapContainer);\r\n\t\t\t\tsetupMapView(scheduler);\r\n\t\t\t\tmapAdapter?.initialize(mapContainer, scheduler.config.map_settings);\r\n\t\t\t \tscheduler.ext.mapView.currentAdapter = scheduler.config.map_view_provider;\r\n\t\t\t}\r\n\t\t\tif(mapAdapter) {\r\n\t\t\t\tsetUserLocation(scheduler.config.map_settings, mapAdapter);\r\n\t\t\t}\t\r\n\t\t} else {\r\n\t\t\tmap.style.display = 'none';\r\n\t\t\tscheduler._els.dhx_cal_data[0].style.width = \"100%\";\r\n\t\t \tif (mapAdapter && mapContainer ) {\r\n\t\t\t\tmapAdapter.destroy(mapContainer);\r\n\t\t\t\tmapAdapter = null;\r\n\t\t\t\tscheduler.ext.mapView.currentAdapter = scheduler.config.map_view_provider;\r\n\t\t    }\r\n\t\t  \tdetachSchedulerEvents();\r\n\t\t}\r\n\t};\r\n\r\n\tfunction _setMapSize(elem_id) { //input - map's div id\r\n\t\tlet map = document.getElementById(elem_id);\r\n\t\tif (map) {\r\n\t\t\tconst nav_height = scheduler.$container.querySelector(\".dhx_cal_navline\").offsetHeight;\r\n\t\t\tlet height = scheduler.$container.querySelector(\".dhx_cal_data\").offsetHeight + scheduler.$container.querySelector(\".dhx_cal_header\").offsetHeight;\r\n\t\t\tif (height < 0)\r\n\t\t\t\theight = 0;\r\n\t\t\tlet width = scheduler._x - scheduler.xy.map_date_width - scheduler.xy.map_description_width - 1;\r\n\t\t\tif (width < 0)\r\n\t\t\t\twidth = 0;\r\n\t\t\tmap.style.height = height + 'px';\r\n\t\t\tmap.style.width = width + 'px';\r\n\t\t\tmap.style.position = \"absolute\";\r\n\t\t\tmap.style.top = nav_height + \"px\";\r\n\t\t\tif (scheduler.config.rtl) {\r\n\t\t\t\tmap.style.marginRight = (scheduler.xy.map_date_width + scheduler.xy.map_description_width + 1) + 'px';\r\n\t\t\t} else {\r\n\t\t\t\tmap.style.marginLeft = (scheduler.xy.map_date_width + scheduler.xy.map_description_width + 1) + 'px';\r\n\t\t\t}\r\n\t\t\tmap.style.marginTop = (scheduler.xy.nav_height + 2) + 'px';\r\n\t\t}\r\n\t}\t\r\n\tfunction fill_map_tab() {\r\n\t\t//select events for which data need to be printed\r\n\t\tlet events = scheduler.get_visible_events();\r\n\t\tevents.sort(function(a, b) {\r\n\t\t\tif(a.start_date.valueOf()==b.start_date.valueOf())\r\n\t\t\t\treturn a.id>b.id?1:-1;\r\n\t\t\treturn a.start_date>b.start_date?1:-1;\r\n\t\t});\r\n\r\n\t\t//generate html for the view\r\n\t\tlet ariaAttr = scheduler._waiAria.mapAttrString();\r\n\r\n\t\tlet html = \"<div \"+ariaAttr+\" class='dhx_map_area'>\";\r\n\t\tfor (let i = 0; i < events.length; i++) {\r\n\t\t\tlet ev = events[i];\r\n\t\t\tlet event_class = (ev.id == scheduler._selected_event_id) ? 'dhx_map_line highlight' : 'dhx_map_line';\r\n\t\t\tlet bg_color = (ev.color ? (\"--dhx-scheduler-event-background:\" + ev.color + \";\") : \"\");\r\n\t\t\tlet color = (ev.textColor ? (\"--dhx-scheduler-event-color:\" + ev.textColor + \";\") : \"\");\r\n\r\n\t\t\tlet ariaAttr = scheduler._waiAria.mapRowAttrString(ev);\r\n\t\t\tlet ariaButtonAttr = scheduler._waiAria.mapDetailsBtnString();\r\n\r\n\t\t\thtml += \"<div \"+ariaAttr+\" class='\" + event_class + \"' event_id='\" + ev.id + \"' \"+scheduler.config.event_attribute+\"='\"+ev.id+\"' style='\" + bg_color + \"\" + color + \"\" + (ev._text_style || \"\") + \" width: \" + (scheduler.xy.map_date_width + scheduler.xy.map_description_width + 2) + \"px;'><div class='dhx_map_event_time' style='width: \" + scheduler.xy.map_date_width + \"px;' >\" + scheduler.templates.map_time(ev.start_date, ev.end_date, ev) + \"</div>\";\r\n\t\t\thtml += `<div ${ariaButtonAttr} class='dhx_event_icon icon_details'><svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<path d=\"M15.4444 16.4H4.55556V7.6H15.4444V16.4ZM13.1111 2V3.6H6.88889V2H5.33333V3.6H4.55556C3.69222 3.6 3 4.312 3 5.2V16.4C3 16.8243 3.16389 17.2313 3.45561 17.5314C3.74733 17.8314 4.143 18 4.55556 18H15.4444C15.857 18 16.2527 17.8314 16.5444 17.5314C16.8361 17.2313 17 16.8243 17 16.4V5.2C17 4.312 16.3 3.6 15.4444 3.6H14.6667V2H13.1111ZM13.8889 10.8H10V14.8H13.8889V10.8Z\" fill=\"#A1A4A6\"/>\r\n\t\t\t</svg></div>`;\r\n\t\t\thtml += \"<div class='line_description' style='width:\" + (scheduler.xy.map_description_width - scheduler.xy.map_icon_width) + \"px;'>\" + scheduler.templates.map_text(ev.start_date, ev.end_date, ev) + \"</div></div>\"; // -25 = icon size 20 and padding 5\r\n\t\t}\r\n\t\thtml += \"<div class='dhx_v_border' style=\"+(scheduler.config.rtl ? \"'right: \" : \"'left: \") + (scheduler.xy.map_date_width - 1) + \"px;'></div><div class='dhx_v_border_description'></div></div>\";\r\n\r\n\t\t//render html\r\n\t\tscheduler._els[\"dhx_cal_data\"][0].scrollTop = 0; //fix flickering in FF\r\n\t\tscheduler._els[\"dhx_cal_data\"][0].innerHTML = html;\r\n\t//\tscheduler._els[\"dhx_cal_data\"][0].style.width = (scheduler.xy.map_date_width + scheduler.xy.map_description_width + 1) + 'px';\r\n\r\n\t\tlet t = scheduler._els[\"dhx_cal_data\"][0].firstChild.childNodes;\r\n\r\n\t\tlet dateElement = scheduler._getNavDateElement();\r\n\t\tif(dateElement){\r\n\t\t\tdateElement.innerHTML=scheduler.templates[scheduler._mode + \"_date\"](scheduler._min_date, scheduler._max_date, scheduler._mode);\r\n\t\t}\r\n\r\n\t\tscheduler._rendered = [];\r\n\t\tfor (let i = 0; i < t.length - 2; i++) {\r\n\t\t\tscheduler._rendered[i] = t[i];\r\n\t\t}\r\n\t}\r\n\tfunction set_full_view(mode) {\r\n\t\tif (mode) {\r\n\t\t\tconst l = scheduler.locale.labels;\r\n\t\t\tscheduler._els[\"dhx_cal_header\"][0].innerHTML = \"<div class='dhx_map_head' style='width: \" + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(scheduler.xy.map_date_width + scheduler.xy.map_description_width + 2) + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"px;' ><div class='headline_date' style='width: \" + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscheduler.xy.map_date_width + \"px;'>\" + l.date + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"</div><div class='headline_description' style='width: \" + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscheduler.xy.map_description_width + \"px;'>\" + l.description + \"</div></div>\";\r\n\t\t\tscheduler._table_view = true;\r\n\t\t\tscheduler.set_sizes();\r\n\t\t}\r\n\t}\r\n\t\r\n\tscheduler.attachEvent(\"onLocationError\", function (id){\r\n\t\talert(\"Location can't be found\");\r\n\t\treturn google.maps.LatLng(51.477840, -0.001492); \r\n\t\t//the coordinates of the Greenwich Royal Observatory\r\n\t})\r\n\tlet _updateEventLocation = async function(event) {\r\n\t\tif (mapAdapter){\r\n\t\t\tconst coordinates = await mapAdapter.resolveAddress(event.event_location);\r\n\t\t\tif (coordinates.lat && coordinates.lng) {\r\n\t\t\t\tevent.lat = +coordinates.lat;\r\n\t\t\t\tevent.lng = +coordinates.lng;\r\n\t\t\t} else {\r\n\t\t\t\tscheduler.callEvent(\"onLocationError\", [event.id]);\r\n\t\t\t\tevent.lng = scheduler.config.map_settings.error_position.lng;\r\n\t\t\t\tevent.lat = scheduler.config.map_settings.error_position.lat;\r\n\t\t\t}\r\n\t\t\tscheduler._latLngUpdate = true;\r\n\t\t\tscheduler.callEvent(\"onEventChanged\", [event.id, event]);\r\n\t\t}\r\n\t};\r\n\tlet _delay = function(method, object, params, delay) {\r\n\t\tsetTimeout(function() {\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tlet ret = method.apply(object, params);\r\n\t\t\tmethod = object = params = null;\r\n\t\t\treturn ret;\r\n\t\t}, delay || 1);\r\n\t};\r\n\tscheduler._event_resolve_delay = 1500;\r\n\tscheduler.attachEvent(\"onEventLoading\", function(event) {\r\n\t\tif (event.lat && event.lng) {\r\n\t\t\tevent.lat = +event.lat;\r\n\t\t\tevent.lng = +event.lng;\r\n\t\t}\r\n\t\tif (scheduler.config.map_settings.resolve_event_location && event.event_location && !event.lat && !event.lng) { // don't delete !event.lat && !event.lng as location could change\r\n\t\t\tscheduler._event_resolve_delay += 1500;\r\n\t\t\t_delay(_updateEventLocation, this, [event], scheduler._event_resolve_delay);\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n})\r\n\r\n}","export default function(scheduler){\r\n\r\nconst minicalDomEvents = scheduler._createDomEventScope();\r\n\t\r\n\r\nscheduler.config.minicalendar = {\r\n\tmark_events: true\r\n};\r\nscheduler._synced_minicalendars = [];\r\nscheduler.renderCalendar = function(obj, _prev, is_refresh) {\r\n\tvar cal = null;\r\n\tvar date = obj.date || (scheduler._currentDate());\r\n\tif (typeof date == \"string\")\r\n\t\tdate = this.templates.api_date(date);\r\n\r\n\tif (!_prev) {\r\n\t\tvar cont = obj.container;\r\n\t\tvar pos = obj.position;\r\n\r\n\t\tif (typeof cont == \"string\")\r\n\t\t\tcont = document.getElementById(cont);\r\n\r\n\t\tif (typeof pos == \"string\")\r\n\t\t\tpos = document.getElementById(pos);\r\n\t\tif (pos && (typeof pos.left == \"undefined\" && typeof pos.right == \"undefined\")) {\r\n\t\t\tvar tpos = scheduler.$domHelpers.getOffset(pos);\r\n\t\t\tpos = {\r\n\t\t\t\ttop: tpos.top + pos.offsetHeight,\r\n\t\t\t\tleft: tpos.left\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (!cont)\r\n\t\t\tcont = scheduler._get_def_cont(pos);\r\n\r\n\t\tcal = this._render_calendar(cont, date, obj);\r\n\t\r\n\t\tif (!cal.$_eventAttached) {\r\n\t\t\tcal.$_eventAttached = true;\r\n\t\t\tminicalDomEvents.attach(cal, \"click\", (function(e) {\r\n\t\t\t\tvar src = e.target || e.srcElement;\r\n\r\n\t\t\t\tvar $dom = scheduler.$domHelpers;\r\n\t\t\t\tif ($dom.closest(src, \".dhx_month_head\")) {\r\n\t\t\t\t\tif (!$dom.closest(src, \".dhx_after\") && !$dom.closest(src, \".dhx_before\")) {\r\n\r\n\t\t\t\t\t\tvar cellRoot = $dom.closest(src, \"[data-cell-date]\");\r\n\t\t\t\t\t\tvar dateAttribute = cellRoot.getAttribute(\"data-cell-date\");\r\n\t\t\t\t\t\tvar newDate = scheduler.templates.parse_date(dateAttribute);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tscheduler.unmarkCalendar(this);\r\n\t\t\t\t\t\tscheduler.markCalendar(this, newDate, \"dhx_calendar_click\");\r\n\t\t\t\t\t\tthis._last_date = newDate;\r\n\t\t\t\t\t\tif (this.conf.handler) this.conf.handler.call(scheduler, newDate, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).bind(cal));\r\n\t\t}\r\n\t\r\n\t} else {\r\n\t\tcal = this._render_calendar(_prev.parentNode, date, obj, _prev);\r\n\t\tscheduler.unmarkCalendar(cal);\r\n\t}\r\n\r\n\tif (scheduler.config.minicalendar.mark_events) {\r\n\t\tvar start = scheduler.date.month_start(date);\r\n\t\tvar end = scheduler.date.add(start, 1, \"month\");\r\n\t\tvar evs = this.getEvents(start, end);\r\n\t\tvar filter = this[\"filter_\" + this._mode];\r\n\t\tvar markedDates = {};\r\n\t\tfor (var i = 0; i < evs.length; i++) {\r\n\t\t\tvar ev = evs[i];\r\n\t\t\tif (filter && !filter(ev.id, ev))\r\n\t\t\t\tcontinue;\r\n\t\t\tvar d = ev.start_date;\r\n\t\t\tif (d.valueOf() < start.valueOf())\r\n\t\t\t\td = start;\r\n\t\t\td = scheduler.date.date_part(new Date(d.valueOf()));\r\n\t\t\twhile (d < ev.end_date) {\r\n\t\t\t\tif(!markedDates[+d]) {\r\n\t\t\t\t\tmarkedDates[+d] = true;\r\n\t\t\t\t\tthis.markCalendar(cal, d, \"dhx_year_event\");\r\n\t\t\t\t}\r\n\t\t\t\td = this.date.add(d, 1, \"day\");\r\n\t\t\t\tif (d.valueOf() >= end.valueOf())\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tthis._markCalendarCurrentDate(cal);\r\n\r\n\tcal.conf = obj;\r\n\tif (obj.sync && !is_refresh)\r\n\t\tthis._synced_minicalendars.push(cal);\r\n\r\n\tif(!cal.conf._on_xle_handler){\r\n\t\tcal.conf._on_xle_handler = scheduler.attachEvent(\"onXLE\", function refreshOnLoad(){\r\n\t\t\tscheduler.updateCalendar(cal, cal.conf.date);\r\n\t\t});\r\n\t}\r\n\r\n\tif(this.config.wai_aria_attributes && this.config.wai_aria_application_role){\r\n\t\tcal.setAttribute(\"role\", \"application\");\r\n\t}\r\n\r\n\treturn cal;\r\n};\r\nscheduler._get_def_cont = function(pos) {\r\n\tif (!this._def_count) {\r\n\t\tthis._def_count = document.createElement(\"div\");\r\n\t\tthis._def_count.className = \"dhx_minical_popup\";\r\n\t\tscheduler.event(this._def_count, \"click\", function(e) { e.cancelBubble = true; });\r\n\t\tdocument.body.appendChild(this._def_count);\r\n\t}\r\n\r\n\tif(pos.left){\r\n\t\tthis._def_count.style.left = pos.left + \"px\";\r\n\t}\r\n\tif(pos.right){\r\n\t\tthis._def_count.style.right = pos.right + \"px\";\r\n\t}\r\n\tif(pos.top){\r\n\t\tthis._def_count.style.top = pos.top + \"px\";\r\n\t}\r\n\tif(pos.bottom){\r\n\t\tthis._def_count.style.bottom = pos.bottom + \"px\";\r\n\t}\r\n\r\n\tthis._def_count._created = new Date();\r\n\r\n\treturn this._def_count;\r\n};\r\nscheduler._locateCalendar = function(cal, date) {\r\n\tif (typeof date == \"string\")\r\n\t\tdate = scheduler.templates.api_date(date);\r\n\r\n\tif(+date > +cal._max_date || +date < +cal._min_date)\r\n\t\treturn null;\r\n\r\n\tvar table = cal.querySelector(\".dhx_year_body\").childNodes[0];\r\n\r\n\tvar weekNum = 0;\r\n\tvar dat = new Date(cal._min_date);\r\n\twhile(+this.date.add(dat, 1, \"week\") <= +date){\r\n\t\tdat = this.date.add(dat, 1, \"week\");\r\n\t\tweekNum++;\r\n\t}\r\n\r\n\tvar sm = scheduler.config.start_on_monday;\r\n\tvar day = (date.getDay() || (sm ? 7 : 0)) - (sm ? 1 : 0);\r\n\r\n\tconst dayCell = table.querySelector(`.dhx_cal_month_row:nth-child(${weekNum + 1}) .dhx_cal_month_cell:nth-child(${day + 1})`);\r\n\tif(dayCell) {\r\n\t\treturn dayCell.firstChild;\r\n\t} else {\r\n\t\treturn null;\r\n\t}\r\n};\r\nscheduler.markCalendar = function(cal, date, css) {\r\n\tvar div = this._locateCalendar(cal, date);\r\n\tif(!div)\r\n\t\treturn;\r\n\r\n\tdiv.className += \" \" + css;\r\n};\r\nscheduler.unmarkCalendar = function(cal, date, css) {\r\n\tdate = date || cal._last_date;\r\n\tcss = css || \"dhx_calendar_click\";\r\n\tif (!date) return;\r\n\tvar el = this._locateCalendar(cal, date);\r\n\tif(!el)\r\n\t\treturn;\r\n\tel.className = (el.className || \"\").replace(RegExp(css, \"g\"));\r\n};\r\nscheduler._week_template = function(width) {\r\n\tvar summ = (width || 250);\r\n\tvar left = 0;\r\n\r\n\tvar week_template = document.createElement(\"div\");\r\n\tvar dummy_date = this.date.week_start(scheduler._currentDate());\r\n\tfor (var i = 0; i < 7; i++) {\r\n\t\tthis._cols[i] = Math.floor(summ / (7 - i));\r\n\t\tthis._render_x_header(i, left, dummy_date, week_template);\r\n\t\tdummy_date = this.date.add(dummy_date, 1, \"day\");\r\n\t\tsumm -= this._cols[i];\r\n\t\tleft += this._cols[i];\r\n\t}\r\n\tweek_template.lastChild.className += \" dhx_scale_bar_last\";\r\n\treturn week_template;\r\n};\r\nscheduler.updateCalendar = function(obj, sd) {\r\n\tobj.conf.date = sd;\r\n\tthis.renderCalendar(obj.conf, obj, true);\r\n};\r\nscheduler._mini_cal_arrows = [\"&nbsp;\", \"&nbsp;\"];\r\nscheduler._render_calendar = function(obj, sd, conf, previous) {\r\n\t/*store*/\r\n\tvar ts = scheduler.templates;\r\n\tvar temp = this._cols;\r\n\tthis._cols = [];\r\n\tvar temp2 = this._mode;\r\n\tthis._mode = \"calendar\";\r\n\tvar temp3 = this._colsS;\r\n\tthis._colsS = {height: 0};\r\n\tvar temp4 = new Date(this._min_date);\r\n\tvar temp5 = new Date(this._max_date);\r\n\tvar temp6 = new Date(scheduler._date);\r\n\tvar temp7 = ts.month_day;\r\n\tvar temp8 = this._ignores_detected; this._ignores_detected = 0;\r\n\tts.month_day = ts.calendar_date;\r\n\r\n\tsd = this.date.month_start(sd);\r\n\tvar week_template = this._week_template(obj.offsetWidth - 1 - this.config.minicalendar.padding );\r\n\r\n\tvar d;\r\n\tif (previous){\r\n\t\td = previous;\r\n\t} else {\r\n\t\td = document.createElement(\"div\");\r\n\t\td.className = \"dhx_cal_container dhx_mini_calendar\";\r\n\t}\r\n\td.setAttribute(\"date\", this._helpers.formatDate(sd));\r\n\td.innerHTML = \"<div class='dhx_year_month'></div>\" +\r\n\t\t\t\"<div class='dhx_year_grid\" +\r\n\t\t\t(scheduler.config.rtl ? \" dhx_grid_rtl'>\" : \"'>\") +\r\n\t\t\t\"<div class='dhx_year_week'>\"+(week_template ? week_template.innerHTML : \"\")+\"</div>\" +\r\n\t\t\t\"<div class='dhx_year_body'></div>\" +\r\n\t\t\"</div>\";\r\n\tvar header = d.querySelector(\".dhx_year_month\");\r\n\tvar weekHeader = d.querySelector(\".dhx_year_week\");\r\n\tvar body = d.querySelector(\".dhx_year_body\");\r\n\r\n\theader.innerHTML = this.templates.calendar_month(sd);\r\n\tif (conf.navigation) {\r\n\t\tvar move_minicalendar_date = function(calendar, diff) {\r\n\t\t\tvar date = scheduler.date.add(calendar._date, diff, \"month\");\r\n\t\t\tscheduler.updateCalendar(calendar, date);\r\n\t\t\tif (scheduler._date.getMonth() == calendar._date.getMonth() && scheduler._date.getFullYear() == calendar._date.getFullYear()) {\r\n\t\t\t\tscheduler._markCalendarCurrentDate(calendar);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar css_classnames = [\"dhx_cal_prev_button\", \"dhx_cal_next_button\"];\r\n\t\tvar css_texts = [\"left:1px;top:4px;position:absolute;\", \"left:auto; right:1px;top:4px;position:absolute;\"];\r\n\t\tvar diffs = [-1, 1];\r\n\t\tvar handler = function(diff) {\r\n\t\t\treturn function() {\t\r\n\t\t\t\tif (conf.sync) {\r\n\t\t\t\t\tvar calendars = scheduler._synced_minicalendars;\r\n\t\t\t\t\tfor (var k = 0; k < calendars.length; k++) {\r\n\t\t\t\t\t\tmove_minicalendar_date(calendars[k], diff);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (scheduler.config.rtl) {\r\n\t\t\t\t\t\tdiff = -diff;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmove_minicalendar_date(d, diff);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t};\r\n\t\tvar labels = [scheduler.locale.labels.prev, scheduler.locale.labels.next];\r\n\t\tfor (var j = 0; j < 2; j++) {\r\n\t\t\tvar arrow = document.createElement(\"div\");\r\n\t\t\t//var diff = diffs[j];\r\n\t\t\tarrow.className = css_classnames[j];\r\n\r\n\t\t\tscheduler._waiAria.headerButtonsAttributes(arrow, labels[j]);\r\n\r\n\t\t\tarrow.style.cssText = css_texts[j];\r\n\t\t\tarrow.innerHTML = this._mini_cal_arrows[j];\r\n\t\t\theader.appendChild(arrow);\r\n\t\t\tminicalDomEvents.attach(arrow, \"click\", handler(diffs[j]));\r\n\t\t}\r\n\t}\r\n\td._date = new Date(sd);\r\n\r\n\td.week_start = (sd.getDay() - (this.config.start_on_monday ? 1 : 0) + 7) % 7;\r\n\r\n\tvar dd = d._min_date = this.date.week_start(sd);\r\n\td._max_date = this.date.add(d._min_date, 6, \"week\");\r\n\r\n\tthis._reset_month_scale(body, sd, dd, 6);\r\n\r\n\tif (!previous)\r\n\t\tobj.appendChild(d);\r\n\r\n\tweekHeader.style.height = (weekHeader.childNodes[0].offsetHeight - 1) + \"px\"; // dhx_year_week should have height property so that day dates would get correct position. dhx_year_week height = height of it's child (with the day name)\r\n\r\n\tvar headerId = scheduler.uid();\r\n\tscheduler._waiAria.minicalHeader(header, headerId);\r\n\tscheduler._waiAria.minicalGrid(d.querySelector(\".dhx_year_grid\"), headerId);\r\n\tscheduler._waiAria.minicalRow(weekHeader);\r\n\r\n\tvar dayHeaders = weekHeader.querySelectorAll(\".dhx_scale_bar\");\r\n\tfor(var i = 0; i < dayHeaders.length; i++){\r\n\t\tscheduler._waiAria.minicalHeadCell(dayHeaders[i]);\r\n\t}\r\n\tvar dayCells = body.querySelectorAll(\".dhx_cal_month_cell\");\r\n\tvar firstDate = new Date(dd);\r\n\tfor(var i = 0; i < dayCells.length; i++){\r\n\r\n\t\tscheduler._waiAria.minicalDayCell(dayCells[i], new Date(firstDate));\r\n\t\tfirstDate = scheduler.date.add(firstDate, 1, \"day\");\r\n\t}\r\n\r\n\tscheduler._waiAria.minicalHeader(header, headerId);\r\n\r\n\t/*restore*/\r\n\tthis._cols = temp;\r\n\tthis._mode = temp2;\r\n\tthis._colsS = temp3;\r\n\tthis._min_date = temp4;\r\n\tthis._max_date = temp5;\r\n\tscheduler._date = temp6;\r\n\tts.month_day = temp7;\r\n\tthis._ignores_detected = temp8;\r\n\treturn d;\r\n};\r\nscheduler.destroyCalendar = function(cal, force) {\r\n\tif (!cal && this._def_count && this._def_count.firstChild) {\r\n\t\tif (force || (new Date()).valueOf() - this._def_count._created.valueOf() > 500)\r\n\t\t\tcal = this._def_count.firstChild;\r\n\t}\r\n\tif (!cal) return;\r\n\tminicalDomEvents.detachAll();\r\n\t//cal.onclick = null;\r\n\tcal.innerHTML = \"\";\r\n\tif (cal.parentNode)\r\n\t\tcal.parentNode.removeChild(cal);\r\n\tif (this._def_count)\r\n\t\tthis._def_count.style.top = \"-1000px\";\r\n\r\n\tif(cal.conf && cal.conf._on_xle_handler)\r\n\t\tscheduler.detachEvent(cal.conf._on_xle_handler);\r\n};\r\nscheduler.isCalendarVisible = function() {\r\n\tif (this._def_count && parseInt(this._def_count.style.top, 10) > 0)\r\n\t\treturn this._def_count;\r\n\treturn false;\r\n};\r\n\r\nscheduler.attachEvent(\"onTemplatesReady\", function() {\r\n\tscheduler.event(document.body, \"click\", function() { scheduler.destroyCalendar(); });\r\n}, {once: true});\r\n\r\n\r\n\r\nscheduler.form_blocks.calendar_time = {\r\n\trender: function(sns) {\r\n\t\tvar html = \"<span class='dhx_minical_input_wrapper'><input class='dhx_readonly dhx_minical_input' type='text' readonly='true'></span>\";\r\n\r\n\t\tvar cfg = scheduler.config;\r\n\t\tvar dt = this.date.date_part(scheduler._currentDate());\r\n\r\n\t\tvar last = 24 * 60, first = 0;\r\n\t\tif (cfg.limit_time_select) {\r\n\t\t\tfirst = 60 * cfg.first_hour;\r\n\t\t\tlast = 60 * cfg.last_hour + 1;  // to include \"17:00\" option if time select is limited\r\n\t\t}\r\n\t\tdt.setHours(first / 60);\r\n\r\n\t\tsns._time_values = [];\r\n\t\thtml += \" <select class='dhx_lightbox_time_select'>\";\r\n\t\tfor (var i = first; i < last; i += this.config.time_step * 1) { // `<` to exclude last \"00:00\" option\r\n\t\t\tvar time = this.templates.time_picker(dt);\r\n\t\t\thtml += \"<option value='\" + i + \"'>\" + time + \"</option>\";\r\n\t\t\tsns._time_values.push(i);\r\n\t\t\tdt = this.date.add(dt, this.config.time_step, \"minute\");\r\n\t\t}\r\n\t\thtml += \"</select>\";\r\n\r\n\t\t//var full_day = scheduler.config.full_day;\r\n\r\n\t\treturn \"<div class='dhx_section_time dhx_lightbox_minical'>\" + html + \"<span class='dhx_lightbox_minical_spacer'> &nbsp;&ndash;&nbsp; </span>\" + html + \"</div>\";\r\n\t},\r\n\tset_value: function(node, value, ev, config) {\r\n\r\n\t\tvar inputs = node.getElementsByTagName(\"input\");\r\n\t\tvar selects = node.getElementsByTagName(\"select\");\r\n\t\tvar start_date,\r\n\t\t\tend_date;\r\n\r\n\t\tvar _init_once = function(inp, date, number) {\r\n\t\t\tscheduler.event(inp, \"click\", function() {\r\n\t\t\t\tscheduler.destroyCalendar(null, true);\r\n\t\t\t\tscheduler.renderCalendar({\r\n\t\t\t\t\tposition: inp,\r\n\t\t\t\t\tdate: new Date(this._date),\r\n\t\t\t\t\tnavigation: true,\r\n\t\t\t\t\thandler: function(new_date) {\r\n\t\t\t\t\t\tinp.value = scheduler.templates.calendar_time(new_date);\r\n\t\t\t\t\t\tinp._date = new Date(new_date);\r\n\t\t\t\t\t\tscheduler.destroyCalendar();\r\n\t\t\t\t\t\tif (scheduler.config.event_duration && scheduler.config.auto_end_date && number === 0) { //first element = start date\r\n\t\t\t\t\t\t\t_update_minical_select();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tif (scheduler.config.full_day) {\r\n\t\t\tif (!node._full_day) {\r\n\t\t\t\tvar html = \"<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> \" + scheduler.locale.labels.full_day + \"&nbsp;</label></input>\";\r\n\t\t\t\tif (!scheduler.config.wide_form)\r\n\t\t\t\t\thtml = node.previousSibling.innerHTML + html;\r\n\t\t\t\tnode.previousSibling.innerHTML = html;\r\n\t\t\t\tnode._full_day = true;\r\n\t\t\t}\r\n\t\t\tvar input = node.previousSibling.getElementsByTagName(\"input\")[0];\r\n\r\n\t\t\tvar isFulldayEvent = (scheduler.date.time_part(ev.start_date) === 0 && scheduler.date.time_part(ev.end_date) === 0);\r\n\t\t\tinput.checked = isFulldayEvent;\r\n\r\n\t\t\tselects[0].disabled = input.checked;\r\n\t\t\tselects[1].disabled = input.checked;\r\n\r\n\t\t\tif (!input.$_eventAttached) {\r\n\t\t\t\tinput.$_eventAttached = true;\r\n\t\t\t\tscheduler.event(input, \"click\", function() {\r\n\t\t\t\t\tif (input.checked === true) {\r\n\t\t\t\t\t\tvar obj = {};\r\n\t\t\t\t\t\tscheduler.form_blocks.calendar_time.get_value(node, obj);\r\n\r\n\t\t\t\t\t\tstart_date = scheduler.date.date_part(obj.start_date);\r\n\t\t\t\t\t\tend_date = scheduler.date.date_part(obj.end_date);\r\n\r\n\t\t\t\t\t\tif (+end_date == +start_date || (+end_date >= +start_date && (ev.end_date.getHours() !== 0 || ev.end_date.getMinutes() !== 0)))\r\n\t\t\t\t\t\t\tend_date = scheduler.date.add(end_date, 1, \"day\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar start = start_date || ev.start_date;\r\n\t\t\t\t\tvar end = end_date || ev.end_date;\r\n\t\t\t\t\t_attach_action(inputs[0], start);\r\n\t\t\t\t\t_attach_action(inputs[1], end);\r\n\t\t\t\t\tselects[0].value = start.getHours() * 60 + start.getMinutes();\r\n\t\t\t\t\tselects[1].value = end.getHours() * 60 + end.getMinutes();\r\n\r\n\t\t\t\t\tselects[0].disabled = input.checked;\r\n\t\t\t\t\tselects[1].disabled = input.checked;\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (scheduler.config.event_duration && scheduler.config.auto_end_date) {\r\n\r\n\t\t\tvar _update_minical_select = function () {\r\n\t\t\t\tif (!(scheduler.config.auto_end_date && scheduler.config.event_duration)){\r\n\t\t\t\t\t// setting may be disabled after the handler is attached\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tstart_date = scheduler.date.add(inputs[0]._date, selects[0].value, \"minute\");\r\n\t\t\t\tend_date = new Date(start_date.getTime() + (scheduler.config.event_duration * 60 * 1000));\r\n\r\n\t\t\t\tinputs[1].value = scheduler.templates.calendar_time(end_date);\r\n\t\t\t\tinputs[1]._date = scheduler.date.date_part(new Date(end_date));\r\n\r\n\t\t\t\tselects[1].value = end_date.getHours() * 60 + end_date.getMinutes();\r\n\t\t\t};\r\n\r\n\t\t\tif(!selects[0].$_eventAttached){\r\n\t\t\t\tselects[0].addEventListener(\"change\", _update_minical_select); // only update on first select should trigger update so user could define other end date if he wishes too\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction _attach_action(inp, date, number) {\r\n\t\t\t_init_once(inp, date, number);\r\n\t\t\tinp.value = scheduler.templates.calendar_time(date);\r\n\t\t\tinp._date = scheduler.date.date_part(new Date(date));\r\n\t\t}\r\n\r\n\t\t_attach_action(inputs[0], ev.start_date, 0);\r\n\t\t_attach_action(inputs[1], ev.end_date, 1);\r\n\t\t_init_once = function() {};\r\n\r\n\t\tfunction _round_minutes(date) {\r\n\t\t\tvar time_values = config._time_values;\r\n\t\t\tvar direct_value = date.getHours() * 60 + date.getMinutes();\r\n\t\t\tvar fixed_value = direct_value;\r\n\t\t\tvar value_found = false;\r\n\r\n\t\t\tfor (var k = 0; k < time_values.length; k++) {\r\n\t\t\t\tvar t_v = time_values[k];\r\n\t\t\t\tif (t_v === direct_value) {\r\n\t\t\t\t\tvalue_found = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (t_v < direct_value)\r\n\t\t\t\t\tfixed_value = t_v;\r\n\t\t\t}\r\n\r\n\t\t\tif(!(value_found || fixed_value))\r\n\t\t\t\treturn -1;\r\n\r\n\t\t\treturn (value_found) ? direct_value : fixed_value;\r\n\t\t}\r\n\r\n\t\tselects[0].value = _round_minutes(ev.start_date);\r\n\t\tselects[1].value = _round_minutes(ev.end_date);\r\n\r\n\t},\r\n\tget_value: function(node, ev) {\r\n\t\tvar inputs = node.getElementsByTagName(\"input\");\r\n\t\tvar selects = node.getElementsByTagName(\"select\");\r\n\r\n\t\tev.start_date = scheduler.date.add(inputs[0]._date, selects[0].value, \"minute\");\r\n\t\tev.end_date = scheduler.date.add(inputs[1]._date, selects[1].value, \"minute\");\r\n\r\n\t\tif (ev.end_date <= ev.start_date)\r\n\t\t\tev.end_date = scheduler.date.add(ev.start_date, scheduler.config.time_step, \"minute\");\r\n\t\treturn {\r\n\t\t\tstart_date: new Date(ev.start_date),\r\n\t\t\tend_date: new Date(ev.end_date)\r\n\t\t};\r\n\t},\r\n\tfocus: function(node) {\r\n\t}\r\n};\r\nscheduler.linkCalendar = function(calendar, datediff) {\r\n\tvar action = function() {\r\n\t\tvar date = scheduler._date;\r\n\t\tvar dateNew = new Date(date.valueOf());\r\n\t\tif (datediff) dateNew = datediff(dateNew);\r\n\t\tdateNew.setDate(1);\r\n\t\tscheduler.updateCalendar(calendar, dateNew);\r\n\t\treturn true;\r\n\t};\r\n\r\n\tscheduler.attachEvent(\"onViewChange\", action);\r\n\tscheduler.attachEvent(\"onXLE\", action);\r\n\tscheduler.attachEvent(\"onEventAdded\", action);\r\n\tscheduler.attachEvent(\"onEventChanged\", action);\r\n\tscheduler.attachEvent(\"onEventDeleted\", action);\r\n\taction();\r\n};\r\n\r\nscheduler._markCalendarCurrentDate = function(calendar) {\r\n\tvar state = scheduler.getState();\r\n\tvar from = state.min_date;\r\n\tvar to = state.max_date;\r\n\tvar mode = state.mode;\r\n\r\n\tvar month_start = scheduler.date.month_start(new Date(calendar._date));\r\n\tvar month_end = scheduler.date.add(month_start, 1, \"month\");\r\n\r\n\tvar noHighlight = {\r\n\t\t\"month\":true,\r\n\t\t\"year\":true,\r\n\t\t\"agenda\":true,\r\n\t\t\"grid\":true\r\n\t};\r\n\t// no need to highlight current dates for a large range views - agenda, year, etc.\r\n\tif(noHighlight[mode] || (from.valueOf() <= month_start.valueOf() && to.valueOf() >= month_end.valueOf())){\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar current = from;\r\n\twhile(current.valueOf() < to.valueOf()){\r\n\t\tif (month_start.valueOf() <= current.valueOf() && month_end > current) {\r\n\t\t\tscheduler.markCalendar(calendar, current, \"dhx_calendar_click\");\r\n\t\t}\r\n\t\tcurrent = scheduler.date.add(current, 1, \"day\");\r\n\t}\r\n};\r\n\r\nscheduler.attachEvent(\"onEventCancel\", function(){\r\n\tscheduler.destroyCalendar(null, true);\r\n});\r\n\r\nscheduler.attachEvent(\"onDestroy\", function(){\r\n\tscheduler.destroyCalendar();\r\n});\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.attachEvent(\"onTemplatesReady\",function(){\r\n\tscheduler.xy.scroll_width = 0;\r\n\r\n\tvar old = scheduler.render_view_data;\r\n\tscheduler.render_view_data=function(){\r\n\t\tvar data = this._els[\"dhx_cal_data\"][0];\r\n\t\tdata.firstChild._h_fix = true;\r\n\r\n\t\told.apply(scheduler,arguments);\r\n\r\n\r\n\r\n\t\tvar height = parseInt(data.style.height);\r\n\t\tdata.style.height=\"1px\";\r\n\t\tdata.style.height=data.scrollHeight+\"px\";\r\n\r\n\t\tthis._obj.style.height = this._obj.clientHeight + data.scrollHeight - height + \"px\";\r\n\t};\r\n\r\n\tvar old_s=scheduler._reset_month_scale;\r\n\tscheduler._reset_month_scale=function(a,b,c,d){\r\n\t\tvar dummy = {clientHeight:100};\r\n\t\told_s.apply(scheduler,[dummy,b,c,d]);\r\n\t\ta.innerHTML = dummy.innerHTML;\r\n\t};\r\n\r\n});\r\n\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Multisection\", scheduler.assert);\r\n}","export default function(scheduler){\r\n\r\n\r\nfunction parseXMLOptions(loader, config){\r\n\tvar items = scheduler.ajax.xpath(\"//data/item\", loader.xmlDoc);\r\n\tvar ids = {};\r\n\tfor (var i = 0; i < items.length; i++) {\r\n\t\tids[items[i].getAttribute(config.map_to)] = true;\r\n\t}\r\n\treturn ids;\r\n}\r\n\r\nfunction parseJSONOptions(loader, config){\r\n\ttry{\r\n\t\tvar items = JSON.parse(loader.xmlDoc.responseText);\r\n\t\tvar ids = {};\r\n\t\tfor (var i = 0; i < items.length; i++) {\r\n\t\t\tvar option = items[i];\r\n\r\n\t\t\tids[option.value || option.key || option.id] = true;\r\n\t\t}\r\n\t\treturn ids;\r\n\t}catch(e){\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nscheduler.form_blocks[\"multiselect\"]={\r\n\trender:function(sns) {\r\n\t\tvar css = \"dhx_multi_select_control dhx_multi_select_\"+sns.name;\r\n\t\tif(!!sns.vertical){\r\n\t\t\tcss += \" dhx_multi_select_control_vertical\";\r\n\t\t}\r\n\r\n\t\tvar _result = \"<div class='\"+css+\"' style='overflow: auto; max-height: \"+sns.height+\"px; position: relative;' >\";\r\n\t\tfor (var i=0; i<sns.options.length; i++) {\r\n\t\t\t_result += \"<label><input type='checkbox' value='\"+sns.options[i].key+\"'/>\"+sns.options[i].label+\"</label>\";\r\n\t\t}\r\n\t\t_result += \"</div>\";\r\n\t\treturn _result;\r\n\t},\r\n\tset_value:function(node,value,ev,config){\r\n\r\n\t\tvar _children = node.getElementsByTagName('input');\r\n\t\tfor(var i=0;i<_children.length;i++) {\r\n\t\t\t_children[i].checked = false; //unchecking all inputs on the form\r\n\t\t}\r\n\r\n\t\tfunction _mark_inputs(ids) { // ids = [ 0: undefined, 1: undefined, 2: true, 'custom_name': false ... ]\r\n\t\t\tvar _children = node.getElementsByTagName('input');\r\n\t\t\tfor(var i=0;i<_children.length; i++) {\r\n\t\t\t\t_children[i].checked = !! ids[_children[i].value];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar _ids = {};\r\n\t\tif (ev[config.map_to]) {\r\n\t\t\tvar results = (ev[config.map_to] + \"\").split(config.delimiter || scheduler.config.section_delimiter || \",\");\r\n\t\t\tfor (var i = 0; i < results.length; i++) {\r\n\t\t\t\t_ids[results[i]] = true;\r\n\t\t\t}\r\n\t\t\t_mark_inputs(_ids);\r\n\t\t} else {\r\n\t\t\tif (scheduler._new_event || !config.script_url)\r\n\t\t\t\treturn;\r\n\t\t\tvar divLoading = document.createElement('div');\r\n\t\t\tdivLoading.className = 'dhx_loading';\r\n\t\t\tdivLoading.style.cssText = \"position: absolute; top: 40%; left: 40%;\";\r\n\t\t\tnode.appendChild(divLoading);\r\n\r\n\t\t\tvar url = [\r\n\t\t\t\tconfig.script_url,\r\n\t\t\t\t(config.script_url.indexOf(\"?\") == -1 ? \"?\" : \"&\"),\r\n\t\t\t\t'dhx_crosslink_' + config.map_to + '=' + ev.id + '&uid=' + scheduler.uid()\r\n\t\t\t].join(\"\");\r\n\r\n\t\t\tscheduler.ajax.get(url, function(loader) {\r\n\t\t\t\tvar options = parseJSONOptions(loader, config);\r\n\t\t\t\tif(!options){\r\n\t\t\t\t\toptions = parseXMLOptions(loader, config);\r\n\t\t\t\t}\r\n\t\t\t\t_mark_inputs(options);\r\n\t\t\t\tnode.removeChild(divLoading);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\tget_value:function(node,ev,config){\r\n\t\tvar _result = [];\r\n\t\tvar _children = node.getElementsByTagName(\"input\");\r\n\t\tfor(var i=0;i<_children.length;i++) {\r\n\t\t\tif(_children[i].checked)\r\n\t\t\t\t_result.push(_children[i].value);\r\n\t\t}\r\n\t\treturn _result.join(config.delimiter || scheduler.config.section_delimiter || \",\");\r\n\t},\r\n\r\n\tfocus:function(node){\r\n\t}\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\n\r\n\tfunction backup(obj){\r\n\t\tvar t = function(){};\r\n\t\tt.prototype = obj;\r\n\t\treturn t;\r\n\t}\r\n\r\n\tvar old = scheduler._load;\r\n\tscheduler._load=function(url,from){\r\n\t\turl=url||this._load_url;\r\n\t\tif (typeof url == \"object\"){\r\n\t\t\tvar t = backup(this._loaded);\r\n\t\t\tfor (var i=0; i < url.length; i++) {\r\n\t\t\t\tthis._loaded=new t();\r\n\t\t\t\told.call(this,url[i],from);\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\told.apply(this,arguments);\r\n\t};\r\n\r\n}","export default function(scheduler){\r\n\t/* global Backbone */\r\n\tvar cfg = {\r\n\t\tuse_id : false\r\n\t};\r\n\r\n\t//remove private properties\r\n\tfunction sanitize(ev){\r\n\t\tvar obj = {};\r\n\t\tfor (var key in ev)\r\n\t\t\tif (key.indexOf(\"_\") !== 0)\r\n\t\t\t\tobj[key] = ev[key];\r\n\r\n\t\tif (!cfg.use_id)\r\n\t\t\tdelete obj.id;\r\n\r\n\t\treturn obj;\r\n\t}\r\n\r\n\tvar update_timer;\r\n\tfunction update_view(){\r\n\t\tclearTimeout(update_timer);\r\n\t\tupdate_timer = setTimeout(function(){\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tscheduler.updateView();\r\n\t\t},1);\r\n\t}\r\n\r\n\tfunction _start_ext_load(cal){\r\n\t\tcal._loading = true;\r\n\t\tcal._not_render = true;\r\n\r\n\t\tcal.callEvent(\"onXLS\", []);\r\n\t}\r\n\tfunction _finish_ext_load(cal){\r\n\t\tcal._not_render = false;\r\n\t\tif (cal._render_wait)\r\n\t\t\tcal.render_view_data();\r\n\t\tcal._loading = false;\r\n\r\n\t\tcal.callEvent(\"onXLE\", []);\r\n\t}\r\n\r\n\r\n\tfunction _get_id(model){\r\n\t\treturn cfg.use_id ? model.id : model.cid;\r\n\t}\r\n\r\nscheduler.backbone = function(events, config){\r\n\tif (config) cfg = config;\r\n\r\n\tevents.bind(\"change\", function(model, info){\r\n\t\tvar cid = _get_id(model);\r\n\t\tvar ev = scheduler._events[cid] = model.toJSON();\r\n\t\tev.id = cid;\r\n\r\n\t\tscheduler._init_event(ev);\r\n\t\tupdate_view();\r\n\t});\r\n\tevents.bind(\"remove\", function(model, changes){\r\n\t\tvar cid = _get_id(model);\r\n\t\tif (scheduler._events[cid])\r\n\t\t\tscheduler.deleteEvent(cid);\r\n\t});\r\n\r\n\tvar queue = [];\r\n\tfunction add_from_queue(){\r\n\t\tif(scheduler.$destroyed){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif (queue.length){\r\n\t\t\tscheduler.parse(queue, \"json\");\r\n\t\t\tqueue = [];\r\n\t\t}\r\n\t}\r\n\r\n\tevents.bind(\"add\", function(model, changes){\r\n\t\tvar cid = _get_id(model);\r\n\t\tif (!scheduler._events[cid]){\r\n\t\t\tvar ev =  model.toJSON();\r\n\t\t\tev.id = cid;\r\n\t\t\tscheduler._init_event(ev);\r\n\r\n\t\t\tqueue.push(ev);\r\n\t\t\tif (queue.length == 1)\r\n\t\t\t\tsetTimeout(add_from_queue,1);\r\n\t\t}\r\n\t});\r\n\r\n\tevents.bind(\"request\", function(obj){\r\n\t\tif (obj instanceof Backbone.Collection)\r\n\t\t\t_start_ext_load(scheduler);\r\n\t});\r\n\tevents.bind(\"sync\", function(obj){\r\n\t\tif (obj instanceof Backbone.Collection)\r\n\t\t\t_finish_ext_load(scheduler);\r\n\t});\r\n\tevents.bind(\"error\", function(obj){\r\n\t\tif (obj instanceof Backbone.Collection)\r\n\t\t\t_finish_ext_load(scheduler);\r\n\t});\r\n\r\n\r\n\tscheduler.attachEvent(\"onEventCreated\", function(id){\r\n\t\tvar ev = new events.model(scheduler.getEvent(id));\r\n\t\tscheduler._events[id] = ev.toJSON();\r\n\t\tscheduler._events[id].id = id;\r\n\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onEventAdded\", function(id){\r\n\t\tif (!events.get(id)){\r\n\t\t\tvar data = sanitize(scheduler.getEvent(id));\r\n\t\t\tvar model = new events.model(data);\r\n\r\n\t\t\tvar cid = _get_id(model);\r\n\t\t\tif (cid != id)\r\n\t\t\t\tthis.changeEventId(id, cid);\r\n\t\t\tevents.add(model);\r\n\t\t\tevents.trigger(\"scheduler:add\", model);\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onEventChanged\", function(id){\r\n\t\tvar ev = events.get(id);\r\n\t\tvar upd = sanitize(scheduler.getEvent(id));\r\n\r\n\t\tev.set(upd);\r\n\t\tevents.trigger(\"scheduler:change\", ev);\r\n\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onEventDeleted\", function(id){\r\n\t\tvar model = events.get(id);\r\n\t\tif (model){\r\n\t\t\tevents.trigger(\"scheduler:remove\", model);\r\n\t\t\tevents.remove(id);\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\n\t/* global dhtmlDragAndDropObject, dhtmlx */\r\n// lame old code doesn't provide raw event object\r\n\tscheduler.attachEvent(\"onTemplatesReady\", function() {\r\n\t\tvar dragger = (new dhtmlDragAndDropObject());\r\n\t\tvar old = dragger.stopDrag;\r\n\t\tvar last_event;\r\n\t\tdragger.stopDrag = function(e) {\r\n\t\t\tlast_event = e;\r\n\t\t\treturn old.apply(this, arguments);\r\n\t\t};\r\n\r\n\t\tfunction on_drop(sourceHtmlObject, dhtmlObject, targetHtmlObject, targetHtml) {\r\n\r\n\t\t\tif (scheduler.checkEvent(\"onBeforeExternalDragIn\") && !scheduler.callEvent(\"onBeforeExternalDragIn\", [sourceHtmlObject, dhtmlObject, targetHtmlObject, targetHtml, last_event]))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tvar temp = scheduler.attachEvent(\"onEventCreated\", function (id) {\r\n\t\t\t\tif (!scheduler.callEvent(\"onExternalDragIn\", [id, sourceHtmlObject, last_event])) {\r\n\t\t\t\t\tthis._drag_mode = this._drag_id = null;\r\n\t\t\t\t\tthis.deleteEvent(id);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tvar action_data = scheduler.getActionData(last_event);\r\n\t\t\tvar event_data = {\r\n\t\t\t\tstart_date: new Date(action_data.date)\r\n\t\t\t};\r\n\r\n\t\t\t// custom views, need to assign section id, fix dates\r\n\t\t\tif (scheduler.matrix && scheduler.matrix[scheduler._mode]) {\r\n\t\t\t\tvar view_options = scheduler.matrix[scheduler._mode];\r\n\t\t\t\tevent_data[view_options.y_property] = action_data.section;\r\n\r\n\t\t\t\tvar pos = scheduler._locate_cell_timeline(last_event);\r\n\t\t\t\tevent_data.start_date = view_options._trace_x[pos.x];\r\n\t\t\t\tevent_data.end_date = scheduler.date.add(event_data.start_date, view_options.x_step, view_options.x_unit);\r\n\t\t\t}\r\n\t\t\tif (scheduler._props && scheduler._props[scheduler._mode]) {\r\n\t\t\t\tevent_data[scheduler._props[scheduler._mode].map_to] = action_data.section;\r\n\t\t\t}\r\n\r\n\t\t\tscheduler.addEventNow(event_data);\r\n\r\n\t\t\tscheduler.detachEvent(temp);\r\n\t\t}\r\n\r\n\t\tdragger.addDragLanding(scheduler._els[\"dhx_cal_data\"][0], {\r\n\t\t\t_drag: function(sourceHtmlObject, dhtmlObject, targetHtmlObject, targetHtml) {\r\n\t\t\t\ton_drop(sourceHtmlObject, dhtmlObject, targetHtmlObject, targetHtml);\r\n\t\t\t},\r\n\t\t\t_dragIn: function(htmlObject, shtmlObject) {\r\n\t\t\t\treturn htmlObject;\r\n\t\t\t},\r\n\t\t\t_dragOut: function(htmlObject) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif(dhtmlx.DragControl) {\r\n\t\t\tdhtmlx.DragControl.addDrop(scheduler._els[\"dhx_cal_data\"][0], {\r\n\t\t\t\tonDrop: function (source, target, d, e) {\r\n\t\t\t\t\tvar sourceDhtmlx = dhtmlx.DragControl.getMaster(source);\r\n\t\t\t\t\tlast_event = e;\r\n\t\t\t\t\ton_drop(source, sourceDhtmlx, target, e.target || e.srcElement);\r\n\t\t\t\t},\r\n\r\n\t\t\t\tonDragIn: function (source, target, e) {\r\n\t\t\t\t\treturn target;\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\t\t}\r\n\t});\r\n\r\n}","export default function(scheduler){\r\n\r\n\tvar dx, dy,\r\n\t\thtml_regexp = new RegExp(\"<[^>]*>\", \"g\"),\r\n\t\tnewline_regexp = new RegExp(\"<br[^>]*>\", \"g\");\r\n\r\n\tfunction clean_html(val) {\r\n\t\treturn val.replace(newline_regexp, \"\\n\").replace(html_regexp, \"\");\r\n\t}\r\n\r\n\tfunction x_norm(x, offset) {\r\n\t\tx = parseFloat(x);\r\n\t\toffset = parseFloat(offset);\r\n\t\tif (!isNaN(offset)) x -= offset;\r\n\r\n\t\tvar w = colsWidth(x);\r\n\t\tx = x - w.width + w.cols*dx;\r\n\t\treturn isNaN(x)?\"auto\":(100*x/(dx));\r\n\t}\r\n\r\n\tfunction x_norm_event(x, offset, is_left) {\r\n\t\tx = parseFloat(x);\r\n\t\toffset = parseFloat(offset);\r\n\t\tif (!isNaN(offset) && is_left) x -= offset;\r\n\r\n\t\tvar w = colsWidth(x);\r\n\t\tx = x - w.width + w.cols*dx;\r\n\t\treturn isNaN(x)?\"auto\":(100*x/(dx-(!isNaN(offset)?offset:0)));\r\n\t}\r\n\tfunction colsWidth(width) {\r\n\t\tvar r = 0;\r\n\t\tvar header = scheduler._els.dhx_cal_header[0].childNodes;\r\n\t\tvar els = header[1] ? header[1].childNodes : header[0].childNodes;\r\n\t\tfor (var i = 0; i < els.length; i++) {\r\n\t\t\tvar el = els[i].style ? els[i] : els[i].parentNode;\r\n\t\t\tvar w = parseFloat(el.style.width);\r\n\t\t\tif (width > w){\r\n\t\t\t\twidth -= (w+1);\r\n\t\t\t\tr+=(w+1);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn { width: r, cols: i };\r\n\t}\r\n\r\n\tfunction y_norm(y) {\r\n\t\ty = parseFloat(y);\r\n\t\tif (isNaN(y)) return \"auto\";\r\n\t\treturn 100 * y / dy;\r\n\t}\r\n\r\n\tfunction get_style(node, style){\r\n\t\treturn (window.getComputedStyle?(window.getComputedStyle(node, null)[style]):(node.currentStyle?node.currentStyle[style]:null))||\"\";\r\n\t}\r\n\r\n\tfunction de_day(node, n) {\r\n\t\tvar x = parseInt(node.style.left, 10);\r\n\r\n\t\tfor (var dx = 0; dx < scheduler._cols.length; dx++) {\r\n\t\t\tx -= scheduler._cols[dx];\r\n\t\t\tif (x < 0) return dx;\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\r\n\tfunction de_week(node, n) {\r\n\t\tvar y = parseInt(node.style.top, 10);\r\n\t\tfor (var dy = 0; dy < scheduler._colsS.heights.length; dy++)\r\n\t\t\tif (scheduler._colsS.heights[dy] > y) return dy;\r\n\t\treturn n;\r\n\t}\r\n\r\n\tfunction xml_start(tag) {\r\n\t\treturn tag ? \"<\"+tag+\">\" : \"\";\r\n\t}\r\n\tfunction xml_end(tag) {\r\n\t\treturn tag ? \"</\"+tag+\">\" : \"\";\r\n\t}\r\n\r\n\tfunction xml_top(tag, profile, header, footer) {\r\n\t\tvar xml = \"<\"+tag+\" profile='\" + profile + \"'\";\r\n\t\tif (header)\r\n\t\t\txml += \" header='\" + header + \"'\";\r\n\t\tif (footer)\r\n\t\t\txml += \" footer='\" + footer + \"'\";\r\n\t\txml += \">\";\r\n\t\treturn xml;\r\n\t}\r\n\r\n\tfunction xml_body_header() {\r\n\t\tvar xml = \"\";\r\n\t\t// detects if current mode is timeline\r\n\t\tvar mode = scheduler._mode;\r\n\t\tif (scheduler.matrix && scheduler.matrix[scheduler._mode])\r\n\t\t\tmode = (scheduler.matrix[scheduler._mode].render == \"cell\") ? \"matrix\" : \"timeline\";\r\n\t\txml += \"<scale mode='\" + mode + \"' today='\" + scheduler._els.dhx_cal_date[0].innerHTML + \"'>\";\r\n\r\n\t\tif (scheduler._mode == \"week_agenda\") {\r\n\t\t\tvar xh = scheduler._els.dhx_cal_data[0].getElementsByTagName(\"DIV\");\r\n\t\t\tfor (var i = 0; i < xh.length; i++)\r\n\t\t\t\tif (xh[i].className == \"dhx_wa_scale_bar\")\r\n\t\t\t\t\txml += \"<column>\" + clean_html(xh[i].innerHTML) + \"</column>\";\r\n\t\t} else if (scheduler._mode == \"agenda\" || scheduler._mode == \"map\") {\r\n\t\t\tvar xh = scheduler._els.dhx_cal_header[0].childNodes[0].childNodes;\r\n\r\n\t\t\txml += \"<column>\" + clean_html(xh[0].innerHTML) + \"</column><column>\" + clean_html(xh[1].innerHTML) + \"</column>\";\r\n\t\t} else if (scheduler._mode == \"year\") {\r\n\t\t\tvar xh = scheduler._els.dhx_cal_data[0].childNodes;\r\n\t\t\tfor (var i = 0; i < xh.length; i++) {\r\n\t\t\t\txml += \"<month label='\" + clean_html(xh[i].querySelector(\".dhx_year_month\").innerHTML) + \"'>\";\r\n\t\t\t\txml += xml_month_scale(xh[i].querySelector(\".dhx_year_week\").childNodes);\r\n\t\t\t\txml += xml_month(xh[i].querySelector(\".dhx_year_body\"));\r\n\t\t\t\txml += \"</month>\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\txml += \"<x>\";\r\n\t\t\tvar xh = scheduler._els.dhx_cal_header[0].childNodes;\r\n\t\t\txml += xml_month_scale(xh);\r\n\t\t\txml += \"</x>\";\r\n\r\n\t\t\tvar yh = scheduler._els.dhx_cal_data[0];\r\n\t\t\tif (scheduler.matrix && scheduler.matrix[scheduler._mode]) {\r\n\t\t\t\txml += \"<y>\";\r\n\t\t\t\tfor (var i = 0; i < yh.firstChild.rows.length; i++) {\r\n\t\t\t\t\tvar el = yh.firstChild.rows[i];\r\n\t\t\t\t\txml += \"<row><![CDATA[\" + clean_html(el.cells[0].innerHTML) + \"]]></row>\";\r\n\t\t\t\t}\r\n\t\t\t\txml += \"</y>\";\r\n\t\t\t\tdy = yh.firstChild.rows[0].cells[0].offsetHeight;\r\n\t\t\t} else if (yh.firstChild.tagName == \"TABLE\") {\r\n\t\t\t\txml += xml_month(yh);\r\n\t\t\t} else {\r\n\t\t\t\tyh = yh.childNodes[yh.childNodes.length - 1];\r\n\t\t\t\twhile (yh.className.indexOf(\"dhx_scale_holder\") == -1)\r\n\t\t\t\t\tyh = yh.previousSibling;\r\n\t\t\t\tyh = yh.childNodes;\r\n\r\n\t\t\t\txml += \"<y>\";\r\n\t\t\t\tfor (var i = 0; i < yh.length; i++)\r\n\t\t\t\t\txml += \"\\n<row><![CDATA[\" + clean_html(yh[i].innerHTML) + \"]]></row>\";\r\n\t\t\t\txml += \"</y>\";\r\n\t\t\t\tdy = yh[0].offsetHeight;\r\n\t\t\t}\r\n\t\t}\r\n\t\txml += \"</scale>\";\r\n\t\treturn xml;\r\n\t}\r\n\r\n\tfunction xml_month(yh) {\r\n\t\tvar xml = \"\";\r\n\t\tvar r = yh.querySelectorAll(\"tr\");\r\n\t\tfor (var i = 0; i < r.length; i++) {\r\n\t\t\tvar days = [];\r\n\t\t\tvar cells = r[i].querySelectorAll(\"td\");\r\n\r\n\t\t\tfor (var j = 0; j < cells.length; j++)\r\n\t\t\t\tdays.push(cells[j].querySelector(\".dhx_month_head\").innerHTML);\r\n\r\n\t\t\txml += \"\\n<row height='\" + cells[0].offsetHeight + \"'><![CDATA[\" + clean_html(days.join(\"|\")) + \"]]></row>\";\r\n\t\t\tdy = cells[0].offsetHeight;\r\n\t\t}\r\n\t\treturn xml;\r\n\t}\r\n\r\n\tfunction xml_month_scale(xh) {\r\n\t\tvar xhs,\r\n\t\t\txml = \"\";\r\n\t\tif (scheduler.matrix && scheduler.matrix[scheduler._mode]) {\r\n\t\t\tif (scheduler.matrix[scheduler._mode].second_scale)\r\n\t\t\t\txhs = xh[1].childNodes;\r\n\r\n\t\t\txh = xh[0].childNodes;\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < xh.length; i++)\r\n\t\t\txml += \"\\n<column><![CDATA[\" + clean_html(xh[i].innerHTML) + \"]]></column>\";\r\n\t\tdx = xh[0].offsetWidth;\r\n\r\n\t\tif (xhs) {\r\n\t\t\tvar width = 0;\r\n\t\t\tvar top_width = xh[0].offsetWidth;\r\n\t\t\tvar top_col = 1;\r\n\t\t\tfor (var i = 0; i < xhs.length; i++) {\r\n\t\t\t\txml += \"\\n<column second_scale='\" + top_col + \"'><![CDATA[\" + clean_html(xhs[i].innerHTML) + \"]]></column>\";\r\n\t\t\t\twidth += xhs[i].offsetWidth;\r\n\t\t\t\tif (width >= top_width) {\r\n\t\t\t\t\ttop_width += (xh[top_col] ? xh[top_col].offsetWidth : 0);\r\n\t\t\t\t\ttop_col++;\r\n\t\t\t\t}\r\n\t\t\t\tdx = xhs[0].offsetWidth;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn xml;\r\n\t}\r\n\r\n\tfunction xml_body(colors) {\r\n\t\tvar xml = \"\";\r\n\t\tvar evs = scheduler._rendered;\r\n\t\tvar matrix = scheduler.matrix && scheduler.matrix[scheduler._mode];\r\n\r\n\t\tif (scheduler._mode == \"agenda\" || scheduler._mode == \"map\") {\r\n\r\n\t\t\tfor (var i = 0; i < evs.length; i++)\r\n                xml += \"<event><head><![CDATA[\" + clean_html(evs[i].childNodes[0].innerHTML) + \"]]></head><body><![CDATA[\" + clean_html(evs[i].childNodes[2].innerHTML) + \"]]></body></event>\";\r\n\r\n\t\t} else if (scheduler._mode == \"week_agenda\") {\r\n\r\n\t\t\tfor (var i = 0; i < evs.length; i++)\r\n\t\t\t\txml += \"<event day='\" + evs[i].parentNode.getAttribute(\"day\") + \"'><body>\" + clean_html(evs[i].innerHTML) + \"</body></event>\";\r\n\r\n\t\t} else if (scheduler._mode == \"year\") {\r\n\r\n\t\t\tvar evs = scheduler.get_visible_events();\r\n\t\t\tfor (var i = 0; i < evs.length; i++) {\r\n\t\t\t\tvar d = evs[i].start_date;\r\n\t\t\t\tif (d.valueOf() < scheduler._min_date.valueOf())\r\n\t\t\t\t\td = scheduler._min_date;\r\n\r\n\t\t\t\twhile (d < evs[i].end_date) {\r\n\t\t\t\t\tvar m = d.getMonth() + 12 * (d.getFullYear() - scheduler._min_date.getFullYear()) - scheduler.week_starts._month;\r\n\t\t\t\t\tvar day = scheduler.week_starts[m] + d.getDate() - 1;\r\n\t\t\t\t\tvar text_color = colors ? get_style(scheduler._get_year_cell(d), \"color\") : \"\";\r\n\t\t\t\t\tvar bg_color = colors ? get_style(scheduler._get_year_cell(d), \"backgroundColor\") : \"\";\r\n\r\n\t\t\t\t\txml += \"<event day='\" + (day % 7) + \"' week='\" + Math.floor(day / 7) + \"' month='\" + m + \"' backgroundColor='\" + bg_color + \"' color='\" + text_color + \"'></event>\";\r\n\t\t\t\t\td = scheduler.date.add(d, 1, \"day\");\r\n\t\t\t\t\tif (d.valueOf() >= scheduler._max_date.valueOf())\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (matrix && matrix.render == \"cell\") {\r\n\t\t\tvar evs = scheduler._els.dhx_cal_data[0].getElementsByTagName(\"TD\");\r\n\t\t\tfor (var i = 0; i < evs.length; i++) {\r\n\t\t\t\tvar text_color = colors ? get_style(evs[i], \"color\") : \"\";\r\n\t\t\t\tvar bg_color = colors ? get_style(evs[i], \"backgroundColor\") : \"\";\r\n\t\t\t\txml += \"\\n<event><body backgroundColor='\" + bg_color + \"' color='\" + text_color + \"'><![CDATA[\" + clean_html(evs[i].innerHTML) + \"]]></body></event>\";\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tfor (var i = 0; i < evs.length; i++) {\r\n\t\t\t\tvar zx, zdx;\r\n\t\t\t\tif (scheduler.matrix && scheduler.matrix[scheduler._mode]) {\r\n\t\t\t\t\t// logic for timeline view\r\n\t\t\t\t\tzx = x_norm(evs[i].style.left);\r\n\t\t\t\t\tzdx = x_norm(evs[i].offsetWidth)-1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// we should use specific logic for day/week/units view\r\n\t\t\t\t\tvar left_norm = scheduler.config.use_select_menu_space ? 0 : 26;\r\n\t\t\t\t\tzx = x_norm_event(evs[i].style.left, left_norm, true);\r\n\t\t\t\t\tzdx = x_norm_event(evs[i].style.width, left_norm)-1;\r\n\t\t\t\t}\r\n\t\t\t\tif (isNaN(zdx * 1)) continue;\r\n\t\t\t\tvar zy = y_norm(evs[i].style.top);\r\n\t\t\t\tvar zdy = y_norm(evs[i].style.height);\r\n\r\n\t\t\t\tvar e_type = evs[i].className.split(\" \")[0].replace(\"dhx_cal_\", \"\");\r\n\t\t\t\tif (e_type === 'dhx_tooltip_line') continue;\r\n\r\n\t\t\t\tvar dets = scheduler.getEvent(evs[i].getAttribute(scheduler.config.event_attribute));\r\n                if (!dets) continue;\r\n\t\t\t\tvar day = dets._sday;\r\n\t\t\t\tvar week = dets._sweek;\r\n\t\t\t\tvar length = dets._length || 0;\r\n\r\n\t\t\t\tif (scheduler._mode == \"month\") {\r\n\t\t\t\t\tzdy = parseInt(evs[i].offsetHeight, 10);\r\n\t\t\t\t\tzy = parseInt(evs[i].style.top, 10) - scheduler.xy.month_head_height;\r\n\r\n\t\t\t\t\tday = de_day(evs[i], day);\r\n\t\t\t\t\tweek = de_week(evs[i], week);\r\n\t\t\t\t} else if (scheduler.matrix && scheduler.matrix[scheduler._mode]) {\r\n\t\t\t\t\tday = 0;\r\n\t\t\t\t\tvar el = evs[i].parentNode.parentNode.parentNode;\r\n\t\t\t\t\tweek = el.rowIndex;\r\n\t\t\t\t\tvar dy_copy = dy;\r\n\t\t\t\t\tdy = evs[i].parentNode.offsetHeight;\r\n\t\t\t\t\tzy = y_norm(evs[i].style.top);\r\n\t\t\t\t\tzy -= zy * 0.2;\r\n\t\t\t\t\tdy = dy_copy;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (evs[i].parentNode == scheduler._els.dhx_cal_data[0]) continue;\r\n\t\t\t\t\tvar parent = scheduler._els[\"dhx_cal_data\"][0].childNodes[0];\r\n\t\t\t\t\tvar offset = parseFloat(parent.className.indexOf(\"dhx_scale_holder\") != -1 ? parent.style.left : 0);\r\n\t\t\t\t\tzx += x_norm(evs[i].parentNode.style.left, offset);\r\n\t\t\t\t}\r\n\r\n\t\t\t\txml += \"\\n<event week='\" + week + \"' day='\" + day + \"' type='\" + e_type + \"' x='\" + zx + \"' y='\" + zy + \"' width='\" + zdx + \"' height='\" + zdy + \"' len='\" + length + \"'>\";\r\n\r\n\t\t\t\tif (e_type == \"event\") {\r\n\t\t\t\t\txml += \"<header><![CDATA[\" + clean_html(evs[i].childNodes[1].innerHTML) + \"]]></header>\";\r\n\t\t\t\t\tvar text_color = colors ? get_style(evs[i].childNodes[2], \"color\") : \"\";\r\n\t\t\t\t\tvar bg_color = colors ? get_style(evs[i].childNodes[2], \"backgroundColor\") : \"\";\r\n\t\t\t\t\txml += \"<body backgroundColor='\" + bg_color + \"' color='\" + text_color + \"'><![CDATA[\" + clean_html(evs[i].childNodes[2].innerHTML) + \"]]></body>\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar text_color = colors ? get_style(evs[i], \"color\") : \"\";\r\n\t\t\t\t\tvar bg_color = colors ? get_style(evs[i], \"backgroundColor\") : \"\";\r\n\t\t\t\t\txml += \"<body backgroundColor='\" + bg_color + \"' color='\" + text_color + \"'><![CDATA[\" + clean_html(evs[i].innerHTML) + \"]]></body>\";\r\n\t\t\t\t}\r\n\t\t\t\txml += \"</event>\";\r\n\t\t\t}\r\n\t\t\t}\r\n\r\n\t\treturn xml;\r\n\t}\r\n\r\n\tfunction toXML(start, end, view, mode, header, footer){\r\n\t\tvar colors = false;\r\n\t\tif (mode == \"fullcolor\") {\r\n\t\t\tcolors = true;\r\n\t\t\tmode = \"color\";\r\n\t\t}\r\n\r\n\t\tmode = mode || \"color\";\r\n\r\n\t\tvar xml = \"\";\r\n\t\tif (start) {\r\n\r\n\t\t\tvar original_date = scheduler._date;\r\n\t\t\tvar original_mode = scheduler._mode;\r\n\t\t\tend = scheduler.date[view+\"_start\"](end);\r\n\t\t\tend = scheduler.date[\"get_\"+view+\"_end\"] ? scheduler.date[\"get_\"+view+\"_end\"](end) : scheduler.date.add(end, 1, view);\r\n\r\n\t\t\txml = xml_top(\"pages\", mode, header, footer);\r\n\t\t\tfor (var temp_date = new Date(start); +temp_date < +end; temp_date = this.date.add(temp_date, 1, view)) {\r\n\t\t\t\tthis.setCurrentView(temp_date, view);\r\n\t\t\t\txml += xml_start(\"page\") + xml_body_header().replace(\"\\u2013\", \"-\") + xml_body(colors) + xml_end(\"page\");\r\n\t\t\t}\r\n\t\t\txml += xml_end(\"pages\");\r\n\r\n\t\t\tthis.setCurrentView(original_date, original_mode);\r\n\t\t} else {\r\n\t\t\txml = xml_top(\"data\", mode, header, footer) + xml_body_header().replace(\"\\u2013\", \"-\") + xml_body(colors) + xml_end(\"data\");\r\n\t\t}\r\n\t\treturn xml;\r\n\t}\r\n\tscheduler.getPDFData = toXML;\r\n\tfunction send_xml(xml, url){\r\n\t\tvar uid = scheduler.uid();\r\n\t\tvar d = document.createElement(\"div\");\r\n\t\td.style.display = \"none\";\r\n\t\tdocument.body.appendChild(d);\r\n\r\n\t\td.innerHTML = '<form id=\"' + uid + '\" method=\"post\" target=\"_blank\" action=\"' + url + '\" accept-charset=\"utf-8\" enctype=\"application/x-www-form-urlencoded\"><input type=\"hidden\" name=\"mycoolxmlbody\"/> </form>';\r\n\t\tdocument.getElementById(uid).firstChild.value = encodeURIComponent(xml);\r\n\t\tdocument.getElementById(uid).submit();\r\n\t\td.parentNode.removeChild(d);\r\n\t}\r\n\r\n\tfunction to_pdf(start, end, view, url, mode, header, footer) {\r\n\t\tvar xml = \"\";\r\n\t\tif(typeof mode == \"object\"){\r\n\t\t\txml = schedulersToPdf(mode);\r\n\t\t}else{\r\n\t\t\txml = toXML.apply(this, [start, end, view, mode, header, footer]);\r\n\t\t}\r\n\r\n\t\tsend_xml(xml, url);\r\n\t}\r\n\r\n\tfunction schedulersToPdf(objects){\r\n\t\tvar xml = \"<data>\";\r\n\t\tfor(var i=0; i < objects.length; i++){\r\n\t\t\txml += objects[i].source.getPDFData(objects[i].start, objects[i].end, objects[i].view, objects[i].mode, objects[i].header, objects[i].footer);\r\n\t\t}\r\n\t\txml += \"</data>\";\r\n\t\treturn xml;\r\n\t}\r\n\r\n\t/*\r\n\t * scheduler.toPDF(url, mode, header, footer) - for a single scheduler\r\n\t * scheduler.toPDF(url, [scheduler1, scheduler2,...]) - for multiple schedulers\r\n\t * example:\r\n\t * scheduler.toPDF(\"generate.ashx\", [\r\n\t *     { source: scheduler1, mode: \"color\" },\r\n\t *     { source: scheduler2, mode: \"gray\", view:\"week\", start:new Date(2013, 06, 1), end:new Date(2013, 06, 28) },\r\n\t *     { source: scheduler3 }\r\n\t * ]);\r\n\t *\r\n\t */\r\n\tscheduler.toPDF = function(url, mode, header, footer) {\r\n\t\treturn to_pdf.apply(this, [null, null, null, url, mode, header, footer]);\r\n\t};\r\n\tscheduler.toPDFRange = function(start, end, view, url, mode, header, footer) {\r\n\t\tif (typeof start == \"string\") {\r\n\t\t\tstart = scheduler.templates.api_date(start);\r\n\t\t\tend = scheduler.templates.api_date(end);\r\n\t\t}\r\n\r\n\t\treturn to_pdf.apply(this, arguments);\r\n\t};\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.config.icons_select = [\"icon_form\", \"icon_delete\"];\r\nscheduler.config.details_on_create = true;\r\nscheduler.config.show_quick_info = true;\r\nscheduler.xy.menu_width = 0;\r\n\r\n\r\n\r\nlet clickedElementPosition = null;\r\nscheduler.attachEvent(\"onSchedulerReady\", function(){\r\n\tconst container = scheduler.$container;\r\n\tif(container._$quickInfoHandler){\r\n\t\treturn;\r\n\t}else{\r\n\t\tcontainer._$quickInfoHandler = true;\r\n\t\t// store coordinates of clicked segment of an event\r\n\t\t// in case multi section events or multi-line month events\r\n\t\tscheduler.event(container, \"mousedown\", function(e){\r\n\t\t\tconst eventElement = e.target.closest(`[${scheduler.config.event_attribute}]`);\r\n\t\t\tif (eventElement) {\r\n\t\t\t\tclickedElementPosition = {\r\n\t\t\t\t\tid: eventElement.getAttribute(scheduler.config.event_attribute),\r\n\t\t\t\t\tposition: getPositionInsideScheduler(eventElement)\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t});\r\n\t\tscheduler.attachEvent(\"onDestroy\", () => {\r\n\t\t\tdelete container._$quickInfoHandler;\r\n\t\t});\r\n\t}\r\n});\r\n\r\nscheduler.attachEvent(\"onClick\", function(id){\r\n\tif(!scheduler.config.show_quick_info){\r\n\t\treturn;\r\n\t}\r\n\tscheduler.showQuickInfo(id);\r\n\treturn true;\r\n});\r\n\r\n(function(){\r\n\t// pass `force` argument in order to hide quick info synchronously\r\n\t// so it won't affect showQuickInfo call that can follow\r\n\tvar events = [\"onEmptyClick\", \"onViewChange\", \"onLightbox\", \"onBeforeEventDelete\", \"onBeforeDrag\"];\r\n\tvar hiding_function = function(){\r\n\t\tscheduler.hideQuickInfo(true);\r\n\t\treturn true;\r\n\t};\r\n\tfor (var i=0; i<events.length; i++){\r\n\t\tscheduler.attachEvent(events[i], hiding_function);\r\n\t}\r\n})();\r\n\r\nscheduler.templates.quick_info_title = function(start, end, ev){ return ev.text.substr(0,50); };\r\nscheduler.templates.quick_info_content = function(start, end, ev){ return ev.details || \"\"; };\r\nscheduler.templates.quick_info_date = function(start, end, ev){\r\n\tif (scheduler.isOneDayEvent(ev) && scheduler.config.rtl){\r\n\t\treturn scheduler.templates.day_date(start, end, ev) + \" \" +scheduler.templates.event_header(end, start, ev);\r\n\t} else if (scheduler.isOneDayEvent(ev)) {\r\n\t\treturn scheduler.templates.day_date(start, end, ev) + \" \" +scheduler.templates.event_header(start, end, ev);\r\n\t} else if (scheduler.config.rtl) {\r\n\t\treturn scheduler.templates.week_date(end, start, ev);\r\n\t} else {\r\n\t\treturn scheduler.templates.week_date(start, end, ev);\r\n\t}\r\n};\r\n\r\nscheduler.showQuickInfo = function(id){\r\n\tif (id == this._quick_info_box_id) return;\r\n\tthis.hideQuickInfo(true);\r\n\tif(this.callEvent(\"onBeforeQuickInfo\", [id]) === false){\r\n\t\treturn;\r\n\t}\r\n\r\n\tlet pos;\r\n\tif(clickedElementPosition && clickedElementPosition.id == id){\r\n\t\tpos = clickedElementPosition.position;\r\n\t} else {\r\n\t\tpos = this._get_event_counter_part(id);\r\n\t}\r\n\r\n\r\n\tif (pos){\r\n\t\tthis._quick_info_box = this._init_quick_info(pos);\r\n\t\tthis._fill_quick_data(id);\r\n\t\tthis._show_quick_info(pos);\r\n\r\n\t\tthis.callEvent(\"onQuickInfo\", [id]);\r\n\t}\r\n};\r\n\r\n(function(){\r\n\r\nfunction cssTimeToMs(time) {\r\n\ttime = time || \"\";\r\n\r\n\tvar num = parseFloat(time),\r\n\t\tunit = time.match(/m?s/),\r\n\t\tmilliseconds;\r\n\r\n\tif (unit) {\r\n\t\tunit = unit[0];\r\n\t}\r\n\r\n\tswitch (unit) {\r\n\t\tcase \"s\": // seconds\r\n\t\t\tmilliseconds = num * 1000;\r\n\t\t\tbreak;\r\n\t\tcase \"ms\": // milliseconds\r\n\t\t\tmilliseconds = num;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tmilliseconds = 0;\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\treturn milliseconds;\r\n}\r\n\r\nscheduler.hideQuickInfo = function(forced){\r\n\tvar qi = this._quick_info_box;\r\n\tvar eventId = this._quick_info_box_id;\r\n\tthis._quick_info_box_id = 0;\r\n\r\n\tif (qi && qi.parentNode){\r\n\t\tvar width = qi.offsetWidth;\r\n\t\tif (scheduler.config.quick_info_detached) {\r\n\t\t\tthis.callEvent(\"onAfterQuickInfo\", [eventId]);\r\n\t\t\treturn qi.parentNode.removeChild(qi);\r\n\t\t}\r\n\r\n\t\tif (qi.style.right == \"auto\")\r\n\t\t\tqi.style.left = -width + \"px\";\r\n\t\telse\r\n\t\t\tqi.style.right = -width + \"px\";\r\n\r\n\t\tif (forced) {\r\n\t\t\tqi.parentNode.removeChild(qi);\r\n\t\t}else{\r\n\r\n\t\t\tvar style;\r\n\t\t\tif(window.getComputedStyle){\r\n\t\t\t\tstyle = window.getComputedStyle(qi, null);\r\n\t\t\t}else if(qi.currentStyle){\r\n\t\t\t\tstyle = qi.currentStyle;\r\n\t\t\t}\r\n\t\t\tvar delay = cssTimeToMs(style[\"transition-delay\"]) + cssTimeToMs(style[\"transition-duration\"]);\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tif(qi.parentNode){\r\n\t\t\t\t\tqi.parentNode.removeChild(qi);\r\n\t\t\t\t}\r\n\t\t\t}, delay);\r\n\t\t}\r\n\r\n\t\tthis.callEvent(\"onAfterQuickInfo\", [eventId]);\r\n\t}\r\n};\r\n\r\n})();\r\n\r\nscheduler.event(window, \"keydown\", function(e){\r\n\tif (e.keyCode == 27)\r\n\t\tscheduler.hideQuickInfo();\r\n});\r\n\r\nscheduler._show_quick_info = function(pos){\r\n\tvar qi = scheduler._quick_info_box;\r\n\tscheduler._obj.appendChild(qi);\r\n\tvar width = qi.offsetWidth;\r\n\tvar height = qi.offsetHeight;\r\n\r\n\tif (scheduler.config.quick_info_detached){\r\n\t\tvar left = pos.left - pos.dx*(width - pos.width);\r\n\t\tif(scheduler.getView() && scheduler.getView()._x_scroll){\r\n\t\t\t// scrollable timeline\r\n\t\t\tif(scheduler.config.rtl){\r\n\t\t\t\tleft += scheduler.getView()._x_scroll;\r\n\t\t\t}else{\r\n\t\t\t\tleft -= scheduler.getView()._x_scroll;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tvar right = left + width;\r\n\t\tif(right > window.innerWidth){\r\n\t\t\tleft = window.innerWidth - width;\r\n\t\t}\r\n\t\tleft = Math.max(0, left);\r\n\r\n\t\tqi.style.left = left + \"px\";\r\n\t\tqi.style.top = pos.top - (pos.dy?height:-pos.height) + \"px\";\r\n\t} else {\r\n\r\n\t\tconst dataPos = scheduler.$container.querySelector('.dhx_cal_data').offsetTop;\r\n\t\tqi.style.top = dataPos + 20 + \"px\";\r\n\t\tif (pos.dx == 1){\r\n\t\t\tqi.style.right = \"auto\";\r\n\t\t\tqi.style.left = -width + \"px\";\r\n\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tqi.style.left = \"-10px\";\r\n\t\t\t},1);\r\n\t\t} else {\r\n\t\t\tqi.style.left = \"auto\";\r\n\t\t\tqi.style.right = -width + \"px\";\r\n\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\tqi.style.right = \"-10px\";\r\n\t\t\t},1);\r\n\t\t}\r\n\t\tqi.className = qi.className.replace(\" dhx_qi_left\",\"\").replace(\" dhx_qi_right\",\"\")+\" dhx_qi_\"+(pos.dx==1?\"left\":\"right\");\r\n\t}\r\n\r\n\tqi.ontransitionend = () => {\r\n\t\tfitQIInsideWindow(qi);\r\n\t\tqi.ontransitionend = null;\r\n\t};\r\n\tsetTimeout(() => {\r\n\t\tfitQIInsideWindow(qi);\r\n\t}, 1);\r\n};\r\n\r\nfunction fitQIInsideWindow(quickInfoPopup){\r\n\tconst popupRect = quickInfoPopup.getBoundingClientRect();\r\n\tconst containerRect = scheduler.$container.getBoundingClientRect();\r\n\r\n\t// calculate the bottom offset of the Quick Info relative to the scheduler container\r\n\tconst offsetBottom = containerRect.bottom - popupRect.bottom;\r\n\r\n\t// If the popup extends outside the scheduler container, adjust its top position\r\n\tif (offsetBottom < 0) {\r\n\t\tquickInfoPopup.style.top = `${parseFloat(quickInfoPopup.style.top) + offsetBottom}px`;\r\n\t}\r\n}\r\n\r\nscheduler.attachEvent(\"onTemplatesReady\", function(){\r\n\tscheduler.hideQuickInfo();\r\n\tif(this._quick_info_box){\r\n\t\tvar box = this._quick_info_box;\r\n\t\tif(box.parentNode){\r\n\t\t\tbox.parentNode.removeChild(box);\r\n\t\t}\r\n\t\tthis._quick_info_box = null;\r\n\t}\r\n});\r\nscheduler._quick_info_onscroll_handler = function(e){\r\n\tscheduler.hideQuickInfo();\r\n};\r\nscheduler._init_quick_info = function(){\r\n\tif (!this._quick_info_box){\r\n\r\n\r\n\t\tvar qi = this._quick_info_box = document.createElement(\"div\");\r\n\r\n\t\tthis._waiAria.quickInfoAttr(qi);\r\n\r\n\t\tqi.className = \"dhx_cal_quick_info\";\r\n\t\tif (scheduler.$testmode)\r\n\t\t\tqi.className += \" dhx_no_animate\";\r\n\t\tif (scheduler.config.rtl) qi.className += \" dhx_quick_info_rtl\";\r\n\t//title\r\n\t\tvar ariaAttr = this._waiAria.quickInfoHeaderAttrString();\r\n\t\tvar html = `\r\n\t\t<div class=\"dhx_cal_qi_tcontrols\">\r\n\t\t\t<a class=\"dhx_cal_qi_close_btn scheduler_icon close\"></a>\r\n\t\t</div>\r\n\t\t<div class=\"dhx_cal_qi_title\" ${ariaAttr}>\r\n\t\t\t\t\r\n\t\t\t\t<div class=\"dhx_cal_qi_tcontent\"></div>\r\n\t\t\t\t<div class=\"dhx_cal_qi_tdate\"></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"dhx_cal_qi_content\"></div>`;\r\n\r\n\t//buttons\r\n\t\thtml += \"<div class=\\\"dhx_cal_qi_controls\\\">\";\r\n\t\tvar buttons = scheduler.config.icons_select;\r\n\t\t\tfor (var i = 0; i < buttons.length; i++) {\r\n\t\t\t\tvar ariaAttr = this._waiAria.quickInfoButtonAttrString(this.locale.labels[buttons[i]]);\r\n\t\t\t\thtml += `<div ${ariaAttr} class=\"dhx_qi_big_icon ${buttons[i]}\" title=\"${scheduler.locale.labels[buttons[i]]}\">\r\n\t\t\t\t<div class='dhx_menu_icon ${buttons[i]}'></div><div>${scheduler.locale.labels[buttons[i]]}</div></div>`;\r\n\t\t\t}\r\n\t\t// }\r\n\t\thtml += \"</div>\";\r\n\r\n\t\tqi.innerHTML = html;\r\n\t\tscheduler.event(qi, \"click\", function(ev){\r\n\t\t\tscheduler._qi_button_click(ev.target || ev.srcElement);\r\n\t\t});\r\n\t\tif (scheduler.config.quick_info_detached){\r\n\t\t\tscheduler._detachDomEvent(scheduler._els[\"dhx_cal_data\"][0], \"scroll\", scheduler._quick_info_onscroll_handler);\r\n\t\t\tscheduler.event(scheduler._els[\"dhx_cal_data\"][0], \"scroll\", scheduler._quick_info_onscroll_handler);\r\n\t\t}\r\n\t}\r\n\r\n\treturn this._quick_info_box;\r\n};\r\n\r\nscheduler._qi_button_click = function(node){\r\n\tvar box = scheduler._quick_info_box;\r\n\tif (!node || node == box) return;\r\n\r\n\tif(node.closest(\".dhx_cal_qi_close_btn\")){\r\n\t\tscheduler.hideQuickInfo();\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar mask = scheduler._getClassName(node);\r\n\tif (mask.indexOf(\"_icon\")!=-1){\r\n\t\tvar id = scheduler._quick_info_box_id;\r\n\t\tscheduler._click.buttons[mask.split(\" \")[1].replace(\"icon_\",\"\")](id);\r\n\t} else\r\n\t\tscheduler._qi_button_click(node.parentNode);\r\n};\r\n\r\nfunction getPositionInsideScheduler(element){\r\n\tlet left = 0;\r\n\tlet top = 0;\r\n\r\n\tlet node = element;\r\n\twhile (node && node != scheduler._obj){\r\n\t\tleft += node.offsetLeft;\r\n\t\ttop += node.offsetTop-node.scrollTop;\r\n\t\tnode = node.offsetParent;\r\n\t}\r\n\tif(node){\r\n\t\tlet dx = (left + element.offsetWidth/2) > (scheduler._x/2) ? 1 : 0;\r\n\t\tlet dy = (top + element.offsetHeight/2) > (scheduler._y/2) ? 1 : 0;\r\n\r\n\t\treturn { left:left, top:top, dx:dx, dy:dy,\r\n\t\t\twidth:element.offsetWidth, height:element.offsetHeight };\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nscheduler._get_event_counter_part = function(id){\r\n\tvar domEv = scheduler.getRenderedEvent(id);\r\n\treturn getPositionInsideScheduler(domEv);\r\n};\r\n\r\nscheduler._fill_quick_data  = function(id){\r\n\tvar ev = scheduler.getEvent(id);\r\n\tvar qi = scheduler._quick_info_box;\r\n\r\n\tscheduler._quick_info_box_id = id;\r\n\r\n//title content\r\n\r\n\tvar header = {\r\n\t\tcontent: scheduler.templates.quick_info_title(ev.start_date, ev.end_date, ev),\r\n\t\tdate: scheduler.templates.quick_info_date(ev.start_date, ev.end_date, ev)\r\n\t};\r\n\tvar titleContent = qi.querySelector(\".dhx_cal_qi_tcontent\");\r\n\ttitleContent.innerHTML = `<span>${header.content}</span>`;\r\n\tvar titleDate = qi.querySelector(\".dhx_cal_qi_tdate\");\r\n\ttitleDate.innerHTML = header.date;\r\n\r\n\tscheduler._waiAria.quickInfoHeader(qi, [header.content, header.date].join(\" \"));\r\n\r\n//main content\r\n\tvar main = qi.querySelector(\".dhx_cal_qi_content\");\r\n\tconst mainContent = scheduler.templates.quick_info_content(ev.start_date, ev.end_date, ev);\r\n\tif(mainContent){\r\n\t\tmain.classList.remove(\"dhx_hidden\");\r\n\t\tmain.innerHTML = mainContent;\r\n\t}else{\r\n\t\tmain.classList.add(\"dhx_hidden\");\r\n\t}\r\n};\r\n\r\n\r\n}","export default function(scheduler){\r\n\t\r\nscheduler.attachEvent(\"onTemplatesReady\", function() {\r\n\tvar originalRecurringSetValue;\r\n\tif (scheduler.form_blocks.recurring) {\r\n\t\toriginalRecurringSetValue = scheduler.form_blocks.recurring.set_value;\r\n\t}\r\n\tvar original_left_buttons = scheduler.config.buttons_left.slice();\r\n\tvar original_right_buttons = scheduler.config.buttons_right.slice();\r\n\r\n\tscheduler.attachEvent(\"onBeforeLightbox\", function(id) {\r\n\t\tif (this.config.readonly_form || this.getEvent(id).readonly) {\r\n\t\t\tthis.config.readonly_active = true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.config.readonly_active = false;\r\n\t\t\tscheduler.config.buttons_left = original_left_buttons.slice();\r\n\t\t\tscheduler.config.buttons_right = original_right_buttons.slice();\r\n\t\r\n\t\t\t// initial value\r\n\t\t\tif(scheduler.form_blocks.recurring) {\r\n\t\t\t\tscheduler.form_blocks.recurring.set_value = originalRecurringSetValue;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar sns = this.config.lightbox.sections;\r\n\t\tif (this.config.readonly_active) {\r\n\t\t\tfor (var i = 0; i < sns.length; i++) {\r\n\t\t\t\tif (sns[i].type == 'recurring') {\r\n\t\t\t\t\tif (this.config.readonly_active && scheduler.form_blocks.recurring) {\r\n\t\t\t\t\t\tscheduler.form_blocks.recurring.set_value = function(node, value, ev) {\r\n\t\t\t\t\t\t\tvar wrapper = scheduler.$domHelpers.closest(node, \".dhx_wrap_section\");\r\n\t\t\t\t\t\t\tvar style = \"none\";\r\n\t\t\t\t\t\t\twrapper.querySelector('.dhx_cal_lsection').display = style;\r\n\t\t\t\t\t\t\twrapper.querySelector('.dhx_form_repeat').display = style;\r\n\t\t\t\t\t\t\twrapper.style.display = style;\r\n\r\n\t\t\t\t\t\t\tscheduler.setLightboxSize();\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar forbidden_buttons = [\"dhx_delete_btn\", \"dhx_save_btn\"];\r\n\t\t\tvar button_arrays = [scheduler.config.buttons_left, scheduler.config.buttons_right];\r\n\t\t\tfor (var i = 0; i < forbidden_buttons.length; i++) {\r\n\t\t\t\tvar forbidden_button = forbidden_buttons[i];\r\n\t\t\t\tfor (var k = 0; k < button_arrays.length; k++) {\r\n\t\t\t\t\tvar button_array = button_arrays[k];\r\n\t\t\t\t\tvar index = -1;\r\n\t\t\t\t\tfor (var p = 0; p < button_array.length; p++) {\r\n\t\t\t\t\t\tif (button_array[p] == forbidden_button) {\r\n\t\t\t\t\t\t\tindex = p;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (index != -1) {\r\n\t\t\t\t\t\tbutton_array.splice(index, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.resetLightbox();\r\n\r\n\t\treturn true;\r\n\t});\r\n\r\n\tfunction txt_replace(tag, d, n, text) {\r\n\t\tvar txts = d.getElementsByTagName(tag);\r\n\t\tvar txtt = n.getElementsByTagName(tag);\r\n\t\tfor (var i = txtt.length - 1; i >= 0; i--) {\r\n\t\t\tvar n = txtt[i];\r\n\t\t\tif (!text){\r\n\t\t\t\tn.disabled = true;\r\n\t\t\t\t//radio and checkboxes loses state after .cloneNode in IE\r\n\t\t\t\tif(d.checked)\r\n\t\t\t\t\tn.checked = true;\r\n\t\t\t}else {\r\n\t\t\t\tvar t = document.createElement(\"span\");\r\n\t\t\t\tt.className = \"dhx_text_disabled\";\r\n\t\t\t\tt.innerHTML = text(txts[i]);\r\n\t\t\t\tn.parentNode.insertBefore(t, n);\r\n\t\t\t\tn.parentNode.removeChild(n);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar old = scheduler._fill_lightbox;\r\n\tscheduler._fill_lightbox = function() {\r\n\r\n\t\tvar lb = this.getLightbox();\r\n\t\tif (this.config.readonly_active) {\r\n\t\t\tlb.style.visibility = 'hidden';\r\n\t\t\t// lightbox should have actual sizes before rendering controls\r\n\t\t\t// currently only matters for dhtmlxCombo\r\n\t\t\tlb.style.display = 'block';\r\n\t\t}\r\n\t\tvar res = old.apply(this, arguments);\r\n\t\tif (this.config.readonly_active) {\r\n\t\t\t//reset visibility and display\r\n\t\t\tlb.style.visibility = '';\r\n\t\t\tlb.style.display = 'none';\r\n\t\t}\r\n\r\n\t\tif (this.config.readonly_active) {\r\n\r\n\t\t\tvar originalForm = this.getLightbox();\r\n\t\t\tvar readonlyForm = this._lightbox_r = originalForm.cloneNode(true);\r\n\t\t\treadonlyForm.id = scheduler.uid();\r\n\t\t\treadonlyForm.className += \" dhx_cal_light_readonly\";\r\n\t\t\ttxt_replace(\"textarea\", originalForm, readonlyForm, function(a) {\r\n\t\t\t\treturn a.value;\r\n\t\t\t});\r\n\t\t\ttxt_replace(\"input\", originalForm, readonlyForm, false);\r\n\t\t\ttxt_replace(\"select\", originalForm, readonlyForm, function(a) {\r\n\t\t\t\tif(!a.options.length) return \"\";\r\n\t\t\t\treturn a.options[Math.max((a.selectedIndex || 0), 0)].text;\r\n\t\t\t});\r\n\r\n\t\t\toriginalForm.parentNode.insertBefore(readonlyForm, originalForm);\r\n\r\n\t\t\tthis.showCover(readonlyForm);\r\n\t\t\tif (scheduler._lightbox)\r\n\t\t\t\tscheduler._lightbox.parentNode.removeChild(scheduler._lightbox);\r\n\t\t\tthis._lightbox = readonlyForm;\r\n\r\n\t\t\tif (scheduler.config.drag_lightbox)\r\n\t\t\t\tscheduler.event(readonlyForm.firstChild, \"mousedown\", scheduler._ready_to_dnd);\r\n\t\t\t\t\r\n\t\t\tscheduler._init_lightbox_events();\r\n\t\t\tthis.setLightboxSize();\r\n\t\t}\r\n\t\treturn res;\r\n\t};\r\n\r\n\tvar hold = scheduler.hide_lightbox;\r\n\tscheduler.hide_lightbox = function() {\r\n\t\tif (this._lightbox_r) {\r\n\t\t\tthis._lightbox_r.parentNode.removeChild(this._lightbox_r);\r\n\t\t\tthis._lightbox_r = this._lightbox = null;\r\n\t\t}\r\n\r\n\t\treturn hold.apply(this, arguments);\r\n\t};\r\n});\r\n\r\n\r\n}","import { RRule, rrulestr } from 'rrule';\r\n\r\nexport default function (scheduler) {\r\n\r\n\tfunction clearMilliseconds(date) {\r\n\t\treturn new Date(\r\n\t\t\tdate.getFullYear(),\r\n\t\t\tdate.getMonth(),\r\n\t\t\tdate.getDate(),\r\n\t\t\tdate.getHours(),\r\n\t\t\tdate.getMinutes(),\r\n\t\t\tdate.getSeconds(),\r\n\t\t\t0\r\n\t\t);\r\n\t}\r\n\r\n\tfunction isDeletedOccurrence(event) {\r\n\t\treturn !!event.deleted;\r\n\t}\r\n\r\n\tfunction isSeries(event) {\r\n\t\treturn !!event.rrule && !event.recurring_event_id;\r\n\t}\r\n\r\n\tfunction clearRecurringProperties(event) {\r\n\t\tevent.rrule = \"\";\r\n\t\tevent.original_start = null;\r\n\t\tevent.recurring_event_id = null;\r\n\t\tevent.duration = null;\r\n\t\tevent.deleted = null;\r\n\t}\r\n\r\n\tfunction createException(ev) {\r\n\t\tlet id = ev.id.split(\"#\");\r\n\r\n\t\tlet nid = scheduler.uid();\r\n\t\tscheduler._not_render = true;\r\n\t\tlet nev = scheduler._copy_event(ev);\r\n\t\tnev.id = nid;\r\n\t\tnev.recurring_event_id = id[0];\r\n\r\n\t\tlet timestamp = id[1];\r\n\r\n\t\tnev.original_start = new Date(Number(timestamp));\r\n\r\n\t\tscheduler._add_rec_marker(nev, timestamp);\r\n\t\tscheduler.addEvent(nev);\r\n\t\tscheduler._not_render = false;\r\n\t}\r\n\r\n\tscheduler._rec_temp = [];\r\n\tscheduler._rec_markers_pull = {};\r\n\tscheduler._rec_markers = {};\r\n\tscheduler._add_rec_marker = function (ev, time) {\r\n\t\tev._pid_time = time;\r\n\t\tthis._rec_markers[ev.id] = ev;\r\n\t\tif (!this._rec_markers_pull[ev.event_pid]) this._rec_markers_pull[ev.event_pid] = {};\r\n\t\tthis._rec_markers_pull[ev.event_pid][time] = ev;\r\n\t};\r\n\tscheduler._get_rec_marker = function (time, id) {\r\n\t\tlet ch = this._rec_markers_pull[id];\r\n\t\tif (ch) return ch[time];\r\n\t\treturn null;\r\n\t};\r\n\tscheduler._get_rec_markers = function (id) {\r\n\t\treturn (this._rec_markers_pull[id] || []);\r\n\t};\r\n\r\n\t(function () {\r\n\t\tvar old_add_event = scheduler.addEvent;\r\n\t\tscheduler.addEvent = function (start_date, end_date, text, id, extra_data) {\r\n\t\t\tvar ev_id = old_add_event.apply(this, arguments);\r\n\r\n\t\t\tif (ev_id && scheduler.getEvent(ev_id)) {\r\n\t\t\t\tvar ev = scheduler.getEvent(ev_id);\r\n\r\n\t\t\t\tif (ev.start_date) {\r\n\t\t\t\t\tev.start_date = clearMilliseconds(ev.start_date);\r\n\t\t\t\t}\r\n\t\t\t\tif (ev.end_date) {\r\n\t\t\t\t\tev.end_date = clearMilliseconds(ev.end_date);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn ev_id;\r\n\t\t};\r\n\t})();\r\n\r\n\tscheduler.attachEvent(\"onEventLoading\", function (event) {\r\n\r\n\t\tif (event.original_start) {\r\n\t\t\tevent.original_start = scheduler.templates.parse_date(event.original_start);\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onEventIdChange\", function (id, new_id) {\r\n\t\tif (this._ignore_call) return;\r\n\t\tthis._ignore_call = true;\r\n\r\n\t\tif (scheduler._rec_markers[id]) {\r\n\t\t\t//important for for correct work of scheduler.getEvents(from, to) and collision detection\r\n\t\t\tscheduler._rec_markers[new_id] = scheduler._rec_markers[id];\r\n\t\t\tdelete scheduler._rec_markers[id];\r\n\t\t}\r\n\r\n\t\tif (scheduler._rec_markers_pull[id]) {\r\n\t\t\tscheduler._rec_markers_pull[new_id] = scheduler._rec_markers_pull[id];\r\n\t\t\tdelete scheduler._rec_markers_pull[id];\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < this._rec_temp.length; i++) {\r\n\t\t\tvar tev = this._rec_temp[i];\r\n\t\t\tif (tev.recurring_event_id == id) {\r\n\t\t\t\ttev.recurring_event_id = new_id;\r\n\t\t\t\tthis.changeEventId(tev.id, new_id + \"#\" + tev.id.split(\"#\")[1]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var i in this._rec_markers) {\r\n\t\t\tvar tev = this._rec_markers[i];\r\n\t\t\tif (tev.recurring_event_id == id) {\r\n\t\t\t\ttev.recurring_event_id = new_id;\r\n\t\t\t\ttev._pid_changed = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar el = scheduler._rec_markers[new_id];\r\n\t\tif (el && el._pid_changed) {\r\n\t\t\tdelete el._pid_changed;\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tif (scheduler.$destroyed) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tscheduler.callEvent(\"onEventChanged\", [new_id, scheduler.getEvent(new_id)]);\r\n\t\t\t}, 1);\r\n\t\t}\r\n\r\n\t\tdelete this._ignore_call;\r\n\t});\r\n\r\n\tfunction deleteEventFromSeries(idTimestamp, ev) {\r\n\t\tlet id = idTimestamp;\r\n\t\tidTimestamp = id.split(\"#\");\r\n\t\tlet nid = scheduler.uid();\r\n\t\tlet tid = (idTimestamp[1]) ? idTimestamp[1] : (ev._pid_time);\r\n\t\tlet nev = scheduler._copy_event(ev);\r\n\t\tnev.id = nid;\r\n\t\tnev.recurring_event_id = ev.recurring_event_id || idTimestamp[0];\r\n\t\tnev.original_start = new Date(Number(tid));\r\n\t\tnev.deleted = true;\r\n\t\tscheduler.addEvent(nev);\r\n\t}\r\n\r\n\tscheduler.attachEvent(\"onConfirmedBeforeEventDelete\", function (id) {\r\n\t\tvar ev = this.getEvent(id);\r\n\t\tif (this._is_virtual_event(id) || (this._is_modified_occurence(ev) && !isDeletedOccurrence(ev))) {\r\n\t\t\tdeleteEventFromSeries(id, ev);\r\n\t\t} else {\r\n\t\t\tif (isSeries(ev) && this._lightbox_id)\r\n\t\t\t\tthis._roll_back_dates(ev);\r\n\r\n\r\n\t\t\tvar sub = this._get_rec_markers(id);\r\n\t\t\tfor (var i in sub) {\r\n\t\t\t\tif (sub.hasOwnProperty(i)) {\r\n\t\t\t\t\tid = sub[i].id;\r\n\t\t\t\t\tif (this.getEvent(id))\r\n\t\t\t\t\t\tthis.deleteEvent(id, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onEventDeleted\", function (id, ev) {\r\n\t\tif (!this._is_virtual_event(id) && this._is_modified_occurence(ev)) {\r\n\t\t\tif (!scheduler._events[id]) {\r\n\t\t\t\tev.deleted = true;\r\n\t\t\t\tthis.setEvent(id, ev);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\tscheduler.attachEvent(\"onEventChanged\", function (id, event) {\r\n\t\tif (this._loading) return true;\r\n\r\n\t\tvar ev = this.getEvent(id);\r\n\r\n\t\tif (this._is_virtual_event(id)) {\r\n\t\t\tcreateException(ev);\r\n\r\n\t\t} else {\r\n\t\t\tif (ev.start_date) {\r\n\t\t\t\tev.start_date = clearMilliseconds(ev.start_date);\r\n\t\t\t}\r\n\t\t\tif (ev.end_date) {\r\n\t\t\t\tev.end_date = clearMilliseconds(ev.end_date);\r\n\t\t\t}\r\n\r\n\t\t\tif (isSeries(ev) && this._lightbox_id) {\r\n\t\t\t\tthis._roll_back_dates(ev);\r\n\t\t\t\t//scheduler.recurrings.rollbackDates(ev);\r\n\t\t\t}\r\n\r\n\t\t\tvar sub = this._get_rec_markers(id);\r\n\t\t\tfor (var i in sub) {\r\n\t\t\t\tif (sub.hasOwnProperty(i)) {\r\n\t\t\t\t\tdelete this._rec_markers[sub[i].id];\r\n\t\t\t\t\tthis.deleteEvent(sub[i].id, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdelete this._rec_markers_pull[id];\r\n\r\n\t\t\t// it's possible that after editing event is no longer exists, in such case we need to remove _select_id flag\r\n\t\t\tvar isEventFound = false;\r\n\t\t\tfor (var k = 0; k < this._rendered.length; k++) {\r\n\t\t\t\tif (this._rendered[k].getAttribute(this.config.event_attribute) == id)\r\n\t\t\t\t\tisEventFound = true;\r\n\t\t\t}\r\n\t\t\tif (!isEventFound)\r\n\t\t\t\tthis._select_id = null;\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onEventAdded\", function (id) {\r\n\t\tif (!this._loading) {\r\n\t\t\tvar ev = this.getEvent(id);\r\n\t\t\tif (isSeries(ev)) {\r\n\t\t\t\tthis._roll_back_dates(ev);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onEventSave\", function (id, data, is_new_event) {\r\n\t\tvar ev = this.getEvent(id);\r\n\t\tif (isSeries(ev))\r\n\t\t\tthis._select_id = null;\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onEventCreated\", function (id) {\r\n\t\tvar ev = this.getEvent(id);\r\n\t\tif (!isSeries(ev)) {\r\n\t\t\tclearRecurringProperties(ev);\r\n\t\t}\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onEventCancel\", function (id) {\r\n\t\tvar ev = this.getEvent(id);\r\n\t\tif (isSeries(ev)) {\r\n\t\t\tthis._roll_back_dates(ev);\r\n\t\t\t// a bit expensive, but we need to be sure that event re-rendered, because view can be corrupted by resize , during edit process\r\n\t\t\tthis.render_view_data();\r\n\t\t}\r\n\t});\r\n\tscheduler._roll_back_dates = function (ev) {\r\n\t\t//// !!!!! calc temp properties\r\n\t\tif (ev.start_date) {\r\n\t\t\tev.start_date = clearMilliseconds(ev.start_date);\r\n\t\t}\r\n\t\tif (ev.end_date) {\r\n\t\t\tev.end_date = clearMilliseconds(ev.end_date);\r\n\t\t}\r\n\r\n\t\tev.duration = Math.round((ev.end_date.valueOf() - ev.start_date.valueOf()) / 1000);\r\n\t\tev.end_date = ev._end_date;\r\n\t\tif (ev._start_date) {\r\n\t\t\tev.start_date.setMonth(0);\r\n\t\t\tev.start_date.setDate(ev._start_date.getDate());\r\n\t\t\tev.start_date.setMonth(ev._start_date.getMonth());\r\n\t\t\tev.start_date.setFullYear(ev._start_date.getFullYear());\r\n\r\n\t\t}\r\n\t};\r\n\r\n\tscheduler._is_virtual_event = function (id) {\r\n\t\treturn id.toString().indexOf(\"#\") != -1;\r\n\t};\r\n\tscheduler._is_modified_occurence = function (ev) {\r\n\t\treturn (ev.recurring_event_id && ev.recurring_event_id != \"0\");\r\n\t};\r\n\r\n\tscheduler.showLightbox_rec = scheduler.showLightbox;\r\n\tscheduler.showLightbox = function (id) {\r\n\t\tvar locale = this.locale;\r\n\t\tvar c = scheduler.config.lightbox_recurring;\r\n\t\tvar ev = this.getEvent(id);\r\n\t\tvar pid = ev.recurring_event_id;\r\n\t\tvar isVirtual = this._is_virtual_event(id);\r\n\t\tif (isVirtual)\r\n\t\t\tpid = id.split(\"#\")[0];\r\n\r\n\t\t// show series\r\n\t\tvar showSeries = function (id) {\r\n\t\t\tvar event = scheduler.getEvent(id);\r\n\t\t\tevent._end_date = event.end_date;\r\n\t\t\tevent.end_date = new Date(event.start_date.valueOf() + event.duration * 1000);\r\n\t\t\treturn scheduler.showLightbox_rec(id); // editing series\r\n\t\t};\r\n\r\n\t\tif ((pid || pid * 1 === 0) && isSeries(ev)) {\r\n\t\t\t// direct API call on series id\r\n\t\t\treturn showSeries(id);\r\n\t\t}\r\n\t\tif (!pid || pid === '0' || ((!locale.labels.confirm_recurring || c == 'instance') || (c == 'series' && !isVirtual))) {\r\n\t\t\t// editing instance or non recurring event\r\n\t\t\treturn this.showLightbox_rec(id);\r\n\t\t}\r\n\t\tif (c == 'ask') {\r\n\t\t\tvar that = this;\r\n\t\t\tscheduler.modalbox({\r\n\t\t\t\ttext: locale.labels.confirm_recurring,\r\n\t\t\t\ttitle: locale.labels.title_confirm_recurring,\r\n\t\t\t\twidth: \"500px\",\r\n\t\t\t\tposition: \"middle\",\r\n\t\t\t\tbuttons: [locale.labels.button_edit_series, locale.labels.button_edit_occurrence, locale.labels.icon_cancel],\r\n\t\t\t\tcallback: function (index) {\r\n\t\t\t\t\tswitch (+index) {\r\n\t\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t\treturn showSeries(pid);\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\treturn that.showLightbox_rec(id);\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tshowSeries(pid);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction groupExceptions() {\r\n\t\tconst exceptions = {};\r\n\t\tfor (const i in scheduler._events) {\r\n\t\t\tconst ev = scheduler._events[i];\r\n\t\t\tif (ev.recurring_event_id) {\r\n\t\t\t\tif (!exceptions[ev.recurring_event_id]) {\r\n\t\t\t\t\texceptions[ev.recurring_event_id] = {};\r\n\t\t\t\t}\r\n\t\t\t\texceptions[ev.recurring_event_id][ev.original_start.valueOf()] = ev;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn exceptions;\r\n\t}\r\n\r\n\tscheduler.get_visible_events_rec = scheduler.get_visible_events;\r\n\tscheduler.get_visible_events = function (only_timed) {\r\n\t\tfor (var i = 0; i < this._rec_temp.length; i++)\r\n\t\t\tdelete this._events[this._rec_temp[i].id];\r\n\t\tthis._rec_temp = [];\r\n\r\n\t\tconst exceptions = groupExceptions();\r\n\t\tvar stack = this.get_visible_events_rec(only_timed);\r\n\t\tvar out = [];\r\n\t\tfor (var i = 0; i < stack.length; i++) {\r\n\t\t\tif (stack[i].deleted || stack[i].recurring_event_id) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (isSeries(stack[i])) {\r\n\t\t\t\tthis.repeat_date(stack[i], out, undefined, undefined, undefined, undefined, exceptions);\r\n\t\t\t} else {\r\n\t\t\t\tout.push(stack[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn out;\r\n\t};\r\n\r\n\t(function () {\r\n\t\tvar old = scheduler.isOneDayEvent;\r\n\t\tscheduler.isOneDayEvent = function (ev) {\r\n\t\t\tif (isSeries(ev)) return true;\r\n\t\t\treturn old.call(this, ev);\r\n\t\t};\r\n\t\tvar old_update_event = scheduler.updateEvent;\r\n\t\tscheduler.updateEvent = function (id) {\r\n\t\t\tvar ev = scheduler.getEvent(id);\r\n\r\n\t\t\tif (ev && isSeries(ev) && !this._is_virtual_event(id)) {\r\n\t\t\t\tscheduler.update_view();\r\n\t\t\t} else {\r\n\t\t\t\told_update_event.call(this, id);\r\n\t\t\t}\r\n\t\t};\r\n\t})();\r\n\r\n\tconst toIcalString = scheduler.date.date_to_str(\"%Y%m%dT%H%i%s\");\r\n\r\n\tscheduler.repeat_date = function (ev, stack, non_render, from, to, maxCount, exceptions) {\r\n\t\tif (!ev.rrule) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet seriesExceptions = exceptions ? exceptions[ev.id] : groupExceptions()[ev.id];\r\n\t\tif (!seriesExceptions) {\r\n\t\t\tseriesExceptions = {};\r\n\t\t}\r\n\r\n\t\tif (!from) {\r\n\t\t\tfrom = scheduler._min_date;\r\n\t\t}\r\n\t\tif (!to) {\r\n\t\t\tto = scheduler._max_date;\r\n\t\t}\r\n\r\n\t\tconst utcStart = new Date(Date.UTC(ev.start_date.getFullYear(), ev.start_date.getMonth(), ev.start_date.getDate(), ev.start_date.getHours(), ev.start_date.getMinutes(), ev.start_date.getSeconds()));\r\n\t\tconst parsedRRule = rrulestr(`RRULE:${ev.rrule};UNTIL=${toIcalString(ev.end_date)}`, { dtstart: utcStart/*ev.start_date*/ });\r\n\r\n\t\tconst repeatedDates = parsedRRule.between(from, to).map(date => {\r\n\t\t\tconst adjustedDate = new Date(date);\r\n\t\t\tadjustedDate.setHours(ev.start_date.getHours());\r\n\t\t\tadjustedDate.setMinutes(ev.start_date.getMinutes());\r\n\t\t\tadjustedDate.setSeconds(ev.start_date.getSeconds());\r\n\t\t\treturn adjustedDate;\r\n\t\t});\r\n\t\tlet visibleCount = 0;\r\n\r\n\t\tconst eventDuration = ev.duration;\r\n\r\n\t\tfor (let i = 0; i < repeatedDates.length; i++) {\r\n\t\t\tif (maxCount && visibleCount >= maxCount) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tconst date = repeatedDates[i];\r\n\r\n\t\t\tlet exception = seriesExceptions[date.valueOf()];\r\n\t\t\tif (exception) {\r\n\t\t\t\tif (exception.deleted) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvisibleCount++;\r\n\t\t\t\t\tstack.push(exception);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst copy = scheduler._copy_event(ev);\r\n\t\t\t\t//copy._timed = ev._timed;\r\n\t\t\t\tcopy.text = ev.text;\r\n\t\t\t\tcopy.start_date = date;\r\n\t\t\t\tcopy.id = ev.id + \"#\" + Math.ceil(date.valueOf());\r\n\t\t\t\tcopy.end_date = new Date(date.valueOf() + eventDuration * 1000);\r\n\t\t\t\tcopy.end_date = scheduler._fix_daylight_saving_date(copy.start_date, copy.end_date, ev, date, copy.end_date);\r\n\t\t\t\tcopy._timed = scheduler.isOneDayEvent(copy);\r\n\r\n\r\n\r\n\t\t\t\tif (!copy._timed && !scheduler._table_view && !scheduler.config.multi_day) continue;\r\n\t\t\t\tstack.push(copy);\r\n\r\n\t\t\t\tif (!non_render) {\r\n\t\t\t\t\tscheduler._events[copy.id] = copy;\r\n\t\t\t\t\tscheduler._rec_temp.push(copy);\r\n\t\t\t\t}\r\n\t\t\t\tvisibleCount++;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tscheduler._fix_daylight_saving_date = function (start_date, end_date, ev, counter, default_date) {\r\n\t\tvar shift = start_date.getTimezoneOffset() - end_date.getTimezoneOffset();\r\n\t\tif (shift) {\r\n\t\t\tif (shift > 0) {\r\n\t\t\t\t// e.g. 24h -> 23h\r\n\t\t\t\treturn new Date(counter.valueOf() + ev.duration * 1000 - shift * 60 * 1000);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// e.g. 24h -> 25h\r\n\t\t\t\treturn new Date(end_date.valueOf() - shift * 60 * 1000);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new Date(default_date.valueOf());\r\n\t};\r\n\tscheduler.getRecDates = function (id, max) {\r\n\t\tvar ev = typeof id == \"object\" ? id : scheduler.getEvent(id);\r\n\t\tvar recurrings = [];\r\n\t\tmax = max || 100;\r\n\r\n\t\tif (!isSeries(ev)) {\r\n\t\t\treturn [\r\n\t\t\t\t{ start_date: ev.start_date, end_date: ev.end_date }\r\n\t\t\t];\r\n\t\t}\r\n\t\tif (ev.deleted) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tscheduler.repeat_date(ev, recurrings, true, ev.start_date, ev.end_date, max);\r\n\r\n\t\tvar result = [];\r\n\t\tfor (var i = 0; i < recurrings.length; i++) {\r\n\t\t\tif (!recurrings[i].deleted) {\r\n\t\t\t\tresult.push({ start_date: recurrings[i].start_date, end_date: recurrings[i].end_date });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t};\r\n\tscheduler.getEvents = function (from, to) {\r\n\t\tvar result = [];\r\n\t\tconst exceptions = groupExceptions();\r\n\t\tfor (var a in this._events) {\r\n\t\t\tvar ev = this._events[a];\r\n\t\t\tif (ev.recurring_event_id) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (isSeries(ev)) {\r\n\t\t\t\tif (from && to && ev.start_date < to && ev.end_date > from) {\r\n\t\t\t\t\tvar sev = [];\r\n\t\t\t\t\tthis.repeat_date(ev, sev, true, from, to, undefined, exceptions);\r\n\t\t\t\t\tsev.forEach(function(occurence){\r\n\t\t\t\t\t\tif (occurence.start_date < to && occurence.end_date > from) {\r\n\t\t\t\t\t\t\tresult.push(occurence);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}else if(!from && !to){\r\n\t\t\t\t\tresult.push(ev);\r\n\t\t\t\t}\r\n\t\t\t} else if (!this._is_virtual_event(ev.id)) { // if it's virtual event we can skip it\r\n\t\t\t\tresult.push(ev);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn result;\r\n\t};\r\n\r\n\t//drop secondary attributes\r\n\tscheduler._copy_dummy = function (ev) {\r\n\t\tvar start_date = new Date(this.start_date);\r\n\t\tvar end_date = new Date(this.end_date);\r\n\t\tthis.start_date = start_date;\r\n\t\tthis.end_date = end_date;\r\n\t\tthis.duration = this.rrule = null;\r\n\t};\r\n\r\n\tscheduler.config.include_end_by = false;\r\n\tscheduler.config.lightbox_recurring = 'ask'; // series, instance\r\n\tscheduler.config.recurring_workdays = [RRule.MO.weekday,RRule.TU.weekday,RRule.WE.weekday,RRule.TH.weekday,RRule.FR.weekday];\r\n\tscheduler.config.repeat_date = \"%m.%d.%Y\";\r\n\tscheduler.config.lightbox.sections = [\r\n\t\t{ name: \"description\", map_to: \"text\", type: \"textarea\", focus: true },\r\n\t\t{ name: \"recurring\", type: \"recurring\", map_to: \"rec_type\" },\r\n\t\t{ name: \"time\", height: 72, type: \"time\", map_to: \"auto\" }\r\n\t];\r\n\r\n\tscheduler.attachEvent(\"onClearAll\", function () {\r\n\t\tscheduler._rec_markers = {}; //clear recurring events data\r\n\t\tscheduler._rec_markers_pull = {};\r\n\t\tscheduler._rec_temp = [];\r\n\t});\r\n\r\n\r\n\tfunction getTopLevelOption(rruleObj, untilDate) {\r\n\t\tconst options = rruleObj.options;\r\n\t\tconst until = options.until || untilDate;\r\n\r\n\t\tconst hasEndCondition = options.count || (until && until.getFullYear() !== 9999);\r\n\r\n\t\tif (hasEndCondition) {\r\n\t\t\treturn 'CUSTOM';\r\n\t\t}\r\n\r\n\t\tif (options.freq === RRule.DAILY && options.interval === 1 && !options.byweekday) {\r\n\t\t\treturn 'DAILY';\r\n\t\t} else if (options.freq === RRule.WEEKLY && options.interval === 1 && !options.byweekday) {\r\n\t\t\treturn 'WEEKLY';\r\n\t\t} else if (options.freq === RRule.MONTHLY && options.interval === 1 && !options.bysetpos) {\r\n\t\t\treturn 'MONTHLY';\r\n\t\t} else if (options.freq === RRule.YEARLY && options.interval === 1 && !options.bysetpos) {\r\n\t\t\treturn 'YEARLY';\r\n\t\t} else if (options.freq === RRule.DAILY && options.byweekday && options.byweekday.length === scheduler.config.recurring_workdays.length &&\r\n\t\t\toptions.byweekday.includes(RRule.MO) &&\r\n\t\t\toptions.byweekday.includes(RRule.TU) &&\r\n\t\t\toptions.byweekday.includes(RRule.WE) &&\r\n\t\t\toptions.byweekday.includes(RRule.TH) &&\r\n\t\t\toptions.byweekday.includes(RRule.FR)) {\r\n\t\t\treturn 'WORKDAYS';\r\n\t\t} else {\r\n\t\t\treturn 'CUSTOM';\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction getWeekdayOfMonth(date) {\r\n\t\tconst dayOfWeek = date.getDay();\r\n\t\tconst dayOfMonth = date.getDate();\r\n\t\tconst dayNumber = Math.ceil(dayOfMonth / 7);\r\n\t\treturn { dayOfWeek, dayNumber };\r\n\t}\r\n\r\n\r\n\tconst jsDaysToRRULEDays = {\r\n\t\t0: \"SU\",\r\n\t\t1: \"MO\",\r\n\t\t2: \"TU\",\r\n\t\t3: \"WE\",\r\n\t\t4: \"TH\",\r\n\t\t5: \"FR\",\r\n\t\t6: \"SA\"\r\n\t};\r\n\tconst RruleDayNumsToJs = {\r\n\t\t0: 1,\r\n\t\t1: 2,\r\n\t\t2: 3,\r\n\t\t3: 4,\r\n\t\t4: 5,\r\n\t\t5: 6,\r\n\t\t6: 0\r\n\t};\r\n\r\n\tfunction fillCustomDaily(node, rule) {\r\n\t\tnode.querySelector(\"[name='repeat_interval_value']\").value = (rule ? rule.interval : 1) || 1;\r\n\t}\r\n\r\n\tfunction fillCustomWeekly(node, rule, event) {\r\n\t\tnode.querySelector(\"[name='repeat_interval_value']\").value = (rule ? rule.interval : 1) || 1;\r\n\r\n\t\tconst dayCheckboxes = node.querySelectorAll(`.dhx_form_repeat_custom_week input`);\r\n\t\tdayCheckboxes.forEach((ch) => ch.checked = false);\r\n\t\tif (rule && rule.byweekday) {\r\n\t\t\trule.byweekday.forEach((day) => {\r\n\t\t\t\tconst dayNum = RruleDayNumsToJs[day.weekday];\r\n\t\t\t\tconst dayLabel = jsDaysToRRULEDays[dayNum];\r\n\t\t\t\tnode.querySelector(`.dhx_form_repeat_custom_week input[value=\"${dayLabel}\"]`).checked = true;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconst dayLabel = jsDaysToRRULEDays[event.start_date.getDay()];\r\n\t\t\tnode.querySelector(`.dhx_form_repeat_custom_week input[value=\"${dayLabel}\"]`).checked = true;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction fillCustomMonthly(node, rule, event) {\r\n\t\tnode.querySelector(\"[name='repeat_interval_value']\").value = (rule ? rule.interval : 1) || 1;\r\n\r\n\t\tconst dateOfMonth = node.querySelector(`.dhx_form_repeat_custom_month [value=\"month_date\"]`);\r\n\t\tconst nthWeekDayOfMonth = node.querySelector(`.dhx_form_repeat_custom_month [value=\"month_nth_weekday\"]`);\r\n\t\tdateOfMonth.innerText = scheduler.templates.repeat_monthly_date(event.start_date, event);\r\n\t\tnthWeekDayOfMonth.innerText = scheduler.templates.repeat_monthly_weekday(event.start_date, event);\r\n\r\n\t\tif (!rule || (rule.bysetpos && !(rule.byweekday && rule.byweekday.length))) {\r\n\t\t\tnode.querySelector(`[name=\"dhx_custom_month_option\"]`).value = \"month_date\";\r\n\t\t} else {\r\n\t\t\tnode.querySelector(`[name=\"dhx_custom_month_option\"]`).value = \"month_nth_weekday\";\r\n\t\t}\r\n\t}\r\n\r\n\tfunction formatDayNumber(date){\r\n\t\tswitch (date) {\r\n\t\t\tcase 1:\r\n\t\t\tcase 31:\r\n\t\t\t\treturn `${date}st`;\r\n\t\t\tcase 2:\r\n\t\t\t\treturn `${date}nd`;\r\n\t\t\tcase 3:\r\n\t\t\t\treturn `${date}rd`;\r\n\t\t\tdefault:\r\n\t\t\t\treturn `${date}th`;\r\n\t\t}\r\n\t}\r\n\r\n\tscheduler.templates.repeat_monthly_date = function(startDate, event) {\r\n\t\tconst date = startDate.getDate();\r\n\t\treturn `Every ${formatDayNumber(date)}`;\r\n\t};\r\n\tscheduler.templates.repeat_monthly_weekday = function(startDate, event) {\r\n\t\tconst nthDayOfMonth = getWeekdayOfMonth(startDate);\r\n\t\treturn `Every ${formatDayNumber(nthDayOfMonth.dayNumber)} ${scheduler.locale.date.day_full[nthDayOfMonth.dayOfWeek]}`;\r\n\t};\r\n\t\r\n\tscheduler.templates.repeat_yearly_month_date = function(startDate, event) {\r\n\t\tconst date = startDate.getDate();\r\n\t\tconst monthLabel = scheduler.locale.date.month_full[startDate.getMonth()];\r\n\t\treturn `Every ${formatDayNumber(date)} day of ${monthLabel}`;\r\n\t};\r\n\tscheduler.templates.repeat_yearly_month_weekday = function(startDate, event) {\r\n\t\tconst nthDayOfMonth = getWeekdayOfMonth(startDate);\r\n\t\tconst monthLabel = scheduler.locale.date.month_full[startDate.getMonth()];\r\n\t\treturn `Every ${formatDayNumber(nthDayOfMonth.dayNumber)} ${scheduler.locale.date.day_full[nthDayOfMonth.dayOfWeek]} of ${monthLabel}`;\r\n\t};\r\n\r\n\tfunction fillCustomYearly(node, rule, event) {\r\n\t\tconst dateOfYear = node.querySelector(`.dhx_form_repeat_custom_year [value=\"month_date\"]`);\r\n\t\tconst nthWeekDayOfYear = node.querySelector(`.dhx_form_repeat_custom_year [value=\"month_nth_weekday\"]`);\r\n\t\tdateOfYear.innerText = scheduler.templates.repeat_yearly_month_date(event.start_date, event);\r\n\t\tnthWeekDayOfYear.innerText = scheduler.templates.repeat_yearly_month_weekday(event.start_date, event);\r\n\r\n\t\tif (!rule || (rule.bysetpos && !(rule.byweekday && rule.byweekday.length))) {\r\n\t\t\tnode.querySelector(`[name=\"dhx_custom_year_option\"]`).value = \"month_date\";\r\n\t\t} else {\r\n\t\t\tnode.querySelector(`[name=\"dhx_custom_year_option\"]`).value = \"month_nth_weekday\";\r\n\t\t}\r\n\t}\r\n\r\n\tfunction fillEndRule(node, rule, event) {\r\n\t\tconst countInput = node.querySelector(`.dhx_form_repeat_ends_extra [name=\"dhx_form_repeat_ends_after\"]`);\r\n\t\tconst ondateInput = node.querySelector(`.dhx_form_repeat_ends_extra [name=\"dhx_form_repeat_ends_ondate\"]`);\r\n\t\tconst endOptionSelect = node.querySelector(`[name='dhx_custom_repeat_ends']`);\r\n\t\tcountInput.value = 1;\r\n\r\n\t\tlet formatter = scheduler.date.date_to_str(\"%Y-%m-%d\");\r\n\t\tif (!scheduler.config.repeat_date_of_end) {\r\n\t\t\tscheduler.config.repeat_date_of_end = formatter(scheduler.date.add(scheduler._currentDate(), 30, \"day\"));\r\n\t\t}\r\n\t\tondateInput.value = scheduler.config.repeat_date_of_end;\r\n\r\n\t\tif (rule && rule.count) {\r\n\t\t\tendOptionSelect.value = \"AFTER\";\r\n\t\t\tcountInput.value = rule.count;\r\n\t\t} else if (event._end_date && event._end_date.getFullYear() !== 9999) {\r\n\t\t\tendOptionSelect.value = \"ON\";\r\n\t\t\tondateInput.value = formatter(event._end_date);\r\n\t\t} else {\r\n\t\t\tendOptionSelect.value = \"NEVER\";\r\n\t\t}\r\n\t\tendOptionSelect.dispatchEvent(new Event(\"change\"));\r\n\t}\r\n\r\n\tconst getRecValue = {\r\n\t\tMONTHLY: function (dates) {\r\n\t\t\tconst rrule = {\r\n\t\t\t\tfreq: RRule.MONTHLY,\r\n\t\t\t\tinterval: 1,\r\n\t\t\t\tbymonthday: dates.start.getDate()\r\n\t\t\t};\r\n\t\t\tconst until = new Date(9999, 1, 1);\r\n\t\t\treturn {rrule, until};\r\n\t\t},\r\n\t\tWEEKLY: function (dates) {\r\n\t\t\tlet day = dates.start.getDay() - 1;\r\n\t\t\tif (day == -1) day = 6;\r\n\t\t\tconst rrule = {\r\n\t\t\t\tfreq: RRule.WEEKLY,\r\n\t\t\t\tinterval: 1,\r\n\t\t\t\tbyweekday: [day]\r\n\t\t\t};\r\n\t\t\tconst until = new Date(9999, 1, 1);\r\n\t\t\treturn {rrule, until};\r\n\t\t},\r\n\t\tDAILY: function (dates) {\r\n\t\t\tconst rrule = {\r\n\t\t\t\tfreq: RRule.DAILY,\r\n\t\t\t\tinterval: 1\r\n\t\t\t};\r\n\t\t\tconst until = new Date(9999, 1, 1);\r\n\t\t\treturn {rrule, until};\r\n\t\t},\r\n\t\tYEARLY: function (dates) {\r\n\t\t\tconst rrule = {\r\n\t\t\t\tfreq: RRule.YEARLY,\r\n\t\t\t\tbymonth: dates.start.getMonth() + 1,\r\n\t\t\t\tinterval: 1,\r\n\t\t\t\tbymonthday: dates.start.getDate()\r\n\t\t\t};\r\n\t\t\tconst until = new Date(9999, 1, 1);\r\n\t\t\treturn {rrule, until};\r\n\t\t},\r\n\t\tWORKDAYS: function (dates) {\r\n\t\t\tconst rrule = {\r\n\t\t\t\tfreq: RRule.WEEKLY,\r\n\t\t\t\tinterval: 1,\r\n\t\t\t\tbyweekday: scheduler.config.recurring_workdays\r\n\t\t\t};\r\n\t\t\tconst until = new Date(9999, 1, 1);\r\n\t\t\treturn {rrule, until};\r\n\t\t},\r\n\t\tCUSTOM: function (dates, node) {\r\n\t\t\tconst rrule = {};\r\n\t\t\tconst freq = node.querySelector(`[name=\"repeat_interval_unit\"]`).value;\r\n\t\t\tconst interval = Math.max(1, node.querySelector(`[name=\"repeat_interval_value\"]`).value);\r\n\t\t\tconst monthRepeat = node.querySelector(`[name=\"dhx_custom_month_option\"]`).value;\r\n\t\t\tconst yearRepeat = node.querySelector(`[name=\"dhx_custom_year_option\"]`).value;\r\n\r\n\t\t\trrule.interval = interval;\r\n\t\t\tlet days;\r\n\t\t\tlet day;\r\n\r\n\t\t\tswitch (freq) {\r\n\t\t\t\tcase \"DAILY\":\r\n\t\t\t\t\trrule.freq = RRule.DAILY;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"WEEKLY\": \r\n\t\t\t\t\trrule.freq = RRule.WEEKLY;\r\n\t\t\t\t\tdays = [];\r\n\t\t\t\t\tnode.querySelectorAll(`.dhx_form_repeat_custom_week [name=\"week_day\"]`).forEach((ch) => {\r\n\t\t\t\t\t\tif(ch.checked){\r\n\t\t\t\t\t\t\tdays.push(ch.value);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\trrule.byweekday = days.map((day) => {\r\n\t\t\t\t\t\tswitch (day) {\r\n\t\t\t\t\t\t\tcase \"MO\":\r\n\t\t\t\t\t\t\t\treturn RRule.MO.weekday;\r\n\t\t\t\t\t\t\tcase \"TU\":\r\n\t\t\t\t\t\t\t\treturn RRule.TU.weekday;\r\n\t\t\t\t\t\t\tcase \"WE\":\r\n\t\t\t\t\t\t\t\treturn RRule.WE.weekday;\r\n\t\t\t\t\t\t\tcase \"TH\":\r\n\t\t\t\t\t\t\t\treturn RRule.TH.weekday;\r\n\t\t\t\t\t\t\tcase \"FR\":\r\n\t\t\t\t\t\t\t\treturn RRule.FR.weekday;\r\n\t\t\t\t\t\t\tcase \"SA\":\r\n\t\t\t\t\t\t\t\treturn RRule.SA.weekday;\r\n\t\t\t\t\t\t\tcase \"SU\":\r\n\t\t\t\t\t\t\t\treturn RRule.SU.weekday;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"MONTHLY\":\r\n\t\t\t\t\trrule.freq = RRule.MONTHLY;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (monthRepeat === \"month_date\") {\r\n\t\t\t\t\t\trrule.bymonthday = dates.start.getDate();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tday = dates.start.getDay() - 1;\r\n\t\t\t\t\t\tif (day == -1) day = 6;\r\n\t\t\t\t\t\trrule.byweekday = [day];\r\n\t\t\t\t\t\trrule.bysetpos = getWeekdayOfMonth(dates.start).dayNumber;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"YEARLY\":\r\n\t\t\t\t\trrule.freq = RRule.YEARLY;\r\n\t\t\t\t\trrule.bymonth = dates.start.getMonth() + 1;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (yearRepeat == \"month_date\") {\r\n\t\t\t\t\t\trrule.bymonthday = dates.start.getDate();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tday = dates.start.getDay() - 1;\r\n\t\t\t\t\t\tif (day == -1) day = 6;\r\n\t\t\t\t\t\trrule.byweekday = [day];\r\n\t\t\t\t\t\trrule.bysetpos = getWeekdayOfMonth(dates.start).dayNumber;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tlet until = new Date(9999, 1, 1);\r\n\t\t\tconst endRule = node.querySelector(`[name=\"dhx_custom_repeat_ends\"]`);\r\n\t\t\tif(endRule === \"ON\"){\r\n\t\t\t\tuntil = node.querySelector(`[name=\"dhx_form_repeat_ends_ondate\"]`).value;\r\n\t\t\t} else if(endRule === \"AFTER\") {\r\n\t\t\t\trrule.count = Math.max(1, node.querySelector(`[name=\"dhx_form_repeat_ends_after\"]`).value);\r\n\t\t\t}\r\n\r\n\t\t\treturn {rrule, until};\r\n\t\t},\r\n\t\tNEVER: function () {\r\n\t\t}\r\n\t};\r\n\r\n\tfunction fillInDefaults(node, rule, event) {\r\n\t\tfillCustomDaily(node, rule, event);\r\n\t\tfillCustomWeekly(node, rule, event);\r\n\t\tfillCustomMonthly(node, rule, event);\r\n\t\tfillCustomYearly(node, rule, event);\r\n\t\tfillEndRule(node, rule, event);\r\n\t}\r\n\tscheduler.form_blocks[\"recurring\"] = {\r\n\t\trender: function (sns) {\r\n\t\t\tif (sns.form) {\r\n\t\t\t\tlet rec = scheduler.form_blocks[\"recurring\"];\r\n\t\t\t\tlet form = rec._get_node(sns.form);\r\n\t\t\t\tlet html = rec._outer_html(form);\r\n\t\t\t\tform.style.display = 'none';\r\n\t\t\t\treturn html;\r\n\t\t\t}\r\n\t\t\tlet loc = scheduler.locale.labels;\r\n\r\n\t\t\treturn `<div class=\"dhx_form_rrule\">\r\n\t\t<div class=\"dhx_form_repeat_pattern\">\r\n\t\t\t<select>\r\n\t\t\t\t<option value=\"NEVER\">${loc.repeat_never}</option>\r\n\t\t\t\t<option value=\"DAILY\">${loc.repeat_daily}</option>\r\n\t\t\t\t<option value=\"WEEKLY\">${loc.repeat_weekly}</option>\r\n\t\t\t\t<option value=\"MONTHLY\">${loc.repeat_monthly}</option>\r\n\t\t\t\t<option value=\"YEARLY\">${loc.repeat_yearly}</option>\r\n\t\t\t\t<option value=\"WORKDAYS\">${loc.repeat_workdays}</option>\r\n\t\t\t\t<option value=\"CUSTOM\">${loc.repeat_custom}</option>\r\n\t\t\t</select>\r\n\t\t</div>\r\n\t\t<div class=\"dhx_form_repeat_custom dhx_hidden\">\r\n\t\t\t<div class=\"dhx_form_repeat_custom_interval\">\r\n\t\t\t\t<input name=\"repeat_interval_value\" type=\"number\" min=\"1\">\r\n\t\t\t\t<select name=\"repeat_interval_unit\">\r\n\t\t\t\t\t<option value=\"DAILY\">${loc.repeat_freq_day}</option>\r\n\t\t\t\t\t<option value=\"WEEKLY\">${loc.repeat_freq_week}</option>\r\n\t\t\t\t\t<option value=\"MONTHLY\">${loc.repeat_freq_month}</option>\r\n\t\t\t\t\t<option value=\"YEARLY\">${loc.repeat_freq_year}</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"dhx_form_repeat_custom_additional\">\r\n\t\t\t\t<div class=\"dhx_form_repeat_custom_week dhx_hidden\">\r\n\t\t\t\t\t<label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"MO\" />${loc.day_for_recurring[1]}</label>\r\n\t\t\t\t\t<label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"TU\" />${loc.day_for_recurring[2]}</label>\r\n\t\t\t\t\t<label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"WE\" />${loc.day_for_recurring[3]}</label>\r\n\t\t\t\t\t<label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"TH\" />${loc.day_for_recurring[4]}</label>\r\n\t\t\t\t\t<label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"FR\" />${loc.day_for_recurring[5]}</label>\r\n\t\t\t\t\t<label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"SA\" />${loc.day_for_recurring[6]}</label>\r\n\t\t\t\t\t<label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"SU\" />${loc.day_for_recurring[0]}</label>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"dhx_form_repeat_custom_month dhx_hidden\">\r\n\t\t\t\t\t<select name=\"dhx_custom_month_option\">\r\n\t\t\t\t\t\t<option value=\"month_date\"></option>\r\n\t\t\t\t\t\t<option value=\"month_nth_weekday\"></option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"dhx_form_repeat_custom_year dhx_hidden\">\r\n\t\t\t\t\t<select name=\"dhx_custom_year_option\">\r\n\t\t\t\t\t\t<option value=\"month_date\"></option>\r\n\t\t\t\t\t\t<option value=\"month_nth_weekday\"></option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"dhx_form_repeat_ends\">\r\n\t\t\t\t<div>${loc.repeat_ends}</div>\r\n\t\t\t\t<div class=\"dhx_form_repeat_ends_options\">\r\n\t\t\t\t\t<select name=\"dhx_custom_repeat_ends\">\r\n\t\t\t\t\t\t<option value=\"NEVER\">${loc.repeat_never}</option>\r\n\t\t\t\t\t\t<option value=\"AFTER\">${loc.repeat_radio_end2}</option>\r\n\t\t\t\t\t\t<option value=\"ON\">${loc.repeat_on_date}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<div class=\"dhx_form_repeat_ends_extra\">\r\n\t\t\t\t\t\t<div class=\"dhx_form_repeat_ends_after dhx_hidden\">\r\n\t\t\t\t\t\t\t<label><input type=\"number\" min=\"1\" name=\"dhx_form_repeat_ends_after\">${loc.repeat_text_occurences_count}</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"dhx_form_repeat_ends_on dhx_hidden\">\r\n\t\t\t\t\t\t\t<input type=\"date\" name=\"dhx_form_repeat_ends_ondate\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t</div>`;\r\n\t\t},\r\n\r\n\t\r\n\t\t_init_set_value: function (node, value, event) {\r\n\t\t\tscheduler.form_blocks[\"recurring\"]._ds = { start: event.start_date, end: event.end_date };\r\n\t\t\tfunction hide(node) {\r\n\t\t\t\tnode.classList.add(\"dhx_hidden\");\r\n\t\t\t}\r\n\t\t\tfunction show(node) {\r\n\t\t\t\tnode.classList.remove(\"dhx_hidden\");\r\n\t\t\t}\r\n\t\t\tfunction onRepeatOptionChange(value) {\r\n\t\t\t\tconst repeat = node.querySelector(\".dhx_form_repeat_custom\");\r\n\t\t\t\tif (value === \"CUSTOM\") {\r\n\t\t\t\t\tshow(repeat);\r\n\t\t\t\t} else {\r\n\t\t\t\t\thide(repeat);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction onCustomRepeatIntervalChange(value) {\r\n\t\t\t\tconst nodes = {\r\n\t\t\t\t\tweekly: node.querySelector(\".dhx_form_repeat_custom_week\"),\r\n\t\t\t\t\tmonthly: node.querySelector(\".dhx_form_repeat_custom_month\"),\r\n\t\t\t\t\tyearly: node.querySelector(\".dhx_form_repeat_custom_year\")\r\n\t\t\t\t};\r\n\t\t\t\tswitch (value) {\r\n\t\t\t\t\tcase \"DAILY\":\r\n\t\t\t\t\t\thide(nodes.weekly);\r\n\t\t\t\t\t\thide(nodes.monthly);\r\n\t\t\t\t\t\thide(nodes.yearly);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"WEEKLY\":\r\n\t\t\t\t\t\tshow(nodes.weekly);\r\n\t\t\t\t\t\thide(nodes.monthly);\r\n\t\t\t\t\t\thide(nodes.yearly);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"MONTHLY\":\r\n\t\t\t\t\t\thide(nodes.weekly);\r\n\t\t\t\t\t\tshow(nodes.monthly);\r\n\t\t\t\t\t\thide(nodes.yearly);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"YEARLY\":\r\n\t\t\t\t\t\thide(nodes.weekly);\r\n\t\t\t\t\t\thide(nodes.monthly);\r\n\t\t\t\t\t\tshow(nodes.yearly);\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfunction onCustomRepeatEndRule(value) {\r\n\t\t\t\tconst nodes = {\r\n\t\t\t\t\tafter: node.querySelector(\".dhx_form_repeat_ends_extra .dhx_form_repeat_ends_after\"),\r\n\t\t\t\t\ton: node.querySelector(\".dhx_form_repeat_ends_extra .dhx_form_repeat_ends_on\")\r\n\t\t\t\t};\r\n\t\t\t\tswitch (value) {\r\n\t\t\t\t\tcase \"NEVER\":\r\n\t\t\t\t\t\thide(nodes.after);\r\n\t\t\t\t\t\thide(nodes.on);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"AFTER\":\r\n\t\t\t\t\t\tshow(nodes.after);\r\n\t\t\t\t\t\thide(nodes.on);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"ON\":\r\n\t\t\t\t\t\thide(nodes.after);\r\n\t\t\t\t\t\tshow(nodes.on);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// repeat section change\r\n\t\t\tnode.querySelector(\".dhx_form_repeat_pattern select\").addEventListener(\"change\", function () {\r\n\t\t\t\tonRepeatOptionChange(this.value);\r\n\t\t\t});\r\n\r\n\t\t\t// custom repeat interval change\r\n\t\t\tnode.querySelector(\".dhx_form_repeat_custom_interval [name='repeat_interval_unit']\").addEventListener(\"change\", function () {\r\n\t\t\t\tonCustomRepeatIntervalChange(this.value);\r\n\t\t\t});\r\n\r\n\t\t\t// custom repeat end rule\r\n\t\t\tnode.querySelector(\".dhx_form_repeat_ends [name='dhx_custom_repeat_ends']\").addEventListener(\"change\", function () {\r\n\t\t\t\tonCustomRepeatEndRule(this.value);\r\n\t\t\t});\r\n\r\n\t\t\tscheduler._lightbox._rec_init_done = true;\r\n\t\t},\r\n\t\tbutton_click: function(){},\r\n\t\tset_value: function (node, value, ev) {\r\n\t\t\tlet rf = scheduler.form_blocks[\"recurring\"];\r\n\t\t\tif (!scheduler._lightbox._rec_init_done)\r\n\t\t\t\trf._init_set_value(node, value, ev);\r\n\t\t\tnode.open = !ev.rrule;\r\n\r\n\t\t\tnode.blocked = this._is_modified_occurence(ev);\r\n\r\n\t\t\tlet ds = rf._ds;\r\n\t\t\tds.start = ev.start_date;\r\n\t\t\tds.end = ev._end_date;\r\n\r\n\t\t\tif (ev.rrule) {\r\n\t\t\t\tconst rruleset = rrulestr(ev.rrule);\r\n\t\t\t\tfillInDefaults(node, rruleset.origOptions, ev);\r\n\t\t\t\tconst topOption = getTopLevelOption(rruleset, ev._end_date);\r\n\t\t\t\tnode.querySelector(\".dhx_form_repeat_pattern select\").value = topOption;\r\n\t\t\t\tif(topOption === \"CUSTOM\"){\r\n\t\t\t\t\tlet customFreq;\r\n\t\t\t\t\tswitch (rruleset.origOptions.freq) {\r\n\t\t\t\t\t\tcase RRule.DAILY:\r\n\t\t\t\t\t\t\tcustomFreq = \"DAILY\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase RRule.WEEKLY:\r\n\t\t\t\t\t\t\tcustomFreq = \"WEEKLY\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase RRule.MONTHLY:\r\n\t\t\t\t\t\t\tcustomFreq = \"MONTHLY\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase RRule.YEARLY:\r\n\t\t\t\t\t\t\tcustomFreq = \"YEARLY\";\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(customFreq){\r\n\t\t\t\t\t\tnode.querySelector(`[name=\"repeat_interval_unit\"]`).value = customFreq;\r\n\t\t\t\t\t\tnode.querySelector(`[name=\"repeat_interval_unit\"]`).dispatchEvent(new Event(\"change\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t//\trepeat_interval_unit\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}else{\r\n\t\t\t\tfillInDefaults(node, null, ev);\r\n\t\t\t\tnode.querySelector(\".dhx_form_repeat_pattern select\").value = \"NEVER\";\r\n\t\t\t}\r\n\t\t\tnode.querySelector(\".dhx_form_repeat_pattern select\").dispatchEvent(new Event(\"change\"));\r\n\r\n\t\t},\r\n\t\tget_value: function (node, ev) {\r\n\t\t\t\r\n\t\t\tif(!node.blocked && node.querySelector(\".dhx_form_repeat_pattern select\").value !== \"NEVER\") {\r\n\t\t\t\tlet ds = scheduler.form_blocks[\"recurring\"]._ds;\r\n\t\t\t\tlet actual_dates = {};\r\n\r\n\t\t\t\tlet timeControl = getTimeSection();\r\n\r\n\t\t\t\ttimeControl.getValue(actual_dates);\r\n\t\t\t\tds.start = actual_dates.start_date;\r\n\t\t\t\tconst pattern = node.querySelector(\".dhx_form_repeat_pattern select\").value;\r\n\t\t\t\tconst recurrence = getRecValue[pattern](ds, node);\r\n\t\t\t\tev.rrule = new RRule(recurrence.rrule).toString().replace(\"RRULE:\", \"\");\r\n\t\t\t\tds.end = recurrence.until;\r\n\r\n\t\t\t\tev.duration = Math.floor((actual_dates.end_date - actual_dates.start_date) / 1000);\r\n\r\n\t\t\t\tif (ds._start) {\r\n\t\t\t\t\tev.start_date = new Date(ds.start);\r\n\t\t\t\t\tev._start_date = new Date(ds.start);\r\n\t\t\t\t\tds._start = false;\r\n\t\t\t\t} else\r\n\t\t\t\t\tev._start_date = null;\r\n\r\n\t\t\t\tev._end_date = ds.end;\r\n\t\t\t}else{\r\n\t\t\t\tev.rrule = ev.rrule = \"\";\r\n\t\t\t\tev._end_date = ev.end_date;\r\n\t\t\t}\r\n\r\n\t\t\treturn ev.rrule;\r\n\t\t},\r\n\r\n\t\tfocus: function (node) {\r\n\t\t}\r\n\t};\r\n\r\n\tfunction getTimeSection() {\r\n\t\tlet timeControl = scheduler.formSection('time');\r\n\t\tif (!timeControl) {\r\n\t\t\ttimeControl = getFirstSectionOfType('time');\r\n\t\t}\r\n\t\tif (!timeControl) {\r\n\t\t\ttimeControl = getFirstSectionOfType('calendar_time');\r\n\t\t}\r\n\r\n\r\n\t\tif (!timeControl) {\r\n\t\t\tthrow new Error([\"Can't calculate the recurring rule, the Recurring form block can't find the Time control. Make sure you have the time control in 'scheduler.config.lightbox.sections' config.\",\r\n\t\t\t\t\"You can use either the default time control https://docs.dhtmlx.com/scheduler/time.html, or the datepicker https://docs.dhtmlx.com/scheduler/minicalendar.html, or a custom control. \",\r\n\t\t\t\t\"In the latter case, make sure the control is named \\\"time\\\":\",\r\n\t\t\t\t\"\",\r\n\t\t\t\t\"scheduler.config.lightbox.sections = [\",\r\n\t\t\t\t\"{name:\\\"time\\\", height:72, type:\\\"YOU CONTROL\\\", map_to:\\\"auto\\\" }];\"]\r\n\t\t\t\t.join(\"\\n\"));\r\n\t\t}\r\n\r\n\t\treturn timeControl;\r\n\t}\r\n\r\n\tfunction getFirstSectionOfType(type) {\r\n\t\tfor (let i = 0; i < scheduler.config.lightbox.sections.length; i++) {\r\n\t\t\tlet section = scheduler.config.lightbox.sections[i];\r\n\t\t\tif (section.type === type) {\r\n\t\t\t\treturn scheduler.formSection(section.name);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n}","export default function(scheduler){\r\n\r\nscheduler.config.occurrence_timestamp_in_utc = false;\r\nscheduler.config.recurring_workdays = [1,2,3,4,5];\r\nscheduler.form_blocks[\"recurring\"] = {\r\n\t_get_node : function(node){\r\n\t\tif (typeof node == \"string\"){\r\n\t\t\tlet element = scheduler._lightbox.querySelector(`#${node}`);\r\n\t\t\tif(!element){\r\n\t\t\t\t// form is detached from lightbox \r\n\t\t\t\t// search globally, won't work in LWC\r\n\t\t\t\telement = document.getElementById(node);\r\n\t\t\t}\r\n\t\t\tnode = element;\r\n\t\t}\r\n\t\tif (node.style.display == 'none')\r\n\t\t\tnode.style.display = \"\";\r\n\t\treturn node;\r\n\t},\r\n\t_outer_html: function(node){\r\n\t\treturn node.outerHTML || getOuterHTML(node);\r\n\r\n\t\t//probably not needed, FF v10- only\r\n\t\tfunction getOuterHTML(n){\r\n\t\t\tvar div = document.createElement('div'), h;\r\n\t\t\tdiv.appendChild( n.cloneNode(true) );\r\n\t\t\th = div.innerHTML;\r\n\t\t\tdiv = null;\r\n\t\t\treturn h;\r\n\t\t}\r\n\t},\r\n\trender:function(sns) {\r\n\t\tif(sns.form){\r\n\t\t\tvar rec = scheduler.form_blocks[\"recurring\"];\r\n\t\t\tvar form = rec._get_node(sns.form);\r\n\t\t\tvar html = rec._outer_html(form);\r\n\t\t\tform.style.display = 'none';\r\n\t\t\treturn html;\r\n\t\t}\r\n\t\tvar loc = scheduler.locale.labels;\r\n\t\treturn '<div class=\"dhx_form_repeat\"> '+\r\n\t\t\t\t\t'<form> '+\r\n\t\t\t\t\t\t'<div class=\"dhx_repeat_left\"> '+\r\n\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"repeat\" value=\"day\" />'+loc.repeat_radio_day+'</label></div> '+\r\n\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"repeat\" value=\"week\"/>'+loc.repeat_radio_week+'</label></div> '+\r\n\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"repeat\" value=\"month\" checked />'+loc.repeat_radio_month+'</label></div> '+\r\n\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"repeat\" value=\"year\" />'+loc.repeat_radio_year+'</label></div> '+\r\n\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t'<div class=\"dhx_repeat_divider\">'+\r\n\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t'<div class=\"dhx_repeat_center\"> '+\r\n\t\t\t\t\t\t\t'<div style=\"display:none;\" id=\"dhx_repeat_day\"> '+\r\n\t\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"day_type\" value=\"d\"/>'+loc.repeat_radio_day_type+'</label>'+\r\n\t\t\t\t\t\t\t\t'<label><input class=\"dhx_repeat_text\" type=\"text\" name=\"day_count\" value=\"1\" />'+loc.repeat_text_day_count+'</label></div> '+\r\n\t\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"day_type\" checked value=\"w\"/>'+loc.repeat_radio_day_type2+'</label></div> '+\r\n\t\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t\t'<div style=\"display:none;\" id=\"dhx_repeat_week\">'+\r\n\t\t\t\t\t\t\t\t'<div><label>'+loc.repeat_week+'<input class=\"dhx_repeat_text\" type=\"text\" name=\"week_count\" value=\"1\" /></label>'+\r\n\t\t\t\t\t\t\t\t'<span>'+loc.repeat_text_week_count+'</span></div>  '+\r\n\t\t\t\t\t\t\t\t'<table class=\"dhx_repeat_days\"> '+\r\n\t\t\t\t\t\t\t\t\t'<tr> '+\r\n\t\t\t\t\t\t\t\t\t\t'<td><div><label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"1\" />'+loc.day_for_recurring[1]+'</label></div> '+\r\n\t\t\t\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"4\" />'+loc.day_for_recurring[4]+'</label></div></td> '+\r\n\t\t\t\t\t\t\t\t\t\t'<td><div><label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"2\" />'+loc.day_for_recurring[2]+'</label></div> '+\r\n\t\t\t\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"5\" />'+loc.day_for_recurring[5]+'</label></div></td> '+\r\n\t\t\t\t\t\t\t\t\t\t'<td><div><label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"3\" />'+loc.day_for_recurring[3]+'</label></div> '+\r\n\t\t\t\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"6\" />'+loc.day_for_recurring[6]+'</label></div></td> '+\r\n\t\t\t\t\t\t\t\t\t\t'<td><div><label><input class=\"dhx_repeat_checkbox\" type=\"checkbox\" name=\"week_day\" value=\"0\" />'+loc.day_for_recurring[0]+'</label></div> </td> '+\r\n\t\t\t\t\t\t\t\t\t'</tr> '+\r\n\t\t\t\t\t\t\t\t'</table> '+\r\n\t\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t\t'<div id=\"dhx_repeat_month\"> '+\r\n\t\t\t\t\t\t\t\t'<div><label class = \"dhx_repeat_month_label\"><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"month_type\" value=\"d\"/>'+loc.repeat_radio_month_type+'</label>'+\r\n\t\t\t\t\t\t\t\t\t'<label><input class=\"dhx_repeat_text\" type=\"text\" name=\"month_day\" value=\"1\" />'+loc.repeat_text_month_day+'</label>'+\r\n\t\t\t\t\t\t\t\t\t'<label><input class=\"dhx_repeat_text\" type=\"text\" name=\"month_count\" value=\"1\" />'+loc.repeat_text_month_count+'</label></div> '+\r\n\t\t\t\t\t\t\t\t\t'<div><label class = \"dhx_repeat_month_label\"><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"month_type\" checked value=\"w\"/>'+loc.repeat_radio_month_start+'</label>'+\r\n\t\t\t\t\t\t\t\t\t'<input class=\"dhx_repeat_text\" type=\"text\" name=\"month_week2\" value=\"1\" />'+\r\n\t\t\t\t\t\t\t\t\t'<label>'+\r\n\t\t\t\t\t\t\t\t\t\t'<select name=\"month_day2\">'+\r\n\t\t\t\t\t\t\t\t\t\t'\t<option value=\"1\" selected >'+scheduler.locale.date.day_full[1]+\r\n\t\t\t\t\t\t\t\t\t\t\t'<option value=\"2\">'+scheduler.locale.date.day_full[2]+\r\n\t\t\t\t\t\t\t\t\t\t\t'<option value=\"3\">'+scheduler.locale.date.day_full[3]+\r\n\t\t\t\t\t\t\t\t\t\t\t'<option value=\"4\">'+scheduler.locale.date.day_full[4]+\r\n\t\t\t\t\t\t\t\t\t\t\t'<option value=\"5\">'+scheduler.locale.date.day_full[5]+\r\n\t\t\t\t\t\t\t\t\t\t\t'<option value=\"6\">'+scheduler.locale.date.day_full[6]+\r\n\t\t\t\t\t\t\t\t\t\t\t'<option value=\"0\">'+scheduler.locale.date.day_full[0]+\r\n\t\t\t\t\t\t\t\t\t\t'</select>'+\r\n\t\t\t\t\t\t\t\t\t\tloc.repeat_text_month_count2_before+\r\n\t\t\t\t\t\t\t\t\t'</label>'+\r\n\t\t\t\t\t\t\t\t\t'<label><input class=\"dhx_repeat_text\" type=\"text\" name=\"month_count2\" value=\"1\" />'+loc.repeat_text_month_count2_after+'</label></div> '+\r\n\t\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t\t'<div style=\"display:none;\" id=\"dhx_repeat_year\"> '+\r\n\t\t\t\t\t\t\t\t'<div><label class = \"dhx_repeat_year_label\"><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"year_type\" value=\"d\"/>'+loc.repeat_radio_day_type+'</label>'+\r\n\t\t\t\t\t\t\t\t'<label><input class=\"dhx_repeat_text\" type=\"text\" name=\"year_day\" value=\"1\" />'+loc.repeat_text_year_day+'</label>'+\r\n\t\t\t\t\t\t\t\t'<label>'+\r\n\t\t\t\t\t\t\t\t\t'<select name=\"year_month\">'+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"0\" selected >'+loc.month_for_recurring[0]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"1\">'+loc.month_for_recurring[1]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"2\">'+loc.month_for_recurring[2]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"3\">'+loc.month_for_recurring[3]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"4\">'+loc.month_for_recurring[4]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"5\">'+loc.month_for_recurring[5]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"6\">'+loc.month_for_recurring[6]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"7\">'+loc.month_for_recurring[7]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"8\">'+loc.month_for_recurring[8]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"9\">'+loc.month_for_recurring[9]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"10\">'+loc.month_for_recurring[10]+\r\n\t\t\t\t\t\t\t\t\t\t'<option value=\"11\">'+loc.month_for_recurring[11]+\r\n\t\t\t\t\t\t\t\t\t'</select>'+\r\n\t\t\t\t\t\t\t\t\tloc.select_year_month+\r\n\t\t\t\t\t\t\t\t'</label></div> '+\r\n\t\t\t\t\t\t\t\t'<div><label class = \"dhx_repeat_year_label\"><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"year_type\" checked value=\"w\"/>'+loc.repeat_year_label+'</label>'+\r\n\t\t\t\t\t\t\t\t'<input class=\"dhx_repeat_text\" type=\"text\" name=\"year_week2\" value=\"1\" />'+\r\n\t\t\t\t\t\t\t\t'<select name=\"year_day2\">'+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"1\" selected >'+scheduler.locale.date.day_full[1]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"2\">'+scheduler.locale.date.day_full[2]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"3\">'+scheduler.locale.date.day_full[3]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"4\">'+scheduler.locale.date.day_full[4]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"5\">'+scheduler.locale.date.day_full[5]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"6\">'+scheduler.locale.date.day_full[6]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"7\">'+scheduler.locale.date.day_full[0]+\r\n\t\t\t\t\t\t\t\t'</select>'+\r\n\t\t\t\t\t\t\t\tloc.select_year_day2+\r\n\t\t\t\t\t\t\t\t'<select name=\"year_month2\">'+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"0\" selected >'+loc.month_for_recurring[0]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"1\">'+loc.month_for_recurring[1]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"2\">'+loc.month_for_recurring[2]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"3\">'+loc.month_for_recurring[3]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"4\">'+loc.month_for_recurring[4]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"5\">'+loc.month_for_recurring[5]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"6\">'+loc.month_for_recurring[6]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"7\">'+loc.month_for_recurring[7]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"8\">'+loc.month_for_recurring[8]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"9\">'+loc.month_for_recurring[9]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"10\">'+loc.month_for_recurring[10]+\r\n\t\t\t\t\t\t\t\t\t'<option value=\"11\">'+loc.month_for_recurring[11]+\r\n\t\t\t\t\t\t\t\t'</select></div> '+\r\n\t\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t'<div class=\"dhx_repeat_divider\">'+\r\n\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t\t'<div class=\"dhx_repeat_right\"> '+\r\n\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"end\" checked/>'+loc.repeat_radio_end+'</label></div> '+\r\n\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"end\" />'+loc.repeat_radio_end2+'</label>'+\r\n\t\t\t\t\t\t\t'<input class=\"dhx_repeat_text\" type=\"text\" name=\"occurences_count\" value=\"1\" />'+loc.repeat_text_occurences_count+'</div> '+\r\n\t\t\t\t\t\t\t'<div><label><input class=\"dhx_repeat_radio\" type=\"radio\" name=\"end\" />'+loc.repeat_radio_end3+'</label>'+\r\n\t\t\t\t\t\t\t'<input class=\"dhx_repeat_date\" type=\"text\" name=\"date_of_end\" value=\"'+scheduler.config.repeat_date_of_end+'\" /></div> '+\r\n\t\t\t\t\t\t'</div> '+\r\n\t\t\t\t\t'</form> '+\r\n\t\t\t\t'</div> '+\r\n\t\t\t\t'</div>';\r\n\t},\r\n\t_ds: {},\r\n\t_get_form_node: function(els, name, value){\r\n\t\tvar col = els[name];\r\n\t\tif(!col) return null;\r\n\t\tif(col.nodeName) return col;\r\n\r\n\t\tif(col.length){\r\n\t\t\tfor(var i=0; i < col.length; i++){\r\n\t\t\t\tif(col[i].value == value)\r\n\t\t\t\t\treturn col[i];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t_get_node_value: function(els, name, multiselect){\r\n\t\tvar col = els[name];\r\n\t\tif(!col) return \"\";\r\n\t\tif(col.length){\r\n\t\t\tif(multiselect){\r\n\t\t\t\tvar res = [];\r\n\t\t\t\tfor (var i = 0; i < col.length; i++)\r\n\t\t\t\t\tif (col[i].checked) res.push(col[i].value);\r\n\r\n\t\t\t\treturn res;\r\n\t\t\t}else{\r\n\t\t\t\tfor (var i = 0; i < col.length; i++)\r\n\t\t\t\t\tif (col[i].checked) return col[i].value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(col.value)\r\n\t\t\treturn !multiselect ? col.value : [col.value];\r\n\t},\r\n\r\n\t_get_node_numeric_value: function(els, name){\r\n\t\tvar value = scheduler.form_blocks[\"recurring\"]._get_node_value(els, name);\r\n\t\treturn ((value * 1) || 0);\r\n\t},\r\n\r\n\t_set_node_value: function(els, name, value){\r\n\t\tvar col = els[name];\r\n\t\tif(!col) return;\r\n\r\n\t\tif(col.name == name){\r\n\t\t\tcol.value = value;\r\n\t\t}else if(col.length){\r\n\t\t\tvar hash_value = typeof value == \"object\";\r\n\t\t\tfor (var i = 0; i < col.length; i++)\r\n\t\t\t\tif (hash_value || col[i].value == value){\r\n\t\t\t\t\tcol[i].checked = hash_value ? !!value[col[i].value] : !!value;\r\n\t\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_init_set_value:function(node, value, ev) {\r\n\t\tvar block = scheduler.form_blocks[\"recurring\"];\r\n\t\tvar get_value = block._get_node_value;\r\n\t\tvar set_value = block._set_node_value;\r\n\t\tscheduler.form_blocks[\"recurring\"]._ds = {start:ev.start_date, end:ev._end_date};\r\n\r\n\t\tvar str_date_format = scheduler.date.str_to_date(scheduler.config.repeat_date, false, true);\r\n\t\tvar str_date = function(str_date) {\r\n\t\t\tvar date = str_date_format(str_date);\r\n\t\t\tif (scheduler.config.include_end_by)\r\n\t\t\t\tdate = scheduler.date.add(date, 1, 'day');\r\n\t\t\treturn date;\r\n\t\t};\r\n\r\n\t\tvar date_str = scheduler.date.date_to_str(scheduler.config.repeat_date);\r\n\r\n\t\tvar top = node.getElementsByTagName(\"FORM\")[0];\r\n\t\tvar els = {};\r\n\r\n\t\tfunction register_els(inps) {\r\n\t\t\tfor (var i = 0; i < inps.length; i++) {\r\n\t\t\t\tvar inp = inps[i];\r\n\r\n\t\t\t\tif(inp.name){\r\n\t\t\t\t\tif(!els[inp.name]){\r\n\t\t\t\t\t\tels[inp.name] = inp;\r\n\t\t\t\t\t}else if(els[inp.name].nodeType){\r\n\t\t\t\t\t\tvar node = els[inp.name];\r\n\t\t\t\t\t\tels[inp.name] = [node, inp];\r\n\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tels[inp.name].push(inp);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tregister_els(top.getElementsByTagName(\"INPUT\"));\r\n\t\tregister_els(top.getElementsByTagName(\"SELECT\"));\r\n\r\n\t\tif (!scheduler.config.repeat_date_of_end) {\r\n\t\t\tvar formatter = scheduler.date.date_to_str(scheduler.config.repeat_date);\r\n\t\t\tscheduler.config.repeat_date_of_end = formatter(scheduler.date.add(scheduler._currentDate(), 30, \"day\"));\r\n\t\t}\r\n\t\tset_value(els, \"date_of_end\", scheduler.config.repeat_date_of_end);\r\n\r\n\t\tvar $ = function(a) {\r\n\t\t\treturn scheduler._lightbox.querySelector(`#${a}`) || { style:{} };//return fake object if node not found\r\n\t\t};\r\n\r\n\t\tfunction change_current_view() {\r\n\t\t\t$(\"dhx_repeat_day\").style.display = \"none\";\r\n\t\t\t$(\"dhx_repeat_week\").style.display = \"none\";\r\n\t\t\t$(\"dhx_repeat_month\").style.display = \"none\";\r\n\t\t\t$(\"dhx_repeat_year\").style.display = \"none\";\r\n\t\t\t$(\"dhx_repeat_\" + this.value).style.display = \"\";\r\n\t\t\tscheduler.setLightboxSize();\r\n\t\t}\r\n\r\n\t\tfunction get_repeat_code(dates) {\r\n\t\t\tvar code = [get_value(els, \"repeat\")];\r\n\t\t\tget_rcode[code[0]](code, dates);\r\n\r\n\t\t\twhile (code.length < 5) code.push(\"\");\r\n\t\t\tvar repeat = \"\";\r\n\r\n\t\t\tvar end = get_end_rule(els);\r\n\r\n\t\t\tif (end == \"no\") {\r\n\t\t\t\tdates.end = new Date(9999, 1, 1);\r\n\t\t\t\trepeat = \"no\";\r\n\t\t\t}\r\n\t\t\telse if (end == \"date_of_end\") {\r\n\t\t\t\tdates.end = str_date(get_value(els, \"date_of_end\"));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tscheduler.transpose_type(code.join(\"_\"));\r\n\t\t\t\trepeat = Math.max(1, get_value(els, \"occurences_count\"));\r\n\r\n\t\t\t\tvar transp = 0;\r\n\r\n\t\t\t\t//var transp = ((code[0] == \"week\" && code[4] && code[4].toString().indexOf(scheduler.config.start_on_monday ? 1 : 0) == -1) ? 1 : 0);\r\n\r\n\t\t\t\t// which is equal to following code, seems to produce extra instance, not clear why needed\r\n\r\n\t\t\t\t/*if(code[0] == \"week\"){\r\n\t\t\t\t\tvar days = code[4] || \"\";\r\n\t\t\t\t\tif(scheduler.config.start_on_monday){\r\n\t\t\t\t\t\tif(days.indexOf(1) == -1)\r\n\t\t\t\t\t\ttransp = 1;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(days.indexOf(0) == -1)\r\n\t\t\t\t\t\ttransp = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}*/\r\n\r\n\t\t\t//\tdates.end = scheduler.date.add(new Date(dates.start), repeat + transp, code.join(\"_\"));\r\n\r\n\t\t\t\tdates.end = scheduler.date[\"add_\" + code.join(\"_\")](new Date(dates.start), repeat + transp, {start_date: dates.start}) || dates.start;\r\n\t\t\t}\r\n\r\n\t\t\treturn code.join(\"_\") + \"#\" + repeat;\r\n\t\t}\r\n\t\tfunction get_end_rule(els){\r\n\t\t\tvar end = els[\"end\"];\r\n\t\t\tif(end.length){\r\n\t\t\t\tfor(var i =0; i < end.length; i++){\r\n\t\t\t\t\tif(end[i].checked){\r\n\t\t\t\t\t\tif(end[i].value && end[i].value != \"on\"){//seems to be default value:var input = document.createElement(\"input\"); input.type = \"radio\"; input.value\r\n\t\t\t\t\t\t\treturn end[i].value;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(!i){\r\n\t\t\t\t\t\t\t\treturn \"no\";\r\n\t\t\t\t\t\t\t}else if(i == 2){\r\n\t\t\t\t\t\t\t\treturn \"date_of_end\";\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\treturn \"occurences_count\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(end.value)\r\n\t\t\t\t\treturn end.value;\r\n\t\t\t}\r\n\t\t\treturn \"no\";\r\n\t\t}\r\n\t\tfunction set_end_rule(els, value){\r\n\t\t\tvar end = els[\"end\"];\r\n\r\n\t\t\tif(end.length){\r\n\t\t\t\tvar has_values = !!end[0].value && end[0].value != \"on\";\r\n\t\t\t\tif(has_values){\r\n\t\t\t\t\tfor(var i =0; i < end.length; i++){\r\n\t\t\t\t\t\tif(end[i].value == value)\r\n\t\t\t\t\t\t\tend[i].checked = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar ind = 0;\r\n\t\t\t\t\tswitch(value){\r\n\t\t\t\t\t\tcase \"no\":\r\n\t\t\t\t\t\t\tind = 0;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"date_of_end\":\r\n\t\t\t\t\t\t\tind = 2;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tind = 1;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tend[ind].checked = true;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tend.value = value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\tscheduler.form_blocks[\"recurring\"]._get_repeat_code = get_repeat_code;\r\n\t\tvar get_rcode = {\r\n\t\t\tmonth:function(code, dates) {\r\n\t\t\t\tvar get_value = scheduler.form_blocks[\"recurring\"]._get_node_value;\r\n\t\t\t\tvar get_numeric_value = scheduler.form_blocks[\"recurring\"]._get_node_numeric_value;\r\n\r\n\t\t\t\tif (get_value(els, \"month_type\") == \"d\") {\r\n\t\t\t\t\tcode.push(Math.max(1, get_numeric_value(els, \"month_count\")));\r\n\t\t\t\t\tdates.start.setDate(get_value(els, \"month_day\"));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcode.push(Math.max(1, get_numeric_value(els, \"month_count2\")));\r\n\t\t\t\t\tcode.push( get_value(els, \"month_day2\"));\r\n\t\t\t\t\tcode.push(Math.max(1, get_numeric_value(els, \"month_week2\")));\r\n\t\t\t\t\tif (!scheduler.config.repeat_precise){\r\n\t\t\t\t\t\tdates.start.setDate(1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdates._start = true;\r\n\t\t\t},\r\n\t\t\tweek:function(code, dates) {\r\n\t\t\t\tvar get_value = scheduler.form_blocks[\"recurring\"]._get_node_value;\r\n\t\t\t\tvar get_numeric_value = scheduler.form_blocks[\"recurring\"]._get_node_numeric_value;\r\n\r\n\t\t\t\tcode.push(Math.max(1, get_numeric_value(els, \"week_count\")));\r\n\t\t\t\tcode.push(\"\");\r\n\t\t\t\tcode.push(\"\");\r\n\t\t\t\tvar t = [];\r\n\r\n\t\t\t\tvar col = get_value(els, \"week_day\", true);\r\n\t\t\t\t//var col = els[\"week_day\"];\r\n\t\t\t\tvar day = dates.start.getDay();\r\n\t\t\t\tvar start_exists = false;\r\n\r\n\t\t\t\tfor (var i = 0; i < col.length; i++){\r\n\t\t\t\t\tt.push(col[i]);\r\n\t\t\t\t\tstart_exists = start_exists || col[i] == day;\r\n\t\t\t\t}\r\n\t\t\t\tif (!t.length){\r\n\t\t\t\t\tt.push(day);\r\n\t\t\t\t\tstart_exists = true;\r\n\t\t\t\t}\r\n\t\t\t\tt.sort();\r\n\r\n\r\n\t\t\t\tif (!scheduler.config.repeat_precise){\r\n\t\t\t\t\tdates.start = scheduler.date.week_start(dates.start);\r\n\t\t\t\t\tdates._start = true;\r\n\t\t\t\t} else if (!start_exists){\r\n\t\t\t\t\tscheduler.transpose_day_week(dates.start, t, 1, 7);\r\n\t\t\t\t\tdates._start = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcode.push(t.join(\",\"));\r\n\t\t\t},\r\n\t\t\tday:function(code) {\r\n\t\t\t\tvar get_value = scheduler.form_blocks[\"recurring\"]._get_node_value;\r\n\t\t\t\tvar get_numeric_value = scheduler.form_blocks[\"recurring\"]._get_node_numeric_value;\r\n\r\n\t\t\t\tif (get_value(els, \"day_type\") == \"d\") {\r\n\t\t\t\t\tcode.push(Math.max(1, get_numeric_value(els, \"day_count\")));\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcode.push(\"week\");\r\n\t\t\t\t\tcode.push(1);\r\n\t\t\t\t\tcode.push(\"\");\r\n\t\t\t\t\tcode.push(\"\");\r\n\t\t\t\t\tcode.push(scheduler.config.recurring_workdays.join(\",\"));\r\n\t\t\t\t\tcode.splice(0, 1);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tyear:function(code, dates) {\r\n\t\t\t\tvar get_value = scheduler.form_blocks[\"recurring\"]._get_node_value;\r\n\r\n\t\t\t\tif (get_value(els, \"year_type\") == \"d\") {\r\n\t\t\t\t\tcode.push(\"1\");\r\n\t\t\t\t\tdates.start.setMonth(0);\r\n\t\t\t\t\tdates.start.setDate(get_value(els, \"year_day\"));\r\n\t\t\t\t\tdates.start.setMonth(get_value(els, \"year_month\"));\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcode.push(\"1\");\r\n\t\t\t\t\tcode.push(get_value(els, \"year_day2\"));\r\n\t\t\t\t\tcode.push(get_value(els, \"year_week2\"));\r\n\t\t\t\t\tdates.start.setDate(1);\r\n\t\t\t\t\tdates.start.setMonth(get_value(els, \"year_month2\"));\r\n\t\t\t\t}\r\n\t\t\t\tdates._start = true;\r\n\t\t\t}\r\n\t\t};\r\n\t\tvar set_rcode = {\r\n\t\t\tweek:function(code, dates) {\r\n\t\t\t\tvar set_value = scheduler.form_blocks[\"recurring\"]._set_node_value;\r\n\t\t\t\tset_value(els, \"week_count\", code[1]);\r\n\r\n\t\t\t\tvar t = code[4].split(\",\");\r\n\t\t\t\tvar d = {};\r\n\t\t\t\tfor (var i = 0; i < t.length; i++) d[t[i]] = true;\r\n\r\n\t\t\t\tset_value(els, \"week_day\", d);\r\n\r\n\t\t\t\t//for (var i = 0; i < col.length; i++)\r\n\t\t\t\t//\tcol[i].checked = (!!d[col[i].value]);\r\n\t\t\t},\r\n\t\t\tmonth:function(code, dates) {\r\n\t\t\t\tvar set_value = scheduler.form_blocks[\"recurring\"]._set_node_value;\r\n\r\n\t\t\t\tif (code[2] === \"\") {\r\n\t\t\t\t\tset_value(els, \"month_type\", \"d\");\r\n\t\t\t\t\tset_value(els, \"month_count\", code[1]);\r\n\t\t\t\t\tset_value(els, \"month_day\", dates.start.getDate());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tset_value(els, \"month_type\", \"w\");\r\n\t\t\t\t\tset_value(els, \"month_count2\", code[1]);\r\n\t\t\t\t\tset_value(els, \"month_week2\",  code[3]);\r\n\t\t\t\t\tset_value(els, \"month_day2\", code[2]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tday:function(code, dates) {\r\n\t\t\t\tvar set_value = scheduler.form_blocks[\"recurring\"]._set_node_value;\r\n\t\t\t\tset_value(els, \"day_type\", \"d\");\r\n\t\t\t\tset_value(els, \"day_count\", code[1]);\r\n\t\t\t},\r\n\t\t\tyear:function(code, dates) {\r\n\t\t\t\tvar set_value = scheduler.form_blocks[\"recurring\"]._set_node_value;\r\n\r\n\t\t\t\tif (code[2] === \"\") {\r\n\t\t\t\t\tset_value(els, \"year_type\", \"d\");\r\n\t\t\t\t\tset_value(els, \"year_day\", dates.start.getDate());\r\n\t\t\t\t\tset_value(els, \"year_month\", dates.start.getMonth());\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tset_value(els, \"year_type\", \"w\");\r\n\t\t\t\t\tset_value(els, \"year_week2\", code[3]);\r\n\t\t\t\t\tset_value(els, \"year_day2\", code[2]);\r\n\t\t\t\t\tset_value(els, \"year_month2\", dates.start.getMonth());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction set_repeat_code(code, dates) {\r\n\t\t\tvar set_value = scheduler.form_blocks[\"recurring\"]._set_node_value;\r\n\t\t\tvar data = code.split(\"#\");\r\n\t\t\tcode = data[0].split(\"_\");\r\n\t\t\tset_rcode[code[0]](code, dates);\r\n\r\n\t\t\tswitch (data[1]) {\r\n\t\t\t\tcase \"no\":\r\n\t\t\t\t\tset_end_rule(els, \"no\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"\":\r\n\t\t\t\t\tset_end_rule(els, \"date_of_end\");\r\n\r\n\t\t\t\t\tvar end_date = dates.end;\r\n\t\t\t\t\tif (scheduler.config.include_end_by){\r\n\t\t\t\t\t\tend_date = scheduler.date.add(end_date, -1, 'day');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tset_value(els, \"date_of_end\", date_str(end_date));\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tset_end_rule(els, \"occurences_count\");\r\n\t\t\t\t\tset_value(els, \"occurences_count\", data[1]);\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tset_value(els, \"repeat\", code[0]);\r\n\t\t\t//e.checked = true;\r\n\r\n\t\t\tvar node = scheduler.form_blocks[\"recurring\"]._get_form_node(els, \"repeat\", code[0]);\r\n\t\t\tif(node.nodeName == \"SELECT\"/* && node.onchange*/){\r\n\t\t\t//\tnode.onchange();\r\n\t\t\t\tnode.dispatchEvent(new Event('change'));\r\n\t\t\t\tnode.dispatchEvent(new MouseEvent('click'));\r\n\t\t\t}else{\r\n\t\t\t\tnode.dispatchEvent(new MouseEvent('click'));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tscheduler.form_blocks[\"recurring\"]._set_repeat_code = set_repeat_code;\r\n\r\n\t\tfor (var i = 0; i < top.elements.length; i++) {\r\n\t\t\tvar el = top.elements[i];\r\n\t\t\tswitch (el.name) {\r\n\t\t\t\tcase \"repeat\":\r\n\t\t\t\t\tif (el.nodeName == \"SELECT\" && !el.$_eventAttached) {\r\n\t\t\t\t\t\tel.$_eventAttached = true;\r\n\t\t\t\t\t\tel.addEventListener(\"change\", change_current_view);\r\n\t\t\t\t\t} else if(!el.$_eventAttached){\r\n\t\t\t\t\t\tel.$_eventAttached = true;\r\n\t\t\t\t\t\tel.addEventListener(\"click\", change_current_view);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tscheduler._lightbox._rec_init_done = true;\r\n\t},\r\n\tset_value:function(node, value, ev) {\r\n\t\tvar rf = scheduler.form_blocks[\"recurring\"];\r\n\t\tif (!scheduler._lightbox._rec_init_done)\r\n\t\t\trf._init_set_value(node, value, ev);\r\n\t\tnode.open = !ev.rec_type;\r\n\r\n\t\tnode.blocked = this._is_modified_occurence(ev);\r\n\r\n\t\tvar ds = rf._ds;\r\n\t\tds.start = ev.start_date;\r\n\t\tds.end = ev._end_date;\r\n\r\n\t\trf._toggle_block();\r\n\r\n\t\tif (value)\r\n\t\t\trf._set_repeat_code(value, ds);\r\n\t},\r\n\tget_value:function(node, ev) {\r\n\t\tif (node.open) {\r\n\t\t\tvar ds = scheduler.form_blocks[\"recurring\"]._ds;\r\n\t\t\tvar actual_dates = {};\r\n\r\n\t\t\tvar timeControl = getTimeSection();\r\n\r\n\t\t\ttimeControl.getValue(actual_dates);\r\n\t\t\tds.start = actual_dates.start_date;\r\n\t\t\tev.rec_type = scheduler.form_blocks[\"recurring\"]._get_repeat_code(ds);\r\n\t\t\tif (ds._start) {\r\n\t\t\t\tev.start_date = new Date(ds.start);\r\n\t\t\t\tev._start_date = new Date(ds.start);\r\n\t\t\t\tds._start = false;\r\n\t\t\t} else\r\n\t\t\t\tev._start_date = null;\r\n\r\n\t\t\tev._end_date = ds.end;\r\n\t\t\tev.rec_pattern = ev.rec_type.split(\"#\")[0];\r\n\t\t} else {\r\n\t\t\tev.rec_type = ev.rec_pattern = \"\";\r\n\t\t\tev._end_date = ev.end_date;\r\n\t\t}\r\n\t\treturn ev.rec_type;\r\n\t},\r\n\t_get_button: function(){\r\n\t\tvar node = getRecurringSection().header;\r\n\t\treturn node.firstChild.firstChild;\r\n\t},\r\n\t_get_form: function(){\r\n\t\treturn getRecurringSection().node;\r\n\t},\r\n\topen:function(){\r\n\t\tvar block = scheduler.form_blocks.recurring;\r\n\r\n\t\tvar cont = block._get_form();\r\n\t\tif(!cont.open)\r\n\t\t\tblock._toggle_block();\r\n\t},\r\n\tclose: function(){\r\n\t\tvar block = scheduler.form_blocks.recurring;\r\n\r\n\t\tvar cont = block._get_form();\r\n\r\n\t\tif(cont.open)\r\n\t\t\tblock._toggle_block();\r\n\t},\r\n\t_toggle_block: function(){\r\n\t\tvar block = scheduler.form_blocks.recurring;\r\n\r\n\t\tvar cont = block._get_form(),\r\n\t\t\tel = block._get_button();\r\n\t\tif (!cont.open && !cont.blocked) {\r\n\t\t\tcont.style.height = \"auto\";//reset to default value\r\n\t\t\tif(el){\r\n\t\t\t\tel.style.backgroundPosition = \"-5px 0px\";\r\n\t\t\t\tel.nextSibling.innerHTML = scheduler.locale.labels.button_recurring_open;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcont.style.height = \"0px\";\r\n\t\t\tif(el){\r\n\t\t\t\tel.style.backgroundPosition = \"-5px 20px\";\r\n\t\t\t\tel.nextSibling.innerHTML = scheduler.locale.labels.button_recurring;\r\n\t\t\t}\r\n\t\t}\r\n\t\tcont.open = !cont.open;\r\n\r\n\t\tscheduler.setLightboxSize();\r\n\t},\r\n\tfocus:function(node) {\r\n\t},\r\n\tbutton_click:function(node, button, event) {\r\n\t\tvar block = scheduler.form_blocks.recurring;\r\n\t\tvar cont = block._get_form();\r\n\t\tif (!cont.blocked)\r\n\t\t\tscheduler.form_blocks.recurring._toggle_block();\r\n\t}\r\n};\r\n\r\nfunction getTimeSection(){\r\n\tvar timeControl = scheduler.formSection('time');\r\n\tif(!timeControl){\r\n\t\ttimeControl = getFirstSectionOfType('time');\r\n\t}\r\n\tif(!timeControl){\r\n\t\ttimeControl = getFirstSectionOfType('calendar_time');\r\n\t}\r\n\r\n\t\r\n\tif (!timeControl) {\r\n\t\tthrow new Error([\"Can't calculate the recurring rule, the Recurring form block can't find the Time control. Make sure you have the time control in 'scheduler.config.lightbox.sections' config.\",\r\n\"You can use either the default time control https://docs.dhtmlx.com/scheduler/time.html, or the datepicker https://docs.dhtmlx.com/scheduler/minicalendar.html, or a custom control. \",\r\n\"In the latter case, make sure the control is named \\\"time\\\":\",\r\n\"\",\r\n\"scheduler.config.lightbox.sections = [\",\r\n\"{name:\\\"time\\\", height:72, type:\\\"YOU CONTROL\\\", map_to:\\\"auto\\\" }];\"]\r\n.join(\"\\n\"));\r\n\t}\r\n\r\n\treturn timeControl;\r\n}\r\n\r\nfunction getRecurringSection(){\r\n\tvar recurringSection = scheduler.formSection('recurring');\r\n\tif(!recurringSection){\r\n\t\trecurringSection = getFirstSectionOfType('recurring');\r\n\t}\r\n\r\n\tif (!recurringSection) {\r\n\t\tthrow new Error([\"Can't locate the Recurring form section.\",\r\n\t\t\"Make sure that you have the recurring control on the lightbox configuration https://docs.dhtmlx.com/scheduler/recurring_events.html#recurringlightbox \",\r\n\t\t\"and that the recurring control has name \\\"recurring\\\":\",\r\n\"\",\r\n\"scheduler.config.lightbox.sections = [\",\r\n\"\t{name:\\\"recurring\\\", ... }\",\r\n\"];\"].join(\"\\n\"));\r\n\r\n\t}\r\n\r\n\treturn recurringSection;\r\n}\r\n\r\nfunction getFirstSectionOfType(type){\r\n\tfor(var i = 0; i < scheduler.config.lightbox.sections.length; i++){\r\n\t\tvar section = scheduler.config.lightbox.sections[i];\r\n\t\tif(section.type === type){\r\n\t\t\treturn scheduler.formSection(section.name);\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n\r\n//problem may occur if we will have two repeating events in the same moment of time\r\nscheduler._rec_markers = {};\r\nscheduler._rec_markers_pull = {};\r\nscheduler._add_rec_marker = function(ev, time) {\r\n\tev._pid_time = time;\r\n\tthis._rec_markers[ev.id] = ev;\r\n\tif (!this._rec_markers_pull[ev.event_pid]) this._rec_markers_pull[ev.event_pid] = {};\r\n\tthis._rec_markers_pull[ev.event_pid][time] = ev;\r\n};\r\nscheduler._get_rec_marker = function(time, id) {\r\n\tvar ch = this._rec_markers_pull[id];\r\n\tif (ch) return ch[time];\r\n\treturn null;\r\n};\r\nscheduler._get_rec_markers = function(id) {\r\n\treturn (this._rec_markers_pull[id] || []);\r\n};\r\n\r\nfunction clearMilliseconds(date){\r\n//\treturn date;\r\n\treturn new Date(\r\n\t\tdate.getFullYear(), \r\n\t\tdate.getMonth(), \r\n\t\tdate.getDate(), \r\n\t\tdate.getHours(), \r\n\t\tdate.getMinutes(),\r\n\t\tdate.getSeconds(),\r\n\t\t0\r\n\t);\r\n}\r\n\r\nscheduler._rec_temp = [];\r\n(function() {\r\n\tvar old_add_event = scheduler.addEvent;\r\n\tscheduler.addEvent = function(start_date, end_date, text, id, extra_data) {\r\n\t\tvar ev_id = old_add_event.apply(this, arguments);\r\n\r\n\t\tif (ev_id && scheduler.getEvent(ev_id)) {\r\n\t\t\tvar ev = scheduler.getEvent(ev_id);\r\n\t\t\t\r\n\t\t\tif(ev.start_date){\r\n\t\t\t\tev.start_date = clearMilliseconds(ev.start_date);\r\n\t\t\t}\r\n\t\t\tif(ev.end_date){\r\n\t\t\t\tev.end_date = clearMilliseconds(ev.end_date);\r\n\t\t\t}\r\n\t\t\tif (this._is_modified_occurence(ev))\r\n\t\t\t\tscheduler._add_rec_marker(ev, ev.event_length * 1000);\r\n\t\t\tif (ev.rec_type)\r\n\t\t\t\tev.rec_pattern = ev.rec_type.split(\"#\")[0];\r\n\t\t}\r\n\t\treturn ev_id;\r\n\t};\r\n})();\r\n\r\nscheduler.attachEvent(\"onEventIdChange\", function(id, new_id) {\r\n\tif (this._ignore_call) return;\r\n\tthis._ignore_call = true;\r\n\r\n\tif(scheduler._rec_markers[id]){\r\n\t\t//important for for correct work of scheduler.getEvents(from, to) and collision detection\r\n\t\tscheduler._rec_markers[new_id] = scheduler._rec_markers[id];\r\n\t\tdelete scheduler._rec_markers[id];\r\n\t}\r\n\r\n\tif(scheduler._rec_markers_pull[id]){\r\n\t\tscheduler._rec_markers_pull[new_id] = scheduler._rec_markers_pull[id];\r\n\t\tdelete scheduler._rec_markers_pull[id];\r\n\t}\r\n\r\n\tfor (var i = 0; i < this._rec_temp.length; i++) {\r\n\t\tvar tev = this._rec_temp[i];\r\n\t\tif (tev.event_pid == id) {\r\n\t\t\ttev.event_pid = new_id;\r\n\t\t\tthis.changeEventId(tev.id, new_id + \"#\" + tev.id.split(\"#\")[1]);\r\n\t\t}\r\n\t}\r\n\r\n\tfor(var i in this._rec_markers){\r\n\t\tvar tev = this._rec_markers[i];\r\n\t\tif(tev.event_pid == id){\r\n\t\t\ttev.event_pid = new_id;\r\n\t\t\ttev._pid_changed = true;\r\n\t\t}\r\n\t}\r\n\r\n\tvar el = scheduler._rec_markers[new_id];\r\n\tif(el && el._pid_changed) {\r\n\t\tdelete el._pid_changed;\r\n\t\tsetTimeout(function() {\r\n\t\t\tif(scheduler.$destroyed){\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tscheduler.callEvent(\"onEventChanged\", [new_id, scheduler.getEvent(new_id)]);\r\n\t\t}, 1);\r\n\t}\r\n\r\n\tdelete this._ignore_call;\r\n});\r\nscheduler.attachEvent(\"onConfirmedBeforeEventDelete\", function(id) {\r\n\tvar ev = this.getEvent(id);\r\n\tif (this._is_virtual_event(id) || (this._is_modified_occurence(ev) && ev.rec_type && ev.rec_type != 'none')) {\r\n\t\tid = id.split(\"#\");\r\n\t\tvar nid = this.uid();\r\n\t\tvar tid = (id[1]) ? id[1] : Math.round(ev._pid_time / 1000);\r\n\r\n\t\tvar nev = this._copy_event(ev);\r\n\t\tnev.id = nid;\r\n\t\tnev.event_pid = ev.event_pid || id[0];\r\n\t\tvar timestamp = tid;\r\n\t\tnev.event_length = timestamp;\r\n\t\tnev.rec_type = nev.rec_pattern = \"none\";\r\n\t\tthis.addEvent(nev);\r\n\r\n\t\tthis._add_rec_marker(nev, timestamp * 1000);\r\n\t} else {\r\n\t\tif (ev.rec_type && this._lightbox_id)\r\n\t\t\tthis._roll_back_dates(ev);\r\n\t\tvar sub = this._get_rec_markers(id);\r\n\t\tfor (var i in sub) {\r\n\t\t\tif (sub.hasOwnProperty(i)) {\r\n\t\t\t\tid = sub[i].id;\r\n\t\t\t\tif (this.getEvent(id))\r\n\t\t\t\t\tthis.deleteEvent(id, true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onEventDeleted\", function(id, ev){\r\n\tif(!this._is_virtual_event(id) && this._is_modified_occurence(ev)){\r\n\t\tif(!scheduler._events[id]){\r\n\t\t\tev.rec_type = ev.rec_pattern = \"none\";\r\n\t\t\tthis.setEvent(id, ev);\r\n\t\t}\r\n\t}\r\n});\r\nscheduler.attachEvent(\"onEventChanged\", function(id, event) {\r\n\tif (this._loading) return true;\r\n\r\n\tvar ev = this.getEvent(id);\r\n\r\n\tif (this._is_virtual_event(id)) {\r\n\t\tvar id = id.split(\"#\");\r\n\t\tvar nid = this.uid();\r\n\t\tthis._not_render = true;\r\n\r\n\t\tvar nev = this._copy_event(event);\r\n\t\tnev.id = nid;\r\n\t\tnev.event_pid = id[0];\r\n\t\tvar timestamp = id[1];\r\n\t\tnev.event_length = timestamp;\r\n\t\tnev.rec_type = nev.rec_pattern = \"\";\r\n\r\n\t\tthis._add_rec_marker(nev, timestamp * 1000);\r\n\t\tthis.addEvent(nev);\r\n\r\n\t\tthis._not_render = false;\r\n\r\n\t} else {\r\n\t\tif(ev.start_date){\r\n\t\t\tev.start_date = clearMilliseconds(ev.start_date);\r\n\t\t}\r\n\t\tif(ev.end_date){\r\n\t\t\tev.end_date = clearMilliseconds(ev.end_date);\r\n\t\t}\r\n\r\n\t\tif (ev.rec_type && this._lightbox_id){\r\n\t\t\tthis._roll_back_dates(ev);\r\n\t\t}\r\n\t\tvar sub = this._get_rec_markers(id);\r\n\t\tfor (var i in sub) {\r\n\t\t\tif (sub.hasOwnProperty(i)) {\r\n\t\t\t\tdelete this._rec_markers[sub[i].id];\r\n\t\t\t\tthis.deleteEvent(sub[i].id, true);\r\n\t\t\t}\r\n\t\t}\r\n\t\tdelete this._rec_markers_pull[id];\r\n\r\n\t\t// it's possible that after editing event is no longer exists, in such case we need to remove _select_id flag\r\n\t\tvar isEventFound = false;\r\n\t\tfor (var k = 0; k < this._rendered.length; k++) {\r\n\t\t\tif (this._rendered[k].getAttribute(this.config.event_attribute) == id)\r\n\t\t\t\tisEventFound = true;\r\n\t\t}\r\n\t\tif (!isEventFound)\r\n\t\t\tthis._select_id = null;\r\n\t}\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onEventAdded\", function(id) {\r\n\tif (!this._loading) {\r\n\t\tvar ev = this.getEvent(id);\r\n\t\tif (ev.rec_type && !ev.event_length){\r\n\t\t\tthis._roll_back_dates(ev);\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onEventSave\", function(id, data, is_new_event) {\r\n\tvar ev = this.getEvent(id);\r\n\tif (!ev.rec_type && data.rec_type && !this._is_virtual_event(id))\r\n\t\tthis._select_id = null;\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onEventCreated\", function(id) {\r\n\tvar ev = this.getEvent(id);\r\n\tif (!ev.rec_type)\r\n\t\tev.rec_type = ev.rec_pattern = ev.event_length = ev.event_pid = \"\";\r\n\treturn true;\r\n});\r\nscheduler.attachEvent(\"onEventCancel\", function(id) {\r\n\tvar ev = this.getEvent(id);\r\n\tif (ev.rec_type) {\r\n\t\tthis._roll_back_dates(ev);\r\n\t\t// a bit expensive, but we need to be sure that event re-rendered, because view can be corrupted by resize , during edit process\r\n\t\tthis.render_view_data();\r\n\t}\r\n});\r\nscheduler._roll_back_dates = function(ev) {\r\n\tif(ev.start_date){\r\n\t\tev.start_date = clearMilliseconds(ev.start_date);\r\n\t}\r\n\tif(ev.end_date){\r\n\t\tev.end_date = clearMilliseconds(ev.end_date);\r\n\t}\r\n\tev.event_length = Math.round((ev.end_date.valueOf() - ev.start_date.valueOf()) / 1000);\r\n\tev.end_date = ev._end_date;\r\n\tif (ev._start_date) {\r\n\t\tev.start_date.setMonth(0);\r\n\t\tev.start_date.setDate(ev._start_date.getDate());\r\n\t\tev.start_date.setMonth(ev._start_date.getMonth());\r\n\t\tev.start_date.setFullYear(ev._start_date.getFullYear());\r\n\r\n\t}\r\n};\r\n\r\nscheduler._is_virtual_event = function(id){\r\n\treturn id.toString().indexOf(\"#\") != -1;\r\n};\r\nscheduler._is_modified_occurence = function(ev){\r\n\treturn (ev.event_pid && ev.event_pid != \"0\");\r\n};\r\n\r\nscheduler.showLightbox_rec = scheduler.showLightbox;\r\nscheduler.showLightbox = function(id) {\r\n\tvar locale = this.locale;\r\n\tvar c = scheduler.config.lightbox_recurring;\r\n\tvar ev = this.getEvent(id);\r\n\tvar pid = ev.event_pid;\r\n\tvar isVirtual = this._is_virtual_event(id);\r\n\tif (isVirtual)\r\n\t\tpid = id.split(\"#\")[0];\r\n\r\n\t// show series\r\n\tvar showSeries = function(id) {\r\n\t\tvar event = scheduler.getEvent(id);\r\n\t\tevent._end_date = event.end_date;\r\n\t\tevent.end_date = new Date(event.start_date.valueOf() + event.event_length * 1000);\r\n\t\treturn scheduler.showLightbox_rec(id); // editing series\r\n\t};\r\n\r\n\tif ( (pid || pid*1 === 0) && ev.rec_type) {\r\n\t\t// direct API call on series id\r\n\t\treturn showSeries(id);\r\n\t}\r\n\tif ( !pid || pid === '0' || ( (!locale.labels.confirm_recurring || c == 'instance') || (c == 'series' && !isVirtual)) ) {\r\n\t\t// editing instance or non recurring event\r\n\t\treturn this.showLightbox_rec(id);\r\n\t}\r\n\tif (c == 'ask') {\r\n\t\tvar that = this;\r\n\t\tscheduler.modalbox({\r\n\t\t\ttext: locale.labels.confirm_recurring,\r\n\t\t\ttitle: locale.labels.title_confirm_recurring,\r\n\t\t\twidth: \"500px\",\r\n\t\t\tposition: \"middle\",\r\n\t\t\tbuttons:[locale.labels.button_edit_series, locale.labels.button_edit_occurrence, locale.labels.icon_cancel],\r\n\t\t\tcallback: function(index) {\r\n\t\t\t\tswitch(+index) {\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\treturn showSeries(pid);\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\treturn that.showLightbox_rec(id);\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t} else {\r\n\t\tshowSeries(pid);\r\n\t}\r\n};\r\n\r\n\r\nscheduler.get_visible_events_rec = scheduler.get_visible_events;\r\nscheduler.get_visible_events = function(only_timed) {\r\n\tfor (var i = 0; i < this._rec_temp.length; i++)\r\n\t\tdelete this._events[this._rec_temp[i].id];\r\n\tthis._rec_temp = [];\r\n\r\n\tvar stack = this.get_visible_events_rec(only_timed);\r\n\tvar out = [];\r\n\tfor (var i = 0; i < stack.length; i++) {\r\n\t\tif (stack[i].rec_type) {\r\n\t\t\t//deleted element of series\r\n\t\t\tif (stack[i].rec_pattern != \"none\")\r\n\t\t\t\tthis.repeat_date(stack[i], out);\r\n\t\t}\r\n\t\telse out.push(stack[i]);\r\n\t}\r\n\treturn out;\r\n};\r\n\r\n\r\n(function() {\r\n\tvar old = scheduler.isOneDayEvent;\r\n\tscheduler.isOneDayEvent = function(ev) {\r\n\t\tif (ev.rec_type) return true;\r\n\t\treturn old.call(this, ev);\r\n\t};\r\n\tvar old_update_event = scheduler.updateEvent;\r\n\tscheduler.updateEvent = function(id) {\r\n\t\tvar ev = scheduler.getEvent(id);\r\n\t\tif(ev && ev.rec_type){\r\n\t\t\t//rec_type can be changed without the lightbox,\r\n\t\t\t// make sure rec_pattern updated as well\r\n\t\t\tev.rec_pattern = (ev.rec_type || \"\").split(\"#\")[0];\r\n\t\t}\r\n\t\tif (ev && ev.rec_type && !this._is_virtual_event(id)) {\r\n\t\t\tscheduler.update_view();\r\n\t\t} else {\r\n\t\t\told_update_event.call(this, id);\r\n\t\t}\r\n\t};\r\n})();\r\n\r\nscheduler.transponse_size = {\r\n\tday:1, week:7, month:1, year:12\r\n};\r\nscheduler.date.day_week = function(sd, day, week) {\r\n\tsd.setDate(1);\r\n\tvar originalMonth = scheduler.date.month_start(new Date(sd));\r\n\tweek = (week - 1) * 7;\r\n\tvar cday = sd.getDay();\r\n\tvar nday = day * 1 + week - cday + 1;\r\n\tsd.setDate(nday <= week ? (nday + 7) : nday);\r\n\tvar newMonth = scheduler.date.month_start(new Date(sd));\r\n\tif(originalMonth.valueOf() !== newMonth.valueOf()){\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n};\r\nscheduler.transpose_day_week = function(sd, list, cor, size, cor2) {\r\n\tvar cday = (sd.getDay() || (scheduler.config.start_on_monday ? 7 : 0)) - cor;\r\n\tfor (var i = 0; i < list.length; i++) {\r\n\t\tif (list[i] > cday)\r\n\t\t\treturn sd.setDate(sd.getDate() + list[i] * 1 - cday - (size ? cor : cor2));\r\n\t}\r\n\tthis.transpose_day_week(sd, list, cor + size, null, cor);\r\n};\r\nscheduler.transpose_type = function(type) {\r\n\tvar transposeRecurring = \"transpose_\" + type;\r\n\tif (!this.date[transposeRecurring]) {\r\n\t\tvar recurringParts = type.split(\"_\");\r\n\t\tvar dayDurationMs = 60 * 60 * 24 * 1000;\r\n\t\tvar addRecurring = \"add_\" + type;\r\n\t\tvar recurringStepDays = this.transponse_size[recurringParts[0]] * recurringParts[1];\r\n\r\n\t\tif (recurringParts[0] == \"day\" || recurringParts[0] == \"week\") {\r\n\t\t\tvar weekDays = null;\r\n\t\t\tif (recurringParts[4]) {\r\n\t\t\t\tweekDays = recurringParts[4].split(\",\");\r\n\t\t\t\tif (scheduler.config.start_on_monday) {\r\n\t\t\t\t\tfor (var i = 0; i < weekDays.length; i++)\r\n\t\t\t\t\t\tweekDays[i] = (weekDays[i] * 1) || 7;\r\n\t\t\t\t\tweekDays.sort();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.date[transposeRecurring] = function(nd, td) {\r\n\t\t\t\tvar delta = Math.floor((td.valueOf() - nd.valueOf()) / (dayDurationMs * recurringStepDays));\r\n\t\t\t\tif (delta > 0)\r\n\t\t\t\t\tnd.setDate(nd.getDate() + delta * recurringStepDays);\r\n\t\t\t\tif (weekDays)\r\n\t\t\t\t\tscheduler.transpose_day_week(nd, weekDays, 1, recurringStepDays);\r\n\r\n\t\t\t\treturn nd;\r\n\t\t\t};\r\n\t\t\tthis.date[addRecurring] = function(sd, inc) {\r\n\t\t\t\tvar nd = new Date(sd.valueOf());\r\n\t\t\t\tif (weekDays) {\r\n\t\t\t\t\tfor (var count = 0; count < inc; count++)\r\n\t\t\t\t\t\tscheduler.transpose_day_week(nd, weekDays, 0, recurringStepDays);\r\n\t\t\t\t} else\r\n\t\t\t\t\tnd.setDate(nd.getDate() + inc * recurringStepDays);\r\n\r\n\t\t\t\treturn nd;\r\n\t\t\t};\r\n\t\t}\r\n\t\telse if (recurringParts[0] == \"month\" || recurringParts[0] == \"year\") {\r\n\t\t\tthis.date[transposeRecurring] = function(nd, td, seriesInstance) {\r\n\t\t\t\tvar delta = Math.ceil(((td.getFullYear() * 12 + td.getMonth() * 1 + 1) - (nd.getFullYear() * 12 + nd.getMonth() * 1 + 1)) / (recurringStepDays) - 1);\r\n\r\n\t\t\t\tif (delta >= 0){\r\n\t\t\t\t\tnd.setDate(1);\r\n\t\t\t\t\tnd.setMonth(nd.getMonth() + delta * recurringStepDays);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn scheduler.date[addRecurring](nd, 0, seriesInstance);\r\n\t\t\t\t//if (str[3]){\r\n\t\t\t\t//\tscheduler.date.day_week(nd, str[2], str[3]);\r\n\t\t\t\t//}\r\n\t\t\t};\r\n\t\t\tthis.date[addRecurring] = function(sd, inc, seriesInstance, currentCount) {\r\n\t\t\t\tif(!currentCount){\r\n\t\t\t\t\tcurrentCount = 1;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tcurrentCount++;\r\n\t\t\t\t}\r\n\t\t\t\tvar maxCount = 12;\r\n\t\t\t\tif(currentCount > maxCount){\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar nd = new Date(sd.valueOf());\r\n\t\t\t\tnd.setDate(1);\r\n\r\n\r\n\t\t\t\tnd.setMonth(nd.getMonth() + inc * recurringStepDays);\r\n\t\t\t\tvar origMonth = nd.getMonth();\r\n\t\t\t\tvar origYear = nd.getFullYear();\r\n\t\t\t\tnd.setDate(seriesInstance.start_date.getDate());\r\n\t\t\t\tif (recurringParts[3]){\r\n\t\t\t\t\tscheduler.date.day_week(nd, recurringParts[2], recurringParts[3]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar correctOverflowInstances = scheduler.config.recurring_overflow_instances;\r\n\t\t\t\tif(nd.getMonth() != origMonth && correctOverflowInstances != \"none\"){\r\n\t\t\t\t\t// no such day in a month\r\n\t\t\t\t\tif(correctOverflowInstances === \"lastDay\"){\r\n\t\t\t\t\t\t// return either last day of the month\r\n\t\t\t\t\t\tnd = new Date(origYear, origMonth + 1, 0, nd.getHours(), nd.getMinutes(), nd.getSeconds(), nd.getMilliseconds());\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t// or go to the next instance\r\n\t\t\t\t\t\tnd = scheduler.date[addRecurring](new Date(origYear, origMonth + 1, 0), inc||1, seriesInstance, currentCount);\r\n\t\t\t\t\t\t// if next instance is not possible (e.g. 'repeat on 40th day of the month') null will be returned\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn nd;\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n};\r\nscheduler.repeat_date = function(ev, stack, non_render, from, to, maxCount) {\r\n\r\n\tfrom = from || this._min_date;\r\n\tto = to || this._max_date;\r\n\tvar max = maxCount || -1;\r\n\tvar td = new Date(ev.start_date.valueOf());\r\n\r\n\tvar startHour = td.getHours();\r\n\r\n\tvar visibleCount = 0;\r\n\r\n\tif (!ev.rec_pattern && ev.rec_type)\r\n\t\tev.rec_pattern = ev.rec_type.split(\"#\")[0];\r\n\r\n\tthis.transpose_type(ev.rec_pattern);\r\n\ttd = scheduler.date[\"transpose_\" + ev.rec_pattern](td, from, ev);\r\n\twhile ( td && (\r\n\t\ttd < ev.start_date ||\r\n\t\tscheduler._fix_daylight_saving_date(td,from,ev,td,new Date(td.valueOf() + ev.event_length * 1000)).valueOf() <= from.valueOf() ||\r\n\t\ttd.valueOf() + ev.event_length * 1000 <= from.valueOf())){\r\n\t\t\ttd = this.date[\"add_\" + ev.rec_pattern](td, 1, ev);\r\n\r\n\t}\r\n\twhile (td && (td < to && td < ev.end_date && (max < 0 || visibleCount < max))) {\r\n\t\ttd.setHours(startHour);\r\n\r\n\t\tvar timestamp = (scheduler.config.occurrence_timestamp_in_utc) ? Date.UTC(td.getFullYear(), td.getMonth(), td.getDate(), td.getHours(), td.getMinutes(), td.getSeconds()) : td.valueOf();\r\n\t\tvar ch = this._get_rec_marker(timestamp, ev.id);\r\n\t\tif (!ch) { // unmodified element of series\r\n\t\t\tvar ted = new Date(td.valueOf() + ev.event_length * 1000);\r\n\t\t\tvar copy = this._copy_event(ev);\r\n\t\t\t//copy._timed = ev._timed;\r\n\t\t\tcopy.text = ev.text;\r\n\t\t\tcopy.start_date = td;\r\n\t\t\tcopy.event_pid = ev.id;\r\n\t\t\tcopy.id = ev.id + \"#\" + Math.round(timestamp / 1000);\r\n\t\t\tcopy.end_date = ted;\r\n\r\n\t\t\tcopy.end_date = scheduler._fix_daylight_saving_date(copy.start_date, copy.end_date, ev, td, copy.end_date);\r\n\r\n\t\t\tcopy._timed = this.isOneDayEvent(copy);\r\n\r\n\t\t\tif (!copy._timed && !this._table_view && !this.config.multi_day) return;\r\n\t\t\tstack.push(copy);\r\n\r\n\t\t\tif (!non_render) {\r\n\t\t\t\tthis._events[copy.id] = copy;\r\n\t\t\t\tthis._rec_temp.push(copy);\r\n\t\t\t}\r\n\r\n\t\t\tvisibleCount++;\r\n\r\n\t\t} else\r\n\t\tif (non_render){\r\n\t\t\tif(ch.rec_type != \"none\"){\r\n\t\t\t\tvisibleCount++;\r\n\t\t\t}\r\n\t\t\tstack.push(ch);\r\n\t\t}\r\n\r\n\t\ttd = this.date[\"add_\" + ev.rec_pattern](td, 1, ev);\r\n\t//\tif(!scheduler.date[\"validate_add_\" + ev.rec_pattern](td, 1, ev.rec_pattern)){\r\n\t///\t\talert(\"detect add\")\r\n\t//\t}\r\n\t}\r\n};\r\nscheduler._fix_daylight_saving_date = function(start_date, end_date, ev, counter, default_date) {\r\n\tvar shift = start_date.getTimezoneOffset() - end_date.getTimezoneOffset();\r\n\tif (shift) {\r\n\t\tif (shift > 0) {\r\n\t\t\t// e.g. 24h -> 23h\r\n\t\t\treturn new Date(counter.valueOf() + ev.event_length * 1000 - shift * 60 * 1000);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t// e.g. 24h -> 25h\r\n\t\t\treturn new Date(end_date.valueOf() - shift * 60 * 1000);\r\n\t\t}\r\n\t}\r\n\treturn new Date(default_date.valueOf());\r\n};\r\nscheduler.getRecDates = function(id, max) {\r\n\tvar ev = typeof id == \"object\" ? id : scheduler.getEvent(id);\r\n\tvar recurrings = [];\r\n\tmax = max || 100;\r\n\r\n\tif (!ev.rec_type) {\r\n\t\treturn [\r\n\t\t\t{ start_date: ev.start_date, end_date: ev.end_date }\r\n\t\t];\r\n\t}\r\n\tif (ev.rec_type == \"none\") {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tscheduler.repeat_date(ev, recurrings, true, ev.start_date, ev.end_date, max);\r\n\r\n\tvar result = [];\r\n\tfor(var i = 0; i < recurrings.length; i++){\r\n\t\tif(recurrings[i].rec_type != \"none\"){\r\n\t\t\tresult.push({start_date: recurrings[i].start_date, end_date: recurrings[i].end_date});\r\n\t\t}\r\n\t}\r\n\r\n\treturn result;\r\n};\r\nscheduler.getEvents = function(from, to) {\r\n\tvar result = [];\r\n\tfor (var a in this._events) {\r\n\t\tvar ev = this._events[a];\r\n\t\tif (ev && ev.start_date < to && ev.end_date > from) {\r\n\t\t\tif (ev.rec_pattern) {\r\n\t\t\t\tif (ev.rec_pattern == \"none\") continue;\r\n\t\t\t\tvar sev = [];\r\n\t\t\t\tthis.repeat_date(ev, sev, true, from, to);\r\n\t\t\t\tfor (var i = 0; i < sev.length; i++) {\r\n\t\t\t\t\t// if event is in rec_markers then it will be checked by himself, here need to skip it\r\n\t\t\t\t\tif (!sev[i].rec_pattern && sev[i].start_date < to && sev[i].end_date > from && !this._rec_markers[sev[i].id]) {\r\n\t\t\t\t\t\tresult.push(sev[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (!this._is_virtual_event(ev.id)) { // if it's virtual event we can skip it\r\n\t\t\t\tresult.push(ev);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n};\r\n\r\nscheduler.config.repeat_date = \"%m.%d.%Y\";\r\nscheduler.config.lightbox.sections = [\r\n\t{name:\"description\", map_to:\"text\", type:\"textarea\" , focus:true},\r\n\t{name:\"recurring\", type:\"recurring\", map_to:\"rec_type\", button:\"recurring\"},\r\n\t{name:\"time\", height:72, type:\"time\", map_to:\"auto\"}\r\n];\r\n\r\n\r\n//drop secondary attributes\r\nscheduler._copy_dummy = function(ev) {\r\n\tvar start_date = new Date(this.start_date);\r\n\tvar end_date = new Date(this.end_date);\r\n\tthis.start_date = start_date;\r\n\tthis.end_date = end_date;\r\n\tthis.event_length = this.event_pid = this.rec_pattern = this.rec_type = null;\r\n};\r\n\r\nscheduler.config.include_end_by = false;\r\nscheduler.config.lightbox_recurring = 'ask'; // series, instance\r\n\r\nscheduler.attachEvent(\"onClearAll\", function(){\r\n\tscheduler._rec_markers = {}; //clear recurring events data\r\n\tscheduler._rec_markers_pull = {};\r\n\tscheduler._rec_temp = [];\r\n});\r\n\r\n}","import getSerializator from '../core/common/get_serializable_events';\r\nexport default function(scheduler){\r\n\r\n\t\r\nconst getSerializableData = getSerializator(scheduler);\r\n\r\n//redefine this method, if you want to provide a custom set of attributes for serialization\r\nscheduler.data_attributes=function(){\r\n\tvar attrs = [];\r\n\tvar format = scheduler._helpers.formatDate;\r\n\tvar all_events = getSerializableData();\r\n\tfor (var a in all_events){\r\n\t\tvar ev = all_events[a];\r\n\t\tfor (var name in ev)\r\n\t\t\tif (name.substr(0,1) !=\"_\")\r\n\t\t\t\tattrs.push([name,((name == \"start_date\" || name == \"end_date\")?format:null)]);\r\n\t\tbreak;\r\n\t}\r\n\treturn attrs;\r\n};\r\n\r\nscheduler.toXML = function(header){\r\n\tvar xml = [];\r\n\tvar attrs = this.data_attributes();\r\n\tvar all_events = getSerializableData();\r\n\tfor (var a in all_events){\r\n\t\tvar ev = all_events[a];\r\n\r\n\t\txml.push(\"<event>\");\r\n\t\tfor (var i=0; i < attrs.length; i++)\r\n\t\t\txml.push(\"<\"+attrs[i][0]+\"><![CDATA[\"+(attrs[i][1]?attrs[i][1](ev[attrs[i][0]]):ev[attrs[i][0]])+\"]]></\"+attrs[i][0]+\">\");\r\n\r\n\t\txml.push(\"</event>\");\r\n\t}\r\n\treturn (header||\"\")+\"<data>\"+xml.join(\"\\n\")+\"</data>\";\r\n};\r\n\r\nscheduler._serialize_json_value = function(value){\r\n\tif(value === null || typeof value === \"boolean\"){\r\n\t\tvalue = \"\" + value;\r\n\t}else{\r\n\t\tif(!value && value !== 0){\r\n\t\t\tvalue = \"\";\r\n\t\t}\r\n\t\tvalue = '\"' + value.toString().\r\n\t\t\treplace(/\\n/g,\"\").\r\n\t\t\treplace(/\\\\/g,\"\\\\\\\\\").\r\n\t\t\treplace(/\"/g, '\\\\\"') + '\"';\r\n\t}\r\n\treturn value;\r\n};\r\n\r\n\r\n\r\nscheduler.toJSON = function(){\r\n\treturn JSON.stringify(this.serialize());\r\n};\r\n\r\n\r\nscheduler.toICal = function(header){\r\n\tvar start = \"BEGIN:VCALENDAR\\nVERSION:2.0\\nPRODID:-//dhtmlXScheduler//NONSGML v2.2//EN\\nDESCRIPTION:\";\r\n\tvar end = \"END:VCALENDAR\";\r\n\tvar format = scheduler.date.date_to_str(\"%Y%m%dT%H%i%s\");\r\n\tvar full_day_format = scheduler.date.date_to_str(\"%Y%m%d\");\r\n\r\n\tvar ical = [];\r\n\tvar all_events = getSerializableData();\r\n\tfor (var a in all_events){\r\n\t\tvar ev = all_events[a];\r\n\r\n\r\n\t\tical.push(\"BEGIN:VEVENT\");\r\n\t\tif (!ev._timed || (!ev.start_date.getHours() && !ev.start_date.getMinutes()))\r\n\t\t\tical.push(\"DTSTART:\"+full_day_format(ev.start_date));\r\n\t\telse\r\n\t\t\tical.push(\"DTSTART:\"+format(ev.start_date));\r\n\t\tif (!ev._timed || (!ev.end_date.getHours() && !ev.end_date.getMinutes()))\r\n\t\t\tical.push(\"DTEND:\"+full_day_format(ev.end_date));\r\n\t\telse\r\n\t\t\tical.push(\"DTEND:\"+format(ev.end_date));\r\n\t\tical.push(\"SUMMARY:\"+ev.text);\r\n\t\tical.push(\"END:VEVENT\");\r\n\t}\r\n\treturn start+(header||\"\")+\"\\n\"+ical.join(\"\\n\")+\"\\n\"+end;\r\n};\r\n\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Timeline\", scheduler.assert);\r\n}","import { TooltipManager } from \"./tooltipManager\";\r\n\r\nexport default function (scheduler: any) {\r\n\r\n\tscheduler.config.tooltip_timeout = 30;\r\n\tscheduler.config.tooltip_offset_y = 20;\r\n\tscheduler.config.tooltip_offset_x = 10;\r\n\tscheduler.config.tooltip_hide_timeout = 30;\r\n\r\n\tconst tooltipManager = new TooltipManager(scheduler);\r\n\r\n\tscheduler.ext.tooltips = tooltipManager;\r\n\r\n\tscheduler.attachEvent(\"onSchedulerReady\", function () {\r\n\r\n\t\ttooltipManager.tooltipFor({\r\n\t\t\tselector: \"[\" + scheduler.config.event_attribute + \"]\",\r\n\t\t\thtml: (event: MouseEvent) => {\r\n\t\t\t\tif (scheduler._mobile && !scheduler.config.touch_tooltip) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst targetEventId = scheduler._locate_event(event.target);\r\n\t\t\t\tif (scheduler.getEvent(targetEventId)) {\r\n\t\t\t\t\tconst event = scheduler.getEvent(targetEventId);\r\n\t\t\t\t\treturn scheduler.templates.tooltip_text(event.start_date, event.end_date, event);\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\tglobal: false\r\n\t\t});\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onDestroy\", function () {\r\n\t\ttooltipManager.destructor();\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onLightbox\", function () {\r\n\t\ttooltipManager.hideTooltip();\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onBeforeDrag\", function() {\r\n\t\ttooltipManager.hideTooltip();\r\n\t\treturn true;\r\n\t});\r\n\tscheduler.attachEvent(\"onEventDeleted\", function() {\r\n\t\ttooltipManager.hideTooltip();\r\n\t\treturn true;\r\n\t});\r\n\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Tree Timeline\", scheduler.assert);\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Units\", scheduler.assert);\r\n}","export default function(scheduler){\r\n\r\nscheduler._get_url_nav = function(){\r\n\tvar p = {};\r\n\tvar data = (document.location.hash || \"\").replace(\"#\", \"\").split(\",\");\r\n\tfor (var i = 0; i < data.length; i++) {\r\n\t\tvar s = data[i].split(\"=\");\r\n\t\tif (s.length == 2)\r\n\t\t\tp[s[0]] = s[1];\r\n\t}\r\n\treturn p;\r\n};\r\n\r\nscheduler.attachEvent(\"onTemplatesReady\", function () {\r\n\tvar first = true;\r\n\tvar s2d = scheduler.date.str_to_date(\"%Y-%m-%d\");\r\n\tvar d2s = scheduler.date.date_to_str(\"%Y-%m-%d\");\r\n\tvar select_event =  scheduler._get_url_nav().event || null;\r\n\r\n\tscheduler.attachEvent(\"onAfterEventDisplay\", function(ev){\r\n\t\tselect_event = null;\r\n\t\treturn true;\r\n\t});\r\n\r\n\tscheduler.attachEvent(\"onBeforeViewChange\", function (om, od, m, d) {\r\n\t\tif (first) {\r\n\t\t\tfirst = false;\r\n\t\t\tvar p = scheduler._get_url_nav();\r\n\r\n\t\t\tif (p.event){\r\n\t\t\t\ttry{\r\n\t\t\t\t\tif(scheduler.getEvent(p.event)){\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tshowEvent(p.event);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar handler = scheduler.attachEvent(\"onXLE\", function(){\r\n\t\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\t\tshowEvent(p.event);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tscheduler.detachEvent(handler);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e){}\r\n\t\t\t}\r\n\r\n\t\t\tif (p.date || p.mode) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.setCurrentView((p.date ? s2d(p.date) : null), (p.mode || null));\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t//assuming that mode is not available anymore\r\n\t\t\t\t\tthis.setCurrentView((p.date ? s2d(p.date) : null), m);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar values = [\r\n\t\t\t\"date=\" + d2s(d || od),\r\n\t\t\t\"mode=\" + (m || om)\r\n\t\t];\r\n\r\n\t\tif(select_event){\r\n\t\t\tvalues.push(\"event=\" + select_event);\r\n\t\t}\r\n\r\n\t\tvar text = \"#\" + values.join(\",\");\r\n\t\tdocument.location.hash = text;\r\n\t\treturn true;\r\n\t});\r\n\r\n\tfunction showEvent(e){\r\n\t\tif(scheduler.$destroyed){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tselect_event = e;\r\n\t\tif(scheduler.getEvent(e)){\r\n\t\t\tscheduler.showEvent(e);\r\n\t\t}\r\n\t}\r\n});\r\n}","import notImplemented from \"./not_implemented_extension\";\r\n\r\nexport default function(scheduler){\r\n\tnotImplemented.alert(\"Week Agenda\", scheduler.assert);\r\n}","export default function(scheduler){\r\nscheduler.attachEvent(\"onLightBox\",function(){\r\n\tif (this._cover){\r\n\t\ttry{\r\n\t\t\tthis._cover.style.height = this.expanded ? \"100%\" : ((document.body.parentNode||document.body).scrollHeight+\"px\");\r\n\t\t} catch(e) {\r\n\r\n\t\t}\r\n\t}\r\n});\r\n\r\nscheduler.form_blocks.select.set_value=function(node,value,ev){\r\n\tif (typeof value == \"undefined\" || value === \"\")\r\n\t\tvalue = (node.firstChild.options[0]||{}).value;\r\n\tnode.firstChild.value=value||\"\";\r\n};\r\n\r\n}","export default function(scheduler){\r\n\r\n\t// scheduler.config.year_x = 4;\r\n\t// scheduler.config.year_y = 3;\r\n\t// scheduler.xy.year_top = 0;\r\n\r\n\tscheduler.templates.year_date = function(date) {\r\n\t\treturn scheduler.date.date_to_str(scheduler.locale.labels.year_tab + \" %Y\")(date);\r\n\t};\r\n\tscheduler.templates.year_month = scheduler.date.date_to_str(\"%F\");\r\n\tscheduler.templates.year_scale_date = scheduler.date.date_to_str(\"%D\");\r\n\tscheduler.templates.year_tooltip = function(s, e, ev) {\r\n\t\treturn ev.text;\r\n\t};\r\n\r\n\tconst isYearMode = function() {\r\n\t\treturn scheduler._mode == \"year\";\r\n\t};\r\n\t\r\n\tconst getCellDate = function(node){\r\n\t\tvar day = scheduler.$domHelpers.closest(node, \"[data-cell-date]\");\r\n\t\tif(!day || !day.hasAttribute(\"data-cell-date\")) return null;\r\n\t\treturn scheduler.templates.parse_date(day.getAttribute(\"data-cell-date\"));\r\n\t};\r\n\r\n\t// dbl click hook for scheduler._on_dbl_click\r\n\tscheduler.dblclick_dhx_year_grid= function(e) {\r\n\t\tif (isYearMode()) {\r\n\t\t\tconst target = e.target;\r\n\t\t\tif(scheduler.$domHelpers.closest(target, \".dhx_before\") || scheduler.$domHelpers.closest(target, \".dhx_after\")){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst date = getCellDate(target);\r\n\t\t\t\r\n\t\t\tif(date){\r\n\t\t\t\tconst start = date;\r\n\t\t\t\tconst end = this.date.add(start, 1, \"day\");\r\n\t\t\t\tif (!this.config.readonly && this.config.dblclick_create){\r\n\t\t\t\t\tthis.addEventNow(start.valueOf(), end.valueOf(), e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t\r\n\tscheduler.attachEvent(\"onEventIdChange\", function(){\r\n\t\tif (isYearMode())\r\n\t\t\tthis.year_view(true);\r\n\t});\r\n\r\n\r\n\tvar old = scheduler.render_data;\r\n\tscheduler.render_data = function(evs) {\r\n\t\tif (!isYearMode()) return old.apply(this, arguments);\r\n\t\tfor (var i = 0; i < evs.length; i++)\r\n\t\t\tthis._year_render_event(evs[i]);\r\n\t};\r\n\r\n\tvar clear = scheduler.clear_view;\r\n\tscheduler.clear_view = function() {\r\n\t\tif (!isYearMode()) return clear.apply(this, arguments);\r\n\t\tvar dates = scheduler._year_marked_cells,\r\n\t\t\tdiv = null;\r\n\t\tfor (var date in dates) {\r\n\t\t\tif (dates.hasOwnProperty(date)) {\r\n\t\t\t\tdiv = dates[date];\r\n\t\t\t\tdiv.classList.remove(\"dhx_year_event\", \"dhx_cal_datepicker_event\");\r\n\t\t\t\t// div.className = \"dhx_month_head\";\r\n\t\t\t\t// div.removeAttribute(\"date\");\r\n\t\t\t\t// div.removeAttribute(\"data-year-date\");\r\n\t\t\t}\r\n\t\t}\r\n\t\tscheduler._year_marked_cells = {};\r\n\t};\r\n\r\n\tscheduler._hideToolTip = function() {\r\n\t\tif (this._tooltip) {\r\n\t\t\tthis._tooltip.style.display = \"none\";\r\n\t\t\tthis._tooltip.date = new Date(9999, 1, 1);\r\n\t\t}\r\n\t};\r\n\r\n\tscheduler._showToolTip = function(date, pos, e, src) {\r\n\t\tif (this._tooltip) {\r\n\t\t\tif (this._tooltip.date.valueOf() == date.valueOf()) return;\r\n\t\t\tthis._tooltip.innerHTML = \"\";\r\n\t\t} else {\r\n\t\t\tvar t = this._tooltip = document.createElement(\"div\");\r\n\t\t\tt.className = \"dhx_year_tooltip\";\r\n\t\t\tif (this.config.rtl) t.className += \" dhx_tooltip_rtl\";\r\n\t\t\tdocument.body.appendChild(t);\r\n\t\t\tt.addEventListener(\"click\", scheduler._click.dhx_cal_data);\r\n\t\t\tt.addEventListener(\"click\", function(e){\r\n\t\t\t\tif(e.target.closest(`[${scheduler.config.event_attribute}]`)){\r\n\t\t\t\t\tconst id = e.target.closest(`[${scheduler.config.event_attribute}]`).getAttribute(scheduler.config.event_attribute);\r\n\t\t\t\t\tscheduler.showLightbox(id);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tvar evs = this.getEvents(date, this.date.add(date, 1, \"day\"));\r\n\t\tvar html = \"\";\r\n\r\n\t\tfor (var i = 0; i < evs.length; i++) {\r\n\t\t\tvar ev = evs[i];\r\n\t\t\tif(!this.filter_event(ev.id, ev))\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tvar bg_color = (ev.color ? (\"--dhx-scheduler-event-background:\" + ev.color + \";\") : \"\");\r\n\t\t\tvar color = (ev.textColor ? (\"--dhx-scheduler-event-color:\" + ev.textColor + \";\") : \"\");\r\n\r\n\t\t\thtml += \"<div class='dhx_tooltip_line' style='\" + bg_color + \"\" + color + \"' event_id='\" + evs[i].id + \"' \"+this.config.event_attribute+\"='\"+evs[i].id+\"'>\";\r\n\t\t\thtml += \"<div class='dhx_tooltip_date' style='\" + bg_color + \"\" + color + \"'>\" + (evs[i]._timed ? this.templates.event_date(evs[i].start_date) : \"\") + \"</div>\";\r\n\t\t\thtml += \"<div class='dhx_event_icon icon_details'>&nbsp;</div>\";\r\n\t\t\thtml += this.templates.year_tooltip(evs[i].start_date, evs[i].end_date, evs[i]) + \"</div>\";\r\n\t\t}\r\n\r\n\t\tthis._tooltip.style.display = \"\";\r\n\t\tthis._tooltip.style.top = \"0px\";\r\n\r\n\r\n\t\tif (document.body.offsetWidth - pos.left - this._tooltip.offsetWidth < 0)\r\n\t\t\tthis._tooltip.style.left = pos.left - this._tooltip.offsetWidth + \"px\";\r\n\t\telse\r\n\t\t\tthis._tooltip.style.left = pos.left + src.offsetWidth + \"px\";\r\n\r\n\t\tthis._tooltip.date = date;\r\n\t\tthis._tooltip.innerHTML = html;\r\n\r\n\t\tif (document.body.offsetHeight - pos.top - this._tooltip.offsetHeight < 0)\r\n\t\t\tthis._tooltip.style.top = pos.top - this._tooltip.offsetHeight + src.offsetHeight + \"px\";\r\n\t\telse\r\n\t\t\tthis._tooltip.style.top = pos.top + \"px\";\r\n\t};\r\n\r\n\tscheduler._year_view_tooltip_handler = function(e){\r\n\t\tif (!isYearMode()) return;\r\n\r\n\t\tvar src = e.target || e.srcElement;\r\n\t\tif (src.tagName.toLowerCase() == 'a') // fix for active links extension (it adds links to the date in the cell)\r\n\t\t\tsrc = src.parentNode;\r\n\t\tif (scheduler._getClassName(src).indexOf(\"dhx_year_event\") != -1)\r\n\t\t\tscheduler._showToolTip(scheduler.templates.parse_date(src.getAttribute(\"data-year-date\")), scheduler.$domHelpers.getOffset(src), e, src);\r\n\t\telse\r\n\t\t\tscheduler._hideToolTip();\r\n\t};\r\n\tscheduler._init_year_tooltip = function() {\r\n\t\tscheduler._detachDomEvent(scheduler._els[\"dhx_cal_data\"][0], \"mouseover\", scheduler._year_view_tooltip_handler);\r\n\t\tscheduler.event(scheduler._els[\"dhx_cal_data\"][0], \"mouseover\", scheduler._year_view_tooltip_handler);\r\n\t};\r\n\r\n\tscheduler._get_year_cell = function(d) {\r\n\t\tvar dateString = scheduler.templates.format_date(d);\r\n\t\tvar cells = this.$root.querySelectorAll(`.dhx_cal_data .dhx_cal_datepicker_date[data-cell-date=\"${dateString}\"]`);\r\n\t\tfor(var i = 0; i < cells.length; i++){\r\n\t\t\tif(!scheduler.$domHelpers.closest(cells[i], \".dhx_after, .dhx_before\")){\r\n\t\t\t\treturn cells[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\r\n\tscheduler._year_marked_cells = {};\r\n\tscheduler._mark_year_date = function(date, event) {\r\n\t\tvar dateString = scheduler.templates.format_date(date);\r\n\t\tvar cell = this._get_year_cell(date);\r\n\t\tif (!cell) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar ev_class = this.templates.event_class(event.start_date, event.end_date, event);\r\n\t\tif (!scheduler._year_marked_cells[dateString]) {\r\n\t\t\tcell.classList.add(\"dhx_year_event\", \"dhx_cal_datepicker_event\");// = \"dhx_month_head dhx_year_event\";\r\n\t\t\tcell.setAttribute(\"data-year-date\", dateString);\r\n\t\t\tcell.setAttribute(\"date\", dateString);\r\n\t\t\tscheduler._year_marked_cells[dateString] = cell;\r\n\t\t}\r\n\t\tif(ev_class){\r\n\t\t\tcell.classList.add(ev_class);\r\n\t\t}\r\n\t};\r\n\tscheduler._unmark_year_date = function(date) {\r\n\t\tvar cell = this._get_year_cell(date);\r\n\t\tif (!cell) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tcell.classList.remove(\"dhx_year_event\", \"dhx_cal_datepicker_event\");\r\n//\t\tcell.className = \"dhx_month_head\";\r\n\t};\r\n\tscheduler._year_render_event = function(event) {\r\n\t\tvar date = event.start_date;\r\n\t\tif (date.valueOf() < this._min_date.valueOf()){\r\n\t\t\tdate = this._min_date;\r\n\t\t} else {\r\n\t\t\tdate = this.date.date_part(new Date(date));\r\n\t\t}\r\n\r\n\t\twhile (date < event.end_date) {\r\n\t\t\tthis._mark_year_date(date, event);\r\n\t\t\tdate = this.date.add(date, 1, \"day\");\r\n\t\t\tif (date.valueOf() >= this._max_date.valueOf())\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\tscheduler.year_view = function(mode) {\r\n\r\n\t\tscheduler.set_sizes();\r\n\r\n\t\tscheduler._table_view = mode;\r\n\r\n\t\tif (this._load_mode && this._load()) return;\r\n\r\n\t\tif (mode) {\r\n\t\t\tscheduler._init_year_tooltip();\r\n\t\t\tscheduler._reset_year_scale();\r\n\t\t\tif (scheduler._load_mode && scheduler._load()){\r\n\t\t\t\tscheduler._render_wait = true;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tscheduler.render_view_data();\r\n\t\t} else {\r\n\t\t\tscheduler._hideToolTip();\r\n\t\t}\r\n\t};\r\n\tscheduler._reset_year_scale = function() {\r\n\t\tthis._cols = [];\r\n\t\tthis._colsS = {};\r\n\t\tvar week_starts = []; //start day of first week in each month\r\n\t\tvar dataArea = this._els[\"dhx_cal_data\"][0];\r\n\r\n\t\tvar c = this.config;\r\n\t\tdataArea.scrollTop = 0; //fix flickering in FF\r\n\t\tdataArea.innerHTML = \"\";\r\n\r\n\t\tvar dy = Math.floor((parseInt(dataArea.style.height) - scheduler.xy.year_top) / c.year_y);\r\n\t\tif (dy < 190) {\r\n\t\t\tdy = 190;\r\n\t\t}\r\n\r\n\t\tvar week_template = document.createElement(\"div\");\r\n\t\tvar dummy_date = this.date.week_start(scheduler._currentDate());\r\n\r\n\t\tthis._process_ignores(dummy_date, 7, \"day\", 1);\r\n\r\n\t\tfor (var i = 0; i < 7; i++) {\r\n\t\t\tif(!(this._ignores && this._ignores[i])) {\r\n\t\t\t\tthis._cols[i] = 'var(--dhx-scheduler-datepicker-cell-size)';\r\n\t\t\t\tthis._render_x_header(i, 0, dummy_date, week_template);\r\n\r\n\t\t\t}\r\n\t\t\tdummy_date = this.date.add(dummy_date, 1, \"day\");\r\n\t\t}\r\n\t\tweek_template.lastChild.className += \" dhx_scale_bar_last\";\r\n\r\n\t\tfor(var i = 0; i < week_template.childNodes.length; i++){\r\n\t\t\tthis._waiAria.yearHeadCell(week_template.childNodes[i]);\r\n\t\t}\r\n\r\n\t\tvar sd = this.date[this._mode + \"_start\"](this.date.copy(this._date));\r\n\t\tvar ssd = sd;\r\n\t\tvar yearBox = null;\r\n\t\tconst wrapper = document.createElement(\"div\");\r\n\t\twrapper.classList.add(\"dhx_year_wrapper\");\r\n\t\tfor (var i = 0; i < c.year_y; i++){\r\n\t\t\tfor (var j = 0; j < c.year_x; j++) {\r\n\t\t\t\tyearBox = document.createElement(\"div\");\r\n\t\t\t\tyearBox.className = \"dhx_year_box\";\r\n\r\n\t\t\t\tyearBox.setAttribute(\"date\", this._helpers.formatDate(sd));\r\n\t\t\t\tyearBox.setAttribute(\"data-month-date\", this._helpers.formatDate(sd));\r\n\t\t\t\tyearBox.innerHTML = \"<div class='dhx_year_month'></div><div class='dhx_year_grid'><div class='dhx_year_week'>\" + week_template.innerHTML + \"</div><div class='dhx_year_body'></div></div>\";\r\n\r\n\t\t\t\tvar header = yearBox.querySelector(\".dhx_year_month\");\r\n\t\t\t\tvar grid = yearBox.querySelector(\".dhx_year_grid\");\r\n\t\t\t\tvar body = yearBox.querySelector(\".dhx_year_body\");\r\n\r\n\t\t\t\tvar headerId = scheduler.uid();\r\n\t\t\t\tthis._waiAria.yearHeader(header, headerId);\r\n\t\t\t\tthis._waiAria.yearGrid(grid, headerId);\r\n\r\n\r\n\t\t\t\theader.innerHTML = this.templates.year_month(sd);\r\n\r\n\r\n\r\n\t\t\t\tvar dd = this.date.week_start(sd);\r\n\t\t\t\tthis._reset_month_scale(body, sd, dd, 6);\r\n\r\n\t\t\t\tvar days = body.querySelectorAll(\"td\");\r\n\t\t\t\tfor(var day = 0; day < days.length; day++){\r\n\t\t\t\t\tthis._waiAria.yearDayCell(days[day]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\twrapper.appendChild(yearBox);\r\n\r\n\t\t\t\tweek_starts[i * c.year_x + j] = (sd.getDay() - (this.config.start_on_monday ? 1 : 0) + 7) % 7;\r\n\t\t\t\tsd = this.date.add(sd, 1, \"month\");\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdataArea.appendChild(wrapper);\r\n\r\n\t\tvar dateElement = this._getNavDateElement();\r\n\t\tif(dateElement){\r\n\t\t\tdateElement.innerHTML = this.templates[this._mode + \"_date\"](ssd, sd, this._mode);\r\n\t\t}\r\n\r\n\t\tthis.week_starts = week_starts;\r\n\t\tweek_starts._month = ssd.getMonth();\r\n\t\tthis._min_date = ssd;\r\n\t\tthis._max_date = sd;\r\n\t};\r\n\r\n\tscheduler._reset_year_scale = function(){\r\n\r\n\t\tvar dataArea = this._els[\"dhx_cal_data\"][0];\r\n\r\n\t\tdataArea.scrollTop = 0; //fix flickering in FF\r\n\t\tdataArea.innerHTML = \"\";\r\n\r\n\t\tlet yearStart = this.date.year_start(new Date(this._date));\r\n\t\t\r\n\t\tthis._min_date = this.date.week_start(new Date(yearStart));\r\n\r\n\t\tconst wrapper = document.createElement(\"div\");\r\n\t\twrapper.classList.add(\"dhx_year_wrapper\");\r\n\r\n\t\tlet currentDate = yearStart;\r\n\t\tfor(let i = 0; i < 12; i++){\r\n\t\t\tlet yearBox = document.createElement(\"div\");\r\n\t\t\tyearBox.className = \"dhx_year_box\";\r\n\r\n\t\t\tyearBox.setAttribute(\"date\", this._helpers.formatDate(currentDate));\r\n\t\t\tyearBox.setAttribute(\"data-month-date\", this._helpers.formatDate(currentDate));\r\n\t\t\tyearBox.innerHTML = `<div class='dhx_year_month'>${this.templates.year_month(currentDate)}</div>\r\n\t\t\t<div class='dhx_year_grid'></div>`;\r\n\r\n\t\t\tconst yearGrid = yearBox.querySelector(\".dhx_year_grid\");\r\n\t\t\tconst datepicker = scheduler._createDatePicker(null, {\r\n\t\t\t\tdate: currentDate,\r\n\t\t\t\tminWeeks: 6\r\n\t\t\t});\r\n\t\t\tdatepicker._renderDayGrid(yearGrid);\r\n\t\t\tdatepicker.destructor();\r\n\r\n\t\t\twrapper.appendChild(yearBox);\r\n\r\n\t\t\tcurrentDate = this.date.add(currentDate, 1, \"month\");\r\n\r\n\t\t}\r\n\t\tdataArea.appendChild(wrapper);\r\n\r\n\t\tlet lastDate = this.date.add(yearStart, 1, \"year\");\r\n\t\tif(lastDate.valueOf() != this.date.week_start(new Date(lastDate)).valueOf()){\r\n\t\t\tlastDate = this.date.week_start(new Date(lastDate));\r\n\t\t\tlastDate = this.date.add(lastDate, 1, \"week\");\r\n\t\t}\r\n\t\tthis._max_date = lastDate;\r\n\t\tvar dateElement = this._getNavDateElement();\r\n\t\tif(dateElement){\r\n\t\t\tdateElement.innerHTML = this.templates[this._mode + \"_date\"](yearStart, lastDate, this._mode);\r\n\t\t}\r\n\t};\r\n\r\n\tvar getActionData = scheduler.getActionData;\r\n\tscheduler.getActionData = function(n_ev) {\r\n\t\tif(!isYearMode()){\r\n\t\t\treturn getActionData.apply(scheduler, arguments);\r\n\t\t}\r\n\t\t\r\n\t\tvar date = getCellDate(n_ev.target);\r\n\t\treturn {\r\n\t\t\tdate:date,\r\n\t\t\tsection:null\r\n\t\t};\r\n\t};\r\n\r\n\tvar locateEvent = scheduler._locate_event;\r\n\tscheduler._locate_event = function(node) {\r\n\t\tvar id = locateEvent.apply(scheduler, arguments);\r\n\t\tif(!id){\r\n\t\t\t\r\n\t\t\tvar date = getCellDate(node);\r\n\t\t\tif(!date) return null;\r\n\t\t\tvar evs = scheduler.getEvents(date, scheduler.date.add(date, 1, \"day\"));\r\n\t\t\tif(!evs.length) return null;\r\n\r\n\t\t\t//can be multiple events in the cell, return any single one\r\n\t\t\tid = evs[0].id;\r\n\t\t}\r\n\t\treturn id;\r\n\t};\r\n\r\n\tscheduler.attachEvent(\"onDestroy\", function(){\r\n\t\tscheduler._hideToolTip();\r\n\t});\r\n}","import SchedulerFactory from \"./scheduler_factory\";\r\nimport gplExtensions from \"./ext/extensions_gpl\";\r\n\r\nconst factory = new SchedulerFactory(gplExtensions);\r\n\r\nconst scheduler = factory.getSchedulerInstance();\r\nconst Scheduler = {\r\n\tplugin: scheduler.bind(factory.plugin, factory)\r\n};\r\n\r\nwindow.scheduler = scheduler;\r\nwindow.Scheduler = Scheduler;\r\n\r\nif(!window.$dhx) {\r\n\twindow.$dhx = {};\r\n}\r\n\r\nwindow.$dhx.scheduler = scheduler;\r\nwindow.$dhx.Scheduler = Scheduler;\r\n\r\nexport default scheduler;export { scheduler, Scheduler };","\r\n\r\nimport dhtmlxHook from \"./dhtmlx_hook\";\r\nimport \"./css/theme.less\";\r\ndhtmlxHook();\r\n\r\nimport global from \"./global\";\r\n\r\nimport factoryMethod from \"./scheduler_factory_method\";\r\nimport ExtensionsManager from \"./ext/extension_manager\";\r\n\r\nclass SchedulerFactory {\r\n\r\n\tconstructor (extensions) {\r\n\t\tthis._seed = 0;\r\n\t\tthis._schedulerPlugins = [];\r\n\t\tthis._bundledExtensions = extensions;\r\n\t\tthis._extensionsManager = new ExtensionsManager(extensions);\r\n\t}\r\n\r\n\tplugin(code) {\r\n\t\tthis._schedulerPlugins.push(code);\r\n\r\n\t\tif(global.scheduler){\r\n\t\t\tcode(global.scheduler);\r\n\t\t}\r\n\t}\r\n\t\r\n\tgetSchedulerInstance(initConfig) {\r\n\t\tvar scheduler = factoryMethod(this._extensionsManager);\r\n\r\n\t\tfor (var i = 0; i < this._schedulerPlugins.length; i++) {\r\n\t\t\tthis._schedulerPlugins[i](scheduler);\r\n\t\t}\r\n\t\tscheduler._internal_id = this._seed++;\r\n\t\r\n\t\tif (this.$syncFactory){\r\n\t\t\tthis.$syncFactory(scheduler);\r\n\t\t}\r\n\r\n\t\tif(initConfig){\r\n\t\t\tthis._initFromConfig(scheduler, initConfig);\r\n\t\t}\r\n\r\n\t\treturn scheduler;\r\n\t}\r\n\r\n\t_initFromConfig(scheduler, initConfig){\r\n\t\tif(initConfig.plugins){\r\n\t\t\tscheduler.plugins(initConfig.plugins);\r\n\t\t}\r\n\t\r\n\t\tif(initConfig.config){\r\n\t\t\tscheduler.mixin(scheduler.config, initConfig.config, true);\r\n\t\t}\r\n\t\r\n\t\tif(initConfig.templates){\r\n\t\t\tscheduler.attachEvent(\"onTemplatesReady\", function(){\r\n\t\t\t\tscheduler.mixin(scheduler.templates, initConfig.templates, true);\r\n\t\t\t}, {once: true});\r\n\t\t}\r\n\t\r\n\t\tif(initConfig.events){\r\n\t\t\tfor(const event in initConfig.events){\r\n\t\t\t\tscheduler.attachEvent(event, initConfig.events[event]);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tif(initConfig.locale){\r\n\t\t\tscheduler.i18n.setLocale(initConfig.locale);\r\n\t\t}\r\n\t\r\n\t\tif(Array.isArray(initConfig.calendars)){\r\n\t\t\tinitConfig.calendars.forEach(function(calendar){\r\n\t\t\t\tscheduler.addCalendar(calendar);\r\n\t\t\t});\r\n\t\t}\r\n\t\r\n\t\tif(initConfig.container){\r\n\t\t\tscheduler.init(initConfig.container);\r\n\t\t} else {\r\n\t\t\tscheduler.init();\r\n\t\t}\r\n\t\r\n\t\tif(initConfig.data){\r\n\t\t\tif(typeof initConfig.data === \"string\"){\r\n\t\t\t\tscheduler.load(initConfig.data);\r\n\t\t\t}else{\r\n\t\t\t\tscheduler.parse(initConfig.data);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n}\r\n\r\nexport default SchedulerFactory;","import React, {Component} from 'react';\r\nimport 'dhtmlx-scheduler';\r\nimport 'dhtmlx-scheduler/codebase/dhtmlxscheduler.css';\r\n\r\nconst scheduler = window.scheduler;\r\n\r\nexport default class Scheduler extends Component {\r\n    componentDidMount() {\r\n        scheduler.skin = 'material';\r\n        scheduler.config.header = [\r\n            'day',\r\n            'week',\r\n            'month',\r\n            'date',\r\n            'prev',\r\n            'today',\r\n            'next'\r\n        ];\r\n\r\n        const { events } = this.props;\r\n        scheduler.init(this.schedulerContainer, new Date(2022, 10, 15));\r\n        scheduler.clearAll();\r\n        scheduler.parse(events);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div \r\n            ref={ (input) => {this.schedulerContainer = input} }\r\n            style={ {width: '100%', height: '100%' } }\r\n            ></div>\r\n        );\r\n    }\r\n}","import Scheduler from './Scheduler';\r\nimport './Scheduler.css';\r\nexport default Scheduler;","import React, {Component} from 'react';\nimport Scheduler from './components/Scheduler';\nimport './App.css';\n\nconst data = [\n  { start_date: '2022-11-15 6:00', end_date: '2022-11-15 8:00', text:'Event 1', id: 1},\n  { start_date: '2022-11-15 10:00', end_date: '2022-11-15 18:00', text:'Event 2', id: 2}\n]\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <div className='scheduler-container'>\n          <Scheduler events={data}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"names":["aa","require","ca","p","a","b","c","arguments","length","encodeURIComponent","da","Set","ea","fa","ha","add","ia","window","document","createElement","ja","Object","prototype","hasOwnProperty","ka","la","ma","v","d","e","f","g","this","acceptsBooleans","attributeName","attributeNamespace","mustUseProperty","propertyName","type","sanitizeURL","removeEmptyString","z","split","forEach","toLowerCase","ra","sa","toUpperCase","ta","slice","pa","isNaN","qa","call","test","oa","removeAttribute","setAttribute","setAttributeNS","replace","xlinkHref","ua","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","va","Symbol","for","wa","ya","za","Aa","Ba","Ca","Da","Ea","Fa","Ga","Ha","Ia","Ja","iterator","Ka","La","A","assign","Ma","Error","stack","trim","match","Na","Oa","prepareStackTrace","defineProperty","set","Reflect","construct","l","h","k","displayName","includes","name","Pa","tag","render","Qa","$$typeof","_context","_payload","_init","Ra","Sa","Ta","nodeName","Va","_valueTracker","getOwnPropertyDescriptor","constructor","get","configurable","enumerable","getValue","setValue","stopTracking","Ua","Wa","checked","value","Xa","activeElement","body","Ya","defaultChecked","defaultValue","_wrapperState","initialChecked","Za","initialValue","controlled","ab","bb","cb","db","ownerDocument","eb","Array","isArray","fb","options","selected","defaultSelected","disabled","gb","dangerouslySetInnerHTML","children","hb","ib","jb","textContent","kb","lb","mb","nb","namespaceURI","innerHTML","valueOf","toString","firstChild","removeChild","appendChild","MSApp","execUnsafeLocalFunction","ob","lastChild","nodeType","nodeValue","pb","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","qb","rb","sb","style","indexOf","setProperty","keys","charAt","substring","tb","menuitem","area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr","ub","vb","is","wb","xb","target","srcElement","correspondingUseElement","parentNode","yb","zb","Ab","Bb","Cb","stateNode","Db","Eb","push","Fb","Gb","Hb","Ib","Jb","Kb","Lb","Mb","addEventListener","removeEventListener","Nb","apply","m","onError","Ob","Pb","Qb","Rb","Sb","Tb","Vb","alternate","return","flags","Wb","memoizedState","dehydrated","Xb","Zb","child","sibling","current","Yb","$b","ac","unstable_scheduleCallback","bc","unstable_cancelCallback","cc","unstable_shouldYield","dc","unstable_requestPaint","B","unstable_now","ec","unstable_getCurrentPriorityLevel","fc","unstable_ImmediatePriority","gc","unstable_UserBlockingPriority","hc","unstable_NormalPriority","ic","unstable_LowPriority","jc","unstable_IdlePriority","kc","lc","oc","Math","clz32","pc","qc","log","LN2","rc","sc","tc","uc","pendingLanes","suspendedLanes","pingedLanes","entangledLanes","entanglements","vc","xc","yc","zc","Ac","eventTimes","Cc","C","Dc","Ec","Fc","Gc","Hc","Ic","Jc","Kc","Lc","Mc","Nc","Oc","Map","Pc","Qc","Rc","Sc","delete","pointerId","Tc","nativeEvent","blockedOn","domEventName","eventSystemFlags","targetContainers","Vc","Wc","priority","isDehydrated","containerInfo","Xc","Yc","dispatchEvent","shift","Zc","$c","ad","bd","cd","ReactCurrentBatchConfig","dd","ed","transition","fd","gd","hd","id","Uc","stopPropagation","jd","kd","ld","md","nd","od","keyCode","charCode","pd","qd","rd","_reactName","_targetInst","currentTarget","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","preventDefault","cancelBubble","persist","isPersistent","wd","xd","yd","sd","eventPhase","bubbles","cancelable","timeStamp","Date","now","isTrusted","td","ud","view","detail","vd","Ad","screenX","screenY","clientX","clientY","pageX","pageY","ctrlKey","shiftKey","altKey","metaKey","getModifierState","zd","button","buttons","relatedTarget","fromElement","toElement","movementX","movementY","Bd","Dd","dataTransfer","Fd","Hd","animationName","elapsedTime","pseudoElement","Id","clipboardData","Jd","Ld","data","Md","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","Nd","Od","Alt","Control","Meta","Shift","Pd","Qd","key","String","fromCharCode","code","location","repeat","locale","which","Rd","Td","width","height","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","Vd","touches","targetTouches","changedTouches","Xd","Yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","Zd","$d","ae","be","documentMode","ce","de","ee","fe","ge","he","ie","le","color","date","datetime","email","month","number","password","range","search","tel","text","time","url","week","me","ne","oe","event","listeners","pe","qe","re","se","te","ue","ve","we","xe","ye","ze","oninput","Ae","detachEvent","Be","Ce","attachEvent","De","Ee","Fe","He","Ie","Je","Ke","node","offset","nextSibling","Le","contains","compareDocumentPosition","Me","HTMLIFrameElement","contentWindow","href","Ne","contentEditable","Oe","focusedElem","selectionRange","documentElement","start","end","selectionStart","selectionEnd","min","defaultView","getSelection","extend","rangeCount","anchorNode","anchorOffset","focusNode","focusOffset","createRange","setStart","removeAllRanges","addRange","setEnd","element","left","scrollLeft","top","scrollTop","focus","Pe","Qe","Re","Se","Te","Ue","Ve","We","animationend","animationiteration","animationstart","transitionend","Xe","Ye","Ze","animation","$e","af","bf","cf","df","ef","ff","gf","hf","lf","mf","concat","nf","Ub","instance","listener","D","of","has","pf","qf","rf","random","sf","bind","capture","passive","n","t","J","x","u","w","F","tf","uf","parentWindow","vf","wf","na","xa","$a","ba","je","char","ke","unshift","xf","yf","zf","Af","Bf","Cf","Df","Ef","__html","Ff","setTimeout","Gf","clearTimeout","Hf","Promise","Jf","queueMicrotask","resolve","then","catch","If","Kf","Lf","Mf","previousSibling","Nf","Of","Pf","Qf","Rf","Sf","Tf","Uf","E","G","Vf","H","Wf","Xf","Yf","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","Zf","childContextTypes","$f","ag","bg","getChildContext","cg","__reactInternalMemoizedMergedChildContext","dg","eg","fg","gg","hg","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","xg","yg","I","zg","Ag","Bg","elementType","deletions","Cg","pendingProps","overflow","treeContext","retryLane","Dg","mode","Eg","Fg","Gg","memoizedProps","Hg","Ig","Jg","Kg","Lg","ref","_owner","_stringRef","refs","Mg","join","Ng","Og","index","Pg","Qg","props","Rg","implementation","Sg","Tg","q","r","y","next","done","Ug","Vg","Wg","Xg","Yg","Zg","$g","ah","_currentValue","bh","childLanes","ch","dependencies","firstContext","lanes","dh","eh","context","memoizedValue","fh","gh","hh","interleaved","ih","jh","kh","updateQueue","baseState","firstBaseUpdate","lastBaseUpdate","shared","pending","effects","lh","mh","eventTime","lane","payload","callback","nh","K","oh","ph","qh","rh","sh","th","uh","vh","wh","xh","yh","tagName","zh","Ah","Bh","L","Ch","revealOrder","Dh","Eh","_workInProgressVersionPrimary","Fh","ReactCurrentDispatcher","Gh","Hh","M","N","O","Ih","Jh","Kh","Lh","P","Mh","Nh","Oh","Ph","Qh","Rh","Sh","Th","baseQueue","queue","Uh","Vh","Wh","lastRenderedReducer","action","hasEagerState","eagerState","lastRenderedState","dispatch","Xh","Yh","Zh","$h","ai","getSnapshot","bi","ci","Q","di","lastEffect","stores","ei","fi","gi","hi","ii","create","destroy","deps","ji","ki","li","mi","ni","oi","pi","qi","ri","si","ti","ui","vi","wi","xi","yi","zi","Ai","R","Bi","readContext","useCallback","useContext","useEffect","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useDebugValue","useDeferredValue","useTransition","useMutableSource","useSyncExternalStore","useId","unstable_isNewReconciler","identifierPrefix","Ci","defaultProps","Di","Ei","isMounted","_reactInternals","enqueueSetState","enqueueReplaceState","enqueueForceUpdate","Fi","shouldComponentUpdate","isPureReactComponent","Gi","contextType","state","updater","Hi","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Ii","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Ji","message","digest","Ki","Li","console","error","Mi","WeakMap","Ni","Oi","Pi","Qi","getDerivedStateFromError","componentDidCatch","Ri","componentStack","Si","pingCache","Ti","Ui","Vi","Wi","ReactCurrentOwner","Xi","Yi","Zi","$i","aj","compare","bj","cj","dj","baseLanes","cachePool","transitions","ej","fj","gj","hj","ij","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","jj","kj","pendingContext","lj","zj","Aj","Bj","Cj","mj","nj","oj","fallback","pj","qj","sj","dataset","dgst","tj","uj","_reactRetry","rj","subtreeFlags","vj","wj","isBackwards","rendering","renderingStartTime","last","tail","tailMode","xj","Dj","S","Ej","Fj","wasMultiple","multiple","suppressHydrationWarning","onClick","onclick","size","createElementNS","autoFocus","createTextNode","T","Gj","Hj","Ij","Jj","U","Kj","WeakSet","V","Lj","W","Mj","Nj","Pj","Qj","Rj","Sj","Tj","Uj","Vj","insertBefore","_reactRootContainer","Wj","X","Xj","Yj","Zj","onCommitFiberUnmount","componentWillUnmount","ak","bk","ck","dk","ek","isHidden","fk","gk","display","hk","ik","jk","kk","__reactInternalSnapshotBeforeUpdate","src","Vk","lk","ceil","mk","nk","ok","Y","Z","pk","qk","rk","sk","tk","Infinity","uk","vk","wk","xk","yk","zk","Ak","Bk","Ck","Dk","callbackNode","expirationTimes","expiredLanes","wc","callbackPriority","ig","Ek","Fk","Gk","Hk","Ik","Jk","Kk","Lk","Mk","Nk","Ok","finishedWork","finishedLanes","Pk","timeoutHandle","Qk","Rk","Sk","Tk","Uk","mutableReadLanes","Bc","Oj","onCommitFiberRoot","mc","onRecoverableError","Wk","onPostCommitFiberRoot","Xk","Yk","$k","isReactComponent","pendingChildren","al","mutableSourceEagerHydrationData","bl","cache","pendingSuspenseBoundaries","dl","el","fl","gl","hl","il","yj","Zk","kl","reportError","ll","_internalRoot","ml","nl","ol","pl","rl","ql","unmount","unstable_scheduleHydration","splice","querySelectorAll","JSON","stringify","form","sl","usingClientEntryPoint","Events","tl","findFiberByHostInstance","bundleType","version","rendererPackageName","ul","rendererConfig","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","setErrorHandler","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","reconcilerVersion","__REACT_DEVTOOLS_GLOBAL_HOOK__","vl","isDisabled","supportsFiber","inject","exports","createPortal","cl","createRoot","unstable_strictMode","findDOMNode","flushSync","hydrate","hydrateRoot","hydratedSources","_getVersion","_source","unmountComponentAtNode","unstable_batchedUpdates","unstable_renderSubtreeIntoContainer","checkDCE","err","module","__self","__source","jsx","setState","forceUpdate","escape","_status","_result","default","Children","map","count","toArray","only","Component","Fragment","Profiler","PureComponent","StrictMode","Suspense","act","cloneElement","createContext","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","createFactory","createRef","forwardRef","isValidElement","lazy","memo","startTransition","unstable_act","pop","sortIndex","performance","setImmediate","startTime","expirationTime","priorityLevel","navigator","scheduling","isInputPending","MessageChannel","port2","port1","onmessage","postMessage","unstable_Profiling","unstable_continueExecution","unstable_forceFrameRate","floor","unstable_getFirstCallbackNode","unstable_next","unstable_pauseExecution","unstable_runWithPriority","delay","unstable_wrapCallback","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","definition","o","chunkId","all","reduce","promises","miniCssF","globalThis","Function","obj","prop","inProgress","dataWebpackPrefix","script","needAttach","scripts","getElementsByTagName","i","s","getAttribute","charset","timeout","nc","onScriptComplete","prev","onerror","onload","doneFns","fn","head","toStringTag","installedChunks","j","installedChunkData","promise","reject","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","some","chunkLoadingGlobal","self","global","Nt","config","drag_highlight","markTimespan","getView","layout","_","viewName","sectionId","eventNode","marginLeft","start_date","end_date","css","html","sections","getEvent","closest","event_attribute","getState","cascade_event_display","unselect","getActionData","section","week_start","$container","cloneNode","y_property","map_to","multisection","section_delimiter","unmarkTimespan","Tt","$stateProvider","registerProvider","batch_update","_dp","updateMode","setUpdateMode","setModeDate","needRender","needUpdateView","repaintEvents","rememberModeDate","setCurrentView","updateView","render_data","render_view_data","callEvent","updateEvent","sendData","At","copy","undo_deleted","new_event","expire","addEvent","mark_now","display_marked_timespans","overwrite_marked_timespans","days","zones","_props","matrix","_add_timespan_zones","_get_blocked_zones","blockTime","addMarkedTimespan","unblockTime","deleteMarkedTimespan","checkInMarkedTimespan","_marked_timespans","date_part","getDay","_get_zone_minutes","getDate","checkLimitViolation","check_limits","rec_type","_end_date","rrule","limit_start","limit_end","_timed","isOneDayEvent","_drag_id","_drag_mode","setHours","setMinutes","checkEvent","_get_relevant_blocked_zones","_mark_now","_els","_currentDate","_remove_mark_now","_max_date","_min_date","getHours","first_hour","last_hour","locate_holder_day","_append_mark_now","_table_view","_mode","position","_render_marked_timespan","getMinutes","_prepare_timespan_options","_lame_clone","invert_zones","invertZones","uid","_lame_copy","_get_dates_by_index","_get_css_classes_by_config","_get_block_by_config","_scales","_cols","_ignores","className","locate_holder","max","hour_size_px","round","_mark_timespans","dhx_cal_data","_on_scale_add_marker","childNodes","_getClassName","get_elements","_marked_timespans_ids","_marked_timespans_types","_addMarkerTimespanConfig","_array","_subtract_timespan_zones","_delete_marked_timespan_by_id","_delete_marked_timespan_by_config","_delete_marked_timespans_list","_get_types_to_render","_get_configs_to_render","_get_unit_index","_date","dblclick_dhx_marked_timespan","dblclick_create","addEventNow","Mt","batchUpdate","Ct","getFullYear","getMonth","mixin","Number","Boolean","defined","isDate","$cancelTimeout","$pending","$execute","Ot","classList","rows_container","row","fix_tab_position","$firstTab","$lastTab","$segmentedTab","builtInButton","spacer","minicalendarButton","click","$_eventAttached","isCalendarVisible","destroyCalendar","renderCalendar","navigation","handler","html_element","rows","cols","align","justifyContent","createDocumentFragment","_init_nav_bar","querySelector","_update_nav_bar","xy","nav_height","unset_actions","set_actions","Ht","_silent_mode","_silentStart","_silentEnd","$t","once","removeEvent","clear","thisObject","attachAll","ev_listen_all","detachAllEvents","eventRemove","ut","baseVal","ft","qt","getComputedStyle","visibility","currentStyle","offsetHeight","jt","Pt","loLowerCase","It","select","textarea","object","hasAttribute","pt","createShadowRoot","attachShadow","ShadowRoot","host","_e","getAbsoluteLeft","getOffset","getAbsoluteTop","getOffsetSum","parseInt","offsetTop","offsetLeft","offsetParent","getOffsetRect","getBoundingClientRect","userAgent","pageYOffset","pageXOffset","clientTop","clientLeft","insertAfter","remove","isChildOf","getFocusableNodes","$position","sort","tabIndex","getClassName","locateCss","getRootNode","hasShadowParent","isShadowDomSupported","getActiveElement","shadowRoot","getRelativeEventPosition","offsetWidth","right","bottom","getTargetNode","composedPath","getNodePosition","Element","Rt","matches","msMatchesSelector","webkitMatchesSelector","parentElement","Yt","isIE","isOpera","isChrome","isKHTML","isFF","isIPad","isEdge","isNode","mt","_events","Jt","$scheduler","$dp","_dataProcessorHandlers","attach","_loading","_validId","setUpdated","_new_event","_in_progress","_invalid","updatedRows","_waitMode","_update_callback","setUserData","action_param","deleteEvent","_add_rec_marker","detach","serverProcessor","autoUpdate","_tMode","_headers","post_delim","messages","styles","updated","inserted","deleted","invalid","invalid_cell","enableUTFencoding","Wt","hide","box","keyboard","cover","_waiAria","messageButtonAttrString","messageModalAttr","title","content","labels","message_ok","cancel","message_cancel","label","getElementById","$","hidden","abs","innerWidth","innerHeight","messageInfoAttr","timers","pull","seed","hideAll","alert","confirm","modalbox","setTransactionMode","headers","_tSend","_endnm","_serializeAsJson","_router","router","_utf","setDataColumns","_columns","getSyncState","enableDataNames","enablePartialDataSend","_changed","dnd","ignore","findRow","getUserData","set_invalid","is_invalid","markRow","_methods","details","getActionByState","checkBeforeUpdate","editStop","sendAllData","_beforeSendData","_getRowData","_sendData","serialize","_serializeAsJSON","serialize_one","security_key","_applyPayload","ajax","urlSeparator","afterUpdate","_user","_cleanupArgumentsBeforeSend","method","_cleanupItemBeforeSend","query","responseText","setRequestHeader","status","parse","sid","tid","afterUpdateCallback","update","_forEachUpdatedRow","_getAllData","defineAction","_uActions","_errorResponse","xmlDoc","cleanUpdate","_setDefaultTransactionMode","_serverProcessor","finalizeUpdate","xmltop","xpath","init","_initialized","_dp_init","_is_virtual_event","_userdata","_set_event_text_style","for_rendered","cssText","_text_style","event_updated","_xmlNodeToJSON","rec_pattern","_tagvalue","_helpers","parseDate","_dp_change_event_id","changeEventId","_dp_hook_delete","setDp","_dataprocessor","setOnAfterUpdate","setOnBeforeUpdateHandler","setAutoUpdate","_need_update","_update_busy","afterAutoUpdate","fullSync","setInterval","loadUpdate","clearInterval","getUpdates","_getXmlNodeValue","destructor","utils","_prepareDataItem","getUTCFullYear","formatDate","Kt","month_full","month_short","day_full","day_short","dhx_cal_today_button","day_tab","week_tab","month_tab","icon_save","icon_cancel","icon_details","icon_edit","icon_delete","confirm_closing","confirm_deleting","section_description","section_time","full_day","confirm_recurring","section_recurring","button_recurring","button_recurring_open","button_edit_series","button_edit_occurrence","grid_tab","drag_to_create","drag_to_move","year","day","hour","minute","repeat_radio_day","repeat_radio_week","repeat_radio_month","repeat_radio_year","repeat_radio_day_type","repeat_text_day_count","repeat_radio_day_type2","repeat_week","repeat_text_week_count","repeat_radio_month_type","repeat_radio_month_start","repeat_text_month_day","repeat_text_month_count","repeat_text_month_count2_before","repeat_text_month_count2_after","repeat_year_label","select_year_day2","repeat_text_year_day","select_year_month","repeat_radio_end","repeat_text_occurences_count","repeat_radio_end2","repeat_radio_end3","repeat_never","repeat_daily","repeat_workdays","repeat_weekly","repeat_monthly","repeat_yearly","repeat_custom","repeat_freq_day","repeat_freq_week","repeat_freq_month","repeat_freq_year","repeat_on_date","repeat_ends","month_for_recurring","day_for_recurring","Gt","agenda_tab","description","year_tab","week_agenda_tab","Xt","Zt","Qt","_a","_locales","addLocale","getLocale","ga","modes","currentRange","eventDates","currentModeIndex","container","onStateChangeHandlers","scheduler","_domEvents","_createDomEventScope","onStateChange","_notifyStateChange","_adjustDate","setMonth","setFullYear","_toggleMode","_renderCalendarHeader","innerText","toLocaleString","detachAll","_renderDayGrid","_renderMonthGrid","_renderYearGrid","_renderDayGridHeader","date_to_str","_weeksBetween","minWeeks","day_start","month_start","templates","format_date","internal","unregisterProvider","agenda","grid","unit","timeline","week_agenda","anythingElse","limit","_commonErrorMessages","unknownView","collapsedContainer","createTimelineView","createUnitsView","createGridView","exportToPNG","exportToPDF","_eventRemoveAll","_trim","_isDate","_isObject","zt","_detachDomEvent","_init_once","clientWidth","clientHeight","$destroyed","$root","getPropertyValue","wai_aria_attributes","Sfdc","$A","Aura","Lt","_obj","wai_aria_application_role","header","_grid","names","rtl","_skin_init","_scroll","init_templates","_init_touch_events","set_sizes","$initialized","min_event_height","bar_height","scale_width","scroll_width","scale_height","month_scale_height","menu_width","margin_top","margin_left","editor_width","month_head_height","event_header_height","edit_save","edit_cancel","_x","_is_material_skin","dhx_cal_header","set_xy","_lightbox","_setLbPosition","_data_width","dhx_cal_navline","labelAttr","getTime","_click","_temp_touch_block","_on_mouse_move","_ignore_next_click","_on_mouse_down","_on_mouse_up","_on_dbl_click","_locate_event","_select_id","_close_not_saved","min_date","max_date","editor_id","_edit_id","lightbox_id","_lightbox_id","select_id","expanded","drag_id","drag_mode","readonly","dhx_cal_prev_button","dhx_cal_next_button","dhx_cal_tab","_dhtmlx_confirm","title_confirm_deleting","edit","save","showLightbox","_ref","event_duration","time_step","setTime","_drag_event","details_on_dblclick","_get_column_index","_week_indexes_from_pos","_mouse_coords","$env","_colsS","$domHelpers","ev","heights","_ignores_detected","preserve_length","_event_length","_get_real_event_length","x_step","x_unit","timestamp","title_confirm_closing","positive_closing","_drag_pos","_correct_shift","getTimezoneOffset","_is_pos_changed","has_moved","_correct_drag_start_date","_start_correction","_end_correction","_get_fictional_event_length","_correct_drag_end_date","_get_date_from_pos","_drag_start","fields","custom","time_part","_dragEventBody","_move_event_shift","_drag_from_start","resize_from_start","cursor","limit_drag_out","all_timed","_get_section_view","_get_event_sday","_allow_dnd","update_render","update_view","drag_event_body","_get_private_properties","_clear_temporary_properties","_mobile","_dhx_changed","edit_on_create","details_on_create","_trigger_dyn_loading","_load_mode","_load","_render_wait","_reset_ignores","_reset_scale","isViewExists","_set_aria_buttons_attrs","headerButtonsAttributes","icon_form","preserve_scroll","_dy_shift","headerToggleState","_render_x_header","left_border","dayHeaderAttr","_get_columns_num","_get_timeunit_start","_get_view_end","_calc_scale_sizes","_process_ignores","col_length","_set_scale_col_size","_render_scales","time_slot_text","time_slot_class","week_date_class","dayColumnAttr","_getNavDateElement","drag_resize","drag_move","navBarDateAttr","_reset_month_scale","_reset_hours_scale","multi_day","hour_scale","hourScaleAttr","scroll_hour","now_date","_render_month_scale","month_date_class","monthCellAttr","month_day","parse_date","getLabel","lightbox","updateCollection","serverList","resetLightbox","hideCover","_focus","_get_date_index","_get_section_property","_is_initialized","_is_lightbox_open","RegExp","getAttributeString","setAttributes","day_date","role","getHeaderCellAttr","eventAttr","_eventCommonAttr","event_text","$dataprocessor_class","setEventBarAttr","_getAttributes","eventBarAttrString","agendaHeadAttrString","agendaHeadDateString","agendaHeadDescriptionString","agendaDataAttrString","agendaEventAttrString","agendaDetailsBtnString","gridAttrString","gridRowAttrString","gridCellAttrString","mapAttrString","mapRowAttrString","mapDetailsBtnString","minicalHeader","minicalGrid","minicalRow","minicalDayCell","minicalHeadCell","weekAgendaDayCell","weekAgendaEvent","lightboxHiddenAttr","lightboxVisibleAttr","lightboxSectionButtonAttrString","tabindex","yearHeader","yearGrid","yearHeadCell","yearRow","yearDayCell","lightboxAttr","lightboxButtonAttrString","eventMenuAttrString","lightboxHeader","lightboxSelectAttrString","quickInfoAttr","quickInfoHeaderAttrString","quickInfoHeader","quickInfoButtonAttrString","tooltipAttr","tooltipVisibleAttr","tooltipHiddenAttr","dom","assert","show_errors","_createDatePicker","_getFocusableNodes","_locate_css","env","clearAll","async","serializeRequestParams","DOMParser","ActiveXObject","loadXML","parseFromString","responseXML","selectNodes","evaluate","XPathResult","ANY_TYPE","iterateNext","_call","getSync","put","del","post","postSync","XMLHttpRequest","readyState","filePath","open","send","$ajax","month_short_hash","month_full_hash","UTC","csp","setSeconds","setMilliseconds","start_on_monday","setDate","year_start","_add_days","setYear","to_fixed","getUTCDate","getUTCMonth","getUTCDay","getUTCHours","getUTCMinutes","getUTCSeconds","getSeconds","getUTCISOWeek","getISOWeek","str_to_date","parse_exact_format","convert_to_utc","Ut","default_date","month_date","load_date","week_date","hour_date","date_format","api_date","displayed_event_color","displayed_event_text_color","wide_form","day_column_padding","use_select_menu_space","drag_create","resize_month_events","resize_month_timed","responsive_lightbox","separate_short_events","cascade_event_count","cascade_event_margin","multi_day_height_limit","drag_lightbox","server_utc","touch","touch_tip","touch_drag","touch_swipe_dates","quick_info_detached","icons_edit","icons_select","buttons_left","buttons_right","highlight_displayed_event","ajax_error","delay_render","timeline_swap_resize","$initial","xml_date","xml_format","day_scale_date","month_scale_date","week_scale_date","time_picker","event_date","load_format","event_header","event_class","event_bar_date","event_bar_text","month_events_link","drag_marker_class","drag_marker_content","tooltip_date_format","tooltip_text","calendar_month","calendar_scale_date","calendar_date","calendar_time","_loaded","clear_view","setEvent","_rendered","is_visible_events","clear_event","get_visible_events","filter_event","_is_main_area_event","_not_render","_recalculate_timed","dhx_multi_day","_rendered_location","_view_month_day","_render_month_link","_sday","_eday","_sweek","getEvents","_get_event_bar_pos","x2","_pre_render_events","render_event_bar","max_month_events","_sorder","real","buffer","render_event","_get_first_visible_cell","_pre_render_events_table","_pre_render_events_line","scrollHeight","scroll_fix","overflowY","_get_event_mapped_end_date","_min_mapped_duration","_inner","max_count","_count","_copy_event","_time_order","_is_any_multiday_cell_visible","first_chunk","last_chunk","_length","_first_chunk","_last_chunk","_copy_dummy","_y_from_date","_calc_event_y","_render_v_bar","_editor","textColor","highlightEventPosition","renderEvent","_drag_resize","_get_dnd_order","_orig_sorder","_edit_stop_event","getRenderedEvent","showEvent","getSectionTop","posFromDate","dx","dy","_smartRenderingEnabled","scrollTo","_append_drag_marker","_update_marker_position","_load_url","prevent_cache","on_load","_parsers","xml","canParse","dhtmlx","attributes","_init_event","json","events","dhx_security","collections","ical","c_start","c_end","e_start","e_end","exec","parse_param","substr","_process","_process_loading","_after_call","_init_date","load","setLoadMode","show_loading","_y","Vt","_lightbox_controls","formSection","getLightbox","form_blocks","get_value","set_value","get_template_control","control","get_select_control","get_textarea_control","get_time_control","defaults","template","placeholder","_get_input","_dhx_onchange","onchange","time_format","_time_format_order","limit_time_select","year_range","_time_values","_full_day","auto_end_date","selectedIndex","showCover","show_cover","_cover","_fill_lightbox","lightbox_header","_get_lightbox_section_node","default_value","_lightbox_out","_empty_lightbox","hide_lightbox","endLightbox","hide_cover","_move_while_dnd","_finish_dnd","save_lightbox","startLightbox","_custom_lightbox","_temp_lightbox","cancel_lightbox","hideLightbox","_init_lightbox_events","button_click","readonly_active","setLightboxSize","_init_dnd_events","_dnd_start_lb","dhx_unselectable","_lb_start","_ready_to_dnd","recurring","_lightbox_template","_bindLightboxLabels","inputId","MSStream","platform","maxTouchPoints","createEvent","_touch_events","PointerEvent","pointerEnabled","msPointerEnabled","MSPOINTER_TYPE_MOUSE","_hide_global_tip","_pointerDragId","_update_global_tip","_block_next_stop","_show_global_tip","scrollable","_global_tip","Bt","getRootView","attrs","hooks","didInsert","cmp","_border_box_events","_addThemeClass","skin","_skin_settings","_skin_xy","lightbox_additional_height","_build_skin_info","setSkin","_theme_info","theme","cssVarTheme","oldMaterialTheme","values","_configure","_old_month_day","from","find","filter","reverse","Ft","jQuery","dhx_scheduler","each","Scheduler","getSchedulerInstance","createDataProcessor","DataProcessor","dhtmlxError","catchError","en","ar","cn","cs","es","fr","hu","it","jp","no","ro","ru","sv","tr","i18n","setLocale","dhx_save_btn","dhx_cancel_btn","dhx_delete_btn","ext","plugins","treetimeline","daytimeline","outerdrag","legacy","getExtension","_extensions","addExtension","attaches","attachScheduler","_genStr","attachObject","vs","av","sched","schedId","setSizes","_viewRestore","notImplemented","_markers","onEventClick","settings","zoom_after_resolve","initial_zoom","lat","lng","setCenter","setZoom","error_position","google","maps","trigger","marker","initialize","center","initial_position","mapId","scrollwheel","mapTypeId","__gm","messageOverlay","outerContainer","setOptions","addListener","Geocoder","latLng","geocode","GeocoderStatus","OK","geometry","event_location","formatted_address","clearInstanceListeners","addEventMarker","AdvancedMarkerElement","importLibrary","mapView","createMarker","setMap","infoWindow","close","InfoWindow","maxWidth","info_window_max_width","setContent","map_info_content","anchor","removeEventMarker","setVisible","setPosition","updateEventMarker","LatLng","clearEventMarkers","setView","resolveAddress","address","openPopup","closeTooltip","tileLayer","addTo","on","fetch","latlng","country","icon","iconUrl","iconSize","shadowSize","iconAnchor","shadowAnchor","minWidth","popup","tooltip","bindPopup","bindTooltip","removeLayer","setLatLng","lon","getPopup","isOpen","togglePopup","mapboxgl","accessToken","lngLat","features","place_name","Popup","focusAfterOpen","setMaxWidth","setHTML","Marker","setLngLat","setPopup","weekday","fromStr","nth","equals","getJsWeekday","Ge","div","mod","vt","yt","bt","xt","kt","getMilliseconds","timeZone","minDate","maxDate","total","args","inc","before","after","dt","accept","clone","setPrototypeOf","__proto__","TypeError","et","dayNames","monthNames","tokens","SKIP","numberAsText","every","at","the","first","second","third","until","monday","tuesday","wednesday","thursday","friday","saturday","sunday","january","february","march","april","may","june","july","august","september","october","november","december","comma","tt","language","gettext","dateFormatter","origOptions","bymonthday","bynmonthday","byweekday","allWeeks","someWeeks","isWeekdays","isEveryDay","isFullyConvertible","freq","IMPLEMENTED","FREQUENCIES","plural","HOURLY","interval","MINUTELY","DAILY","bymonth","_bymonth","_bymonthday","_byweekday","byhour","_byhour","WEEKLY","MONTHLY","YEARLY","byyearday","list","byweekno","weekdaytext","monthtext","rules","nextSymbol","isDone","symbol","acceptNumber","expect","wt","MO","TU","WE","TH","FR","SECONDLY","millisecond","fromDate","getWeekday","getYear","addYears","addMonths","addWeekly","fixDay","addDaily","addHours","addMinutes","addSeconds","wkst","byminute","bysecond","Et","un","tzid","dtstart","nt","SyntaxError","byeaster","RangeError","isUTC","rezonedDate","Intl","DateTimeFormat","resolvedOptions","between","_cacheAdd","_value","_cacheGet","tn","an","nn","rn","sn","rt","_n","rebuild","lastyear","yearinfo","yearlen","nextyearlen","yearordinal","yearweekday","mmask","mdaymask","nmdaymask","wdaymask","mrange","wnomask","dn","bynweekday","lastmonth","monthinfo","nwdaymask","eastermask","ydayset","mdayset","wdayset","ddayset","htimeset","mtimeset","stimeset","getdayset","gettimeset","ln","Dt","bysetpos","hn","SA","SU","_cache","parsedOptions","parseText","fromText","fromString","parseString","_iter","toText","isFullyConvertibleToText","optionsToString","ot","unfold","forceset","compatible","parms","st","rrulevals","rdatevals","exrulevals","exdatevals","pn","rdate","exrule","exdate","_rrule","_rdate","_exrule","_exdate","_t","lt","rrules","exrules","rdates","exdates","_dtstart","ct","mn","_scheduler","getNode","_tooltipNode","setViewport","_root","show","_isLikeMouseEvent","_calculateTooltipPosition","_getViewPort","_getViewPortSize","tooltip_offset_x","tooltip_offset_y","scrollY","scrollX","$event_data","$event","vn","_listeners","_initDelayedFunctions","hideTooltip","delayHide","selector","doOnMouseEnter","onmouseenter","onmousemove","onmouseleave","tooltipFor","createEventObject","delayShow","tooltip_timeout","tooltip_hide_timeout","gn","active_links","active_link_view","_active_link_click","agenda_legacy","add_agenda_legacy","agenda_legacy_time","agenda_legacy_text","agenda_legacy_date","agenda_legacy_start","dblclick_dhx_cal_data","agenda_time","agenda_text","_agendaScrollTop","agenda_date","agenda_legacy_view","agenda_start","agenda_end","agenda_view","add_agenda","agenda_day","all_timed_month","_safe_copy","event_pid","isPrototypeOf","event_length","_virtual","collision","collision_limit","checkCollision","_roll_back_dates","_check_sections_collision","getRecDates","container_autoresize","month_day_min_height","min_grid_size","min_map_size","_h_fix","year_y","week_agenda_scale_height","_gridView","y_unit","getSectionHeight","scrollWidth","requestAnimationFrame","$original_scroll_width","$original_section_autoheight","section_autoheight","cookie","_get_url_nav","unescape","drag_between","editors","combo","cached_options","_combo","DOMParent","unload","DOMelem","dhx_globalImgPath","image_path","dhtmlXCombo","options_height","setOptionHeight","enableFilteringMode","filtering","script_path","addOption","disable","selectOption","setComboValue","getIndexByValue","getSelectedValue","getSelectedText","radio","vertical","checkbox","checked_value","unchecked_value","expand","fullscreen","toggleIcon","_position","_width","_height","_overflow","_maximize","collapse","export_api","dhtmlxAjax","dhx4","format","orientation","dpi","_export_html","_send_to_export","exportToICal","_serialize_plain","exportToExcel","_serialize_columns","_ajax_to_export","server","_plain_export_copy","$text","_create_hidden_form","submit","_hidden_export_form","_get_export_size","A5","A4","A3","A2","A1","A0","parseFloat","smart_rendering","style_width","style_height","timeline_scrollable","timeline_smart_rendering","footer","scales","grid_view","html_templates","key_nav","minicalButton","$keyboardNavigation","MinicalButton","minicalDate","MinicalCell","SchedulerNode","dataArea","DataArea","timeSlot","TimeSlot","Event","key_nav_step","addShortcut","getShortcutHandler","shortcuts","findHandler","removeShortcut","unbind","dispatcher","enable","getActiveNode","setDefaultNode","_compose","createCommand","modifiers","alt","ctrl","getExpressions","getWords","commandKeys","specialKeys","charCodeAt","getCommandFromEvent","getHashFromEvent","getHash","junctionChar","combinationChar","backspace","tab","enter","esc","space","up","down","home","pageup","pagedown","insert","plus","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","EventHandler","_handlers","doAction","bindAll","initKeys","trapFocus","renderMultiple","_modes","_getMode","units","renderVerticalMarker","renderTimelineMarker","renderYearMarker","renderMonthMarker","weekAgenda","renderWeekAgendaMarker","renderAgendaMarker","dayColumns","addWaiAriaLabel","addDataAttributes","_wrapDiv","_get_year_cell","round_position","_trace_x","_is_column_visible","_timeline_getX","_section_height","_isRender","renderMonthCell","getDefaultNode","isValid","getMode","blur","isEnabled","_compareEvents","_pickEvent","nextEventHandler","activeNode","eventId","setActiveNode","prevEventHandler","HeaderCell","getNodes","_key_nav_copy_paste","KeyNavNode","moveTo","compareTo","_getSection","_getNodes","isScrolledIntoView","getInlineEditor","isMultisectionEvent","keepScrollPosition","_moveToSlot","nextSlot","getDefaultDate","_getDefaultSection","movingDate","findVisibleColumn","_getMultisectionView","_getNextSection","isVisible","_pasteDate","_pasteSection","addMonthDate","nextMonthSlot","_alignTimeSlot","nextTimelineSlot","nextUnitsSlot","nextDaySlot","_moveDate","isBeforeLastHour","isAfterFirstHour","isInVisibleDayTime","nextWeekAgendaSlot","nextAgendaSlot","isDateVisible","nextDateColumn","extendSlot","extendUnitsSlot","extendTimelineSlot","extendMonthSlot","extendDaySlot","extendWeekAgendaSlot","extendGenericSlot","extendSlotDates","scrollSlot","globalNode","_getGrid","_getNode","_keyNavMessagePopup","isModal","isActive","focusGlobalNode","blurNode","keyDownHandler","_timeout","_temp_key_scope","elementFromPoint","_make_pasted_event","_do_paste","_is_key_nav_active","_buffer_event","attachSchedulerHandlers","_minicalendars","isMinical","patchMinicalendar","_def_count","layer","layers","validId","_clearUpdateFlag","_dataprocessors","_layers_zindex","initial_layer_zindex","isDefault","defaultLayer","showLayer","toggleLayer","hideLayer","getLayer","visible","noMenu","_evs_layer","_t_render_view_data","filter_agenda","limit_view","_temp_limit_scope","_mark_now_timer","map_view","googleMap","openStreetMaps","mapbox","createAdapter","_eventLocationChanged","map_settings","resolve_event_location","_latLngUpdate","map_view_provider","currentAdapter","adapters","resolve_user_location","view_provider","map_initial_position","map_error_position","map_date_width","map_icon_width","map_description_width","add_map","map_date","map_time","map_text","map_start","dblclick_dhx_map_area","map_initial_zoom","map_zoom_after_resolve","map_infowindow_max_width","map_resolve_user_location","map_type","map_resolve_event_location","_selected_event_id","map_end","marginRight","marginTop","geolocation","getCurrentPosition","coords","latitude","longitude","_event_resolve_delay","minical","minicalendar","mark_events","_synced_minicalendars","_render_calendar","unmarkCalendar","_get_def_cont","markCalendar","_last_date","conf","_markCalendarCurrentDate","sync","_on_xle_handler","updateCalendar","_created","_locateCalendar","_week_template","_mini_cal_arrows","padding","linkCalendar","monthheight","multiselect","delimiter","script_url","multisource","mvc","use_id","cid","backbone","toJSON","Backbone","Collection","model","dhtmlDragAndDropObject","stopDrag","_locate_cell_timeline","addDragLanding","_drag","_dragIn","_dragOut","DragControl","addDrop","onDrop","getMaster","onDragIn","pdf","dhx_cal_date","cells","second_scale","week_starts","_month","rowIndex","St","getPDFData","toPDF","toPDFRange","quick_info","show_quick_info","_$quickInfoHandler","showQuickInfo","hideQuickInfo","quick_info_title","quick_info_content","quick_info_date","_quick_info_box_id","_get_event_counter_part","_quick_info_box","_init_quick_info","_fill_quick_data","_show_quick_info","_x_scroll","ontransitionend","_quick_info_onscroll_handler","$testmode","_qi_button_click","readonly_form","_lightbox_r","recurring_event_id","original_start","_rec_temp","_rec_markers_pull","_rec_markers","_pid_time","_get_rec_marker","_get_rec_markers","_ignore_call","_pid_changed","_is_modified_occurence","duration","_start_date","showLightbox_rec","lightbox_recurring","title_confirm_recurring","get_visible_events_rec","repeat_date","dayOfWeek","dayNumber","_fix_daylight_saving_date","include_end_by","recurring_workdays","repeat_monthly_date","repeat_monthly_weekday","repeat_yearly_month_date","repeat_yearly_month_weekday","WORKDAYS","CUSTOM","NEVER","repeat_date_of_end","_get_node","_outer_html","_init_set_value","_ds","weekly","monthly","yearly","_rec_init_done","blocked","_start","recurring_legacy","occurrence_timestamp_in_utc","outerHTML","_get_form_node","_get_node_value","_get_node_numeric_value","_set_node_value","_get_repeat_code","transpose_type","repeat_precise","transpose_day_week","_set_repeat_code","MouseEvent","elements","_toggle_block","_get_button","_get_form","backgroundPosition","transponse_size","day_week","recurring_overflow_instances","data_attributes","toXML","_serialize_json_value","toICal","tooltips","touch_tooltip","hash","wp","year_view","year_date","year_month","year_scale_date","year_tooltip","dblclick_dhx_year_grid","_year_render_event","_year_marked_cells","_hideToolTip","_tooltip","_showToolTip","_year_view_tooltip_handler","_init_year_tooltip","_mark_year_date","_unmark_year_date","_reset_year_scale","year_top","year_x","_seed","_schedulerPlugins","_bundledExtensions","_extensionsManager","plugin","_internal_id","$syncFactory","_initFromConfig","calendars","addCalendar","ht","$dhx","schedulerContainer","_jsx","App","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","React","reportWebVitals"],"sourceRoot":""}